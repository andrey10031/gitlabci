var xi=Object.defineProperty,Ei=Object.defineProperties;var $i=Object.getOwnPropertyDescriptors;var xn=Object.getOwnPropertySymbols;var Jn=Object.prototype.hasOwnProperty,Xn=Object.prototype.propertyIsEnumerable;var Yn=(te,ee,re)=>ee in te?xi(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:re}):te[ee]=re,Nr=(te,ee)=>{for(var re in ee||(ee={}))Jn.call(ee,re)&&Yn(te,re,ee[re]);if(xn)for(var re of xn(ee))Xn.call(ee,re)&&Yn(te,re,ee[re]);return te},jr=(te,ee)=>Ei(te,$i(ee));var En=(te,ee)=>{var re={};for(var ne in te)Jn.call(te,ne)&&ee.indexOf(ne)<0&&(re[ne]=te[ne]);if(te!=null&&xn)for(var ne of xn(te))ee.indexOf(ne)<0&&Xn.call(te,ne)&&(re[ne]=te[ne]);return re};function makeMap(te,ee){const re=Object.create(null),ne=te.split(",");for(let oe=0;oe<ne.length;oe++)re[ne[oe]]=!0;return ee?oe=>!!re[oe.toLowerCase()]:oe=>!!re[oe]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(te){return!!te||te===""}function normalizeStyle(te){if(isArray$9(te)){const ee={};for(let re=0;re<te.length;re++){const ne=te[re],oe=isString$2(ne)?parseStringStyle(ne):normalizeStyle(ne);if(oe)for(const ie in oe)ee[ie]=oe[ie]}return ee}else{if(isString$2(te))return te;if(isObject$6(te))return te}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(te){const ee={};return te.split(listDelimiterRE).forEach(re=>{if(re){const ne=re.split(propertyDelimiterRE);ne.length>1&&(ee[ne[0].trim()]=ne[1].trim())}}),ee}function normalizeClass(te){let ee="";if(isString$2(te))ee=te;else if(isArray$9(te))for(let re=0;re<te.length;re++){const ne=normalizeClass(te[re]);ne&&(ee+=ne+" ")}else if(isObject$6(te))for(const re in te)te[re]&&(ee+=re+" ");return ee.trim()}function normalizeProps(te){if(!te)return null;let{class:ee,style:re}=te;return ee&&!isString$2(ee)&&(te.class=normalizeClass(ee)),re&&(te.style=normalizeStyle(re)),te}const toDisplayString=te=>isString$2(te)?te:te==null?"":isArray$9(te)||isObject$6(te)&&(te.toString===objectToString$3||!isFunction$4(te.toString))?JSON.stringify(te,replacer,2):String(te),replacer=(te,ee)=>ee&&ee.__v_isRef?replacer(te,ee.value):isMap(ee)?{[`Map(${ee.size})`]:[...ee.entries()].reduce((re,[ne,oe])=>(re[`${ne} =>`]=oe,re),{})}:isSet$2(ee)?{[`Set(${ee.size})`]:[...ee.values()]}:isObject$6(ee)&&!isArray$9(ee)&&!isPlainObject$2(ee)?String(ee):ee,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=te=>onRE.test(te),isModelListener=te=>te.startsWith("onUpdate:"),extend$5=Object.assign,remove=(te,ee)=>{const re=te.indexOf(ee);re>-1&&te.splice(re,1)},hasOwnProperty$7=Object.prototype.hasOwnProperty,hasOwn$2=(te,ee)=>hasOwnProperty$7.call(te,ee),isArray$9=Array.isArray,isMap=te=>toTypeString$1(te)==="[object Map]",isSet$2=te=>toTypeString$1(te)==="[object Set]",isFunction$4=te=>typeof te=="function",isString$2=te=>typeof te=="string",isSymbol=te=>typeof te=="symbol",isObject$6=te=>te!==null&&typeof te=="object",isPromise=te=>isObject$6(te)&&isFunction$4(te.then)&&isFunction$4(te.catch),objectToString$3=Object.prototype.toString,toTypeString$1=te=>objectToString$3.call(te),toRawType=te=>toTypeString$1(te).slice(8,-1),isPlainObject$2=te=>toTypeString$1(te)==="[object Object]",isIntegerKey=te=>isString$2(te)&&te!=="NaN"&&te[0]!=="-"&&""+parseInt(te,10)===te,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=te=>{const ee=Object.create(null);return re=>ee[re]||(ee[re]=te(re))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(te=>te.replace(camelizeRE,(ee,re)=>re?re.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(te=>te.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(te=>te.charAt(0).toUpperCase()+te.slice(1)),toHandlerKey=cacheStringFunction(te=>te?`on${capitalize(te)}`:""),hasChanged=(te,ee)=>!Object.is(te,ee),invokeArrayFns=(te,ee)=>{for(let re=0;re<te.length;re++)te[re](ee)},def=(te,ee,re)=>{Object.defineProperty(te,ee,{configurable:!0,enumerable:!1,value:re})},toNumber=te=>{const ee=parseFloat(te);return isNaN(ee)?te:ee};let _globalThis$2;const getGlobalThis=()=>_globalThis$2||(_globalThis$2=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:{});let activeEffectScope;class EffectScope{constructor(ee=!1){this.active=!0,this.effects=[],this.cleanups=[],!ee&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(ee){if(this.active){const re=activeEffectScope;try{return activeEffectScope=this,ee()}finally{activeEffectScope=re}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(ee){if(this.active){let re,ne;for(re=0,ne=this.effects.length;re<ne;re++)this.effects[re].stop();for(re=0,ne=this.cleanups.length;re<ne;re++)this.cleanups[re]();if(this.scopes)for(re=0,ne=this.scopes.length;re<ne;re++)this.scopes[re].stop(!0);if(this.parent&&!ee){const oe=this.parent.scopes.pop();oe&&oe!==this&&(this.parent.scopes[this.index]=oe,oe.index=this.index)}this.active=!1}}}function effectScope(te){return new EffectScope(te)}function recordEffectScope(te,ee=activeEffectScope){ee&&ee.active&&ee.effects.push(te)}const createDep=te=>{const ee=new Set(te);return ee.w=0,ee.n=0,ee},wasTracked=te=>(te.w&trackOpBit)>0,newTracked=te=>(te.n&trackOpBit)>0,initDepMarkers=({deps:te})=>{if(te.length)for(let ee=0;ee<te.length;ee++)te[ee].w|=trackOpBit},finalizeDepMarkers=te=>{const{deps:ee}=te;if(ee.length){let re=0;for(let ne=0;ne<ee.length;ne++){const oe=ee[ne];wasTracked(oe)&&!newTracked(oe)?oe.delete(te):ee[re++]=oe,oe.w&=~trackOpBit,oe.n&=~trackOpBit}ee.length=re}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(ee,re=null,ne){this.fn=ee,this.scheduler=re,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,ne)}run(){if(!this.active)return this.fn();let ee=activeEffect,re=shouldTrack;for(;ee;){if(ee===this)return;ee=ee.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=re,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(te){const{deps:ee}=te;if(ee.length){for(let re=0;re<ee.length;re++)ee[re].delete(te);ee.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const te=trackStack.pop();shouldTrack=te===void 0?!0:te}function track(te,ee,re){if(shouldTrack&&activeEffect){let ne=targetMap.get(te);ne||targetMap.set(te,ne=new Map);let oe=ne.get(re);oe||ne.set(re,oe=createDep()),trackEffects(oe)}}function trackEffects(te,ee){let re=!1;effectTrackDepth<=maxMarkerBits?newTracked(te)||(te.n|=trackOpBit,re=!wasTracked(te)):re=!te.has(activeEffect),re&&(te.add(activeEffect),activeEffect.deps.push(te))}function trigger$1(te,ee,re,ne,oe,ie){const se=targetMap.get(te);if(!se)return;let ue=[];if(ee==="clear")ue=[...se.values()];else if(re==="length"&&isArray$9(te))se.forEach((he,ge)=>{(ge==="length"||ge>=ne)&&ue.push(he)});else switch(re!==void 0&&ue.push(se.get(re)),ee){case"add":isArray$9(te)?isIntegerKey(re)&&ue.push(se.get("length")):(ue.push(se.get(ITERATE_KEY)),isMap(te)&&ue.push(se.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$9(te)||(ue.push(se.get(ITERATE_KEY)),isMap(te)&&ue.push(se.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(te)&&ue.push(se.get(ITERATE_KEY));break}if(ue.length===1)ue[0]&&triggerEffects(ue[0]);else{const he=[];for(const ge of ue)ge&&he.push(...ge);triggerEffects(createDep(he))}}function triggerEffects(te,ee){for(const re of isArray$9(te)?te:[...te])(re!==activeEffect||re.allowRecurse)&&(re.scheduler?re.scheduler():re.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(te=>Symbol[te]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const te={};return["includes","indexOf","lastIndexOf"].forEach(ee=>{te[ee]=function(...re){const ne=toRaw(this);for(let ie=0,se=this.length;ie<se;ie++)track(ne,"get",ie+"");const oe=ne[ee](...re);return oe===-1||oe===!1?ne[ee](...re.map(toRaw)):oe}}),["push","pop","shift","unshift","splice"].forEach(ee=>{te[ee]=function(...re){pauseTracking();const ne=toRaw(this)[ee].apply(this,re);return resetTracking(),ne}}),te}function createGetter(te=!1,ee=!1){return function(ne,oe,ie){if(oe==="__v_isReactive")return!te;if(oe==="__v_isReadonly")return te;if(oe==="__v_isShallow")return ee;if(oe==="__v_raw"&&ie===(te?ee?shallowReadonlyMap:readonlyMap:ee?shallowReactiveMap:reactiveMap).get(ne))return ne;const se=isArray$9(ne);if(!te&&se&&hasOwn$2(arrayInstrumentations,oe))return Reflect.get(arrayInstrumentations,oe,ie);const ue=Reflect.get(ne,oe,ie);return(isSymbol(oe)?builtInSymbols.has(oe):isNonTrackableKeys(oe))||(te||track(ne,"get",oe),ee)?ue:isRef(ue)?!se||!isIntegerKey(oe)?ue.value:ue:isObject$6(ue)?te?readonly(ue):reactive(ue):ue}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(te=!1){return function(re,ne,oe,ie){let se=re[ne];if(isReadonly(se)&&isRef(se)&&!isRef(oe))return!1;if(!te&&!isReadonly(oe)&&(isShallow(oe)||(oe=toRaw(oe),se=toRaw(se)),!isArray$9(re)&&isRef(se)&&!isRef(oe)))return se.value=oe,!0;const ue=isArray$9(re)&&isIntegerKey(ne)?Number(ne)<re.length:hasOwn$2(re,ne),he=Reflect.set(re,ne,oe,ie);return re===toRaw(ie)&&(ue?hasChanged(oe,se)&&trigger$1(re,"set",ne,oe):trigger$1(re,"add",ne,oe)),he}}function deleteProperty(te,ee){const re=hasOwn$2(te,ee);te[ee];const ne=Reflect.deleteProperty(te,ee);return ne&&re&&trigger$1(te,"delete",ee,void 0),ne}function has(te,ee){const re=Reflect.has(te,ee);return(!isSymbol(ee)||!builtInSymbols.has(ee))&&track(te,"has",ee),re}function ownKeys$2(te){return track(te,"iterate",isArray$9(te)?"length":ITERATE_KEY),Reflect.ownKeys(te)}const mutableHandlers={get,set:set$1,deleteProperty,has,ownKeys:ownKeys$2},readonlyHandlers={get:readonlyGet,set(te,ee){return!0},deleteProperty(te,ee){return!0}},shallowReactiveHandlers=extend$5({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=te=>te,getProto$2=te=>Reflect.getPrototypeOf(te);function get$1(te,ee,re=!1,ne=!1){te=te.__v_raw;const oe=toRaw(te),ie=toRaw(ee);ee!==ie&&!re&&track(oe,"get",ee),!re&&track(oe,"get",ie);const{has:se}=getProto$2(oe),ue=ne?toShallow:re?toReadonly:toReactive;if(se.call(oe,ee))return ue(te.get(ee));if(se.call(oe,ie))return ue(te.get(ie));te!==oe&&te.get(ee)}function has$1(te,ee=!1){const re=this.__v_raw,ne=toRaw(re),oe=toRaw(te);return te!==oe&&!ee&&track(ne,"has",te),!ee&&track(ne,"has",oe),te===oe?re.has(te):re.has(te)||re.has(oe)}function size(te,ee=!1){return te=te.__v_raw,!ee&&track(toRaw(te),"iterate",ITERATE_KEY),Reflect.get(te,"size",te)}function add(te){te=toRaw(te);const ee=toRaw(this);return getProto$2(ee).has.call(ee,te)||(ee.add(te),trigger$1(ee,"add",te,te)),this}function set$1$1(te,ee){ee=toRaw(ee);const re=toRaw(this),{has:ne,get:oe}=getProto$2(re);let ie=ne.call(re,te);ie||(te=toRaw(te),ie=ne.call(re,te));const se=oe.call(re,te);return re.set(te,ee),ie?hasChanged(ee,se)&&trigger$1(re,"set",te,ee):trigger$1(re,"add",te,ee),this}function deleteEntry(te){const ee=toRaw(this),{has:re,get:ne}=getProto$2(ee);let oe=re.call(ee,te);oe||(te=toRaw(te),oe=re.call(ee,te)),ne&&ne.call(ee,te);const ie=ee.delete(te);return oe&&trigger$1(ee,"delete",te,void 0),ie}function clear(){const te=toRaw(this),ee=te.size!==0,re=te.clear();return ee&&trigger$1(te,"clear",void 0,void 0),re}function createForEach(te,ee){return function(ne,oe){const ie=this,se=ie.__v_raw,ue=toRaw(se),he=ee?toShallow:te?toReadonly:toReactive;return!te&&track(ue,"iterate",ITERATE_KEY),se.forEach((ge,be)=>ne.call(oe,he(ge),he(be),ie))}}function createIterableMethod(te,ee,re){return function(...ne){const oe=this.__v_raw,ie=toRaw(oe),se=isMap(ie),ue=te==="entries"||te===Symbol.iterator&&se,he=te==="keys"&&se,ge=oe[te](...ne),be=re?toShallow:ee?toReadonly:toReactive;return!ee&&track(ie,"iterate",he?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Se,done:Te}=ge.next();return Te?{value:Se,done:Te}:{value:ue?[be(Se[0]),be(Se[1])]:be(Se),done:Te}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(te){return function(...ee){return te==="delete"?!1:this}}function createInstrumentations(){const te={get(ie){return get$1(this,ie)},get size(){return size(this)},has:has$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},ee={get(ie){return get$1(this,ie,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},re={get(ie){return get$1(this,ie,!0)},get size(){return size(this,!0)},has(ie){return has$1.call(this,ie,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},ne={get(ie){return get$1(this,ie,!0,!0)},get size(){return size(this,!0)},has(ie){return has$1.call(this,ie,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(ie=>{te[ie]=createIterableMethod(ie,!1,!1),re[ie]=createIterableMethod(ie,!0,!1),ee[ie]=createIterableMethod(ie,!1,!0),ne[ie]=createIterableMethod(ie,!0,!0)}),[te,re,ee,ne]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(te,ee){const re=ee?te?shallowReadonlyInstrumentations:shallowInstrumentations:te?readonlyInstrumentations:mutableInstrumentations;return(ne,oe,ie)=>oe==="__v_isReactive"?!te:oe==="__v_isReadonly"?te:oe==="__v_raw"?ne:Reflect.get(hasOwn$2(re,oe)&&oe in ne?re:ne,oe,ie)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(te){switch(te){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(te){return te.__v_skip||!Object.isExtensible(te)?0:targetTypeMap(toRawType(te))}function reactive(te){return isReadonly(te)?te:createReactiveObject(te,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(te){return createReactiveObject(te,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(te){return createReactiveObject(te,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(te,ee,re,ne,oe){if(!isObject$6(te)||te.__v_raw&&!(ee&&te.__v_isReactive))return te;const ie=oe.get(te);if(ie)return ie;const se=getTargetType(te);if(se===0)return te;const ue=new Proxy(te,se===2?ne:re);return oe.set(te,ue),ue}function isReactive(te){return isReadonly(te)?isReactive(te.__v_raw):!!(te&&te.__v_isReactive)}function isReadonly(te){return!!(te&&te.__v_isReadonly)}function isShallow(te){return!!(te&&te.__v_isShallow)}function isProxy(te){return isReactive(te)||isReadonly(te)}function toRaw(te){const ee=te&&te.__v_raw;return ee?toRaw(ee):te}function markRaw(te){return def(te,"__v_skip",!0),te}const toReactive=te=>isObject$6(te)?reactive(te):te,toReadonly=te=>isObject$6(te)?readonly(te):te;function trackRefValue(te){shouldTrack&&activeEffect&&(te=toRaw(te),trackEffects(te.dep||(te.dep=createDep())))}function triggerRefValue(te,ee){te=toRaw(te),te.dep&&triggerEffects(te.dep)}function isRef(te){return!!(te&&te.__v_isRef===!0)}function ref(te){return createRef(te,!1)}function createRef(te,ee){return isRef(te)?te:new RefImpl(te,ee)}class RefImpl{constructor(ee,re){this.__v_isShallow=re,this.dep=void 0,this.__v_isRef=!0,this._rawValue=re?ee:toRaw(ee),this._value=re?ee:toReactive(ee)}get value(){return trackRefValue(this),this._value}set value(ee){ee=this.__v_isShallow?ee:toRaw(ee),hasChanged(ee,this._rawValue)&&(this._rawValue=ee,this._value=this.__v_isShallow?ee:toReactive(ee),triggerRefValue(this))}}function unref(te){return isRef(te)?te.value:te}const shallowUnwrapHandlers={get:(te,ee,re)=>unref(Reflect.get(te,ee,re)),set:(te,ee,re,ne)=>{const oe=te[ee];return isRef(oe)&&!isRef(re)?(oe.value=re,!0):Reflect.set(te,ee,re,ne)}};function proxyRefs(te){return isReactive(te)?te:new Proxy(te,shallowUnwrapHandlers)}function toRefs(te){const ee=isArray$9(te)?new Array(te.length):{};for(const re in te)ee[re]=toRef(te,re);return ee}class ObjectRefImpl{constructor(ee,re,ne){this._object=ee,this._key=re,this._defaultValue=ne,this.__v_isRef=!0}get value(){const ee=this._object[this._key];return ee===void 0?this._defaultValue:ee}set value(ee){this._object[this._key]=ee}}function toRef(te,ee,re){const ne=te[ee];return isRef(ne)?ne:new ObjectRefImpl(te,ee,re)}class ComputedRefImpl{constructor(ee,re,ne,oe){this._setter=re,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(ee,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!oe,this.__v_isReadonly=ne}get value(){const ee=toRaw(this);return trackRefValue(ee),(ee._dirty||!ee._cacheable)&&(ee._dirty=!1,ee._value=ee.effect.run()),ee._value}set value(ee){this._setter(ee)}}function computed$1(te,ee,re=!1){let ne,oe;const ie=isFunction$4(te);return ie?(ne=te,oe=NOOP):(ne=te.get,oe=te.set),new ComputedRefImpl(ne,oe,ie||!oe,re)}function callWithErrorHandling(te,ee,re,ne){let oe;try{oe=ne?te(...ne):te()}catch(ie){handleError(ie,ee,re)}return oe}function callWithAsyncErrorHandling(te,ee,re,ne){if(isFunction$4(te)){const ie=callWithErrorHandling(te,ee,re,ne);return ie&&isPromise(ie)&&ie.catch(se=>{handleError(se,ee,re)}),ie}const oe=[];for(let ie=0;ie<te.length;ie++)oe.push(callWithAsyncErrorHandling(te[ie],ee,re,ne));return oe}function handleError(te,ee,re,ne=!0){const oe=ee?ee.vnode:null;if(ee){let ie=ee.parent;const se=ee.proxy,ue=re;for(;ie;){const ge=ie.ec;if(ge){for(let be=0;be<ge.length;be++)if(ge[be](te,se,ue)===!1)return}ie=ie.parent}const he=ee.appContext.config.errorHandler;if(he){callWithErrorHandling(he,null,10,[te,se,ue]);return}}logError(te,re,oe,ne)}function logError(te,ee,re,ne=!0){console.error(te)}let isFlushing=!1,isFlushPending=!1;const queue$2=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(te){const ee=currentFlushPromise||resolvedPromise;return te?ee.then(this?te.bind(this):te):ee}function findInsertionIndex(te){let ee=flushIndex+1,re=queue$2.length;for(;ee<re;){const ne=ee+re>>>1;getId(queue$2[ne])<te?ee=ne+1:re=ne}return ee}function queueJob(te){(!queue$2.length||!queue$2.includes(te,isFlushing&&te.allowRecurse?flushIndex+1:flushIndex))&&te!==currentPreFlushParentJob&&(te.id==null?queue$2.push(te):queue$2.splice(findInsertionIndex(te.id),0,te),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(te){const ee=queue$2.indexOf(te);ee>flushIndex&&queue$2.splice(ee,1)}function queueCb(te,ee,re,ne){isArray$9(te)?re.push(...te):(!ee||!ee.includes(te,te.allowRecurse?ne+1:ne))&&re.push(te),queueFlush()}function queuePreFlushCb(te){queueCb(te,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(te){queueCb(te,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(te,ee=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=ee,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(te,ee)}}function flushPostFlushCbs(te){if(pendingPostFlushCbs.length){const ee=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...ee);return}for(activePostFlushCbs=ee,activePostFlushCbs.sort((re,ne)=>getId(re)-getId(ne)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=te=>te.id==null?1/0:te.id;function flushJobs(te){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(te),queue$2.sort((re,ne)=>getId(re)-getId(ne));const ee=NOOP;try{for(flushIndex=0;flushIndex<queue$2.length;flushIndex++){const re=queue$2[flushIndex];re&&re.active!==!1&&callWithErrorHandling(re,null,14)}}finally{flushIndex=0,queue$2.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue$2.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(te)}}function emit$1(te,ee,...re){if(te.isUnmounted)return;const ne=te.vnode.props||EMPTY_OBJ;let oe=re;const ie=ee.startsWith("update:"),se=ie&&ee.slice(7);if(se&&se in ne){const be=`${se==="modelValue"?"model":se}Modifiers`,{number:Se,trim:Te}=ne[be]||EMPTY_OBJ;Te?oe=re.map(ke=>ke.trim()):Se&&(oe=re.map(toNumber))}let ue,he=ne[ue=toHandlerKey(ee)]||ne[ue=toHandlerKey(camelize(ee))];!he&&ie&&(he=ne[ue=toHandlerKey(hyphenate(ee))]),he&&callWithAsyncErrorHandling(he,te,6,oe);const ge=ne[ue+"Once"];if(ge){if(!te.emitted)te.emitted={};else if(te.emitted[ue])return;te.emitted[ue]=!0,callWithAsyncErrorHandling(ge,te,6,oe)}}function normalizeEmitsOptions(te,ee,re=!1){const ne=ee.emitsCache,oe=ne.get(te);if(oe!==void 0)return oe;const ie=te.emits;let se={},ue=!1;if(!isFunction$4(te)){const he=ge=>{const be=normalizeEmitsOptions(ge,ee,!0);be&&(ue=!0,extend$5(se,be))};!re&&ee.mixins.length&&ee.mixins.forEach(he),te.extends&&he(te.extends),te.mixins&&te.mixins.forEach(he)}return!ie&&!ue?(ne.set(te,null),null):(isArray$9(ie)?ie.forEach(he=>se[he]=null):extend$5(se,ie),ne.set(te,se),se)}function isEmitListener(te,ee){return!te||!isOn(ee)?!1:(ee=ee.slice(2).replace(/Once$/,""),hasOwn$2(te,ee[0].toLowerCase()+ee.slice(1))||hasOwn$2(te,hyphenate(ee))||hasOwn$2(te,ee))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(te){const ee=currentRenderingInstance;return currentRenderingInstance=te,currentScopeId=te&&te.type.__scopeId||null,ee}function pushScopeId(te){currentScopeId=te}function popScopeId(){currentScopeId=null}function withCtx(te,ee=currentRenderingInstance,re){if(!ee||te._n)return te;const ne=(...oe)=>{ne._d&&setBlockTracking(-1);const ie=setCurrentRenderingInstance(ee),se=te(...oe);return setCurrentRenderingInstance(ie),ne._d&&setBlockTracking(1),se};return ne._n=!0,ne._c=!0,ne._d=!0,ne}function markAttrsAccessed(){}function renderComponentRoot(te){const{type:ee,vnode:re,proxy:ne,withProxy:oe,props:ie,propsOptions:[se],slots:ue,attrs:he,emit:ge,render:be,renderCache:Se,data:Te,setupState:ke,ctx:Re,inheritAttrs:Ce}=te;let Pe,Ie;const Ne=setCurrentRenderingInstance(te);try{if(re.shapeFlag&4){const Ke=oe||ne;Pe=normalizeVNode(be.call(Ke,Ke,Se,ie,ke,Te,Re)),Ie=he}else{const Ke=ee;Pe=normalizeVNode(Ke.length>1?Ke(ie,{attrs:he,slots:ue,emit:ge}):Ke(ie,null)),Ie=ee.props?he:getFunctionalFallthrough(he)}}catch(Ke){blockStack.length=0,handleError(Ke,te,1),Pe=createVNode(Comment)}let He=Pe;if(Ie&&Ce!==!1){const Ke=Object.keys(Ie),{shapeFlag:Ge}=He;Ke.length&&Ge&7&&(se&&Ke.some(isModelListener)&&(Ie=filterModelListeners(Ie,se)),He=cloneVNode(He,Ie))}return re.dirs&&(He.dirs=He.dirs?He.dirs.concat(re.dirs):re.dirs),re.transition&&(He.transition=re.transition),Pe=He,setCurrentRenderingInstance(Ne),Pe}function filterSingleRoot(te){let ee;for(let re=0;re<te.length;re++){const ne=te[re];if(isVNode(ne)){if(ne.type!==Comment||ne.children==="v-if"){if(ee)return;ee=ne}}else return}return ee}const getFunctionalFallthrough=te=>{let ee;for(const re in te)(re==="class"||re==="style"||isOn(re))&&((ee||(ee={}))[re]=te[re]);return ee},filterModelListeners=(te,ee)=>{const re={};for(const ne in te)(!isModelListener(ne)||!(ne.slice(9)in ee))&&(re[ne]=te[ne]);return re};function shouldUpdateComponent(te,ee,re){const{props:ne,children:oe,component:ie}=te,{props:se,children:ue,patchFlag:he}=ee,ge=ie.emitsOptions;if(ee.dirs||ee.transition)return!0;if(re&&he>=0){if(he&1024)return!0;if(he&16)return ne?hasPropsChanged(ne,se,ge):!!se;if(he&8){const be=ee.dynamicProps;for(let Se=0;Se<be.length;Se++){const Te=be[Se];if(se[Te]!==ne[Te]&&!isEmitListener(ge,Te))return!0}}}else return(oe||ue)&&(!ue||!ue.$stable)?!0:ne===se?!1:ne?se?hasPropsChanged(ne,se,ge):!0:!!se;return!1}function hasPropsChanged(te,ee,re){const ne=Object.keys(ee);if(ne.length!==Object.keys(te).length)return!0;for(let oe=0;oe<ne.length;oe++){const ie=ne[oe];if(ee[ie]!==te[ie]&&!isEmitListener(re,ie))return!0}return!1}function updateHOCHostEl({vnode:te,parent:ee},re){for(;ee&&ee.subTree===te;)(te=ee.vnode).el=re,ee=ee.parent}const isSuspense=te=>te.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(te,ee,re,ne,oe,ie,se,ue,he,ge){te==null?mountSuspense(ee,re,ne,oe,ie,se,ue,he,ge):patchSuspense(te,ee,re,ne,oe,se,ue,he,ge)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(te,ee){const re=te.props&&te.props[ee];isFunction$4(re)&&re()}function mountSuspense(te,ee,re,ne,oe,ie,se,ue,he){const{p:ge,o:{createElement:be}}=he,Se=be("div"),Te=te.suspense=createSuspenseBoundary(te,oe,ne,ee,Se,re,ie,se,ue,he);ge(null,Te.pendingBranch=te.ssContent,Se,null,ne,Te,ie,se),Te.deps>0?(triggerEvent(te,"onPending"),triggerEvent(te,"onFallback"),ge(null,te.ssFallback,ee,re,ne,null,ie,se),setActiveBranch(Te,te.ssFallback)):Te.resolve()}function patchSuspense(te,ee,re,ne,oe,ie,se,ue,{p:he,um:ge,o:{createElement:be}}){const Se=ee.suspense=te.suspense;Se.vnode=ee,ee.el=te.el;const Te=ee.ssContent,ke=ee.ssFallback,{activeBranch:Re,pendingBranch:Ce,isInFallback:Pe,isHydrating:Ie}=Se;if(Ce)Se.pendingBranch=Te,isSameVNodeType(Te,Ce)?(he(Ce,Te,Se.hiddenContainer,null,oe,Se,ie,se,ue),Se.deps<=0?Se.resolve():Pe&&(he(Re,ke,re,ne,oe,null,ie,se,ue),setActiveBranch(Se,ke))):(Se.pendingId++,Ie?(Se.isHydrating=!1,Se.activeBranch=Ce):ge(Ce,oe,Se),Se.deps=0,Se.effects.length=0,Se.hiddenContainer=be("div"),Pe?(he(null,Te,Se.hiddenContainer,null,oe,Se,ie,se,ue),Se.deps<=0?Se.resolve():(he(Re,ke,re,ne,oe,null,ie,se,ue),setActiveBranch(Se,ke))):Re&&isSameVNodeType(Te,Re)?(he(Re,Te,re,ne,oe,Se,ie,se,ue),Se.resolve(!0)):(he(null,Te,Se.hiddenContainer,null,oe,Se,ie,se,ue),Se.deps<=0&&Se.resolve()));else if(Re&&isSameVNodeType(Te,Re))he(Re,Te,re,ne,oe,Se,ie,se,ue),setActiveBranch(Se,Te);else if(triggerEvent(ee,"onPending"),Se.pendingBranch=Te,Se.pendingId++,he(null,Te,Se.hiddenContainer,null,oe,Se,ie,se,ue),Se.deps<=0)Se.resolve();else{const{timeout:Ne,pendingId:He}=Se;Ne>0?setTimeout(()=>{Se.pendingId===He&&Se.fallback(ke)},Ne):Ne===0&&Se.fallback(ke)}}function createSuspenseBoundary(te,ee,re,ne,oe,ie,se,ue,he,ge,be=!1){const{p:Se,m:Te,um:ke,n:Re,o:{parentNode:Ce,remove:Pe}}=ge,Ie=toNumber(te.props&&te.props.timeout),Ne={vnode:te,parent:ee,parentComponent:re,isSVG:se,container:ne,hiddenContainer:oe,anchor:ie,deps:0,pendingId:0,timeout:typeof Ie=="number"?Ie:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:be,isUnmounted:!1,effects:[],resolve(He=!1){const{vnode:Ke,activeBranch:Ge,pendingBranch:ut,pendingId:Ve,effects:nt,parentComponent:st,container:qe}=Ne;if(Ne.isHydrating)Ne.isHydrating=!1;else if(!He){const ce=Ge&&ut.transition&&ut.transition.mode==="out-in";ce&&(Ge.transition.afterLeave=()=>{Ve===Ne.pendingId&&Te(ut,qe,le,0)});let{anchor:le}=Ne;Ge&&(le=Re(Ge),ke(Ge,st,Ne,!0)),ce||Te(ut,qe,le,0)}setActiveBranch(Ne,ut),Ne.pendingBranch=null,Ne.isInFallback=!1;let ye=Ne.parent,ae=!1;for(;ye;){if(ye.pendingBranch){ye.effects.push(...nt),ae=!0;break}ye=ye.parent}ae||queuePostFlushCb(nt),Ne.effects=[],triggerEvent(Ke,"onResolve")},fallback(He){if(!Ne.pendingBranch)return;const{vnode:Ke,activeBranch:Ge,parentComponent:ut,container:Ve,isSVG:nt}=Ne;triggerEvent(Ke,"onFallback");const st=Re(Ge),qe=()=>{!Ne.isInFallback||(Se(null,He,Ve,st,ut,null,nt,ue,he),setActiveBranch(Ne,He))},ye=He.transition&&He.transition.mode==="out-in";ye&&(Ge.transition.afterLeave=qe),Ne.isInFallback=!0,ke(Ge,ut,null,!0),ye||qe()},move(He,Ke,Ge){Ne.activeBranch&&Te(Ne.activeBranch,He,Ke,Ge),Ne.container=He},next(){return Ne.activeBranch&&Re(Ne.activeBranch)},registerDep(He,Ke){const Ge=!!Ne.pendingBranch;Ge&&Ne.deps++;const ut=He.vnode.el;He.asyncDep.catch(Ve=>{handleError(Ve,He,0)}).then(Ve=>{if(He.isUnmounted||Ne.isUnmounted||Ne.pendingId!==He.suspenseId)return;He.asyncResolved=!0;const{vnode:nt}=He;handleSetupResult(He,Ve,!1),ut&&(nt.el=ut);const st=!ut&&He.subTree.el;Ke(He,nt,Ce(ut||He.subTree.el),ut?null:Re(He.subTree),Ne,se,he),st&&Pe(st),updateHOCHostEl(He,nt.el),Ge&&--Ne.deps===0&&Ne.resolve()})},unmount(He,Ke){Ne.isUnmounted=!0,Ne.activeBranch&&ke(Ne.activeBranch,re,He,Ke),Ne.pendingBranch&&ke(Ne.pendingBranch,re,He,Ke)}};return Ne}function hydrateSuspense(te,ee,re,ne,oe,ie,se,ue,he){const ge=ee.suspense=createSuspenseBoundary(ee,ne,re,te.parentNode,document.createElement("div"),null,oe,ie,se,ue,!0),be=he(te,ge.pendingBranch=ee.ssContent,re,ge,ie,se);return ge.deps===0&&ge.resolve(),be}function normalizeSuspenseChildren(te){const{shapeFlag:ee,children:re}=te,ne=ee&32;te.ssContent=normalizeSuspenseSlot(ne?re.default:re),te.ssFallback=ne?normalizeSuspenseSlot(re.fallback):createVNode(Comment)}function normalizeSuspenseSlot(te){let ee;if(isFunction$4(te)){const re=isBlockTreeEnabled&&te._c;re&&(te._d=!1,openBlock()),te=te(),re&&(te._d=!0,ee=currentBlock,closeBlock())}return isArray$9(te)&&(te=filterSingleRoot(te)),te=normalizeVNode(te),ee&&!te.dynamicChildren&&(te.dynamicChildren=ee.filter(re=>re!==te)),te}function queueEffectWithSuspense(te,ee){ee&&ee.pendingBranch?isArray$9(te)?ee.effects.push(...te):ee.effects.push(te):queuePostFlushCb(te)}function setActiveBranch(te,ee){te.activeBranch=ee;const{vnode:re,parentComponent:ne}=te,oe=re.el=ee.el;ne&&ne.subTree===re&&(ne.vnode.el=oe,updateHOCHostEl(ne,oe))}function provide(te,ee){if(currentInstance){let re=currentInstance.provides;const ne=currentInstance.parent&&currentInstance.parent.provides;ne===re&&(re=currentInstance.provides=Object.create(ne)),re[te]=ee}}function inject(te,ee,re=!1){const ne=currentInstance||currentRenderingInstance;if(ne){const oe=ne.parent==null?ne.vnode.appContext&&ne.vnode.appContext.provides:ne.parent.provides;if(oe&&te in oe)return oe[te];if(arguments.length>1)return re&&isFunction$4(ee)?ee.call(ne.proxy):ee}}function watchEffect(te,ee){return doWatch(te,null,ee)}const INITIAL_WATCHER_VALUE={};function watch(te,ee,re){return doWatch(te,ee,re)}function doWatch(te,ee,{immediate:re,deep:ne,flush:oe,onTrack:ie,onTrigger:se}=EMPTY_OBJ){const ue=currentInstance;let he,ge=!1,be=!1;if(isRef(te)?(he=()=>te.value,ge=isShallow(te)):isReactive(te)?(he=()=>te,ne=!0):isArray$9(te)?(be=!0,ge=te.some(isReactive),he=()=>te.map(Ie=>{if(isRef(Ie))return Ie.value;if(isReactive(Ie))return traverse(Ie);if(isFunction$4(Ie))return callWithErrorHandling(Ie,ue,2)})):isFunction$4(te)?ee?he=()=>callWithErrorHandling(te,ue,2):he=()=>{if(!(ue&&ue.isUnmounted))return Se&&Se(),callWithAsyncErrorHandling(te,ue,3,[Te])}:he=NOOP,ee&&ne){const Ie=he;he=()=>traverse(Ie())}let Se,Te=Ie=>{Se=Pe.onStop=()=>{callWithErrorHandling(Ie,ue,4)}};if(isInSSRComponentSetup)return Te=NOOP,ee?re&&callWithAsyncErrorHandling(ee,ue,3,[he(),be?[]:void 0,Te]):he(),NOOP;let ke=be?[]:INITIAL_WATCHER_VALUE;const Re=()=>{if(!!Pe.active)if(ee){const Ie=Pe.run();(ne||ge||(be?Ie.some((Ne,He)=>hasChanged(Ne,ke[He])):hasChanged(Ie,ke)))&&(Se&&Se(),callWithAsyncErrorHandling(ee,ue,3,[Ie,ke===INITIAL_WATCHER_VALUE?void 0:ke,Te]),ke=Ie)}else Pe.run()};Re.allowRecurse=!!ee;let Ce;oe==="sync"?Ce=Re:oe==="post"?Ce=()=>queuePostRenderEffect(Re,ue&&ue.suspense):Ce=()=>{!ue||ue.isMounted?queuePreFlushCb(Re):Re()};const Pe=new ReactiveEffect(he,Ce);return ee?re?Re():ke=Pe.run():oe==="post"?queuePostRenderEffect(Pe.run.bind(Pe),ue&&ue.suspense):Pe.run(),()=>{Pe.stop(),ue&&ue.scope&&remove(ue.scope.effects,Pe)}}function instanceWatch(te,ee,re){const ne=this.proxy,oe=isString$2(te)?te.includes(".")?createPathGetter(ne,te):()=>ne[te]:te.bind(ne,ne);let ie;isFunction$4(ee)?ie=ee:(ie=ee.handler,re=ee);const se=currentInstance;setCurrentInstance(this);const ue=doWatch(oe,ie.bind(ne),re);return se?setCurrentInstance(se):unsetCurrentInstance(),ue}function createPathGetter(te,ee){const re=ee.split(".");return()=>{let ne=te;for(let oe=0;oe<re.length&&ne;oe++)ne=ne[re[oe]];return ne}}function traverse(te,ee){if(!isObject$6(te)||te.__v_skip||(ee=ee||new Set,ee.has(te)))return te;if(ee.add(te),isRef(te))traverse(te.value,ee);else if(isArray$9(te))for(let re=0;re<te.length;re++)traverse(te[re],ee);else if(isSet$2(te)||isMap(te))te.forEach(re=>{traverse(re,ee)});else if(isPlainObject$2(te))for(const re in te)traverse(te[re],ee);return te}function useTransitionState(){const te={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{te.isMounted=!0}),onBeforeUnmount(()=>{te.isUnmounting=!0}),te}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(te,{slots:ee}){const re=getCurrentInstance(),ne=useTransitionState();let oe;return()=>{const ie=ee.default&&getTransitionRawChildren(ee.default(),!0);if(!ie||!ie.length)return;let se=ie[0];if(ie.length>1){for(const Ce of ie)if(Ce.type!==Comment){se=Ce;break}}const ue=toRaw(te),{mode:he}=ue;if(ne.isLeaving)return emptyPlaceholder(se);const ge=getKeepAliveChild(se);if(!ge)return emptyPlaceholder(se);const be=resolveTransitionHooks(ge,ue,ne,re);setTransitionHooks(ge,be);const Se=re.subTree,Te=Se&&getKeepAliveChild(Se);let ke=!1;const{getTransitionKey:Re}=ge.type;if(Re){const Ce=Re();oe===void 0?oe=Ce:Ce!==oe&&(oe=Ce,ke=!0)}if(Te&&Te.type!==Comment&&(!isSameVNodeType(ge,Te)||ke)){const Ce=resolveTransitionHooks(Te,ue,ne,re);if(setTransitionHooks(Te,Ce),he==="out-in")return ne.isLeaving=!0,Ce.afterLeave=()=>{ne.isLeaving=!1,re.update()},emptyPlaceholder(se);he==="in-out"&&ge.type!==Comment&&(Ce.delayLeave=(Pe,Ie,Ne)=>{const He=getLeavingNodesForType(ne,Te);He[String(Te.key)]=Te,Pe._leaveCb=()=>{Ie(),Pe._leaveCb=void 0,delete be.delayedLeave},be.delayedLeave=Ne})}return se}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(te,ee){const{leavingVNodes:re}=te;let ne=re.get(ee.type);return ne||(ne=Object.create(null),re.set(ee.type,ne)),ne}function resolveTransitionHooks(te,ee,re,ne){const{appear:oe,mode:ie,persisted:se=!1,onBeforeEnter:ue,onEnter:he,onAfterEnter:ge,onEnterCancelled:be,onBeforeLeave:Se,onLeave:Te,onAfterLeave:ke,onLeaveCancelled:Re,onBeforeAppear:Ce,onAppear:Pe,onAfterAppear:Ie,onAppearCancelled:Ne}=ee,He=String(te.key),Ke=getLeavingNodesForType(re,te),Ge=(Ve,nt)=>{Ve&&callWithAsyncErrorHandling(Ve,ne,9,nt)},ut={mode:ie,persisted:se,beforeEnter(Ve){let nt=ue;if(!re.isMounted)if(oe)nt=Ce||ue;else return;Ve._leaveCb&&Ve._leaveCb(!0);const st=Ke[He];st&&isSameVNodeType(te,st)&&st.el._leaveCb&&st.el._leaveCb(),Ge(nt,[Ve])},enter(Ve){let nt=he,st=ge,qe=be;if(!re.isMounted)if(oe)nt=Pe||he,st=Ie||ge,qe=Ne||be;else return;let ye=!1;const ae=Ve._enterCb=ce=>{ye||(ye=!0,ce?Ge(qe,[Ve]):Ge(st,[Ve]),ut.delayedLeave&&ut.delayedLeave(),Ve._enterCb=void 0)};nt?(nt(Ve,ae),nt.length<=1&&ae()):ae()},leave(Ve,nt){const st=String(te.key);if(Ve._enterCb&&Ve._enterCb(!0),re.isUnmounting)return nt();Ge(Se,[Ve]);let qe=!1;const ye=Ve._leaveCb=ae=>{qe||(qe=!0,nt(),ae?Ge(Re,[Ve]):Ge(ke,[Ve]),Ve._leaveCb=void 0,Ke[st]===te&&delete Ke[st])};Ke[st]=te,Te?(Te(Ve,ye),Te.length<=1&&ye()):ye()},clone(Ve){return resolveTransitionHooks(Ve,ee,re,ne)}};return ut}function emptyPlaceholder(te){if(isKeepAlive(te))return te=cloneVNode(te),te.children=null,te}function getKeepAliveChild(te){return isKeepAlive(te)?te.children?te.children[0]:void 0:te}function setTransitionHooks(te,ee){te.shapeFlag&6&&te.component?setTransitionHooks(te.component.subTree,ee):te.shapeFlag&128?(te.ssContent.transition=ee.clone(te.ssContent),te.ssFallback.transition=ee.clone(te.ssFallback)):te.transition=ee}function getTransitionRawChildren(te,ee=!1,re){let ne=[],oe=0;for(let ie=0;ie<te.length;ie++){let se=te[ie];const ue=re==null?se.key:String(re)+String(se.key!=null?se.key:ie);se.type===Fragment$1?(se.patchFlag&128&&oe++,ne=ne.concat(getTransitionRawChildren(se.children,ee,ue))):(ee||se.type!==Comment)&&ne.push(ue!=null?cloneVNode(se,{key:ue}):se)}if(oe>1)for(let ie=0;ie<ne.length;ie++)ne[ie].patchFlag=-2;return ne}function defineComponent(te){return isFunction$4(te)?{setup:te,name:te.name}:te}const isAsyncWrapper=te=>!!te.type.__asyncLoader,isKeepAlive=te=>te.type.__isKeepAlive;function onActivated(te,ee){registerKeepAliveHook(te,"a",ee)}function onDeactivated(te,ee){registerKeepAliveHook(te,"da",ee)}function registerKeepAliveHook(te,ee,re=currentInstance){const ne=te.__wdc||(te.__wdc=()=>{let oe=re;for(;oe;){if(oe.isDeactivated)return;oe=oe.parent}return te()});if(injectHook(ee,ne,re),re){let oe=re.parent;for(;oe&&oe.parent;)isKeepAlive(oe.parent.vnode)&&injectToKeepAliveRoot(ne,ee,re,oe),oe=oe.parent}}function injectToKeepAliveRoot(te,ee,re,ne){const oe=injectHook(ee,te,ne,!0);onUnmounted(()=>{remove(ne[ee],oe)},re)}function injectHook(te,ee,re=currentInstance,ne=!1){if(re){const oe=re[te]||(re[te]=[]),ie=ee.__weh||(ee.__weh=(...se)=>{if(re.isUnmounted)return;pauseTracking(),setCurrentInstance(re);const ue=callWithAsyncErrorHandling(ee,re,te,se);return unsetCurrentInstance(),resetTracking(),ue});return ne?oe.unshift(ie):oe.push(ie),ie}}const createHook=te=>(ee,re=currentInstance)=>(!isInSSRComponentSetup||te==="sp")&&injectHook(te,ee,re),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(te,ee=currentInstance){injectHook("ec",te,ee)}let shouldCacheAccess=!0;function applyOptions(te){const ee=resolveMergedOptions(te),re=te.proxy,ne=te.ctx;shouldCacheAccess=!1,ee.beforeCreate&&callHook$1(ee.beforeCreate,te,"bc");const{data:oe,computed:ie,methods:se,watch:ue,provide:he,inject:ge,created:be,beforeMount:Se,mounted:Te,beforeUpdate:ke,updated:Re,activated:Ce,deactivated:Pe,beforeDestroy:Ie,beforeUnmount:Ne,destroyed:He,unmounted:Ke,render:Ge,renderTracked:ut,renderTriggered:Ve,errorCaptured:nt,serverPrefetch:st,expose:qe,inheritAttrs:ye,components:ae,directives:ce,filters:le}=ee;if(ge&&resolveInjections(ge,ne,null,te.appContext.config.unwrapInjectedRef),se)for(const $e in se){const Ee=se[$e];isFunction$4(Ee)&&(ne[$e]=Ee.bind(re))}if(oe){const $e=oe.call(re,re);isObject$6($e)&&(te.data=reactive($e))}if(shouldCacheAccess=!0,ie)for(const $e in ie){const Ee=ie[$e],me=isFunction$4(Ee)?Ee.bind(re,re):isFunction$4(Ee.get)?Ee.get.bind(re,re):NOOP,fe=!isFunction$4(Ee)&&isFunction$4(Ee.set)?Ee.set.bind(re):NOOP,we=computed({get:me,set:fe});Object.defineProperty(ne,$e,{enumerable:!0,configurable:!0,get:()=>we.value,set:Me=>we.value=Me})}if(ue)for(const $e in ue)createWatcher(ue[$e],ne,re,$e);if(he){const $e=isFunction$4(he)?he.call(re):he;Reflect.ownKeys($e).forEach(Ee=>{provide(Ee,$e[Ee])})}be&&callHook$1(be,te,"c");function _e($e,Ee){isArray$9(Ee)?Ee.forEach(me=>$e(me.bind(re))):Ee&&$e(Ee.bind(re))}if(_e(onBeforeMount,Se),_e(onMounted,Te),_e(onBeforeUpdate,ke),_e(onUpdated,Re),_e(onActivated,Ce),_e(onDeactivated,Pe),_e(onErrorCaptured,nt),_e(onRenderTracked,ut),_e(onRenderTriggered,Ve),_e(onBeforeUnmount,Ne),_e(onUnmounted,Ke),_e(onServerPrefetch,st),isArray$9(qe))if(qe.length){const $e=te.exposed||(te.exposed={});qe.forEach(Ee=>{Object.defineProperty($e,Ee,{get:()=>re[Ee],set:me=>re[Ee]=me})})}else te.exposed||(te.exposed={});Ge&&te.render===NOOP&&(te.render=Ge),ye!=null&&(te.inheritAttrs=ye),ae&&(te.components=ae),ce&&(te.directives=ce)}function resolveInjections(te,ee,re=NOOP,ne=!1){isArray$9(te)&&(te=normalizeInject(te));for(const oe in te){const ie=te[oe];let se;isObject$6(ie)?"default"in ie?se=inject(ie.from||oe,ie.default,!0):se=inject(ie.from||oe):se=inject(ie),isRef(se)&&ne?Object.defineProperty(ee,oe,{enumerable:!0,configurable:!0,get:()=>se.value,set:ue=>se.value=ue}):ee[oe]=se}}function callHook$1(te,ee,re){callWithAsyncErrorHandling(isArray$9(te)?te.map(ne=>ne.bind(ee.proxy)):te.bind(ee.proxy),ee,re)}function createWatcher(te,ee,re,ne){const oe=ne.includes(".")?createPathGetter(re,ne):()=>re[ne];if(isString$2(te)){const ie=ee[te];isFunction$4(ie)&&watch(oe,ie)}else if(isFunction$4(te))watch(oe,te.bind(re));else if(isObject$6(te))if(isArray$9(te))te.forEach(ie=>createWatcher(ie,ee,re,ne));else{const ie=isFunction$4(te.handler)?te.handler.bind(re):ee[te.handler];isFunction$4(ie)&&watch(oe,ie,te)}}function resolveMergedOptions(te){const ee=te.type,{mixins:re,extends:ne}=ee,{mixins:oe,optionsCache:ie,config:{optionMergeStrategies:se}}=te.appContext,ue=ie.get(ee);let he;return ue?he=ue:!oe.length&&!re&&!ne?he=ee:(he={},oe.length&&oe.forEach(ge=>mergeOptions(he,ge,se,!0)),mergeOptions(he,ee,se)),ie.set(ee,he),he}function mergeOptions(te,ee,re,ne=!1){const{mixins:oe,extends:ie}=ee;ie&&mergeOptions(te,ie,re,!0),oe&&oe.forEach(se=>mergeOptions(te,se,re,!0));for(const se in ee)if(!(ne&&se==="expose")){const ue=internalOptionMergeStrats[se]||re&&re[se];te[se]=ue?ue(te[se],ee[se]):ee[se]}return te}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(te,ee){return ee?te?function(){return extend$5(isFunction$4(te)?te.call(this,this):te,isFunction$4(ee)?ee.call(this,this):ee)}:ee:te}function mergeInject(te,ee){return mergeObjectOptions(normalizeInject(te),normalizeInject(ee))}function normalizeInject(te){if(isArray$9(te)){const ee={};for(let re=0;re<te.length;re++)ee[te[re]]=te[re];return ee}return te}function mergeAsArray(te,ee){return te?[...new Set([].concat(te,ee))]:ee}function mergeObjectOptions(te,ee){return te?extend$5(extend$5(Object.create(null),te),ee):ee}function mergeWatchOptions(te,ee){if(!te)return ee;if(!ee)return te;const re=extend$5(Object.create(null),te);for(const ne in ee)re[ne]=mergeAsArray(te[ne],ee[ne]);return re}function initProps(te,ee,re,ne=!1){const oe={},ie={};def(ie,InternalObjectKey,1),te.propsDefaults=Object.create(null),setFullProps(te,ee,oe,ie);for(const se in te.propsOptions[0])se in oe||(oe[se]=void 0);re?te.props=ne?oe:shallowReactive(oe):te.type.props?te.props=oe:te.props=ie,te.attrs=ie}function updateProps(te,ee,re,ne){const{props:oe,attrs:ie,vnode:{patchFlag:se}}=te,ue=toRaw(oe),[he]=te.propsOptions;let ge=!1;if((ne||se>0)&&!(se&16)){if(se&8){const be=te.vnode.dynamicProps;for(let Se=0;Se<be.length;Se++){let Te=be[Se];if(isEmitListener(te.emitsOptions,Te))continue;const ke=ee[Te];if(he)if(hasOwn$2(ie,Te))ke!==ie[Te]&&(ie[Te]=ke,ge=!0);else{const Re=camelize(Te);oe[Re]=resolvePropValue(he,ue,Re,ke,te,!1)}else ke!==ie[Te]&&(ie[Te]=ke,ge=!0)}}}else{setFullProps(te,ee,oe,ie)&&(ge=!0);let be;for(const Se in ue)(!ee||!hasOwn$2(ee,Se)&&((be=hyphenate(Se))===Se||!hasOwn$2(ee,be)))&&(he?re&&(re[Se]!==void 0||re[be]!==void 0)&&(oe[Se]=resolvePropValue(he,ue,Se,void 0,te,!0)):delete oe[Se]);if(ie!==ue)for(const Se in ie)(!ee||!hasOwn$2(ee,Se)&&!0)&&(delete ie[Se],ge=!0)}ge&&trigger$1(te,"set","$attrs")}function setFullProps(te,ee,re,ne){const[oe,ie]=te.propsOptions;let se=!1,ue;if(ee)for(let he in ee){if(isReservedProp(he))continue;const ge=ee[he];let be;oe&&hasOwn$2(oe,be=camelize(he))?!ie||!ie.includes(be)?re[be]=ge:(ue||(ue={}))[be]=ge:isEmitListener(te.emitsOptions,he)||(!(he in ne)||ge!==ne[he])&&(ne[he]=ge,se=!0)}if(ie){const he=toRaw(re),ge=ue||EMPTY_OBJ;for(let be=0;be<ie.length;be++){const Se=ie[be];re[Se]=resolvePropValue(oe,he,Se,ge[Se],te,!hasOwn$2(ge,Se))}}return se}function resolvePropValue(te,ee,re,ne,oe,ie){const se=te[re];if(se!=null){const ue=hasOwn$2(se,"default");if(ue&&ne===void 0){const he=se.default;if(se.type!==Function&&isFunction$4(he)){const{propsDefaults:ge}=oe;re in ge?ne=ge[re]:(setCurrentInstance(oe),ne=ge[re]=he.call(null,ee),unsetCurrentInstance())}else ne=he}se[0]&&(ie&&!ue?ne=!1:se[1]&&(ne===""||ne===hyphenate(re))&&(ne=!0))}return ne}function normalizePropsOptions(te,ee,re=!1){const ne=ee.propsCache,oe=ne.get(te);if(oe)return oe;const ie=te.props,se={},ue=[];let he=!1;if(!isFunction$4(te)){const be=Se=>{he=!0;const[Te,ke]=normalizePropsOptions(Se,ee,!0);extend$5(se,Te),ke&&ue.push(...ke)};!re&&ee.mixins.length&&ee.mixins.forEach(be),te.extends&&be(te.extends),te.mixins&&te.mixins.forEach(be)}if(!ie&&!he)return ne.set(te,EMPTY_ARR),EMPTY_ARR;if(isArray$9(ie))for(let be=0;be<ie.length;be++){const Se=camelize(ie[be]);validatePropName(Se)&&(se[Se]=EMPTY_OBJ)}else if(ie)for(const be in ie){const Se=camelize(be);if(validatePropName(Se)){const Te=ie[be],ke=se[Se]=isArray$9(Te)||isFunction$4(Te)?{type:Te}:Te;if(ke){const Re=getTypeIndex(Boolean,ke.type),Ce=getTypeIndex(String,ke.type);ke[0]=Re>-1,ke[1]=Ce<0||Re<Ce,(Re>-1||hasOwn$2(ke,"default"))&&ue.push(Se)}}}const ge=[se,ue];return ne.set(te,ge),ge}function validatePropName(te){return te[0]!=="$"}function getType(te){const ee=te&&te.toString().match(/^\s*function (\w+)/);return ee?ee[1]:te===null?"null":""}function isSameType(te,ee){return getType(te)===getType(ee)}function getTypeIndex(te,ee){return isArray$9(ee)?ee.findIndex(re=>isSameType(re,te)):isFunction$4(ee)&&isSameType(ee,te)?0:-1}const isInternalKey=te=>te[0]==="_"||te==="$stable",normalizeSlotValue=te=>isArray$9(te)?te.map(normalizeVNode):[normalizeVNode(te)],normalizeSlot=(te,ee,re)=>{const ne=withCtx((...oe)=>normalizeSlotValue(ee(...oe)),re);return ne._c=!1,ne},normalizeObjectSlots=(te,ee,re)=>{const ne=te._ctx;for(const oe in te){if(isInternalKey(oe))continue;const ie=te[oe];if(isFunction$4(ie))ee[oe]=normalizeSlot(oe,ie,ne);else if(ie!=null){const se=normalizeSlotValue(ie);ee[oe]=()=>se}}},normalizeVNodeSlots=(te,ee)=>{const re=normalizeSlotValue(ee);te.slots.default=()=>re},initSlots=(te,ee)=>{if(te.vnode.shapeFlag&32){const re=ee._;re?(te.slots=toRaw(ee),def(ee,"_",re)):normalizeObjectSlots(ee,te.slots={})}else te.slots={},ee&&normalizeVNodeSlots(te,ee);def(te.slots,InternalObjectKey,1)},updateSlots=(te,ee,re)=>{const{vnode:ne,slots:oe}=te;let ie=!0,se=EMPTY_OBJ;if(ne.shapeFlag&32){const ue=ee._;ue?re&&ue===1?ie=!1:(extend$5(oe,ee),!re&&ue===1&&delete oe._):(ie=!ee.$stable,normalizeObjectSlots(ee,oe)),se=ee}else ee&&(normalizeVNodeSlots(te,ee),se={default:1});if(ie)for(const ue in oe)!isInternalKey(ue)&&!(ue in se)&&delete oe[ue]};function withDirectives(te,ee){const re=currentRenderingInstance;if(re===null)return te;const ne=getExposeProxy(re)||re.proxy,oe=te.dirs||(te.dirs=[]);for(let ie=0;ie<ee.length;ie++){let[se,ue,he,ge=EMPTY_OBJ]=ee[ie];isFunction$4(se)&&(se={mounted:se,updated:se}),se.deep&&traverse(ue),oe.push({dir:se,instance:ne,value:ue,oldValue:void 0,arg:he,modifiers:ge})}return te}function invokeDirectiveHook(te,ee,re,ne){const oe=te.dirs,ie=ee&&ee.dirs;for(let se=0;se<oe.length;se++){const ue=oe[se];ie&&(ue.oldValue=ie[se].value);let he=ue.dir[ne];he&&(pauseTracking(),callWithAsyncErrorHandling(he,re,8,[te.el,ue,te,ee]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(te,ee){return function(ne,oe=null){isFunction$4(ne)||(ne=Object.assign({},ne)),oe!=null&&!isObject$6(oe)&&(oe=null);const ie=createAppContext(),se=new Set;let ue=!1;const he=ie.app={_uid:uid++,_component:ne,_props:oe,_container:null,_context:ie,_instance:null,version:version$q,get config(){return ie.config},set config(ge){},use(ge,...be){return se.has(ge)||(ge&&isFunction$4(ge.install)?(se.add(ge),ge.install(he,...be)):isFunction$4(ge)&&(se.add(ge),ge(he,...be))),he},mixin(ge){return ie.mixins.includes(ge)||ie.mixins.push(ge),he},component(ge,be){return be?(ie.components[ge]=be,he):ie.components[ge]},directive(ge,be){return be?(ie.directives[ge]=be,he):ie.directives[ge]},mount(ge,be,Se){if(!ue){const Te=createVNode(ne,oe);return Te.appContext=ie,be&&ee?ee(Te,ge):te(Te,ge,Se),ue=!0,he._container=ge,ge.__vue_app__=he,getExposeProxy(Te.component)||Te.component.proxy}},unmount(){ue&&(te(null,he._container),delete he._container.__vue_app__)},provide(ge,be){return ie.provides[ge]=be,he}};return he}}function setRef(te,ee,re,ne,oe=!1){if(isArray$9(te)){te.forEach((Te,ke)=>setRef(Te,ee&&(isArray$9(ee)?ee[ke]:ee),re,ne,oe));return}if(isAsyncWrapper(ne)&&!oe)return;const ie=ne.shapeFlag&4?getExposeProxy(ne.component)||ne.component.proxy:ne.el,se=oe?null:ie,{i:ue,r:he}=te,ge=ee&&ee.r,be=ue.refs===EMPTY_OBJ?ue.refs={}:ue.refs,Se=ue.setupState;if(ge!=null&&ge!==he&&(isString$2(ge)?(be[ge]=null,hasOwn$2(Se,ge)&&(Se[ge]=null)):isRef(ge)&&(ge.value=null)),isFunction$4(he))callWithErrorHandling(he,ue,12,[se,be]);else{const Te=isString$2(he),ke=isRef(he);if(Te||ke){const Re=()=>{if(te.f){const Ce=Te?be[he]:he.value;oe?isArray$9(Ce)&&remove(Ce,ie):isArray$9(Ce)?Ce.includes(ie)||Ce.push(ie):Te?(be[he]=[ie],hasOwn$2(Se,he)&&(Se[he]=be[he])):(he.value=[ie],te.k&&(be[te.k]=he.value))}else Te?(be[he]=se,hasOwn$2(Se,he)&&(Se[he]=se)):isRef(he)&&(he.value=se,te.k&&(be[te.k]=se))};se?(Re.id=-1,queuePostRenderEffect(Re,re)):Re()}}}let hasMismatch=!1;const isSVGContainer=te=>/svg/.test(te.namespaceURI)&&te.tagName!=="foreignObject",isComment=te=>te.nodeType===8;function createHydrationFunctions(te){const{mt:ee,p:re,o:{patchProp:ne,nextSibling:oe,parentNode:ie,remove:se,insert:ue,createComment:he}}=te,ge=(Pe,Ie)=>{if(!Ie.hasChildNodes()){re(null,Pe,Ie),flushPostFlushCbs();return}hasMismatch=!1,be(Ie.firstChild,Pe,null,null,null),flushPostFlushCbs(),hasMismatch&&console.error("Hydration completed but contains mismatches.")},be=(Pe,Ie,Ne,He,Ke,Ge=!1)=>{const ut=isComment(Pe)&&Pe.data==="[",Ve=()=>Re(Pe,Ie,Ne,He,Ke,ut),{type:nt,ref:st,shapeFlag:qe}=Ie,ye=Pe.nodeType;Ie.el=Pe;let ae=null;switch(nt){case Text:ye!==3?ae=Ve():(Pe.data!==Ie.children&&(hasMismatch=!0,Pe.data=Ie.children),ae=oe(Pe));break;case Comment:ye!==8||ut?ae=Ve():ae=oe(Pe);break;case Static:if(ye!==1)ae=Ve();else{ae=Pe;const ce=!Ie.children.length;for(let le=0;le<Ie.staticCount;le++)ce&&(Ie.children+=ae.outerHTML),le===Ie.staticCount-1&&(Ie.anchor=ae),ae=oe(ae);return ae}break;case Fragment$1:ut?ae=ke(Pe,Ie,Ne,He,Ke,Ge):ae=Ve();break;default:if(qe&1)ye!==1||Ie.type.toLowerCase()!==Pe.tagName.toLowerCase()?ae=Ve():ae=Se(Pe,Ie,Ne,He,Ke,Ge);else if(qe&6){Ie.slotScopeIds=Ke;const ce=ie(Pe);if(ee(Ie,ce,null,Ne,He,isSVGContainer(ce),Ge),ae=ut?Ce(Pe):oe(Pe),isAsyncWrapper(Ie)){let le;ut?(le=createVNode(Fragment$1),le.anchor=ae?ae.previousSibling:ce.lastChild):le=Pe.nodeType===3?createTextVNode(""):createVNode("div"),le.el=Pe,Ie.component.subTree=le}}else qe&64?ye!==8?ae=Ve():ae=Ie.type.hydrate(Pe,Ie,Ne,He,Ke,Ge,te,Te):qe&128&&(ae=Ie.type.hydrate(Pe,Ie,Ne,He,isSVGContainer(ie(Pe)),Ke,Ge,te,be))}return st!=null&&setRef(st,null,He,Ie),ae},Se=(Pe,Ie,Ne,He,Ke,Ge)=>{Ge=Ge||!!Ie.dynamicChildren;const{type:ut,props:Ve,patchFlag:nt,shapeFlag:st,dirs:qe}=Ie,ye=ut==="input"&&qe||ut==="option";if(ye||nt!==-1){if(qe&&invokeDirectiveHook(Ie,null,Ne,"created"),Ve)if(ye||!Ge||nt&48)for(const ce in Ve)(ye&&ce.endsWith("value")||isOn(ce)&&!isReservedProp(ce))&&ne(Pe,ce,null,Ve[ce],!1,void 0,Ne);else Ve.onClick&&ne(Pe,"onClick",null,Ve.onClick,!1,void 0,Ne);let ae;if((ae=Ve&&Ve.onVnodeBeforeMount)&&invokeVNodeHook(ae,Ne,Ie),qe&&invokeDirectiveHook(Ie,null,Ne,"beforeMount"),((ae=Ve&&Ve.onVnodeMounted)||qe)&&queueEffectWithSuspense(()=>{ae&&invokeVNodeHook(ae,Ne,Ie),qe&&invokeDirectiveHook(Ie,null,Ne,"mounted")},He),st&16&&!(Ve&&(Ve.innerHTML||Ve.textContent))){let ce=Te(Pe.firstChild,Ie,Pe,Ne,He,Ke,Ge);for(;ce;){hasMismatch=!0;const le=ce;ce=ce.nextSibling,se(le)}}else st&8&&Pe.textContent!==Ie.children&&(hasMismatch=!0,Pe.textContent=Ie.children)}return Pe.nextSibling},Te=(Pe,Ie,Ne,He,Ke,Ge,ut)=>{ut=ut||!!Ie.dynamicChildren;const Ve=Ie.children,nt=Ve.length;for(let st=0;st<nt;st++){const qe=ut?Ve[st]:Ve[st]=normalizeVNode(Ve[st]);if(Pe)Pe=be(Pe,qe,He,Ke,Ge,ut);else{if(qe.type===Text&&!qe.children)continue;hasMismatch=!0,re(null,qe,Ne,null,He,Ke,isSVGContainer(Ne),Ge)}}return Pe},ke=(Pe,Ie,Ne,He,Ke,Ge)=>{const{slotScopeIds:ut}=Ie;ut&&(Ke=Ke?Ke.concat(ut):ut);const Ve=ie(Pe),nt=Te(oe(Pe),Ie,Ve,Ne,He,Ke,Ge);return nt&&isComment(nt)&&nt.data==="]"?oe(Ie.anchor=nt):(hasMismatch=!0,ue(Ie.anchor=he("]"),Ve,nt),nt)},Re=(Pe,Ie,Ne,He,Ke,Ge)=>{if(hasMismatch=!0,Ie.el=null,Ge){const nt=Ce(Pe);for(;;){const st=oe(Pe);if(st&&st!==nt)se(st);else break}}const ut=oe(Pe),Ve=ie(Pe);return se(Pe),re(null,Ie,Ve,ut,Ne,He,isSVGContainer(Ve),Ke),ut},Ce=Pe=>{let Ie=0;for(;Pe;)if(Pe=oe(Pe),Pe&&isComment(Pe)&&(Pe.data==="["&&Ie++,Pe.data==="]")){if(Ie===0)return oe(Pe);Ie--}return Pe};return[ge,be]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(te){return baseCreateRenderer(te)}function createHydrationRenderer(te){return baseCreateRenderer(te,createHydrationFunctions)}function baseCreateRenderer(te,ee){const re=getGlobalThis();re.__VUE__=!0;const{insert:ne,remove:oe,patchProp:ie,createElement:se,createText:ue,createComment:he,setText:ge,setElementText:be,parentNode:Se,nextSibling:Te,setScopeId:ke=NOOP,cloneNode:Re,insertStaticContent:Ce}=te,Pe=(lt,_t,bt,Qe=null,ze=null,De=null,Ze=!1,yt=null,dt=!!_t.dynamicChildren)=>{if(lt===_t)return;lt&&!isSameVNodeType(lt,_t)&&(Qe=$t(lt),Le(lt,ze,De,!0),lt=null),_t.patchFlag===-2&&(dt=!1,_t.dynamicChildren=null);const{type:mt,ref:Lt,shapeFlag:St}=_t;switch(mt){case Text:Ie(lt,_t,bt,Qe);break;case Comment:Ne(lt,_t,bt,Qe);break;case Static:lt==null&&He(_t,bt,Qe,Ze);break;case Fragment$1:ce(lt,_t,bt,Qe,ze,De,Ze,yt,dt);break;default:St&1?ut(lt,_t,bt,Qe,ze,De,Ze,yt,dt):St&6?le(lt,_t,bt,Qe,ze,De,Ze,yt,dt):(St&64||St&128)&&mt.process(lt,_t,bt,Qe,ze,De,Ze,yt,dt,Tt)}Lt!=null&&ze&&setRef(Lt,lt&&lt.ref,De,_t||lt,!_t)},Ie=(lt,_t,bt,Qe)=>{if(lt==null)ne(_t.el=ue(_t.children),bt,Qe);else{const ze=_t.el=lt.el;_t.children!==lt.children&&ge(ze,_t.children)}},Ne=(lt,_t,bt,Qe)=>{lt==null?ne(_t.el=he(_t.children||""),bt,Qe):_t.el=lt.el},He=(lt,_t,bt,Qe)=>{[lt.el,lt.anchor]=Ce(lt.children,_t,bt,Qe,lt.el,lt.anchor)},Ke=({el:lt,anchor:_t},bt,Qe)=>{let ze;for(;lt&&lt!==_t;)ze=Te(lt),ne(lt,bt,Qe),lt=ze;ne(_t,bt,Qe)},Ge=({el:lt,anchor:_t})=>{let bt;for(;lt&&lt!==_t;)bt=Te(lt),oe(lt),lt=bt;oe(_t)},ut=(lt,_t,bt,Qe,ze,De,Ze,yt,dt)=>{Ze=Ze||_t.type==="svg",lt==null?Ve(_t,bt,Qe,ze,De,Ze,yt,dt):qe(lt,_t,ze,De,Ze,yt,dt)},Ve=(lt,_t,bt,Qe,ze,De,Ze,yt)=>{let dt,mt;const{type:Lt,props:St,shapeFlag:Bt,transition:Gt,patchFlag:Ae,dirs:ve}=lt;if(lt.el&&Re!==void 0&&Ae===-1)dt=lt.el=Re(lt.el);else{if(dt=lt.el=se(lt.type,De,St&&St.is,St),Bt&8?be(dt,lt.children):Bt&16&&st(lt.children,dt,null,Qe,ze,De&&Lt!=="foreignObject",Ze,yt),ve&&invokeDirectiveHook(lt,null,Qe,"created"),St){for(const Be in St)Be!=="value"&&!isReservedProp(Be)&&ie(dt,Be,null,St[Be],De,lt.children,Qe,ze,gt);"value"in St&&ie(dt,"value",null,St.value),(mt=St.onVnodeBeforeMount)&&invokeVNodeHook(mt,Qe,lt)}nt(dt,lt,lt.scopeId,Ze,Qe)}ve&&invokeDirectiveHook(lt,null,Qe,"beforeMount");const xe=(!ze||ze&&!ze.pendingBranch)&&Gt&&!Gt.persisted;xe&&Gt.beforeEnter(dt),ne(dt,_t,bt),((mt=St&&St.onVnodeMounted)||xe||ve)&&queuePostRenderEffect(()=>{mt&&invokeVNodeHook(mt,Qe,lt),xe&&Gt.enter(dt),ve&&invokeDirectiveHook(lt,null,Qe,"mounted")},ze)},nt=(lt,_t,bt,Qe,ze)=>{if(bt&&ke(lt,bt),Qe)for(let De=0;De<Qe.length;De++)ke(lt,Qe[De]);if(ze){let De=ze.subTree;if(_t===De){const Ze=ze.vnode;nt(lt,Ze,Ze.scopeId,Ze.slotScopeIds,ze.parent)}}},st=(lt,_t,bt,Qe,ze,De,Ze,yt,dt=0)=>{for(let mt=dt;mt<lt.length;mt++){const Lt=lt[mt]=yt?cloneIfMounted(lt[mt]):normalizeVNode(lt[mt]);Pe(null,Lt,_t,bt,Qe,ze,De,Ze,yt)}},qe=(lt,_t,bt,Qe,ze,De,Ze)=>{const yt=_t.el=lt.el;let{patchFlag:dt,dynamicChildren:mt,dirs:Lt}=_t;dt|=lt.patchFlag&16;const St=lt.props||EMPTY_OBJ,Bt=_t.props||EMPTY_OBJ;let Gt;bt&&toggleRecurse(bt,!1),(Gt=Bt.onVnodeBeforeUpdate)&&invokeVNodeHook(Gt,bt,_t,lt),Lt&&invokeDirectiveHook(_t,lt,bt,"beforeUpdate"),bt&&toggleRecurse(bt,!0);const Ae=ze&&_t.type!=="foreignObject";if(mt?ye(lt.dynamicChildren,mt,yt,bt,Qe,Ae,De):Ze||me(lt,_t,yt,null,bt,Qe,Ae,De,!1),dt>0){if(dt&16)ae(yt,_t,St,Bt,bt,Qe,ze);else if(dt&2&&St.class!==Bt.class&&ie(yt,"class",null,Bt.class,ze),dt&4&&ie(yt,"style",St.style,Bt.style,ze),dt&8){const ve=_t.dynamicProps;for(let xe=0;xe<ve.length;xe++){const Be=ve[xe],We=St[Be],et=Bt[Be];(et!==We||Be==="value")&&ie(yt,Be,We,et,ze,lt.children,bt,Qe,gt)}}dt&1&&lt.children!==_t.children&&be(yt,_t.children)}else!Ze&&mt==null&&ae(yt,_t,St,Bt,bt,Qe,ze);((Gt=Bt.onVnodeUpdated)||Lt)&&queuePostRenderEffect(()=>{Gt&&invokeVNodeHook(Gt,bt,_t,lt),Lt&&invokeDirectiveHook(_t,lt,bt,"updated")},Qe)},ye=(lt,_t,bt,Qe,ze,De,Ze)=>{for(let yt=0;yt<_t.length;yt++){const dt=lt[yt],mt=_t[yt],Lt=dt.el&&(dt.type===Fragment$1||!isSameVNodeType(dt,mt)||dt.shapeFlag&70)?Se(dt.el):bt;Pe(dt,mt,Lt,null,Qe,ze,De,Ze,!0)}},ae=(lt,_t,bt,Qe,ze,De,Ze)=>{if(bt!==Qe){for(const yt in Qe){if(isReservedProp(yt))continue;const dt=Qe[yt],mt=bt[yt];dt!==mt&&yt!=="value"&&ie(lt,yt,mt,dt,Ze,_t.children,ze,De,gt)}if(bt!==EMPTY_OBJ)for(const yt in bt)!isReservedProp(yt)&&!(yt in Qe)&&ie(lt,yt,bt[yt],null,Ze,_t.children,ze,De,gt);"value"in Qe&&ie(lt,"value",bt.value,Qe.value)}},ce=(lt,_t,bt,Qe,ze,De,Ze,yt,dt)=>{const mt=_t.el=lt?lt.el:ue(""),Lt=_t.anchor=lt?lt.anchor:ue("");let{patchFlag:St,dynamicChildren:Bt,slotScopeIds:Gt}=_t;Gt&&(yt=yt?yt.concat(Gt):Gt),lt==null?(ne(mt,bt,Qe),ne(Lt,bt,Qe),st(_t.children,bt,Lt,ze,De,Ze,yt,dt)):St>0&&St&64&&Bt&&lt.dynamicChildren?(ye(lt.dynamicChildren,Bt,bt,ze,De,Ze,yt),(_t.key!=null||ze&&_t===ze.subTree)&&traverseStaticChildren(lt,_t,!0)):me(lt,_t,bt,Lt,ze,De,Ze,yt,dt)},le=(lt,_t,bt,Qe,ze,De,Ze,yt,dt)=>{_t.slotScopeIds=yt,lt==null?_t.shapeFlag&512?ze.ctx.activate(_t,bt,Qe,Ze,dt):pe(_t,bt,Qe,ze,De,Ze,dt):_e(lt,_t,dt)},pe=(lt,_t,bt,Qe,ze,De,Ze)=>{const yt=lt.component=createComponentInstance(lt,Qe,ze);if(isKeepAlive(lt)&&(yt.ctx.renderer=Tt),setupComponent(yt),yt.asyncDep){if(ze&&ze.registerDep(yt,$e),!lt.el){const dt=yt.subTree=createVNode(Comment);Ne(null,dt,_t,bt)}return}$e(yt,lt,_t,bt,ze,De,Ze)},_e=(lt,_t,bt)=>{const Qe=_t.component=lt.component;if(shouldUpdateComponent(lt,_t,bt))if(Qe.asyncDep&&!Qe.asyncResolved){Ee(Qe,_t,bt);return}else Qe.next=_t,invalidateJob(Qe.update),Qe.update();else _t.component=lt.component,_t.el=lt.el,Qe.vnode=_t},$e=(lt,_t,bt,Qe,ze,De,Ze)=>{const yt=()=>{if(lt.isMounted){let{next:Lt,bu:St,u:Bt,parent:Gt,vnode:Ae}=lt,ve=Lt,xe;toggleRecurse(lt,!1),Lt?(Lt.el=Ae.el,Ee(lt,Lt,Ze)):Lt=Ae,St&&invokeArrayFns(St),(xe=Lt.props&&Lt.props.onVnodeBeforeUpdate)&&invokeVNodeHook(xe,Gt,Lt,Ae),toggleRecurse(lt,!0);const Be=renderComponentRoot(lt),We=lt.subTree;lt.subTree=Be,Pe(We,Be,Se(We.el),$t(We),lt,ze,De),Lt.el=Be.el,ve===null&&updateHOCHostEl(lt,Be.el),Bt&&queuePostRenderEffect(Bt,ze),(xe=Lt.props&&Lt.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(xe,Gt,Lt,Ae),ze)}else{let Lt;const{el:St,props:Bt}=_t,{bm:Gt,m:Ae,parent:ve}=lt,xe=isAsyncWrapper(_t);if(toggleRecurse(lt,!1),Gt&&invokeArrayFns(Gt),!xe&&(Lt=Bt&&Bt.onVnodeBeforeMount)&&invokeVNodeHook(Lt,ve,_t),toggleRecurse(lt,!0),St&&Rt){const Be=()=>{lt.subTree=renderComponentRoot(lt),Rt(St,lt.subTree,lt,ze,null)};xe?_t.type.__asyncLoader().then(()=>!lt.isUnmounted&&Be()):Be()}else{const Be=lt.subTree=renderComponentRoot(lt);Pe(null,Be,bt,Qe,lt,ze,De),_t.el=Be.el}if(Ae&&queuePostRenderEffect(Ae,ze),!xe&&(Lt=Bt&&Bt.onVnodeMounted)){const Be=_t;queuePostRenderEffect(()=>invokeVNodeHook(Lt,ve,Be),ze)}_t.shapeFlag&256&&lt.a&&queuePostRenderEffect(lt.a,ze),lt.isMounted=!0,_t=bt=Qe=null}},dt=lt.effect=new ReactiveEffect(yt,()=>queueJob(lt.update),lt.scope),mt=lt.update=dt.run.bind(dt);mt.id=lt.uid,toggleRecurse(lt,!0),mt()},Ee=(lt,_t,bt)=>{_t.component=lt;const Qe=lt.vnode.props;lt.vnode=_t,lt.next=null,updateProps(lt,_t.props,Qe,bt),updateSlots(lt,_t.children,bt),pauseTracking(),flushPreFlushCbs(void 0,lt.update),resetTracking()},me=(lt,_t,bt,Qe,ze,De,Ze,yt,dt=!1)=>{const mt=lt&&lt.children,Lt=lt?lt.shapeFlag:0,St=_t.children,{patchFlag:Bt,shapeFlag:Gt}=_t;if(Bt>0){if(Bt&128){we(mt,St,bt,Qe,ze,De,Ze,yt,dt);return}else if(Bt&256){fe(mt,St,bt,Qe,ze,De,Ze,yt,dt);return}}Gt&8?(Lt&16&&gt(mt,ze,De),St!==mt&&be(bt,St)):Lt&16?Gt&16?we(mt,St,bt,Qe,ze,De,Ze,yt,dt):gt(mt,ze,De,!0):(Lt&8&&be(bt,""),Gt&16&&st(St,bt,Qe,ze,De,Ze,yt,dt))},fe=(lt,_t,bt,Qe,ze,De,Ze,yt,dt)=>{lt=lt||EMPTY_ARR,_t=_t||EMPTY_ARR;const mt=lt.length,Lt=_t.length,St=Math.min(mt,Lt);let Bt;for(Bt=0;Bt<St;Bt++){const Gt=_t[Bt]=dt?cloneIfMounted(_t[Bt]):normalizeVNode(_t[Bt]);Pe(lt[Bt],Gt,bt,null,ze,De,Ze,yt,dt)}mt>Lt?gt(lt,ze,De,!0,!1,St):st(_t,bt,Qe,ze,De,Ze,yt,dt,St)},we=(lt,_t,bt,Qe,ze,De,Ze,yt,dt)=>{let mt=0;const Lt=_t.length;let St=lt.length-1,Bt=Lt-1;for(;mt<=St&&mt<=Bt;){const Gt=lt[mt],Ae=_t[mt]=dt?cloneIfMounted(_t[mt]):normalizeVNode(_t[mt]);if(isSameVNodeType(Gt,Ae))Pe(Gt,Ae,bt,null,ze,De,Ze,yt,dt);else break;mt++}for(;mt<=St&&mt<=Bt;){const Gt=lt[St],Ae=_t[Bt]=dt?cloneIfMounted(_t[Bt]):normalizeVNode(_t[Bt]);if(isSameVNodeType(Gt,Ae))Pe(Gt,Ae,bt,null,ze,De,Ze,yt,dt);else break;St--,Bt--}if(mt>St){if(mt<=Bt){const Gt=Bt+1,Ae=Gt<Lt?_t[Gt].el:Qe;for(;mt<=Bt;)Pe(null,_t[mt]=dt?cloneIfMounted(_t[mt]):normalizeVNode(_t[mt]),bt,Ae,ze,De,Ze,yt,dt),mt++}}else if(mt>Bt)for(;mt<=St;)Le(lt[mt],ze,De,!0),mt++;else{const Gt=mt,Ae=mt,ve=new Map;for(mt=Ae;mt<=Bt;mt++){const At=_t[mt]=dt?cloneIfMounted(_t[mt]):normalizeVNode(_t[mt]);At.key!=null&&ve.set(At.key,mt)}let xe,Be=0;const We=Bt-Ae+1;let et=!1,Xe=0;const Mt=new Array(We);for(mt=0;mt<We;mt++)Mt[mt]=0;for(mt=Gt;mt<=St;mt++){const At=lt[mt];if(Be>=We){Le(At,ze,De,!0);continue}let Nt;if(At.key!=null)Nt=ve.get(At.key);else for(xe=Ae;xe<=Bt;xe++)if(Mt[xe-Ae]===0&&isSameVNodeType(At,_t[xe])){Nt=xe;break}Nt===void 0?Le(At,ze,De,!0):(Mt[Nt-Ae]=mt+1,Nt>=Xe?Xe=Nt:et=!0,Pe(At,_t[Nt],bt,null,ze,De,Ze,yt,dt),Be++)}const Vt=et?getSequence(Mt):EMPTY_ARR;for(xe=Vt.length-1,mt=We-1;mt>=0;mt--){const At=Ae+mt,Nt=_t[At],zt=At+1<Lt?_t[At+1].el:Qe;Mt[mt]===0?Pe(null,Nt,bt,zt,ze,De,Ze,yt,dt):et&&(xe<0||mt!==Vt[xe]?Me(Nt,bt,zt,2):xe--)}}},Me=(lt,_t,bt,Qe,ze=null)=>{const{el:De,type:Ze,transition:yt,children:dt,shapeFlag:mt}=lt;if(mt&6){Me(lt.component.subTree,_t,bt,Qe);return}if(mt&128){lt.suspense.move(_t,bt,Qe);return}if(mt&64){Ze.move(lt,_t,bt,Tt);return}if(Ze===Fragment$1){ne(De,_t,bt);for(let St=0;St<dt.length;St++)Me(dt[St],_t,bt,Qe);ne(lt.anchor,_t,bt);return}if(Ze===Static){Ke(lt,_t,bt);return}if(Qe!==2&&mt&1&&yt)if(Qe===0)yt.beforeEnter(De),ne(De,_t,bt),queuePostRenderEffect(()=>yt.enter(De),ze);else{const{leave:St,delayLeave:Bt,afterLeave:Gt}=yt,Ae=()=>ne(De,_t,bt),ve=()=>{St(De,()=>{Ae(),Gt&&Gt()})};Bt?Bt(De,Ae,ve):ve()}else ne(De,_t,bt)},Le=(lt,_t,bt,Qe=!1,ze=!1)=>{const{type:De,props:Ze,ref:yt,children:dt,dynamicChildren:mt,shapeFlag:Lt,patchFlag:St,dirs:Bt}=lt;if(yt!=null&&setRef(yt,null,bt,lt,!0),Lt&256){_t.ctx.deactivate(lt);return}const Gt=Lt&1&&Bt,Ae=!isAsyncWrapper(lt);let ve;if(Ae&&(ve=Ze&&Ze.onVnodeBeforeUnmount)&&invokeVNodeHook(ve,_t,lt),Lt&6)ct(lt.component,bt,Qe);else{if(Lt&128){lt.suspense.unmount(bt,Qe);return}Gt&&invokeDirectiveHook(lt,null,_t,"beforeUnmount"),Lt&64?lt.type.remove(lt,_t,bt,ze,Tt,Qe):mt&&(De!==Fragment$1||St>0&&St&64)?gt(mt,_t,bt,!1,!0):(De===Fragment$1&&St&384||!ze&&Lt&16)&&gt(dt,_t,bt),Qe&&Je(lt)}(Ae&&(ve=Ze&&Ze.onVnodeUnmounted)||Gt)&&queuePostRenderEffect(()=>{ve&&invokeVNodeHook(ve,_t,lt),Gt&&invokeDirectiveHook(lt,null,_t,"unmounted")},bt)},Je=lt=>{const{type:_t,el:bt,anchor:Qe,transition:ze}=lt;if(_t===Fragment$1){Ue(bt,Qe);return}if(_t===Static){Ge(lt);return}const De=()=>{oe(bt),ze&&!ze.persisted&&ze.afterLeave&&ze.afterLeave()};if(lt.shapeFlag&1&&ze&&!ze.persisted){const{leave:Ze,delayLeave:yt}=ze,dt=()=>Ze(bt,De);yt?yt(lt.el,De,dt):dt()}else De()},Ue=(lt,_t)=>{let bt;for(;lt!==_t;)bt=Te(lt),oe(lt),lt=bt;oe(_t)},ct=(lt,_t,bt)=>{const{bum:Qe,scope:ze,update:De,subTree:Ze,um:yt}=lt;Qe&&invokeArrayFns(Qe),ze.stop(),De&&(De.active=!1,Le(Ze,lt,_t,bt)),yt&&queuePostRenderEffect(yt,_t),queuePostRenderEffect(()=>{lt.isUnmounted=!0},_t),_t&&_t.pendingBranch&&!_t.isUnmounted&&lt.asyncDep&&!lt.asyncResolved&&lt.suspenseId===_t.pendingId&&(_t.deps--,_t.deps===0&&_t.resolve())},gt=(lt,_t,bt,Qe=!1,ze=!1,De=0)=>{for(let Ze=De;Ze<lt.length;Ze++)Le(lt[Ze],_t,bt,Qe,ze)},$t=lt=>lt.shapeFlag&6?$t(lt.component.subTree):lt.shapeFlag&128?lt.suspense.next():Te(lt.anchor||lt.el),vt=(lt,_t,bt)=>{lt==null?_t._vnode&&Le(_t._vnode,null,null,!0):Pe(_t._vnode||null,lt,_t,null,null,null,bt),flushPostFlushCbs(),_t._vnode=lt},Tt={p:Pe,um:Le,m:Me,r:Je,mt:pe,mc:st,pc:me,pbc:ye,n:$t,o:te};let qt,Rt;return ee&&([qt,Rt]=ee(Tt)),{render:vt,hydrate:qt,createApp:createAppAPI(vt,qt)}}function toggleRecurse({effect:te,update:ee},re){te.allowRecurse=ee.allowRecurse=re}function traverseStaticChildren(te,ee,re=!1){const ne=te.children,oe=ee.children;if(isArray$9(ne)&&isArray$9(oe))for(let ie=0;ie<ne.length;ie++){const se=ne[ie];let ue=oe[ie];ue.shapeFlag&1&&!ue.dynamicChildren&&((ue.patchFlag<=0||ue.patchFlag===32)&&(ue=oe[ie]=cloneIfMounted(oe[ie]),ue.el=se.el),re||traverseStaticChildren(se,ue))}}function getSequence(te){const ee=te.slice(),re=[0];let ne,oe,ie,se,ue;const he=te.length;for(ne=0;ne<he;ne++){const ge=te[ne];if(ge!==0){if(oe=re[re.length-1],te[oe]<ge){ee[ne]=oe,re.push(ne);continue}for(ie=0,se=re.length-1;ie<se;)ue=ie+se>>1,te[re[ue]]<ge?ie=ue+1:se=ue;ge<te[re[ie]]&&(ie>0&&(ee[ne]=re[ie-1]),re[ie]=ne)}}for(ie=re.length,se=re[ie-1];ie-- >0;)re[ie]=se,se=ee[se];return re}const isTeleport=te=>te.__isTeleport,COMPONENTS="components";function resolveComponent(te,ee){return resolveAsset(COMPONENTS,te,!0,ee)||te}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(te,ee,re=!0,ne=!1){const oe=currentRenderingInstance||currentInstance;if(oe){const ie=oe.type;if(te===COMPONENTS){const ue=getComponentName(ie);if(ue&&(ue===ee||ue===camelize(ee)||ue===capitalize(camelize(ee))))return ie}const se=resolve(oe[te]||ie[te],ee)||resolve(oe.appContext[te],ee);return!se&&ne?ie:se}}function resolve(te,ee){return te&&(te[ee]||te[camelize(ee)]||te[capitalize(camelize(ee))])}const Fragment$1=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(te=!1){blockStack.push(currentBlock=te?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(te){isBlockTreeEnabled+=te}function setupBlock(te){return te.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(te),te}function createElementBlock(te,ee,re,ne,oe,ie){return setupBlock(createBaseVNode(te,ee,re,ne,oe,ie,!0))}function createBlock(te,ee,re,ne,oe){return setupBlock(createVNode(te,ee,re,ne,oe,!0))}function isVNode(te){return te?te.__v_isVNode===!0:!1}function isSameVNodeType(te,ee){return te.type===ee.type&&te.key===ee.key}const InternalObjectKey="__vInternal",normalizeKey=({key:te})=>te!=null?te:null,normalizeRef=({ref:te,ref_key:ee,ref_for:re})=>te!=null?isString$2(te)||isRef(te)||isFunction$4(te)?{i:currentRenderingInstance,r:te,k:ee,f:!!re}:te:null;function createBaseVNode(te,ee=null,re=null,ne=0,oe=null,ie=te===Fragment$1?0:1,se=!1,ue=!1){const he={__v_isVNode:!0,__v_skip:!0,type:te,props:ee,key:ee&&normalizeKey(ee),ref:ee&&normalizeRef(ee),scopeId:currentScopeId,slotScopeIds:null,children:re,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:ie,patchFlag:ne,dynamicProps:oe,dynamicChildren:null,appContext:null};return ue?(normalizeChildren(he,re),ie&128&&te.normalize(he)):re&&(he.shapeFlag|=isString$2(re)?8:16),isBlockTreeEnabled>0&&!se&&currentBlock&&(he.patchFlag>0||ie&6)&&he.patchFlag!==32&&currentBlock.push(he),he}const createVNode=_createVNode;function _createVNode(te,ee=null,re=null,ne=0,oe=null,ie=!1){if((!te||te===NULL_DYNAMIC_COMPONENT)&&(te=Comment),isVNode(te)){const ue=cloneVNode(te,ee,!0);return re&&normalizeChildren(ue,re),ue}if(isClassComponent(te)&&(te=te.__vccOpts),ee){ee=guardReactiveProps(ee);let{class:ue,style:he}=ee;ue&&!isString$2(ue)&&(ee.class=normalizeClass(ue)),isObject$6(he)&&(isProxy(he)&&!isArray$9(he)&&(he=extend$5({},he)),ee.style=normalizeStyle(he))}const se=isString$2(te)?1:isSuspense(te)?128:isTeleport(te)?64:isObject$6(te)?4:isFunction$4(te)?2:0;return createBaseVNode(te,ee,re,ne,oe,se,ie,!0)}function guardReactiveProps(te){return te?isProxy(te)||InternalObjectKey in te?extend$5({},te):te:null}function cloneVNode(te,ee,re=!1){const{props:ne,ref:oe,patchFlag:ie,children:se}=te,ue=ee?mergeProps(ne||{},ee):ne;return{__v_isVNode:!0,__v_skip:!0,type:te.type,props:ue,key:ue&&normalizeKey(ue),ref:ee&&ee.ref?re&&oe?isArray$9(oe)?oe.concat(normalizeRef(ee)):[oe,normalizeRef(ee)]:normalizeRef(ee):oe,scopeId:te.scopeId,slotScopeIds:te.slotScopeIds,children:se,target:te.target,targetAnchor:te.targetAnchor,staticCount:te.staticCount,shapeFlag:te.shapeFlag,patchFlag:ee&&te.type!==Fragment$1?ie===-1?16:ie|16:ie,dynamicProps:te.dynamicProps,dynamicChildren:te.dynamicChildren,appContext:te.appContext,dirs:te.dirs,transition:te.transition,component:te.component,suspense:te.suspense,ssContent:te.ssContent&&cloneVNode(te.ssContent),ssFallback:te.ssFallback&&cloneVNode(te.ssFallback),el:te.el,anchor:te.anchor}}function createTextVNode(te=" ",ee=0){return createVNode(Text,null,te,ee)}function createStaticVNode(te,ee){const re=createVNode(Static,null,te);return re.staticCount=ee,re}function createCommentVNode(te="",ee=!1){return ee?(openBlock(),createBlock(Comment,null,te)):createVNode(Comment,null,te)}function normalizeVNode(te){return te==null||typeof te=="boolean"?createVNode(Comment):isArray$9(te)?createVNode(Fragment$1,null,te.slice()):typeof te=="object"?cloneIfMounted(te):createVNode(Text,null,String(te))}function cloneIfMounted(te){return te.el===null||te.memo?te:cloneVNode(te)}function normalizeChildren(te,ee){let re=0;const{shapeFlag:ne}=te;if(ee==null)ee=null;else if(isArray$9(ee))re=16;else if(typeof ee=="object")if(ne&65){const oe=ee.default;oe&&(oe._c&&(oe._d=!1),normalizeChildren(te,oe()),oe._c&&(oe._d=!0));return}else{re=32;const oe=ee._;!oe&&!(InternalObjectKey in ee)?ee._ctx=currentRenderingInstance:oe===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?ee._=1:(ee._=2,te.patchFlag|=1024))}else isFunction$4(ee)?(ee={default:ee,_ctx:currentRenderingInstance},re=32):(ee=String(ee),ne&64?(re=16,ee=[createTextVNode(ee)]):re=8);te.children=ee,te.shapeFlag|=re}function mergeProps(...te){const ee={};for(let re=0;re<te.length;re++){const ne=te[re];for(const oe in ne)if(oe==="class")ee.class!==ne.class&&(ee.class=normalizeClass([ee.class,ne.class]));else if(oe==="style")ee.style=normalizeStyle([ee.style,ne.style]);else if(isOn(oe)){const ie=ee[oe],se=ne[oe];se&&ie!==se&&!(isArray$9(ie)&&ie.includes(se))&&(ee[oe]=ie?[].concat(ie,se):se)}else oe!==""&&(ee[oe]=ne[oe])}return ee}function invokeVNodeHook(te,ee,re,ne=null){callWithAsyncErrorHandling(te,ee,7,[re,ne])}function renderList(te,ee,re,ne){let oe;const ie=re&&re[ne];if(isArray$9(te)||isString$2(te)){oe=new Array(te.length);for(let se=0,ue=te.length;se<ue;se++)oe[se]=ee(te[se],se,void 0,ie&&ie[se])}else if(typeof te=="number"){oe=new Array(te);for(let se=0;se<te;se++)oe[se]=ee(se+1,se,void 0,ie&&ie[se])}else if(isObject$6(te))if(te[Symbol.iterator])oe=Array.from(te,(se,ue)=>ee(se,ue,void 0,ie&&ie[ue]));else{const se=Object.keys(te);oe=new Array(se.length);for(let ue=0,he=se.length;ue<he;ue++){const ge=se[ue];oe[ue]=ee(te[ge],ge,ue,ie&&ie[ue])}}else oe=[];return re&&(re[ne]=oe),oe}function renderSlot(te,ee,re={},ne,oe){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",ee==="default"?null:{name:ee},ne&&ne());let ie=te[ee];ie&&ie._c&&(ie._d=!1),openBlock();const se=ie&&ensureValidVNode(ie(re)),ue=createBlock(Fragment$1,{key:re.key||`_${ee}`},se||(ne?ne():[]),se&&te._===1?64:-2);return!oe&&ue.scopeId&&(ue.slotScopeIds=[ue.scopeId+"-s"]),ie&&ie._c&&(ie._d=!0),ue}function ensureValidVNode(te){return te.some(ee=>isVNode(ee)?!(ee.type===Comment||ee.type===Fragment$1&&!ensureValidVNode(ee.children)):!0)?te:null}const getPublicInstance=te=>te?isStatefulComponent(te)?getExposeProxy(te)||te.proxy:getPublicInstance(te.parent):null,publicPropertiesMap=extend$5(Object.create(null),{$:te=>te,$el:te=>te.vnode.el,$data:te=>te.data,$props:te=>te.props,$attrs:te=>te.attrs,$slots:te=>te.slots,$refs:te=>te.refs,$parent:te=>getPublicInstance(te.parent),$root:te=>getPublicInstance(te.root),$emit:te=>te.emit,$options:te=>resolveMergedOptions(te),$forceUpdate:te=>()=>queueJob(te.update),$nextTick:te=>nextTick.bind(te.proxy),$watch:te=>instanceWatch.bind(te)}),PublicInstanceProxyHandlers={get({_:te},ee){const{ctx:re,setupState:ne,data:oe,props:ie,accessCache:se,type:ue,appContext:he}=te;let ge;if(ee[0]!=="$"){const ke=se[ee];if(ke!==void 0)switch(ke){case 1:return ne[ee];case 2:return oe[ee];case 4:return re[ee];case 3:return ie[ee]}else{if(ne!==EMPTY_OBJ&&hasOwn$2(ne,ee))return se[ee]=1,ne[ee];if(oe!==EMPTY_OBJ&&hasOwn$2(oe,ee))return se[ee]=2,oe[ee];if((ge=te.propsOptions[0])&&hasOwn$2(ge,ee))return se[ee]=3,ie[ee];if(re!==EMPTY_OBJ&&hasOwn$2(re,ee))return se[ee]=4,re[ee];shouldCacheAccess&&(se[ee]=0)}}const be=publicPropertiesMap[ee];let Se,Te;if(be)return ee==="$attrs"&&track(te,"get",ee),be(te);if((Se=ue.__cssModules)&&(Se=Se[ee]))return Se;if(re!==EMPTY_OBJ&&hasOwn$2(re,ee))return se[ee]=4,re[ee];if(Te=he.config.globalProperties,hasOwn$2(Te,ee))return Te[ee]},set({_:te},ee,re){const{data:ne,setupState:oe,ctx:ie}=te;return oe!==EMPTY_OBJ&&hasOwn$2(oe,ee)?(oe[ee]=re,!0):ne!==EMPTY_OBJ&&hasOwn$2(ne,ee)?(ne[ee]=re,!0):hasOwn$2(te.props,ee)||ee[0]==="$"&&ee.slice(1)in te?!1:(ie[ee]=re,!0)},has({_:{data:te,setupState:ee,accessCache:re,ctx:ne,appContext:oe,propsOptions:ie}},se){let ue;return!!re[se]||te!==EMPTY_OBJ&&hasOwn$2(te,se)||ee!==EMPTY_OBJ&&hasOwn$2(ee,se)||(ue=ie[0])&&hasOwn$2(ue,se)||hasOwn$2(ne,se)||hasOwn$2(publicPropertiesMap,se)||hasOwn$2(oe.config.globalProperties,se)},defineProperty(te,ee,re){return re.get!=null?te._.accessCache[ee]=0:hasOwn$2(re,"value")&&this.set(te,ee,re.value,null),Reflect.defineProperty(te,ee,re)}},emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(te,ee,re){const ne=te.type,oe=(ee?ee.appContext:te.appContext)||emptyAppContext,ie={uid:uid$1++,vnode:te,type:ne,parent:ee,appContext:oe,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:ee?ee.provides:Object.create(oe.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(ne,oe),emitsOptions:normalizeEmitsOptions(ne,oe),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:ne.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:re,suspenseId:re?re.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return ie.ctx={_:ie},ie.root=ee?ee.root:ie,ie.emit=emit$1.bind(null,ie),te.ce&&te.ce(ie),ie}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=te=>{currentInstance=te,te.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(te){return te.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(te,ee=!1){isInSSRComponentSetup=ee;const{props:re,children:ne}=te.vnode,oe=isStatefulComponent(te);initProps(te,re,oe,ee),initSlots(te,ne);const ie=oe?setupStatefulComponent(te,ee):void 0;return isInSSRComponentSetup=!1,ie}function setupStatefulComponent(te,ee){const re=te.type;te.accessCache=Object.create(null),te.proxy=markRaw(new Proxy(te.ctx,PublicInstanceProxyHandlers));const{setup:ne}=re;if(ne){const oe=te.setupContext=ne.length>1?createSetupContext(te):null;setCurrentInstance(te),pauseTracking();const ie=callWithErrorHandling(ne,te,0,[te.props,oe]);if(resetTracking(),unsetCurrentInstance(),isPromise(ie)){if(ie.then(unsetCurrentInstance,unsetCurrentInstance),ee)return ie.then(se=>{handleSetupResult(te,se,ee)}).catch(se=>{handleError(se,te,0)});te.asyncDep=ie}else handleSetupResult(te,ie,ee)}else finishComponentSetup(te,ee)}function handleSetupResult(te,ee,re){isFunction$4(ee)?te.type.__ssrInlineRender?te.ssrRender=ee:te.render=ee:isObject$6(ee)&&(te.setupState=proxyRefs(ee)),finishComponentSetup(te,re)}let compile$1;function finishComponentSetup(te,ee,re){const ne=te.type;if(!te.render){if(!ee&&compile$1&&!ne.render){const oe=ne.template;if(oe){const{isCustomElement:ie,compilerOptions:se}=te.appContext.config,{delimiters:ue,compilerOptions:he}=ne,ge=extend$5(extend$5({isCustomElement:ie,delimiters:ue},se),he);ne.render=compile$1(oe,ge)}}te.render=ne.render||NOOP}setCurrentInstance(te),pauseTracking(),applyOptions(te),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(te){return new Proxy(te.attrs,{get(ee,re){return track(te,"get","$attrs"),ee[re]}})}function createSetupContext(te){const ee=ne=>{te.exposed=ne||{}};let re;return{get attrs(){return re||(re=createAttrsProxy(te))},slots:te.slots,emit:te.emit,expose:ee}}function getExposeProxy(te){if(te.exposed)return te.exposeProxy||(te.exposeProxy=new Proxy(proxyRefs(markRaw(te.exposed)),{get(ee,re){if(re in ee)return ee[re];if(re in publicPropertiesMap)return publicPropertiesMap[re](te)}}))}function getComponentName(te){return isFunction$4(te)&&te.displayName||te.name}function isClassComponent(te){return isFunction$4(te)&&"__vccOpts"in te}const computed=(te,ee)=>computed$1(te,ee,isInSSRComponentSetup);function h$2(te,ee,re){const ne=arguments.length;return ne===2?isObject$6(ee)&&!isArray$9(ee)?isVNode(ee)?createVNode(te,null,[ee]):createVNode(te,ee):createVNode(te,null,ee):(ne>3?re=Array.prototype.slice.call(arguments,2):ne===3&&isVNode(re)&&(re=[re]),createVNode(te,ee,re))}const version$q="3.2.33",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(te,ee,re)=>{ee.insertBefore(te,re||null)},remove:te=>{const ee=te.parentNode;ee&&ee.removeChild(te)},createElement:(te,ee,re,ne)=>{const oe=ee?doc.createElementNS(svgNS,te):doc.createElement(te,re?{is:re}:void 0);return te==="select"&&ne&&ne.multiple!=null&&oe.setAttribute("multiple",ne.multiple),oe},createText:te=>doc.createTextNode(te),createComment:te=>doc.createComment(te),setText:(te,ee)=>{te.nodeValue=ee},setElementText:(te,ee)=>{te.textContent=ee},parentNode:te=>te.parentNode,nextSibling:te=>te.nextSibling,querySelector:te=>doc.querySelector(te),setScopeId(te,ee){te.setAttribute(ee,"")},cloneNode(te){const ee=te.cloneNode(!0);return"_value"in te&&(ee._value=te._value),ee},insertStaticContent(te,ee,re,ne,oe,ie){const se=re?re.previousSibling:ee.lastChild;if(oe&&(oe===ie||oe.nextSibling))for(;ee.insertBefore(oe.cloneNode(!0),re),!(oe===ie||!(oe=oe.nextSibling)););else{templateContainer.innerHTML=ne?`<svg>${te}</svg>`:te;const ue=templateContainer.content;if(ne){const he=ue.firstChild;for(;he.firstChild;)ue.appendChild(he.firstChild);ue.removeChild(he)}ee.insertBefore(ue,re)}return[se?se.nextSibling:ee.firstChild,re?re.previousSibling:ee.lastChild]}};function patchClass(te,ee,re){const ne=te._vtc;ne&&(ee=(ee?[ee,...ne]:[...ne]).join(" ")),ee==null?te.removeAttribute("class"):re?te.setAttribute("class",ee):te.className=ee}function patchStyle(te,ee,re){const ne=te.style,oe=isString$2(re);if(re&&!oe){for(const ie in re)setStyle(ne,ie,re[ie]);if(ee&&!isString$2(ee))for(const ie in ee)re[ie]==null&&setStyle(ne,ie,"")}else{const ie=ne.display;oe?ee!==re&&(ne.cssText=re):ee&&te.removeAttribute("style"),"_vod"in te&&(ne.display=ie)}}const importantRE=/\s*!important$/;function setStyle(te,ee,re){if(isArray$9(re))re.forEach(ne=>setStyle(te,ee,ne));else if(re==null&&(re=""),ee.startsWith("--"))te.setProperty(ee,re);else{const ne=autoPrefix(te,ee);importantRE.test(re)?te.setProperty(hyphenate(ne),re.replace(importantRE,""),"important"):te[ne]=re}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(te,ee){const re=prefixCache[ee];if(re)return re;let ne=camelize(ee);if(ne!=="filter"&&ne in te)return prefixCache[ee]=ne;ne=capitalize(ne);for(let oe=0;oe<prefixes.length;oe++){const ie=prefixes[oe]+ne;if(ie in te)return prefixCache[ee]=ie}return ee}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(te,ee,re,ne,oe){if(ne&&ee.startsWith("xlink:"))re==null?te.removeAttributeNS(xlinkNS,ee.slice(6,ee.length)):te.setAttributeNS(xlinkNS,ee,re);else{const ie=isSpecialBooleanAttr(ee);re==null||ie&&!includeBooleanAttr(re)?te.removeAttribute(ee):te.setAttribute(ee,ie?"":re)}}function patchDOMProp(te,ee,re,ne,oe,ie,se){if(ee==="innerHTML"||ee==="textContent"){ne&&se(ne,oe,ie),te[ee]=re==null?"":re;return}if(ee==="value"&&te.tagName!=="PROGRESS"&&!te.tagName.includes("-")){te._value=re;const he=re==null?"":re;(te.value!==he||te.tagName==="OPTION")&&(te.value=he),re==null&&te.removeAttribute(ee);return}let ue=!1;if(re===""||re==null){const he=typeof te[ee];he==="boolean"?re=includeBooleanAttr(re):re==null&&he==="string"?(re="",ue=!0):he==="number"&&(re=0,ue=!0)}try{te[ee]=re}catch{}ue&&te.removeAttribute(ee)}const[_getNow,skipTimestampCheck]=(()=>{let te=Date.now,ee=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(te=()=>performance.now());const re=navigator.userAgent.match(/firefox\/(\d+)/i);ee=!!(re&&Number(re[1])<=53)}return[te,ee]})();let cachedNow=0;const p$2=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p$2.then(reset),cachedNow=_getNow());function addEventListener(te,ee,re,ne){te.addEventListener(ee,re,ne)}function removeEventListener(te,ee,re,ne){te.removeEventListener(ee,re,ne)}function patchEvent(te,ee,re,ne,oe=null){const ie=te._vei||(te._vei={}),se=ie[ee];if(ne&&se)se.value=ne;else{const[ue,he]=parseName(ee);if(ne){const ge=ie[ee]=createInvoker(ne,oe);addEventListener(te,ue,ge,he)}else se&&(removeEventListener(te,ue,se,he),ie[ee]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(te){let ee;if(optionsModifierRE.test(te)){ee={};let re;for(;re=te.match(optionsModifierRE);)te=te.slice(0,te.length-re[0].length),ee[re[0].toLowerCase()]=!0}return[hyphenate(te.slice(2)),ee]}function createInvoker(te,ee){const re=ne=>{const oe=ne.timeStamp||_getNow();(skipTimestampCheck||oe>=re.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(ne,re.value),ee,5,[ne])};return re.value=te,re.attached=getNow(),re}function patchStopImmediatePropagation(te,ee){if(isArray$9(ee)){const re=te.stopImmediatePropagation;return te.stopImmediatePropagation=()=>{re.call(te),te._stopped=!0},ee.map(ne=>oe=>!oe._stopped&&ne&&ne(oe))}else return ee}const nativeOnRE=/^on[a-z]/,patchProp=(te,ee,re,ne,oe=!1,ie,se,ue,he)=>{ee==="class"?patchClass(te,ne,oe):ee==="style"?patchStyle(te,re,ne):isOn(ee)?isModelListener(ee)||patchEvent(te,ee,re,ne,se):(ee[0]==="."?(ee=ee.slice(1),!0):ee[0]==="^"?(ee=ee.slice(1),!1):shouldSetAsProp(te,ee,ne,oe))?patchDOMProp(te,ee,ne,ie,se,ue,he):(ee==="true-value"?te._trueValue=ne:ee==="false-value"&&(te._falseValue=ne),patchAttr(te,ee,ne,oe))};function shouldSetAsProp(te,ee,re,ne){return ne?!!(ee==="innerHTML"||ee==="textContent"||ee in te&&nativeOnRE.test(ee)&&isFunction$4(re)):ee==="spellcheck"||ee==="draggable"||ee==="translate"||ee==="form"||ee==="list"&&te.tagName==="INPUT"||ee==="type"&&te.tagName==="TEXTAREA"||nativeOnRE.test(ee)&&isString$2(re)?!1:ee in te}const TRANSITION="transition",ANIMATION="animation",Transition=(te,{slots:ee})=>h$2(BaseTransition,resolveTransitionProps(te),ee);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend$5({},BaseTransition.props,DOMTransitionPropsValidators);const callHook=(te,ee=[])=>{isArray$9(te)?te.forEach(re=>re(...ee)):te&&te(...ee)},hasExplicitCallback=te=>te?isArray$9(te)?te.some(ee=>ee.length>1):te.length>1:!1;function resolveTransitionProps(te){const ee={};for(const ae in te)ae in DOMTransitionPropsValidators||(ee[ae]=te[ae]);if(te.css===!1)return ee;const{name:re="v",type:ne,duration:oe,enterFromClass:ie=`${re}-enter-from`,enterActiveClass:se=`${re}-enter-active`,enterToClass:ue=`${re}-enter-to`,appearFromClass:he=ie,appearActiveClass:ge=se,appearToClass:be=ue,leaveFromClass:Se=`${re}-leave-from`,leaveActiveClass:Te=`${re}-leave-active`,leaveToClass:ke=`${re}-leave-to`}=te,Re=normalizeDuration(oe),Ce=Re&&Re[0],Pe=Re&&Re[1],{onBeforeEnter:Ie,onEnter:Ne,onEnterCancelled:He,onLeave:Ke,onLeaveCancelled:Ge,onBeforeAppear:ut=Ie,onAppear:Ve=Ne,onAppearCancelled:nt=He}=ee,st=(ae,ce,le)=>{removeTransitionClass(ae,ce?be:ue),removeTransitionClass(ae,ce?ge:se),le&&le()},qe=(ae,ce)=>{removeTransitionClass(ae,ke),removeTransitionClass(ae,Te),ce&&ce()},ye=ae=>(ce,le)=>{const pe=ae?Ve:Ne,_e=()=>st(ce,ae,le);callHook(pe,[ce,_e]),nextFrame(()=>{removeTransitionClass(ce,ae?he:ie),addTransitionClass(ce,ae?be:ue),hasExplicitCallback(pe)||whenTransitionEnds(ce,ne,Ce,_e)})};return extend$5(ee,{onBeforeEnter(ae){callHook(Ie,[ae]),addTransitionClass(ae,ie),addTransitionClass(ae,se)},onBeforeAppear(ae){callHook(ut,[ae]),addTransitionClass(ae,he),addTransitionClass(ae,ge)},onEnter:ye(!1),onAppear:ye(!0),onLeave(ae,ce){const le=()=>qe(ae,ce);addTransitionClass(ae,Se),forceReflow(),addTransitionClass(ae,Te),nextFrame(()=>{removeTransitionClass(ae,Se),addTransitionClass(ae,ke),hasExplicitCallback(Ke)||whenTransitionEnds(ae,ne,Pe,le)}),callHook(Ke,[ae,le])},onEnterCancelled(ae){st(ae,!1),callHook(He,[ae])},onAppearCancelled(ae){st(ae,!0),callHook(nt,[ae])},onLeaveCancelled(ae){qe(ae),callHook(Ge,[ae])}})}function normalizeDuration(te){if(te==null)return null;if(isObject$6(te))return[NumberOf(te.enter),NumberOf(te.leave)];{const ee=NumberOf(te);return[ee,ee]}}function NumberOf(te){return toNumber(te)}function addTransitionClass(te,ee){ee.split(/\s+/).forEach(re=>re&&te.classList.add(re)),(te._vtc||(te._vtc=new Set)).add(ee)}function removeTransitionClass(te,ee){ee.split(/\s+/).forEach(ne=>ne&&te.classList.remove(ne));const{_vtc:re}=te;re&&(re.delete(ee),re.size||(te._vtc=void 0))}function nextFrame(te){requestAnimationFrame(()=>{requestAnimationFrame(te)})}let endId=0;function whenTransitionEnds(te,ee,re,ne){const oe=te._endId=++endId,ie=()=>{oe===te._endId&&ne()};if(re)return setTimeout(ie,re);const{type:se,timeout:ue,propCount:he}=getTransitionInfo(te,ee);if(!se)return ne();const ge=se+"end";let be=0;const Se=()=>{te.removeEventListener(ge,Te),ie()},Te=ke=>{ke.target===te&&++be>=he&&Se()};setTimeout(()=>{be<he&&Se()},ue+1),te.addEventListener(ge,Te)}function getTransitionInfo(te,ee){const re=window.getComputedStyle(te),ne=Re=>(re[Re]||"").split(", "),oe=ne(TRANSITION+"Delay"),ie=ne(TRANSITION+"Duration"),se=getTimeout(oe,ie),ue=ne(ANIMATION+"Delay"),he=ne(ANIMATION+"Duration"),ge=getTimeout(ue,he);let be=null,Se=0,Te=0;ee===TRANSITION?se>0&&(be=TRANSITION,Se=se,Te=ie.length):ee===ANIMATION?ge>0&&(be=ANIMATION,Se=ge,Te=he.length):(Se=Math.max(se,ge),be=Se>0?se>ge?TRANSITION:ANIMATION:null,Te=be?be===TRANSITION?ie.length:he.length:0);const ke=be===TRANSITION&&/\b(transform|all)(,|$)/.test(re[TRANSITION+"Property"]);return{type:be,timeout:Se,propCount:Te,hasTransform:ke}}function getTimeout(te,ee){for(;te.length<ee.length;)te=te.concat(te);return Math.max(...ee.map((re,ne)=>toMs(re)+toMs(te[ne])))}function toMs(te){return Number(te.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const getModelAssigner=te=>{const ee=te.props["onUpdate:modelValue"];return isArray$9(ee)?re=>invokeArrayFns(ee,re):ee};function onCompositionStart(te){te.target.composing=!0}function onCompositionEnd(te){const ee=te.target;ee.composing&&(ee.composing=!1,trigger(ee,"input"))}function trigger(te,ee){const re=document.createEvent("HTMLEvents");re.initEvent(ee,!0,!0),te.dispatchEvent(re)}const vModelText={created(te,{modifiers:{lazy:ee,trim:re,number:ne}},oe){te._assign=getModelAssigner(oe);const ie=ne||oe.props&&oe.props.type==="number";addEventListener(te,ee?"change":"input",se=>{if(se.target.composing)return;let ue=te.value;re?ue=ue.trim():ie&&(ue=toNumber(ue)),te._assign(ue)}),re&&addEventListener(te,"change",()=>{te.value=te.value.trim()}),ee||(addEventListener(te,"compositionstart",onCompositionStart),addEventListener(te,"compositionend",onCompositionEnd),addEventListener(te,"change",onCompositionEnd))},mounted(te,{value:ee}){te.value=ee==null?"":ee},beforeUpdate(te,{value:ee,modifiers:{lazy:re,trim:ne,number:oe}},ie){if(te._assign=getModelAssigner(ie),te.composing||document.activeElement===te&&(re||ne&&te.value.trim()===ee||(oe||te.type==="number")&&toNumber(te.value)===ee))return;const se=ee==null?"":ee;te.value!==se&&(te.value=se)}},vShow={beforeMount(te,{value:ee},{transition:re}){te._vod=te.style.display==="none"?"":te.style.display,re&&ee?re.beforeEnter(te):setDisplay(te,ee)},mounted(te,{value:ee},{transition:re}){re&&ee&&re.enter(te)},updated(te,{value:ee,oldValue:re},{transition:ne}){!ee!=!re&&(ne?ee?(ne.beforeEnter(te),setDisplay(te,!0),ne.enter(te)):ne.leave(te,()=>{setDisplay(te,!1)}):setDisplay(te,ee))},beforeUnmount(te,{value:ee}){setDisplay(te,ee)}};function setDisplay(te,ee){te.style.display=ee?te._vod:"none"}const rendererOptions=extend$5({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const createApp=(...te)=>{const ee=ensureRenderer().createApp(...te),{mount:re}=ee;return ee.mount=ne=>{const oe=normalizeContainer(ne);if(!oe)return;const ie=ee._component;!isFunction$4(ie)&&!ie.render&&!ie.template&&(ie.template=oe.innerHTML),oe.innerHTML="";const se=re(oe,!1,oe instanceof SVGElement);return oe instanceof Element&&(oe.removeAttribute("v-cloak"),oe.setAttribute("data-v-app","")),se},ee},createSSRApp=(...te)=>{const ee=ensureHydrationRenderer().createApp(...te),{mount:re}=ee;return ee.mount=ne=>{const oe=normalizeContainer(ne);if(oe)return re(oe,!0,oe instanceof SVGElement)},ee};function normalizeContainer(te){return isString$2(te)?document.querySelector(te):te}const suspectProtoRx=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^["{[]|^-?[0-9][0-9.]{0,14}$/;function jsonParseTransform(te,ee){if(!(te==="__proto__"||te==="constructor"))return ee}function destr(te){if(typeof te!="string")return te;const ee=te.toLowerCase();if(ee==="true")return!0;if(ee==="false")return!1;if(ee==="null")return null;if(ee==="nan")return NaN;if(ee==="infinity")return 1/0;if(ee!=="undefined"){if(!JsonSigRx.test(te))return te;try{return suspectProtoRx.test(te)||suspectConstructorRx.test(te)?JSON.parse(te,jsonParseTransform):JSON.parse(te)}catch{return te}}}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,EQUAL_RE=/=/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/gi,ENC_BRACKET_CLOSE_RE=/%5D/gi,ENC_CARET_RE=/%5E/gi,ENC_BACKTICK_RE=/%60/gi,ENC_CURLY_OPEN_RE=/%7B/gi,ENC_PIPE_RE=/%7C/gi,ENC_CURLY_CLOSE_RE=/%7D/gi,ENC_SPACE_RE=/%20/gi;function encode$b(te){return encodeURI(""+te).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeQueryValue(te){return encode$b(te).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(te){return encodeQueryValue(te).replace(EQUAL_RE,"%3D")}function decode$a(te=""){try{return decodeURIComponent(""+te)}catch{return""+te}}function decodeQueryValue(te){return decode$a(te.replace(PLUS_RE," "))}function parseQuery(te=""){const ee={};te[0]==="?"&&(te=te.substr(1));for(const re of te.split("&")){const ne=re.match(/([^=]+)=?(.*)/)||[];if(ne.length<2)continue;const oe=decode$a(ne[1]);if(oe==="__proto__"||oe==="constructor")continue;const ie=decodeQueryValue(ne[2]||"");ee[oe]?Array.isArray(ee[oe])?ee[oe].push(ie):ee[oe]=[ee[oe],ie]:ee[oe]=ie}return ee}function encodeQueryItem(te,ee){return(typeof ee=="number"||typeof ee=="boolean")&&(ee=String(ee)),ee?Array.isArray(ee)?ee.map(re=>`${encodeQueryKey(te)}=${encodeQueryValue(re)}`).join("&"):`${encodeQueryKey(te)}=${encodeQueryValue(ee)}`:encodeQueryKey(te)}function stringifyQuery(te){return Object.keys(te).map(ee=>encodeQueryItem(ee,te[ee])).join("&")}const PROTOCOL_REGEX=/^\w+:(\/\/)?/,PROTOCOL_RELATIVE_REGEX=/^\/\/[^/]+/;function hasProtocol(te,ee=!1){return PROTOCOL_REGEX.test(te)||ee&&PROTOCOL_RELATIVE_REGEX.test(te)}const TRAILING_SLASH_RE=/\/$|\/\?/;function hasTrailingSlash(te="",ee=!1){return ee?TRAILING_SLASH_RE.test(te):te.endsWith("/")}function withoutTrailingSlash(te="",ee=!1){if(!ee)return(hasTrailingSlash(te)?te.slice(0,-1):te)||"/";if(!hasTrailingSlash(te,!0))return te||"/";const[re,...ne]=te.split("?");return(re.slice(0,-1)||"/")+(ne.length?`?${ne.join("?")}`:"")}function withTrailingSlash(te="",ee=!1){if(!ee)return te.endsWith("/")?te:te+"/";if(hasTrailingSlash(te,!0))return te||"/";const[re,...ne]=te.split("?");return re+"/"+(ne.length?`?${ne.join("?")}`:"")}function hasLeadingSlash(te=""){return te.startsWith("/")}function withoutLeadingSlash(te=""){return(hasLeadingSlash(te)?te.substr(1):te)||"/"}function withBase(te,ee){if(isEmptyURL(ee))return te;const re=withoutTrailingSlash(ee);return te.startsWith(re)?te:joinURL(re,te)}function withQuery(te,ee){const re=parseURL(te),ne=Nr(Nr({},parseQuery(re.search)),ee);return re.search=stringifyQuery(ne),stringifyParsedURL(re)}function isEmptyURL(te){return!te||te==="/"}function isNonEmptyURL(te){return te&&te!=="/"}function joinURL(te,...ee){let re=te||"";for(const ne of ee.filter(isNonEmptyURL))re=re?withTrailingSlash(re)+withoutLeadingSlash(ne):ne;return re}function parseURL(te="",ee){if(!hasProtocol(te,!0))return ee?parseURL(ee+te):parsePath(te);const[re="",ne,oe=""]=(te.replace(/\\/g,"/").match(/([^:/]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[ie="",se=""]=(oe.match(/([^/?#]*)(.*)?/)||[]).splice(1),{pathname:ue,search:he,hash:ge}=parsePath(se);return{protocol:re,auth:ne?ne.substr(0,ne.length-1):"",host:ie,pathname:ue,search:he,hash:ge}}function parsePath(te=""){const[ee="",re="",ne=""]=(te.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:ee,search:re,hash:ne}}function stringifyParsedURL(te){const ee=te.pathname+(te.search?(te.search.startsWith("?")?"":"?")+te.search:"")+te.hash;return te.protocol?te.protocol+"//"+(te.auth?te.auth+"@":"")+te.host+ee:ee}class FetchError extends Error{constructor(){super(...arguments),this.name="FetchError"}}function createFetchError(te,ee,re){let ne="";te&&re&&(ne=`${re.status} ${re.statusText} (${te.toString()})`),ee&&(ne=`${ee.message} (${ne})`);const oe=new FetchError(ne);return Object.defineProperty(oe,"request",{get(){return te}}),Object.defineProperty(oe,"response",{get(){return re}}),Object.defineProperty(oe,"data",{get(){return re&&re._data}}),oe}const payloadMethods=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function isPayloadMethod(te="GET"){return payloadMethods.has(te.toUpperCase())}function isJSONSerializable(te){if(te===void 0)return!1;const ee=typeof te;return ee==="string"||ee==="number"||ee==="boolean"||ee===null?!0:ee!=="object"?!1:Array.isArray(te)?!0:te.constructor&&te.constructor.name==="Object"||typeof te.toJSON=="function"}const textTypes=new Set(["image/svg","application/xml","application/xhtml","application/html"]),JSON_RE=/^application\/(?:[\w!#$%&*`\-.^~]*\+)?json(;.+)?$/i;function detectResponseType(te=""){if(!te)return"json";const ee=te.split(";").shift();return JSON_RE.test(ee)?"json":textTypes.has(ee)||ee.startsWith("text/")?"text":"blob"}const retryStatusCodes=new Set([408,409,425,429,500,502,503,504]);function createFetch(te){const{fetch:ee,Headers:re}=te;function ne(se){if(se.options.retry!==!1){const he=typeof se.options.retry=="number"?se.options.retry:isPayloadMethod(se.options.method)?0:1,ge=se.response&&se.response.status||500;if(he>0&&retryStatusCodes.has(ge))return oe(se.request,jr(Nr({},se.options),{retry:he-1}))}const ue=createFetchError(se.request,se.error,se.response);throw Error.captureStackTrace&&Error.captureStackTrace(ue,oe),ue}const oe=async function(ue,he={}){const ge={request:ue,options:Nr(Nr({},te.defaults),he),response:void 0,error:void 0};ge.options.onRequest&&await ge.options.onRequest(ge),typeof ge.request=="string"&&(ge.options.baseURL&&(ge.request=withBase(ge.request,ge.options.baseURL)),ge.options.params&&(ge.request=withQuery(ge.request,ge.options.params)),ge.options.body&&isPayloadMethod(ge.options.method)&&isJSONSerializable(ge.options.body)&&(ge.options.body=JSON.stringify(ge.options.body),ge.options.headers=new re(ge.options.headers),ge.options.headers.has("content-type")||ge.options.headers.set("content-type","application/json"),ge.options.headers.has("accept")||ge.options.headers.set("accept","application/json"))),ge.response=await ee(ge.request,ge.options).catch(async Se=>(ge.error=Se,ge.options.onRequestError&&await ge.options.onRequestError(ge),ne(ge)));const be=(ge.options.parseResponse?"json":ge.options.responseType)||detectResponseType(ge.response.headers.get("content-type")||"");if(be==="json"){const Se=await ge.response.text(),Te=ge.options.parseResponse||destr;ge.response._data=Te(Se)}else ge.response._data=await ge.response[be]();return ge.options.onResponse&&await ge.options.onResponse(ge),ge.response.ok||ge.options.onResponseError&&await ge.options.onResponseError(ge),ge.response.ok?ge.response:ne(ge)},ie=function(ue,he){return oe(ue,he).then(ge=>ge._data)};return ie.raw=oe,ie.create=(se={})=>createFetch(jr(Nr({},te),{defaults:Nr(Nr({},te.defaults),se)})),ie}const _globalThis$1=function(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof globalThis!="undefined")return globalThis;throw new Error("unable to locate globalThis object")}(),fetch$1=_globalThis$1.fetch||(()=>Promise.reject(new Error("[ohmyfetch] globalThis.fetch is not supported!"))),Headers=_globalThis$1.Headers,$fetch=createFetch({fetch:fetch$1,Headers}),useRuntimeConfig$1=()=>{var te;return((te=window==null?void 0:window.__NUXT__)==null?void 0:te.config)||{}},appConfig=useRuntimeConfig$1().app,baseURL=()=>appConfig.baseURL,buildAssetsDir=()=>appConfig.buildAssetsDir,buildAssetsURL=(...te)=>joinURL(publicAssetsURL(),buildAssetsDir(),...te),publicAssetsURL=(...te)=>{const ee=appConfig.cdnURL||appConfig.baseURL;return te.length?joinURL(ee,...te):ee};function flatHooks(te,ee={},re){for(const ne in te){const oe=te[ne],ie=re?`${re}:${ne}`:ne;typeof oe=="object"&&oe!==null?flatHooks(oe,ee,ie):typeof oe=="function"&&(ee[ie]=oe)}return ee}function serialCaller(te,ee){return te.reduce((re,ne)=>re.then(()=>ne.apply(void 0,ee)),Promise.resolve(null))}function parallelCaller(te,ee){return Promise.all(te.map(re=>re.apply(void 0,ee)))}class Hookable{constructor(){this._hooks={},this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(ee,re){if(!ee||typeof re!="function")return()=>{};const ne=ee;let oe;for(;this._deprecatedHooks[ee];){const ie=this._deprecatedHooks[ee];typeof ie=="string"?oe={to:ie}:oe=ie,ee=oe.to}return oe&&(oe.message?console.warn(oe.message):console.warn(`${ne} hook has been deprecated`+(oe.to?`, please use ${oe.to}`:""))),this._hooks[ee]=this._hooks[ee]||[],this._hooks[ee].push(re),()=>{re&&(this.removeHook(ee,re),re=null)}}hookOnce(ee,re){let ne,oe=(...ie)=>(ne(),ne=null,oe=null,re(...ie));return ne=this.hook(ee,oe),ne}removeHook(ee,re){if(this._hooks[ee]){const ne=this._hooks[ee].indexOf(re);ne!==-1&&this._hooks[ee].splice(ne,1),this._hooks[ee].length===0&&delete this._hooks[ee]}}deprecateHook(ee,re){this._deprecatedHooks[ee]=re}deprecateHooks(ee){Object.assign(this._deprecatedHooks,ee)}addHooks(ee){const re=flatHooks(ee),ne=Object.keys(re).map(oe=>this.hook(oe,re[oe]));return()=>{ne.splice(0,ne.length).forEach(oe=>oe())}}removeHooks(ee){const re=flatHooks(ee);for(const ne in re)this.removeHook(ne,re[ne])}callHook(ee,...re){return serialCaller(this._hooks[ee]||[],re)}callHookParallel(ee,...re){return parallelCaller(this._hooks[ee]||[],re)}callHookWith(ee,re,...ne){return ee(this._hooks[re]||[],ne)}}function createHooks(){return new Hookable}function createContext(){let te=null,ee=!1;const re=ne=>{if(te&&te!==ne)throw new Error("Context conflict")};return{use:()=>te,set:(ne,oe)=>{oe||re(ne),te=ne,ee=!0},unset:()=>{te=null,ee=!1},call:(ne,oe)=>{re(ne),te=ne;try{return oe()}finally{ee||(te=null)}},async callAsync(ne,oe){te=ne;const ie=()=>{te=ne},se=()=>te===ne?ie:void 0;asyncHandlers.add(se);try{const ue=oe();return ee||(te=null),await ue}finally{asyncHandlers.delete(se)}}}}function createNamespace(){const te={};return{get(ee){return te[ee]||(te[ee]=createContext()),te[ee],te[ee]}}}const _globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{},globalKey="__unctx__",defaultNamespace=_globalThis[globalKey]||(_globalThis[globalKey]=createNamespace()),getContext=te=>defaultNamespace.get(te),asyncHandlersKey="__unctx_async_handlers__",asyncHandlers=_globalThis[asyncHandlersKey]||(_globalThis[asyncHandlersKey]=new Set);function createMock(te,ee={}){const re=function(){};re.prototype.name=te;const ne={};return new Proxy(re,{get(oe,ie){return ie==="caller"?null:ie==="__createMock__"?createMock:ie in ee?ee[ie]:ne[ie]=ne[ie]||createMock(`${te}.${ie.toString()}`)},apply(oe,ie,se){return createMock(`${te}()`)},construct(oe,ie,se){return createMock(`[${te}]`)},enumerate(oe){return[]}})}var mockContext=createMock("mock");function mock(te){return console.warn(te),mockContext}const unsupported=new Set(["store","spa","fetchCounters"]),todo=new Set(["isHMR","base","payload","from","next","error","redirect","redirected","enablePreview","$preview","beforeNuxtRender","beforeSerialize"]),serverProperties=new Set(["req","res","ssrContext"]),routerKeys=["route","params","query"],staticFlags={isClient:!0,isServer:!1,isDev:!1,isStatic:void 0,target:"server",modern:!1},legacyPlugin=te=>{te._legacyContext=new Proxy(te,{get(ee,re){if(unsupported.has(re))return mock(`Accessing ${re} is not supported in Nuxt 3.`);if(todo.has(re))return mock(`Accessing ${re} is not yet supported in Nuxt 3.`);if(routerKeys.includes(re)){if(!("$router"in te))return mock("vue-router is not being used in this project.");switch(re){case"route":return ee.$router.currentRoute.value;case"params":case"query":return ee.$router.currentRoute.value[re]}}if(re==="$config"||re==="env")return useRuntimeConfig();if(re in staticFlags)return staticFlags[re];if(!serverProperties.has(re))return re==="ssrContext"?ee._legacyContext:ee.ssrContext&&re in ee.ssrContext?ee.ssrContext[re]:re==="nuxt"?ee.payload:re==="nuxtState"?ee.payload.data:re in te.vueApp?te.vueApp[re]:re in te?te[re]:mock(`Accessing ${re} is not supported in Nuxt3.`)}}),te.hook("app:created",()=>{const ee=new Proxy(te.vueApp,{get(re,ne){return["$root","constructor"].includes(ne)?ee:re[ne]||te[ne]}});window[`$${te.globalName}`]=ee})},nuxtAppCtx=getContext("nuxt-app"),NuxtPluginIndicator="__nuxt_plugin";function createNuxtApp(te){const ee=Nr({provide:void 0,globalName:"nuxt",payload:reactive(Nr({data:{},state:{},_errors:{}},window.__NUXT__)),isHydrating:!0,_asyncDataPromises:{}},te);ee.hooks=createHooks(),ee.hook=ee.hooks.hook,ee.callHook=ee.hooks.callHook,ee.provide=(oe,ie)=>{const se="$"+oe;defineGetter(ee,se,ie),defineGetter(ee.vueApp.config.globalProperties,se,ie)},defineGetter(ee.vueApp,"$nuxt",ee),defineGetter(ee.vueApp.config.globalProperties,"$nuxt",ee),ee.ssrContext&&(ee.ssrContext.nuxt=ee);const re=reactive(ee.payload.config),ne=new Proxy(re,{get(oe,ie){var se;return ie==="public"?oe.public:(se=oe[ie])!=null?se:oe.public[ie]},set(oe,ie,se){return ie==="public"||ie==="app"?!1:(oe[ie]=se,oe.public[ie]=se,!0)}});return ee.provide("config",ne),ee}async function applyPlugin(te,ee){if(typeof ee!="function")return;const{provide:re}=await callWithNuxt(te,ee,[te])||{};if(re&&typeof re=="object")for(const ne in re)te.provide(ne,re[ne])}async function applyPlugins(te,ee){for(const re of ee)await applyPlugin(te,re)}function normalizePlugins(te){let ee=!1;const re=te.map(ne=>typeof ne!="function"?()=>{}:isLegacyPlugin(ne)?(ee=!0,oe=>ne(oe._legacyContext,oe.provide)):ne);return ee&&re.unshift(legacyPlugin),re}function defineNuxtPlugin(te){return te[NuxtPluginIndicator]=!0,te}function isLegacyPlugin(te){return!te[NuxtPluginIndicator]}function callWithNuxt(te,ee,re){const ne=()=>re?ee(...re):ee();return nuxtAppCtx.set(te),ne()}function useNuxtApp(){const te=getCurrentInstance();if(!te){const ee=nuxtAppCtx.use();if(!ee)throw new Error("nuxt instance unavailable");return ee}return te.appContext.app.$nuxt}function useRuntimeConfig(){return useNuxtApp().$config}function defineGetter(te,ee,re){Object.defineProperty(te,ee,{get:()=>re})}const useState=(te,ee)=>{const re=useNuxtApp(),ne=toRef(re.payload.state,te);if(ne.value===void 0&&ee){const oe=ee();if(isRef(oe))return re.payload.state[te]=oe,oe;ne.value=oe}return ne},useError=()=>{const te=useNuxtApp();return useState("error",()=>te.payload.error)},throwError=te=>{const ee=useNuxtApp(),re=useError(),ne=typeof te=="string"?new Error(te):te;return ee.callHook("app:error",ne),re.value=re.value||ne,ne},clearError=async(te={})=>{const ee=useNuxtApp(),re=useError();ee.callHook("app:error:cleared",te),te.redirect&&await ee.$router.replace(te.redirect),re.value=null},useRouter=()=>{var te;return(te=useNuxtApp())==null?void 0:te.$router},firstNonUndefined=(...te)=>te.find(ee=>ee!==void 0),DEFAULT_EXTERNAL_REL_ATTRIBUTE="noopener noreferrer";function defineNuxtLink(te){const ee=te.componentName||"NuxtLink";return defineComponent({name:ee,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(re,{slots:ne}){const oe=useRouter(),ie=computed(()=>re.to||re.href||""),se=computed(()=>re.external||re.target&&re.target!=="_self"?!0:typeof ie.value=="object"?!1:ie.value===""||hasProtocol(ie.value,!0));return()=>{var be,Se;if(!se.value)return h$2(resolveComponent("RouterLink"),{to:ie.value,activeClass:re.activeClass||te.activeClass,exactActiveClass:re.exactActiveClass||te.exactActiveClass,replace:re.replace,ariaCurrentValue:re.ariaCurrentValue},ne.default);const ue=typeof ie.value=="object"?(Se=(be=oe.resolve(ie.value))==null?void 0:be.href)!=null?Se:null:ie.value||null,he=re.target||null,ge=re.noRel?null:firstNonUndefined(re.rel,te.externalRelAttribute,ue?DEFAULT_EXTERNAL_REL_ATTRIBUTE:"")||null;return h$2("a",{href:ue,rel:ge,target:he},ne.default())}}})}var __nuxt_component_0$b=defineNuxtLink({componentName:"NuxtLink"});function useHead(te){const ee=isFunction$4(te)?computed(te):te;useNuxtApp()._useHead(ee)}var style="";const components={};function componentsPlugin_3efa0361(te){for(const ee in components)te.vueApp.component(ee,components[ee]),te.vueApp.component("Lazy"+ee,components[ee])}var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(te,ee,re)=>ee in te?__defProp(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:re}):te[ee]=re,__spreadValues=(te,ee)=>{for(var re in ee||(ee={}))__hasOwnProp.call(ee,re)&&__defNormalProp(te,re,ee[re]);if(__getOwnPropSymbols)for(var re of __getOwnPropSymbols(ee))__propIsEnum.call(ee,re)&&__defNormalProp(te,re,ee[re]);return te},PROVIDE_KEY="usehead",HEAD_COUNT_KEY="head:count",HEAD_ATTRS_KEY="data-head-attrs",createElement=(te,ee,re)=>{const ne=re.createElement(te);for(const oe of Object.keys(ee)){let ie=ee[oe];oe==="key"||ie===!1||(oe==="children"?ne.textContent=ie:ne.setAttribute(oe,ie))}return ne};function isEqualNode(te,ee){if(te instanceof HTMLElement&&ee instanceof HTMLElement){const re=ee.getAttribute("nonce");if(re&&!te.getAttribute("nonce")){const ne=ee.cloneNode(!0);return ne.setAttribute("nonce",""),ne.nonce=re,re===te.nonce&&te.isEqualNode(ne)}}return te.isEqualNode(ee)}var getTagKey=te=>{const ee=["key","id","name","property"];for(const re of ee){const ne=typeof te.getAttribute=="function"?te.hasAttribute(re)?te.getAttribute(re):void 0:te[re];if(ne!==void 0)return{name:re,value:ne}}},acceptFields=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],headObjToTags=te=>{const ee=[];for(const re of Object.keys(te))if(te[re]!=null){if(re==="title")ee.push({tag:re,props:{children:te[re]}});else if(re==="base")ee.push({tag:re,props:__spreadValues({key:"default"},te[re])});else if(acceptFields.includes(re)){const ne=te[re];Array.isArray(ne)?ne.forEach(oe=>{ee.push({tag:re,props:oe})}):ne&&ee.push({tag:re,props:ne})}}return ee},setAttrs=(te,ee)=>{const re=te.getAttribute(HEAD_ATTRS_KEY);if(re)for(const oe of re.split(","))oe in ee||te.removeAttribute(oe);const ne=[];for(const oe in ee){const ie=ee[oe];ie!=null&&(ie===!1?te.removeAttribute(oe):te.setAttribute(oe,ie),ne.push(oe))}ne.length?te.setAttribute(HEAD_ATTRS_KEY,ne.join(",")):te.removeAttribute(HEAD_ATTRS_KEY)},updateElements=(te=window.document,ee,re)=>{var ne;const oe=te.head;let ie=oe.querySelector(`meta[name="${HEAD_COUNT_KEY}"]`);const se=ie?Number(ie.getAttribute("content")):0,ue=[];if(ie)for(let ge=0,be=ie.previousElementSibling;ge<se;ge++,be=(be==null?void 0:be.previousElementSibling)||null)((ne=be==null?void 0:be.tagName)==null?void 0:ne.toLowerCase())===ee&&ue.push(be);else ie=te.createElement("meta"),ie.setAttribute("name",HEAD_COUNT_KEY),ie.setAttribute("content","0"),oe.append(ie);let he=re.map(ge=>createElement(ge.tag,ge.props,te));he=he.filter(ge=>{for(let be=0;be<ue.length;be++){const Se=ue[be];if(isEqualNode(Se,ge))return ue.splice(be,1),!1}return!0}),ue.forEach(ge=>{var be;return(be=ge.parentNode)==null?void 0:be.removeChild(ge)}),he.forEach(ge=>{oe.insertBefore(ge,ie)}),ie.setAttribute("content",""+(se-ue.length+he.length))},createHead=()=>{let te=[],ee=new Set;const re={install(ne){ne.config.globalProperties.$head=re,ne.provide(PROVIDE_KEY,re)},get headTags(){const ne=[];return te.forEach(oe=>{headObjToTags(oe.value).forEach(se=>{if(se.tag==="meta"||se.tag==="base"||se.tag==="script"){const ue=getTagKey(se.props);if(ue){let he=-1;for(let ge=0;ge<ne.length;ge++){const be=ne[ge],Se=be.props[ue.name],Te=se.props[ue.name];if(be.tag===se.tag&&Se===Te){he=ge;break}}he!==-1&&ne.splice(he,1)}}ne.push(se)})}),ne},addHeadObjs(ne){te.push(ne)},removeHeadObjs(ne){te=te.filter(oe=>oe!==ne)},updateDOM(ne=window.document){let oe,ie={},se={};const ue={};for(const ge of re.headTags){if(ge.tag==="title"){oe=ge.props.children;continue}if(ge.tag==="htmlAttrs"){Object.assign(ie,ge.props);continue}if(ge.tag==="bodyAttrs"){Object.assign(se,ge.props);continue}ue[ge.tag]=ue[ge.tag]||[],ue[ge.tag].push(ge)}oe!==void 0&&(ne.title=oe),setAttrs(ne.documentElement,ie),setAttrs(ne.body,se);const he=new Set([...Object.keys(ue),...ee]);for(const ge of he)updateElements(ne,ge,ue[ge]||[]);ee.clear(),Object.keys(ue).forEach(ge=>ee.add(ge))}};return re};function isObject$5(te){return te!==null&&typeof te=="object"}function _defu(te,ee,re=".",ne){if(!isObject$5(ee))return _defu(te,{},re,ne);const oe=Object.assign({},ee);for(const ie in te){if(ie==="__proto__"||ie==="constructor")continue;const se=te[ie];se!=null&&(ne&&ne(oe,ie,se,re)||(Array.isArray(se)&&Array.isArray(oe[ie])?oe[ie]=se.concat(oe[ie]):isObject$5(se)&&isObject$5(oe[ie])?oe[ie]=_defu(se,oe[ie],(re?`${re}.`:"")+ie.toString(),ne):oe[ie]=se))}return oe}function createDefu(te){return(...ee)=>ee.reduce((re,ne)=>_defu(re,ne,"",te),{})}const defu=createDefu();var vueuseHead_03f764d7=defineNuxtPlugin(te=>{const ee=createHead();te.vueApp.use(ee);let re=!1;te.hooks.hookOnce("app:mounted",()=>{watchEffect(()=>{ee.updateDOM()}),re=!0});const ne=ref();te._useHead=oe=>{const ie=ref(oe);"titleTemplate"in ie.value&&(ne.value=ie.value.titleTemplate);const se=computed(()=>{const he={meta:[]};return ne.value&&"title"in ie.value&&(he.title=typeof ne.value=="function"?ne.value(ie.value.title):ne.value.replace(/%s/g,ie.value.title)),ie.value.charset&&he.meta.push({key:"charset",charset:ie.value.charset}),ie.value.viewport&&he.meta.push({name:"viewport",content:ie.value.viewport}),defu(he,ie.value)});ee.addHeadObjs(se),re&&watchEffect(()=>{ee.updateDOM()}),getCurrentInstance()&&onBeforeUnmount(()=>{ee.removeHeadObjs(se),ee.updateDOM()})}});const removeUndefinedProps=te=>Object.fromEntries(Object.entries(te).filter(([,ee])=>ee!==void 0)),setupForUseMeta=(te,ee)=>(re,ne)=>(useHead(()=>te(Nr(Nr({},removeUndefinedProps(re)),ne.attrs),ne)),()=>{var oe,ie;return ee?(ie=(oe=ne.slots).default)==null?void 0:ie.call(oe):null}),globalProps={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:String,contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},Script=defineComponent({name:"Script",props:jr(Nr({},globalProps),{async:Boolean,crossorigin:{type:[Boolean,String],default:void 0},defer:Boolean,integrity:String,nomodule:Boolean,nonce:String,referrerpolicy:String,src:String,type:String,charset:String,language:String}),setup:setupForUseMeta(te=>({script:[te]}))}),Link=defineComponent({name:"Link",props:jr(Nr({},globalProps),{as:String,crossorigin:String,disabled:Boolean,href:String,hreflang:String,imagesizes:String,imagesrcset:String,integrity:String,media:String,prefetch:{type:Boolean,default:void 0},referrerpolicy:String,rel:String,sizes:String,title:String,type:String,methods:String,target:String}),setup:setupForUseMeta(te=>({link:[te]}))}),Base$4=defineComponent({name:"Base",props:jr(Nr({},globalProps),{href:String,target:String}),setup:setupForUseMeta(te=>({base:te}))}),Title=defineComponent({name:"Title",setup:setupForUseMeta((te,{slots:ee})=>{var ne,oe;return{title:((oe=(ne=ee.default())==null?void 0:ne[0])==null?void 0:oe.children)||null}})}),Meta=defineComponent({name:"Meta",props:jr(Nr({},globalProps),{charset:String,content:String,httpEquiv:String,name:String}),setup:setupForUseMeta(te=>({meta:[te]}))}),Style=defineComponent({name:"Style",props:jr(Nr({},globalProps),{type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}}),setup:setupForUseMeta((te,{slots:ee})=>{var oe,ie,se;const re=Nr({},te),ne=(se=(ie=(oe=ee.default)==null?void 0:oe.call(ee))==null?void 0:ie[0])==null?void 0:se.children;return ne&&(re.children=ne),{style:[re]}})}),Head=defineComponent({name:"Head",setup:(te,ee)=>()=>{var re,ne;return(ne=(re=ee.slots).default)==null?void 0:ne.call(re)}}),Html=defineComponent({name:"Html",props:jr(Nr({},globalProps),{manifest:String,version:String,xmlns:String}),setup:setupForUseMeta(te=>({htmlAttrs:te}),!0)}),Body=defineComponent({name:"Body",props:globalProps,setup:setupForUseMeta(te=>({bodyAttrs:te}),!0)});var Components=Object.freeze(Object.defineProperty({__proto__:null,Script,Link,Base:Base$4,Title,Meta,Style,Head,Html,Body},Symbol.toStringTag,{value:"Module"})),metaConfig={globalMeta:{charset:"utf-8",viewport:"width=device-width, initial-scale=1",meta:[],link:[],style:[],script:[]},mixinKey:"created"};const metaMixin={[metaConfig.mixinKey](){var oe;const te=getCurrentInstance();if(!te)return;const ee=te.type||((oe=te.proxy)==null?void 0:oe.$options);if(!ee||!("head"in ee))return;const re=useNuxtApp(),ne=typeof ee.head=="function"?computed(()=>ee.head(re)):ee.head;useHead(ne)}};var _69b0aa6a=defineNuxtPlugin(te=>{useHead(metaConfig.globalMeta),te.vueApp.mixin(metaMixin);for(const ee in Components)te.vueApp.component(ee,Components[ee])});function getRouteFromPath(te){if(typeof te=="object")throw new TypeError("[nuxt] Route location object cannot be resolved when vue-router is disabled (no pages).");const ee=parseURL(te.toString());return{path:ee.pathname,fullPath:te,query:parseQuery(ee.search),hash:ee.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:te}}var _3fd62294=defineNuxtPlugin(te=>{const ee=[],re={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},ne=(ue,he)=>(re[ue].push(he),()=>re[ue].splice(re[ue].indexOf(he),1)),oe=reactive(getRouteFromPath(window.location.href));async function ie(ue,he){try{const ge=getRouteFromPath(ue);te.isHydrating||await callWithNuxt(te,clearError);for(const be of re["navigate:before"]){const Se=await be(ge,oe);if(Se===!1||Se instanceof Error)return;if(Se)return ie(Se,!0)}for(const be of re["resolve:before"])await be(ge,oe);Object.assign(oe,ge),window.history[he?"replaceState":"pushState"]({},"",ue);for(const be of re["navigate:after"])await be(ge,oe)}catch(ge){for(const be of re.error)await be(ge)}}const se={currentRoute:oe,isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:ue=>ie(ue,!1),replace:ue=>ie(ue,!0),back:()=>window.history.go(-1),go:ue=>window.history.go(ue),forward:()=>window.history.go(1),beforeResolve:ue=>ne("resolve:before",ue),beforeEach:ue=>ne("navigate:before",ue),afterEach:ue=>ne("navigate:after",ue),onError:ue=>ne("error",ue),resolve:getRouteFromPath,addRoute:(ue,he)=>{ee.push(he)},getRoutes:()=>ee,hasRoute:ue=>ee.some(he=>he.name===ue),removeRoute:ue=>{const he=ee.findIndex(ge=>ge.name===ue);he!==-1&&ee.splice(he,1)}};return te.vueApp.component("RouterLink",{functional:!0,props:{to:String},setup:(ue,{slots:he})=>()=>h$2("a",{href:ue.to,onClick:ge=>{ge.preventDefault(),se.push(ue.to)}},he)}),window.addEventListener("popstate",ue=>{const he=ue.target.location;se.replace(he.href.replace(he.origin,""))}),te._route=oe,te._middleware=te._middleware||{globalThis:[],named:{}},se.beforeEach(async(ue,he)=>{ue.meta=reactive(ue.meta||{}),te._processingMiddleware=!0;const ge=new Set(te._middleware.global);for(const be of ge){const Se=await callWithNuxt(te,be,[ue,he]);if(Se||Se===!1)return Se}}),se.afterEach(()=>{delete te._processingMiddleware}),{provide:{route:oe,router:se}}});const isVue2=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=te=>activePinia=te,piniaSymbol=Symbol();function isPlainObject$1(te){return te&&typeof te=="object"&&Object.prototype.toString.call(te)==="[object Object]"&&typeof te.toJSON!="function"}var MutationType;(function(te){te.direct="direct",te.patchObject="patch object",te.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const te=effectScope(!0),ee=te.run(()=>ref({}));let re=[],ne=[];const oe=markRaw({install(ie){setActivePinia(oe),oe._a=ie,ie.provide(piniaSymbol,oe),ie.config.globalProperties.$pinia=oe,ne.forEach(se=>re.push(se)),ne=[]},use(ie){return!this._a&&!isVue2?ne.push(ie):re.push(ie),this},_p:re,_a:null,_e:te,_s:new Map,state:ee});return oe}const noop$5=()=>{};function addSubscription(te,ee,re,ne=noop$5){te.push(ee);const oe=()=>{const ie=te.indexOf(ee);ie>-1&&(te.splice(ie,1),ne())};return!re&&getCurrentInstance()&&onUnmounted(oe),oe}function triggerSubscriptions(te,...ee){te.slice().forEach(re=>{re(...ee)})}function mergeReactiveObjects(te,ee){for(const re in ee){if(!ee.hasOwnProperty(re))continue;const ne=ee[re],oe=te[re];isPlainObject$1(oe)&&isPlainObject$1(ne)&&te.hasOwnProperty(re)&&!isRef(ne)&&!isReactive(ne)?te[re]=mergeReactiveObjects(oe,ne):te[re]=ne}return te}const skipHydrateSymbol=Symbol();function shouldHydrate(te){return!isPlainObject$1(te)||!te.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(te){return!!(isRef(te)&&te.effect)}function createOptionsStore(te,ee,re,ne){const{state:oe,actions:ie,getters:se}=ee,ue=re.state.value[te];let he;function ge(){ue||(re.state.value[te]=oe?oe():{});const be=toRefs(re.state.value[te]);return assign$1(be,ie,Object.keys(se||{}).reduce((Se,Te)=>(Se[Te]=markRaw(computed(()=>{setActivePinia(re);const ke=re._s.get(te);return se[Te].call(ke,ke)})),Se),{}))}return he=createSetupStore(te,ge,ee,re,ne,!0),he.$reset=function(){const Se=oe?oe():{};this.$patch(Te=>{assign$1(Te,Se)})},he}function createSetupStore(te,ee,re={},ne,oe,ie){let se;const ue=assign$1({actions:{}},re),he={deep:!0};let ge,be,Se=markRaw([]),Te=markRaw([]),ke;const Re=ne.state.value[te];!ie&&!Re&&(ne.state.value[te]={}),ref({});let Ce;function Pe(Ve){let nt;ge=be=!1,typeof Ve=="function"?(Ve(ne.state.value[te]),nt={type:MutationType.patchFunction,storeId:te,events:ke}):(mergeReactiveObjects(ne.state.value[te],Ve),nt={type:MutationType.patchObject,payload:Ve,storeId:te,events:ke});const st=Ce=Symbol();nextTick().then(()=>{Ce===st&&(ge=!0)}),be=!0,triggerSubscriptions(Se,nt,ne.state.value[te])}const Ie=noop$5;function Ne(){se.stop(),Se=[],Te=[],ne._s.delete(te)}function He(Ve,nt){return function(){setActivePinia(ne);const st=Array.from(arguments),qe=[],ye=[];function ae(pe){qe.push(pe)}function ce(pe){ye.push(pe)}triggerSubscriptions(Te,{args:st,name:Ve,store:Ge,after:ae,onError:ce});let le;try{le=nt.apply(this&&this.$id===te?this:Ge,st)}catch(pe){throw triggerSubscriptions(ye,pe),pe}return le instanceof Promise?le.then(pe=>(triggerSubscriptions(qe,pe),pe)).catch(pe=>(triggerSubscriptions(ye,pe),Promise.reject(pe))):(triggerSubscriptions(qe,le),le)}}const Ke={_p:ne,$id:te,$onAction:addSubscription.bind(null,Te),$patch:Pe,$reset:Ie,$subscribe(Ve,nt={}){const st=addSubscription(Se,Ve,nt.detached,()=>qe()),qe=se.run(()=>watch(()=>ne.state.value[te],ye=>{(nt.flush==="sync"?be:ge)&&Ve({storeId:te,type:MutationType.direct,events:ke},ye)},assign$1({},he,nt)));return st},$dispose:Ne},Ge=reactive(assign$1({},Ke));ne._s.set(te,Ge);const ut=ne._e.run(()=>(se=effectScope(),se.run(()=>ee())));for(const Ve in ut){const nt=ut[Ve];if(isRef(nt)&&!isComputed(nt)||isReactive(nt))ie||(Re&&shouldHydrate(nt)&&(isRef(nt)?nt.value=Re[Ve]:mergeReactiveObjects(nt,Re[Ve])),ne.state.value[te][Ve]=nt);else if(typeof nt=="function"){const st=He(Ve,nt);ut[Ve]=st,ue.actions[Ve]=nt}}return assign$1(Ge,ut),assign$1(toRaw(Ge),ut),Object.defineProperty(Ge,"$state",{get:()=>ne.state.value[te],set:Ve=>{Pe(nt=>{assign$1(nt,Ve)})}}),ne._p.forEach(Ve=>{assign$1(Ge,se.run(()=>Ve({store:Ge,app:ne._a,pinia:ne,options:ue})))}),Re&&ie&&re.hydrate&&re.hydrate(Ge.$state,Re),ge=!0,be=!0,Ge}function defineStore(te,ee,re){let ne,oe;const ie=typeof ee=="function";typeof te=="string"?(ne=te,oe=ie?re:ee):(oe=te,ne=te.id);function se(ue,he){const ge=getCurrentInstance();return ue=ue||ge&&inject(piniaSymbol),ue&&setActivePinia(ue),ue=activePinia,ue._s.has(ne)||(ie?createSetupStore(ne,ee,oe,ue):createOptionsStore(ne,oe,ue)),ue._s.get(ne)}return se.$id=ne,se}const PiniaNuxtPlugin=(te,ee)=>{const re=createPinia();te.vueApp.use(re),ee("pinia",re),te.pinia=re,setActivePinia(re),re._p.push(({store:ne})=>{Object.defineProperty(ne,"$nuxt",{value:te})}),te.nuxtState&&te.nuxtState.pinia&&(re.state.value=te.nuxtState.pinia)};var _plugins=[componentsPlugin_3efa0361,vueuseHead_03f764d7,_69b0aa6a,_3fd62294,PiniaNuxtPlugin],error404_vue_vue_type_style_index_0_scoped_true_lang="",_export_sfc=(te,ee)=>{const re=te.__vccOpts||te;for(const[ne,oe]of ee)re[ne]=oe;return re};const _sfc_main$r={props:{appName:{type:String,default:"Nuxt"},version:{type:String,default:""},statusCode:{type:String,default:"404"},statusMessage:{type:String,default:"Not Found"},description:{type:String,default:"Sorry, the page you are looking for could not be found."},backHome:{type:String,default:"Go back home"}},setup(te,{expose:ee}){ee();const re=te;useHead({title:`${re.statusCode} - ${re.statusMessage} | ${re.appName}`,script:[],style:[{children:'*,:before,:after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(14, 165, 233, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}a{color:inherit;text-decoration:inherit}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}h1,p{margin:0}h1{font-size:inherit;font-weight:inherit}'}]});const ne={props:re,useHead};return Object.defineProperty(ne,"__isScriptSetup",{enumerable:!1,value:!0}),ne}},_withScopeId$c=te=>(pushScopeId("data-v-011aae6d"),te=te(),popScopeId(),te),_hoisted_1$o={class:"font-sans antialiased bg-white dark:bg-black text-black dark:text-white grid min-h-screen place-content-center overflow-hidden"},_hoisted_2$m=_withScopeId$c(()=>createBaseVNode("div",{class:"fixed left-0 right-0 spotlight z-10"},null,-1)),_hoisted_3$j={class:"max-w-520px text-center z-20"},_hoisted_4$e=["textContent"],_hoisted_5$d=["textContent"],_hoisted_6$b={class:"w-full flex items-center justify-center"};function _sfc_render$r(te,ee,re,ne,oe,ie){const se=__nuxt_component_0$b;return openBlock(),createElementBlock("div",_hoisted_1$o,[_hoisted_2$m,createBaseVNode("div",_hoisted_3$j,[createBaseVNode("h1",{class:"text-8xl sm:text-10xl font-medium mb-8",textContent:toDisplayString(re.statusCode)},null,8,_hoisted_4$e),createBaseVNode("p",{class:"text-xl px-8 sm:px-0 sm:text-4xl font-light mb-16 leading-tight",textContent:toDisplayString(re.description)},null,8,_hoisted_5$d),createBaseVNode("div",_hoisted_6$b,[createVNode(se,{to:"/",class:"gradient-border text-md sm:text-xl py-2 px-4 sm:py-3 sm:px-6 cursor-pointer"},{default:withCtx(()=>[createTextVNode(toDisplayString(re.backHome),1)]),_:1})])])])}var Error404=_export_sfc(_sfc_main$r,[["render",_sfc_render$r],["__scopeId","data-v-011aae6d"]]),error500_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$q={props:{appName:{type:String,default:"Nuxt"},version:{type:String,default:""},statusCode:{type:String,default:"500"},statusMessage:{type:String,default:"Server error"},description:{type:String,default:"This page is temporarily unavailable."}},setup(te,{expose:ee}){ee();const re=te;useHead({title:`${re.statusCode} - ${re.statusMessage} | ${re.appName}`,script:[],style:[{children:'*,:before,:after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(14, 165, 233, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}h1,p{margin:0}h1{font-size:inherit;font-weight:inherit}'}]});const ne={props:re,useHead};return Object.defineProperty(ne,"__isScriptSetup",{enumerable:!1,value:!0}),ne}},_withScopeId$b=te=>(pushScopeId("data-v-6aee6495"),te=te(),popScopeId(),te),_hoisted_1$n={class:"font-sans antialiased bg-white dark:bg-black text-black dark:text-white grid min-h-screen place-content-center overflow-hidden"},_hoisted_2$l=_withScopeId$b(()=>createBaseVNode("div",{class:"fixed -bottom-1/2 left-0 right-0 h-1/2 spotlight"},null,-1)),_hoisted_3$i={class:"max-w-520px text-center"},_hoisted_4$d=["textContent"],_hoisted_5$c=["textContent"];function _sfc_render$q(te,ee,re,ne,oe,ie){return openBlock(),createElementBlock("div",_hoisted_1$n,[_hoisted_2$l,createBaseVNode("div",_hoisted_3$i,[createBaseVNode("h1",{class:"text-8xl sm:text-10xl font-medium mb-8",textContent:toDisplayString(re.statusCode)},null,8,_hoisted_4$d),createBaseVNode("p",{class:"text-xl px-8 sm:px-0 sm:text-4xl font-light mb-16 leading-tight",textContent:toDisplayString(re.description)},null,8,_hoisted_5$c)])])}var Error500=_export_sfc(_sfc_main$q,[["render",_sfc_render$q],["__scopeId","data-v-6aee6495"]]),errorDev_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$p={props:{appName:{type:String,default:"Nuxt"},version:{type:String,default:""},statusCode:{type:String,default:"500"},statusMessage:{type:String,default:"Server error"},description:{type:String,default:"An error occurred in the application and the page could not be served. If you are the application owner, check your server logs for details."},stack:{type:String,default:""}},setup(te,{expose:ee}){ee();const re=te;useHead({title:`${re.statusCode} - ${re.statusMessage} | ${re.appName}`,script:[],style:[{children:'*,:before,:after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(14, 165, 233, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}h1,p,pre{margin:0}h1{font-size:inherit;font-weight:inherit}pre{font-size:1em;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}'}]});const ne={props:re,useHead};return Object.defineProperty(ne,"__isScriptSetup",{enumerable:!1,value:!0}),ne}},_withScopeId$a=te=>(pushScopeId("data-v-693cabb2"),te=te(),popScopeId(),te),_hoisted_1$m={class:"font-sans antialiased bg-white px-10 pt-14 dark:bg-black text-black dark:text-white min-h-screen flex flex-col"},_hoisted_2$k=_withScopeId$a(()=>createBaseVNode("div",{class:"fixed left-0 right-0 spotlight"},null,-1)),_hoisted_3$h=["textContent"],_hoisted_4$c=["textContent"],_hoisted_5$b={class:"bg-white rounded-t-md bg-black/5 dark:bg-white/10 flex-1 overflow-y-auto h-auto"},_hoisted_6$a=["innerHTML"];function _sfc_render$p(te,ee,re,ne,oe,ie){return openBlock(),createElementBlock("div",_hoisted_1$m,[_hoisted_2$k,createBaseVNode("h1",{class:"text-6xl sm:text-8xl font-medium mb-6",textContent:toDisplayString(re.statusCode)},null,8,_hoisted_3$h),createBaseVNode("p",{class:"text-xl sm:text-2xl font-light mb-8 leading-tight",textContent:toDisplayString(re.description)},null,8,_hoisted_4$c),createBaseVNode("div",_hoisted_5$b,[createBaseVNode("pre",{class:"text-xl font-light leading-tight z-10 p-8",innerHTML:re.stack},null,8,_hoisted_6$a)])])}var ErrorDev=_export_sfc(_sfc_main$p,[["render",_sfc_render$p],["__scopeId","data-v-693cabb2"]]);const _sfc_main$o={props:{error:Object},setup(te,{expose:ee}){var Te;ee();const re=te,ne=re.error,oe=(ne.stack||"").split(`
`).splice(1).map(ke=>({text:ke.replace("webpack:/","").replace(".vue",".js").trim(),internal:ke.includes("node_modules")&&!ke.includes(".cache")||ke.includes("internal")||ke.includes("new Promise")})).map(ke=>`<span class="stack${ke.internal?" internal":""}">${ke.text}</span>`).join(`
`),ie=String(ne.statusCode||500),se=ie==="404",ue=((Te=ne.statusMessage)!=null?Te:se)?"Page Not Found":"Internal Server Error",he=ne.message||ne.toString(),Se={props:re,error:ne,stacktrace:oe,statusCode:ie,is404:se,statusMessage:ue,description:he,stack:void 0,ErrorTemplate:se?Error404:Error500,Error404,Error500,ErrorDev};return Object.defineProperty(Se,"__isScriptSetup",{enumerable:!1,value:!0}),Se}};function _sfc_render$o(te,ee,re,ne,oe,ie){return openBlock(),createBlock(ne.ErrorTemplate,normalizeProps(guardReactiveProps({statusCode:ne.statusCode,statusMessage:ne.statusMessage,description:ne.description,stack:ne.stack})),null,16)}var ErrorComponent=_export_sfc(_sfc_main$o,[["render",_sfc_render$o]]);const _sfc_main$n={setup(te,{expose:ee}){ee();const re=useNuxtApp(),ne=()=>re.callHook("app:suspense:resolve"),oe=re.hooks.callHookWith(ue=>ue.map(he=>he()),"vue:setup"),ie=useError();onErrorCaptured((ue,he,ge)=>{re.hooks.callHook("vue:error",ue,he,ge).catch(be=>console.error("[nuxt] Error in `vue:error` hook",be))});const se={nuxtApp:re,onResolve:ne,results:oe,error:ie,onErrorCaptured,callWithNuxt,throwError,useError,useNuxtApp,ErrorComponent};return Object.defineProperty(se,"__isScriptSetup",{enumerable:!1,value:!0}),se}};function _sfc_render$n(te,ee,re,ne,oe,ie){const se=resolveComponent("App");return openBlock(),createBlock(Suspense,{onResolve:ne.onResolve},{default:withCtx(()=>[ne.error?(openBlock(),createBlock(ne.ErrorComponent,{key:0,error:ne.error},null,8,["error"])):(openBlock(),createBlock(se,{key:1}))]),_:1})}var RootComponent=_export_sfc(_sfc_main$n,[["render",_sfc_render$n]]),Burger_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$m={},_withScopeId$9=te=>(pushScopeId("data-v-138e10a0"),te=te(),popScopeId(),te),_hoisted_1$l={class:"burger-menu"},_hoisted_2$j=_withScopeId$9(()=>createBaseVNode("span",null,null,-1)),_hoisted_3$g=[_hoisted_2$j];function _sfc_render$m(te,ee){return openBlock(),createElementBlock("div",_hoisted_1$l,_hoisted_3$g)}var __nuxt_component_0$a=_export_sfc(_sfc_main$m,[["render",_sfc_render$m],["__scopeId","data-v-138e10a0"]]),MobileMenu_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$l={},_hoisted_1$k={class:"menu"},_hoisted_2$i={for:"toggle",class:""},_hoisted_3$f=createStaticVNode('<input type="checkbox" id="toggle" name="toggle" data-v-448cbd48><nav class="menu__nav" data-v-448cbd48><ul class="menu__nav-list" data-v-448cbd48><li class="menu__nav-list-item" data-v-448cbd48><a href="#" target="_blank" data-v-448cbd48>Staking</a></li><li class="menu__nav-list-item" data-v-448cbd48><a href="#" target="_blank" data-v-448cbd48>Nomadpad</a></li><li class="menu__nav-list-item" data-v-448cbd48><a href="#" target="_blank" data-v-448cbd48>Swap</a></li><li class="menu__nav-list-item" data-v-448cbd48><a href="#" target="_blank" data-v-448cbd48>Farms</a></li><li class="menu__nav-list-item" data-v-448cbd48><a href="#" target="_blank" data-v-448cbd48>Pools</a></li><li class="menu__nav-list-item" data-v-448cbd48>Bridge</li></ul></nav>',2);function _sfc_render$l(te,ee){const re=__nuxt_component_0$a;return openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("label",_hoisted_2$i,[createVNode(re)]),_hoisted_3$f])}var __nuxt_component_0$9=_export_sfc(_sfc_main$l,[["render",_sfc_render$l],["__scopeId","data-v-448cbd48"]]),Header_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$k={},_hoisted_1$j={class:"header bg-primary h-[64px] w-full flex items-center"},_hoisted_2$h=createStaticVNode('<div class="header__logo h-[47px] w-[79px]" data-v-7178a872></div><nav class="header__nav ml-[40px]" data-v-7178a872><ul class="header__nav-list flex gap-[2rem] list-none" data-v-7178a872><li class="header__nav-list-item" data-v-7178a872><a href="#" target="_blank" data-v-7178a872>Staking</a></li><li class="header__nav-list-item" data-v-7178a872><a href="#" target="_blank" data-v-7178a872>Nomadpad</a></li><li class="header__nav-list-item" data-v-7178a872><a href="#" target="_blank" data-v-7178a872>Swap</a></li><li class="header__nav-list-item" data-v-7178a872><a href="#" target="_blank" data-v-7178a872>Farms</a></li><li class="header__nav-list-item" data-v-7178a872><a href="#" target="_blank" data-v-7178a872>Pools</a></li><li class="header__nav-list-item" data-v-7178a872>Bridge</li></ul></nav>',2);function _sfc_render$k(te,ee){const re=__nuxt_component_0$9;return openBlock(),createElementBlock("header",_hoisted_1$j,[_hoisted_2$h,createVNode(re)])}var __nuxt_component_0$8=_export_sfc(_sfc_main$k,[["render",_sfc_render$k],["__scopeId","data-v-7178a872"]]),_imports_0$5=buildAssetsURL("/__NUXT_BASE__/solana.f15c113b.svg".replace("/__NUXT_BASE__","")),_imports_1$3=buildAssetsURL("/__NUXT_BASE__/binance.a9f24156.svg".replace("/__NUXT_BASE__","")),_imports_2$3=buildAssetsURL("/__NUXT_BASE__/eth.9dcb678e.svg".replace("/__NUXT_BASE__","")),ListItem_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$j=defineComponent({props:{show:null,label:null,img:null,checked:null},emits:["selected"],setup(te,{expose:ee,emit:re}){ee();const ne=te,ie={props:ne,emit:re,itemHandler:()=>{re("selected",{value:ne.label,img:ne.img}),ne.show()}};return Object.defineProperty(ie,"__isScriptSetup",{enumerable:!1,value:!0}),ie}}),_hoisted_1$i={class:"select__item-wrapper"},_hoisted_2$g={key:0,src:_imports_0$5,alt:"solana",class:"select__img"},_hoisted_3$e={key:1,src:_imports_1$3,alt:"binance",class:"select__img"},_hoisted_4$b={key:2,src:_imports_2$3,alt:"ethereum",class:"select__img"},_hoisted_5$a={class:"select__item-label"};function _sfc_render$j(te,ee,re,ne,oe,ie){return openBlock(),createElementBlock("li",{class:normalizeClass(["select__item",re.checked===re.label&&"active"]),onClick:ne.itemHandler},[createBaseVNode("div",_hoisted_1$i,[re.img==="solana"?(openBlock(),createElementBlock("img",_hoisted_2$g)):createCommentVNode("",!0),re.img==="binance"?(openBlock(),createElementBlock("img",_hoisted_3$e)):createCommentVNode("",!0),re.img==="ethereum"?(openBlock(),createElementBlock("img",_hoisted_4$b)):createCommentVNode("",!0),createBaseVNode("span",_hoisted_5$a,toDisplayString(re.label),1)])],2)}var __nuxt_component_0$7=_export_sfc(_sfc_main$j,[["render",_sfc_render$j],["__scopeId","data-v-6e3c8f48"]]),List_vue_vue_type_style_index_0_lang="";const _sfc_main$i=defineComponent({props:{show:null,options:null,label:null},setup(te,{expose:ee}){ee();const ne={props:te};return Object.defineProperty(ne,"__isScriptSetup",{enumerable:!1,value:!0}),ne}}),_hoisted_1$h={class:"select__list"};function _sfc_render$i(te,ee,re,ne,oe,ie){const se=__nuxt_component_0$7;return openBlock(),createElementBlock("ul",_hoisted_1$h,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(re.options,ue=>(openBlock(),createBlock(se,{label:ue.label,img:ue.img,key:ue.label,show:re.show,checked:re.label,onClick:he=>te.$emit("select",{value:ue.label,img:ue.img})},null,8,["label","img","show","checked","onClick"]))),128))])}var __nuxt_component_0$6=_export_sfc(_sfc_main$i,[["render",_sfc_render$i]]),_imports_3$1=buildAssetsURL("/__NUXT_BASE__/breakpoint.63521583.svg".replace("/__NUXT_BASE__","")),index_vue_vue_type_style_index_0_scoped_true_lang$2="";const _sfc_main$h=defineComponent({props:{options:null,label:null,imgPath:null},setup(te,{expose:ee}){ee();const re=te,ne=ref(!1),ie={props:re,listShow:ne,show:()=>ne.value=!ne.value};return Object.defineProperty(ie,"__isScriptSetup",{enumerable:!1,value:!0}),ie}}),_hoisted_1$g={class:"select"},_hoisted_2$f={class:"select__content"},_hoisted_3$d={class:"select__block"},_hoisted_4$a={key:0,src:_imports_0$5,alt:"solana",class:"select__img"},_hoisted_5$9={key:1,src:_imports_1$3,alt:"binance",class:"select__img"},_hoisted_6$9={key:2,src:_imports_2$3,alt:"ethereum",class:"select__img"},_hoisted_7$7={class:"select__input"};function _sfc_render$h(te,ee,re,ne,oe,ie){const se=__nuxt_component_0$6;return openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("div",{class:"select__wrapper",onClick:ne.show},[createBaseVNode("div",_hoisted_2$f,[createBaseVNode("div",_hoisted_3$d,[re.imgPath==="solana"?(openBlock(),createElementBlock("img",_hoisted_4$a)):createCommentVNode("",!0),re.imgPath==="binance"?(openBlock(),createElementBlock("img",_hoisted_5$9)):createCommentVNode("",!0),re.imgPath==="ethereum"?(openBlock(),createElementBlock("img",_hoisted_6$9)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$7,toDisplayString(re.label),1)]),createBaseVNode("img",{src:_imports_3$1,style:normalizeStyle(ne.listShow&&"transform: rotate(180deg)"),alt:"breakpoint",class:"select__breakpoint"},null,4)]),withDirectives(createBaseVNode("div",{onClick:ne.show,class:"select__list-wrapper"},[createVNode(se,{options:re.options,show:ne.show,label:re.label,onSelect:ee[0]||(ee[0]=({value:ue,img:he})=>te.$emit("select",{value:ue,img:he}))},null,8,["options","label"])],512),[[vShow,ne.listShow]])])])}var __nuxt_component_0$5=_export_sfc(_sfc_main$h,[["render",_sfc_render$h],["__scopeId","data-v-be77bdd4"]]),Input_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$g=defineComponent({props:{inputValue:null,balance:null,error:{type:Boolean},isBlocked:{type:Boolean},maxAMount:null},setup(te,{expose:ee}){ee();const re=te,ne=computed(()=>{if(re.inputValue.includes(".")){if(re.inputValue.includes("."))return"NNI"}else return".000 NNI"}),oe=computed(()=>re.inputValue.length===0?0:23+re.inputValue.length*13),ie={props:re,contentLabel:ne,leftLabel:oe};return Object.defineProperty(ie,"__isScriptSetup",{enumerable:!1,value:!0}),ie}}),_hoisted_1$f={class:"input"},_hoisted_2$e={class:"input__bg"},_hoisted_3$c={class:"input__wrapper"},_hoisted_4$9={class:"input__amout-wrapper"},_hoisted_5$8=["value"],_hoisted_6$8={class:"input__error"};function _sfc_render$g(te,ee,re,ne,oe,ie){return openBlock(),createElementBlock("div",_hoisted_1$f,[withDirectives(createBaseVNode("div",_hoisted_2$e,null,512),[[vShow,re.isBlocked]]),createBaseVNode("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$9,[createBaseVNode("input",{value:re.inputValue,onInput:ee[0]||(ee[0]=se=>te.$emit("inputHandler",se)),type:"text",class:normalizeClass(["input__amount",re.error&&"error"]),placeholder:"0.0000000 NNI"},null,42,_hoisted_5$8),withDirectives(createBaseVNode("div",{style:normalizeStyle({left:ne.leftLabel+"px"}),class:"input__label"},toDisplayString(ne.contentLabel),5),[[vShow,re.inputValue.length>0&&re.inputValue.length<9]])]),createBaseVNode("button",{onClick:ee[1]||(ee[1]=(...se)=>re.maxAMount&&re.maxAMount(...se)),class:"input__max"},"MAX")]),withDirectives(createBaseVNode("small",_hoisted_6$8,"Invalid amount",512),[[vShow,re.error]])])}var __nuxt_component_1$3=_export_sfc(_sfc_main$g,[["render",_sfc_render$g],["__scopeId","data-v-14e040dd"]]);const useInfoStore=defineStore("info",{state:()=>({message:null,backendIsDown:!1}),getters:{getMessage(){return this.message},getBackendIsDown:te=>te.backendIsDown},actions:{showMessage(te,ee,re){this.message={type:te,value:ee,hash:re},setTimeout(()=>{this.hideMessage()},1e4)},hideMessage(){this.message=null}}});var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};function getAugmentedNamespace(te){if(te.__esModule)return te;var ee=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(te).forEach(function(re){var ne=Object.getOwnPropertyDescriptor(te,re);Object.defineProperty(ee,re,ne.get?ne:{enumerable:!0,get:function(){return te[re]}})}),ee}function commonjsRequire$1(te){throw new Error('Could not dynamically require "'+te+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bn$6={exports:{}};(function(te){(function(ee,re){function ne(ye,ae){if(!ye)throw new Error(ae||"Assertion failed")}function oe(ye,ae){ye.super_=ae;var ce=function(){};ce.prototype=ae.prototype,ye.prototype=new ce,ye.prototype.constructor=ye}function ie(ye,ae,ce){if(ie.isBN(ye))return ye;this.negative=0,this.words=null,this.length=0,this.red=null,ye!==null&&((ae==="le"||ae==="be")&&(ce=ae,ae=10),this._init(ye||0,ae||10,ce||"be"))}typeof ee=="object"?ee.exports=ie:re.BN=ie,ie.BN=ie,ie.wordSize=26;var se;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?se=window.Buffer:se=require("buffer").Buffer}catch{}ie.isBN=function(ae){return ae instanceof ie?!0:ae!==null&&typeof ae=="object"&&ae.constructor.wordSize===ie.wordSize&&Array.isArray(ae.words)},ie.max=function(ae,ce){return ae.cmp(ce)>0?ae:ce},ie.min=function(ae,ce){return ae.cmp(ce)<0?ae:ce},ie.prototype._init=function(ae,ce,le){if(typeof ae=="number")return this._initNumber(ae,ce,le);if(typeof ae=="object")return this._initArray(ae,ce,le);ce==="hex"&&(ce=16),ne(ce===(ce|0)&&ce>=2&&ce<=36),ae=ae.toString().replace(/\s+/g,"");var pe=0;ae[0]==="-"&&(pe++,this.negative=1),pe<ae.length&&(ce===16?this._parseHex(ae,pe,le):(this._parseBase(ae,ce,pe),le==="le"&&this._initArray(this.toArray(),ce,le)))},ie.prototype._initNumber=function(ae,ce,le){ae<0&&(this.negative=1,ae=-ae),ae<67108864?(this.words=[ae&67108863],this.length=1):ae<4503599627370496?(this.words=[ae&67108863,ae/67108864&67108863],this.length=2):(ne(ae<9007199254740992),this.words=[ae&67108863,ae/67108864&67108863,1],this.length=3),le==="le"&&this._initArray(this.toArray(),ce,le)},ie.prototype._initArray=function(ae,ce,le){if(ne(typeof ae.length=="number"),ae.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ae.length/3),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var _e,$e,Ee=0;if(le==="be")for(pe=ae.length-1,_e=0;pe>=0;pe-=3)$e=ae[pe]|ae[pe-1]<<8|ae[pe-2]<<16,this.words[_e]|=$e<<Ee&67108863,this.words[_e+1]=$e>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,_e++);else if(le==="le")for(pe=0,_e=0;pe<ae.length;pe+=3)$e=ae[pe]|ae[pe+1]<<8|ae[pe+2]<<16,this.words[_e]|=$e<<Ee&67108863,this.words[_e+1]=$e>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,_e++);return this.strip()};function ue(ye,ae){var ce=ye.charCodeAt(ae);return ce>=65&&ce<=70?ce-55:ce>=97&&ce<=102?ce-87:ce-48&15}function he(ye,ae,ce){var le=ue(ye,ce);return ce-1>=ae&&(le|=ue(ye,ce-1)<<4),le}ie.prototype._parseHex=function(ae,ce,le){this.length=Math.ceil((ae.length-ce)/6),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var _e=0,$e=0,Ee;if(le==="be")for(pe=ae.length-1;pe>=ce;pe-=2)Ee=he(ae,ce,pe)<<_e,this.words[$e]|=Ee&67108863,_e>=18?(_e-=18,$e+=1,this.words[$e]|=Ee>>>26):_e+=8;else{var me=ae.length-ce;for(pe=me%2===0?ce+1:ce;pe<ae.length;pe+=2)Ee=he(ae,ce,pe)<<_e,this.words[$e]|=Ee&67108863,_e>=18?(_e-=18,$e+=1,this.words[$e]|=Ee>>>26):_e+=8}this.strip()};function ge(ye,ae,ce,le){for(var pe=0,_e=Math.min(ye.length,ce),$e=ae;$e<_e;$e++){var Ee=ye.charCodeAt($e)-48;pe*=le,Ee>=49?pe+=Ee-49+10:Ee>=17?pe+=Ee-17+10:pe+=Ee}return pe}ie.prototype._parseBase=function(ae,ce,le){this.words=[0],this.length=1;for(var pe=0,_e=1;_e<=67108863;_e*=ce)pe++;pe--,_e=_e/ce|0;for(var $e=ae.length-le,Ee=$e%pe,me=Math.min($e,$e-Ee)+le,fe=0,we=le;we<me;we+=pe)fe=ge(ae,we,we+pe,ce),this.imuln(_e),this.words[0]+fe<67108864?this.words[0]+=fe:this._iaddn(fe);if(Ee!==0){var Me=1;for(fe=ge(ae,we,ae.length,ce),we=0;we<Ee;we++)Me*=ce;this.imuln(Me),this.words[0]+fe<67108864?this.words[0]+=fe:this._iaddn(fe)}this.strip()},ie.prototype.copy=function(ae){ae.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)ae.words[ce]=this.words[ce];ae.length=this.length,ae.negative=this.negative,ae.red=this.red},ie.prototype.clone=function(){var ae=new ie(null);return this.copy(ae),ae},ie.prototype._expand=function(ae){for(;this.length<ae;)this.words[this.length++]=0;return this},ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var be=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Se=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Te=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(ae,ce){ae=ae||10,ce=ce|0||1;var le;if(ae===16||ae==="hex"){le="";for(var pe=0,_e=0,$e=0;$e<this.length;$e++){var Ee=this.words[$e],me=((Ee<<pe|_e)&16777215).toString(16);_e=Ee>>>24-pe&16777215,_e!==0||$e!==this.length-1?le=be[6-me.length]+me+le:le=me+le,pe+=2,pe>=26&&(pe-=26,$e--)}for(_e!==0&&(le=_e.toString(16)+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}if(ae===(ae|0)&&ae>=2&&ae<=36){var fe=Se[ae],we=Te[ae];le="";var Me=this.clone();for(Me.negative=0;!Me.isZero();){var Le=Me.modn(we).toString(ae);Me=Me.idivn(we),Me.isZero()?le=Le+le:le=be[fe-Le.length]+Le+le}for(this.isZero()&&(le="0"+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var ae=this.words[0];return this.length===2?ae+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ae+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ae:ae},ie.prototype.toJSON=function(){return this.toString(16)},ie.prototype.toBuffer=function(ae,ce){return ne(typeof se!="undefined"),this.toArrayLike(se,ae,ce)},ie.prototype.toArray=function(ae,ce){return this.toArrayLike(Array,ae,ce)},ie.prototype.toArrayLike=function(ae,ce,le){var pe=this.byteLength(),_e=le||Math.max(1,pe);ne(pe<=_e,"byte array longer than desired length"),ne(_e>0,"Requested array length <= 0"),this.strip();var $e=ce==="le",Ee=new ae(_e),me,fe,we=this.clone();if($e){for(fe=0;!we.isZero();fe++)me=we.andln(255),we.iushrn(8),Ee[fe]=me;for(;fe<_e;fe++)Ee[fe]=0}else{for(fe=0;fe<_e-pe;fe++)Ee[fe]=0;for(fe=0;!we.isZero();fe++)me=we.andln(255),we.iushrn(8),Ee[_e-fe-1]=me}return Ee},Math.clz32?ie.prototype._countBits=function(ae){return 32-Math.clz32(ae)}:ie.prototype._countBits=function(ae){var ce=ae,le=0;return ce>=4096&&(le+=13,ce>>>=13),ce>=64&&(le+=7,ce>>>=7),ce>=8&&(le+=4,ce>>>=4),ce>=2&&(le+=2,ce>>>=2),le+ce},ie.prototype._zeroBits=function(ae){if(ae===0)return 26;var ce=ae,le=0;return(ce&8191)===0&&(le+=13,ce>>>=13),(ce&127)===0&&(le+=7,ce>>>=7),(ce&15)===0&&(le+=4,ce>>>=4),(ce&3)===0&&(le+=2,ce>>>=2),(ce&1)===0&&le++,le},ie.prototype.bitLength=function(){var ae=this.words[this.length-1],ce=this._countBits(ae);return(this.length-1)*26+ce};function ke(ye){for(var ae=new Array(ye.bitLength()),ce=0;ce<ae.length;ce++){var le=ce/26|0,pe=ce%26;ae[ce]=(ye.words[le]&1<<pe)>>>pe}return ae}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ae=0,ce=0;ce<this.length;ce++){var le=this._zeroBits(this.words[ce]);if(ae+=le,le!==26)break}return ae},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(ae){return this.negative!==0?this.abs().inotn(ae).iaddn(1):this.clone()},ie.prototype.fromTwos=function(ae){return this.testn(ae-1)?this.notn(ae).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(ae){for(;this.length<ae.length;)this.words[this.length++]=0;for(var ce=0;ce<ae.length;ce++)this.words[ce]=this.words[ce]|ae.words[ce];return this.strip()},ie.prototype.ior=function(ae){return ne((this.negative|ae.negative)===0),this.iuor(ae)},ie.prototype.or=function(ae){return this.length>ae.length?this.clone().ior(ae):ae.clone().ior(this)},ie.prototype.uor=function(ae){return this.length>ae.length?this.clone().iuor(ae):ae.clone().iuor(this)},ie.prototype.iuand=function(ae){var ce;this.length>ae.length?ce=ae:ce=this;for(var le=0;le<ce.length;le++)this.words[le]=this.words[le]&ae.words[le];return this.length=ce.length,this.strip()},ie.prototype.iand=function(ae){return ne((this.negative|ae.negative)===0),this.iuand(ae)},ie.prototype.and=function(ae){return this.length>ae.length?this.clone().iand(ae):ae.clone().iand(this)},ie.prototype.uand=function(ae){return this.length>ae.length?this.clone().iuand(ae):ae.clone().iuand(this)},ie.prototype.iuxor=function(ae){var ce,le;this.length>ae.length?(ce=this,le=ae):(ce=ae,le=this);for(var pe=0;pe<le.length;pe++)this.words[pe]=ce.words[pe]^le.words[pe];if(this!==ce)for(;pe<ce.length;pe++)this.words[pe]=ce.words[pe];return this.length=ce.length,this.strip()},ie.prototype.ixor=function(ae){return ne((this.negative|ae.negative)===0),this.iuxor(ae)},ie.prototype.xor=function(ae){return this.length>ae.length?this.clone().ixor(ae):ae.clone().ixor(this)},ie.prototype.uxor=function(ae){return this.length>ae.length?this.clone().iuxor(ae):ae.clone().iuxor(this)},ie.prototype.inotn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=Math.ceil(ae/26)|0,le=ae%26;this._expand(ce),le>0&&ce--;for(var pe=0;pe<ce;pe++)this.words[pe]=~this.words[pe]&67108863;return le>0&&(this.words[pe]=~this.words[pe]&67108863>>26-le),this.strip()},ie.prototype.notn=function(ae){return this.clone().inotn(ae)},ie.prototype.setn=function(ae,ce){ne(typeof ae=="number"&&ae>=0);var le=ae/26|0,pe=ae%26;return this._expand(le+1),ce?this.words[le]=this.words[le]|1<<pe:this.words[le]=this.words[le]&~(1<<pe),this.strip()},ie.prototype.iadd=function(ae){var ce;if(this.negative!==0&&ae.negative===0)return this.negative=0,ce=this.isub(ae),this.negative^=1,this._normSign();if(this.negative===0&&ae.negative!==0)return ae.negative=0,ce=this.isub(ae),ae.negative=1,ce._normSign();var le,pe;this.length>ae.length?(le=this,pe=ae):(le=ae,pe=this);for(var _e=0,$e=0;$e<pe.length;$e++)ce=(le.words[$e]|0)+(pe.words[$e]|0)+_e,this.words[$e]=ce&67108863,_e=ce>>>26;for(;_e!==0&&$e<le.length;$e++)ce=(le.words[$e]|0)+_e,this.words[$e]=ce&67108863,_e=ce>>>26;if(this.length=le.length,_e!==0)this.words[this.length]=_e,this.length++;else if(le!==this)for(;$e<le.length;$e++)this.words[$e]=le.words[$e];return this},ie.prototype.add=function(ae){var ce;return ae.negative!==0&&this.negative===0?(ae.negative=0,ce=this.sub(ae),ae.negative^=1,ce):ae.negative===0&&this.negative!==0?(this.negative=0,ce=ae.sub(this),this.negative=1,ce):this.length>ae.length?this.clone().iadd(ae):ae.clone().iadd(this)},ie.prototype.isub=function(ae){if(ae.negative!==0){ae.negative=0;var ce=this.iadd(ae);return ae.negative=1,ce._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ae),this.negative=1,this._normSign();var le=this.cmp(ae);if(le===0)return this.negative=0,this.length=1,this.words[0]=0,this;var pe,_e;le>0?(pe=this,_e=ae):(pe=ae,_e=this);for(var $e=0,Ee=0;Ee<_e.length;Ee++)ce=(pe.words[Ee]|0)-(_e.words[Ee]|0)+$e,$e=ce>>26,this.words[Ee]=ce&67108863;for(;$e!==0&&Ee<pe.length;Ee++)ce=(pe.words[Ee]|0)+$e,$e=ce>>26,this.words[Ee]=ce&67108863;if($e===0&&Ee<pe.length&&pe!==this)for(;Ee<pe.length;Ee++)this.words[Ee]=pe.words[Ee];return this.length=Math.max(this.length,Ee),pe!==this&&(this.negative=1),this.strip()},ie.prototype.sub=function(ae){return this.clone().isub(ae)};function Re(ye,ae,ce){ce.negative=ae.negative^ye.negative;var le=ye.length+ae.length|0;ce.length=le,le=le-1|0;var pe=ye.words[0]|0,_e=ae.words[0]|0,$e=pe*_e,Ee=$e&67108863,me=$e/67108864|0;ce.words[0]=Ee;for(var fe=1;fe<le;fe++){for(var we=me>>>26,Me=me&67108863,Le=Math.min(fe,ae.length-1),Je=Math.max(0,fe-ye.length+1);Je<=Le;Je++){var Ue=fe-Je|0;pe=ye.words[Ue]|0,_e=ae.words[Je]|0,$e=pe*_e+Me,we+=$e/67108864|0,Me=$e&67108863}ce.words[fe]=Me|0,me=we|0}return me!==0?ce.words[fe]=me|0:ce.length--,ce.strip()}var Ce=function(ae,ce,le){var pe=ae.words,_e=ce.words,$e=le.words,Ee=0,me,fe,we,Me=pe[0]|0,Le=Me&8191,Je=Me>>>13,Ue=pe[1]|0,ct=Ue&8191,gt=Ue>>>13,$t=pe[2]|0,vt=$t&8191,Tt=$t>>>13,qt=pe[3]|0,Rt=qt&8191,lt=qt>>>13,_t=pe[4]|0,bt=_t&8191,Qe=_t>>>13,ze=pe[5]|0,De=ze&8191,Ze=ze>>>13,yt=pe[6]|0,dt=yt&8191,mt=yt>>>13,Lt=pe[7]|0,St=Lt&8191,Bt=Lt>>>13,Gt=pe[8]|0,Ae=Gt&8191,ve=Gt>>>13,xe=pe[9]|0,Be=xe&8191,We=xe>>>13,et=_e[0]|0,Xe=et&8191,Mt=et>>>13,Vt=_e[1]|0,At=Vt&8191,Nt=Vt>>>13,zt=_e[2]|0,Ht=zt&8191,Qt=zt>>>13,Ir=_e[3]|0,jt=Ir&8191,Xt=Ir>>>13,$r=_e[4]|0,Ft=$r&8191,Zt=$r>>>13,kr=_e[5]|0,Wt=kr&8191,er=kr>>>13,Pr=_e[6]|0,Ot=Pr&8191,tr=Pr>>>13,Ye=_e[7]|0,rt=Ye&8191,it=Ye>>>13,Fe=_e[8]|0,ot=Fe&8191,wt=Fe>>>13,Pt=_e[9]|0,Et=Pt&8191,Ct=Pt>>>13;le.negative=ae.negative^ce.negative,le.length=19,me=Math.imul(Le,Xe),fe=Math.imul(Le,Mt),fe=fe+Math.imul(Je,Xe)|0,we=Math.imul(Je,Mt);var or=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(or>>>26)|0,or&=67108863,me=Math.imul(ct,Xe),fe=Math.imul(ct,Mt),fe=fe+Math.imul(gt,Xe)|0,we=Math.imul(gt,Mt),me=me+Math.imul(Le,At)|0,fe=fe+Math.imul(Le,Nt)|0,fe=fe+Math.imul(Je,At)|0,we=we+Math.imul(Je,Nt)|0;var Yt=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,me=Math.imul(vt,Xe),fe=Math.imul(vt,Mt),fe=fe+Math.imul(Tt,Xe)|0,we=Math.imul(Tt,Mt),me=me+Math.imul(ct,At)|0,fe=fe+Math.imul(ct,Nt)|0,fe=fe+Math.imul(gt,At)|0,we=we+Math.imul(gt,Nt)|0,me=me+Math.imul(Le,Ht)|0,fe=fe+Math.imul(Le,Qt)|0,fe=fe+Math.imul(Je,Ht)|0,we=we+Math.imul(Je,Qt)|0;var Rr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,me=Math.imul(Rt,Xe),fe=Math.imul(Rt,Mt),fe=fe+Math.imul(lt,Xe)|0,we=Math.imul(lt,Mt),me=me+Math.imul(vt,At)|0,fe=fe+Math.imul(vt,Nt)|0,fe=fe+Math.imul(Tt,At)|0,we=we+Math.imul(Tt,Nt)|0,me=me+Math.imul(ct,Ht)|0,fe=fe+Math.imul(ct,Qt)|0,fe=fe+Math.imul(gt,Ht)|0,we=we+Math.imul(gt,Qt)|0,me=me+Math.imul(Le,jt)|0,fe=fe+Math.imul(Le,Xt)|0,fe=fe+Math.imul(Je,jt)|0,we=we+Math.imul(Je,Xt)|0;var cr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(cr>>>26)|0,cr&=67108863,me=Math.imul(bt,Xe),fe=Math.imul(bt,Mt),fe=fe+Math.imul(Qe,Xe)|0,we=Math.imul(Qe,Mt),me=me+Math.imul(Rt,At)|0,fe=fe+Math.imul(Rt,Nt)|0,fe=fe+Math.imul(lt,At)|0,we=we+Math.imul(lt,Nt)|0,me=me+Math.imul(vt,Ht)|0,fe=fe+Math.imul(vt,Qt)|0,fe=fe+Math.imul(Tt,Ht)|0,we=we+Math.imul(Tt,Qt)|0,me=me+Math.imul(ct,jt)|0,fe=fe+Math.imul(ct,Xt)|0,fe=fe+Math.imul(gt,jt)|0,we=we+Math.imul(gt,Xt)|0,me=me+Math.imul(Le,Ft)|0,fe=fe+Math.imul(Le,Zt)|0,fe=fe+Math.imul(Je,Ft)|0,we=we+Math.imul(Je,Zt)|0;var wr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(wr>>>26)|0,wr&=67108863,me=Math.imul(De,Xe),fe=Math.imul(De,Mt),fe=fe+Math.imul(Ze,Xe)|0,we=Math.imul(Ze,Mt),me=me+Math.imul(bt,At)|0,fe=fe+Math.imul(bt,Nt)|0,fe=fe+Math.imul(Qe,At)|0,we=we+Math.imul(Qe,Nt)|0,me=me+Math.imul(Rt,Ht)|0,fe=fe+Math.imul(Rt,Qt)|0,fe=fe+Math.imul(lt,Ht)|0,we=we+Math.imul(lt,Qt)|0,me=me+Math.imul(vt,jt)|0,fe=fe+Math.imul(vt,Xt)|0,fe=fe+Math.imul(Tt,jt)|0,we=we+Math.imul(Tt,Xt)|0,me=me+Math.imul(ct,Ft)|0,fe=fe+Math.imul(ct,Zt)|0,fe=fe+Math.imul(gt,Ft)|0,we=we+Math.imul(gt,Zt)|0,me=me+Math.imul(Le,Wt)|0,fe=fe+Math.imul(Le,er)|0,fe=fe+Math.imul(Je,Wt)|0,we=we+Math.imul(Je,er)|0;var xr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(xr>>>26)|0,xr&=67108863,me=Math.imul(dt,Xe),fe=Math.imul(dt,Mt),fe=fe+Math.imul(mt,Xe)|0,we=Math.imul(mt,Mt),me=me+Math.imul(De,At)|0,fe=fe+Math.imul(De,Nt)|0,fe=fe+Math.imul(Ze,At)|0,we=we+Math.imul(Ze,Nt)|0,me=me+Math.imul(bt,Ht)|0,fe=fe+Math.imul(bt,Qt)|0,fe=fe+Math.imul(Qe,Ht)|0,we=we+Math.imul(Qe,Qt)|0,me=me+Math.imul(Rt,jt)|0,fe=fe+Math.imul(Rt,Xt)|0,fe=fe+Math.imul(lt,jt)|0,we=we+Math.imul(lt,Xt)|0,me=me+Math.imul(vt,Ft)|0,fe=fe+Math.imul(vt,Zt)|0,fe=fe+Math.imul(Tt,Ft)|0,we=we+Math.imul(Tt,Zt)|0,me=me+Math.imul(ct,Wt)|0,fe=fe+Math.imul(ct,er)|0,fe=fe+Math.imul(gt,Wt)|0,we=we+Math.imul(gt,er)|0,me=me+Math.imul(Le,Ot)|0,fe=fe+Math.imul(Le,tr)|0,fe=fe+Math.imul(Je,Ot)|0,we=we+Math.imul(Je,tr)|0;var Er=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Er>>>26)|0,Er&=67108863,me=Math.imul(St,Xe),fe=Math.imul(St,Mt),fe=fe+Math.imul(Bt,Xe)|0,we=Math.imul(Bt,Mt),me=me+Math.imul(dt,At)|0,fe=fe+Math.imul(dt,Nt)|0,fe=fe+Math.imul(mt,At)|0,we=we+Math.imul(mt,Nt)|0,me=me+Math.imul(De,Ht)|0,fe=fe+Math.imul(De,Qt)|0,fe=fe+Math.imul(Ze,Ht)|0,we=we+Math.imul(Ze,Qt)|0,me=me+Math.imul(bt,jt)|0,fe=fe+Math.imul(bt,Xt)|0,fe=fe+Math.imul(Qe,jt)|0,we=we+Math.imul(Qe,Xt)|0,me=me+Math.imul(Rt,Ft)|0,fe=fe+Math.imul(Rt,Zt)|0,fe=fe+Math.imul(lt,Ft)|0,we=we+Math.imul(lt,Zt)|0,me=me+Math.imul(vt,Wt)|0,fe=fe+Math.imul(vt,er)|0,fe=fe+Math.imul(Tt,Wt)|0,we=we+Math.imul(Tt,er)|0,me=me+Math.imul(ct,Ot)|0,fe=fe+Math.imul(ct,tr)|0,fe=fe+Math.imul(gt,Ot)|0,we=we+Math.imul(gt,tr)|0,me=me+Math.imul(Le,rt)|0,fe=fe+Math.imul(Le,it)|0,fe=fe+Math.imul(Je,rt)|0,we=we+Math.imul(Je,it)|0;var Mr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,me=Math.imul(Ae,Xe),fe=Math.imul(Ae,Mt),fe=fe+Math.imul(ve,Xe)|0,we=Math.imul(ve,Mt),me=me+Math.imul(St,At)|0,fe=fe+Math.imul(St,Nt)|0,fe=fe+Math.imul(Bt,At)|0,we=we+Math.imul(Bt,Nt)|0,me=me+Math.imul(dt,Ht)|0,fe=fe+Math.imul(dt,Qt)|0,fe=fe+Math.imul(mt,Ht)|0,we=we+Math.imul(mt,Qt)|0,me=me+Math.imul(De,jt)|0,fe=fe+Math.imul(De,Xt)|0,fe=fe+Math.imul(Ze,jt)|0,we=we+Math.imul(Ze,Xt)|0,me=me+Math.imul(bt,Ft)|0,fe=fe+Math.imul(bt,Zt)|0,fe=fe+Math.imul(Qe,Ft)|0,we=we+Math.imul(Qe,Zt)|0,me=me+Math.imul(Rt,Wt)|0,fe=fe+Math.imul(Rt,er)|0,fe=fe+Math.imul(lt,Wt)|0,we=we+Math.imul(lt,er)|0,me=me+Math.imul(vt,Ot)|0,fe=fe+Math.imul(vt,tr)|0,fe=fe+Math.imul(Tt,Ot)|0,we=we+Math.imul(Tt,tr)|0,me=me+Math.imul(ct,rt)|0,fe=fe+Math.imul(ct,it)|0,fe=fe+Math.imul(gt,rt)|0,we=we+Math.imul(gt,it)|0,me=me+Math.imul(Le,ot)|0,fe=fe+Math.imul(Le,wt)|0,fe=fe+Math.imul(Je,ot)|0,we=we+Math.imul(Je,wt)|0;var Sr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,me=Math.imul(Be,Xe),fe=Math.imul(Be,Mt),fe=fe+Math.imul(We,Xe)|0,we=Math.imul(We,Mt),me=me+Math.imul(Ae,At)|0,fe=fe+Math.imul(Ae,Nt)|0,fe=fe+Math.imul(ve,At)|0,we=we+Math.imul(ve,Nt)|0,me=me+Math.imul(St,Ht)|0,fe=fe+Math.imul(St,Qt)|0,fe=fe+Math.imul(Bt,Ht)|0,we=we+Math.imul(Bt,Qt)|0,me=me+Math.imul(dt,jt)|0,fe=fe+Math.imul(dt,Xt)|0,fe=fe+Math.imul(mt,jt)|0,we=we+Math.imul(mt,Xt)|0,me=me+Math.imul(De,Ft)|0,fe=fe+Math.imul(De,Zt)|0,fe=fe+Math.imul(Ze,Ft)|0,we=we+Math.imul(Ze,Zt)|0,me=me+Math.imul(bt,Wt)|0,fe=fe+Math.imul(bt,er)|0,fe=fe+Math.imul(Qe,Wt)|0,we=we+Math.imul(Qe,er)|0,me=me+Math.imul(Rt,Ot)|0,fe=fe+Math.imul(Rt,tr)|0,fe=fe+Math.imul(lt,Ot)|0,we=we+Math.imul(lt,tr)|0,me=me+Math.imul(vt,rt)|0,fe=fe+Math.imul(vt,it)|0,fe=fe+Math.imul(Tt,rt)|0,we=we+Math.imul(Tt,it)|0,me=me+Math.imul(ct,ot)|0,fe=fe+Math.imul(ct,wt)|0,fe=fe+Math.imul(gt,ot)|0,we=we+Math.imul(gt,wt)|0,me=me+Math.imul(Le,Et)|0,fe=fe+Math.imul(Le,Ct)|0,fe=fe+Math.imul(Je,Et)|0,we=we+Math.imul(Je,Ct)|0;var Ar=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,me=Math.imul(Be,At),fe=Math.imul(Be,Nt),fe=fe+Math.imul(We,At)|0,we=Math.imul(We,Nt),me=me+Math.imul(Ae,Ht)|0,fe=fe+Math.imul(Ae,Qt)|0,fe=fe+Math.imul(ve,Ht)|0,we=we+Math.imul(ve,Qt)|0,me=me+Math.imul(St,jt)|0,fe=fe+Math.imul(St,Xt)|0,fe=fe+Math.imul(Bt,jt)|0,we=we+Math.imul(Bt,Xt)|0,me=me+Math.imul(dt,Ft)|0,fe=fe+Math.imul(dt,Zt)|0,fe=fe+Math.imul(mt,Ft)|0,we=we+Math.imul(mt,Zt)|0,me=me+Math.imul(De,Wt)|0,fe=fe+Math.imul(De,er)|0,fe=fe+Math.imul(Ze,Wt)|0,we=we+Math.imul(Ze,er)|0,me=me+Math.imul(bt,Ot)|0,fe=fe+Math.imul(bt,tr)|0,fe=fe+Math.imul(Qe,Ot)|0,we=we+Math.imul(Qe,tr)|0,me=me+Math.imul(Rt,rt)|0,fe=fe+Math.imul(Rt,it)|0,fe=fe+Math.imul(lt,rt)|0,we=we+Math.imul(lt,it)|0,me=me+Math.imul(vt,ot)|0,fe=fe+Math.imul(vt,wt)|0,fe=fe+Math.imul(Tt,ot)|0,we=we+Math.imul(Tt,wt)|0,me=me+Math.imul(ct,Et)|0,fe=fe+Math.imul(ct,Ct)|0,fe=fe+Math.imul(gt,Et)|0,we=we+Math.imul(gt,Ct)|0;var Tr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,me=Math.imul(Be,Ht),fe=Math.imul(Be,Qt),fe=fe+Math.imul(We,Ht)|0,we=Math.imul(We,Qt),me=me+Math.imul(Ae,jt)|0,fe=fe+Math.imul(Ae,Xt)|0,fe=fe+Math.imul(ve,jt)|0,we=we+Math.imul(ve,Xt)|0,me=me+Math.imul(St,Ft)|0,fe=fe+Math.imul(St,Zt)|0,fe=fe+Math.imul(Bt,Ft)|0,we=we+Math.imul(Bt,Zt)|0,me=me+Math.imul(dt,Wt)|0,fe=fe+Math.imul(dt,er)|0,fe=fe+Math.imul(mt,Wt)|0,we=we+Math.imul(mt,er)|0,me=me+Math.imul(De,Ot)|0,fe=fe+Math.imul(De,tr)|0,fe=fe+Math.imul(Ze,Ot)|0,we=we+Math.imul(Ze,tr)|0,me=me+Math.imul(bt,rt)|0,fe=fe+Math.imul(bt,it)|0,fe=fe+Math.imul(Qe,rt)|0,we=we+Math.imul(Qe,it)|0,me=me+Math.imul(Rt,ot)|0,fe=fe+Math.imul(Rt,wt)|0,fe=fe+Math.imul(lt,ot)|0,we=we+Math.imul(lt,wt)|0,me=me+Math.imul(vt,Et)|0,fe=fe+Math.imul(vt,Ct)|0,fe=fe+Math.imul(Tt,Et)|0,we=we+Math.imul(Tt,Ct)|0;var pr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(pr>>>26)|0,pr&=67108863,me=Math.imul(Be,jt),fe=Math.imul(Be,Xt),fe=fe+Math.imul(We,jt)|0,we=Math.imul(We,Xt),me=me+Math.imul(Ae,Ft)|0,fe=fe+Math.imul(Ae,Zt)|0,fe=fe+Math.imul(ve,Ft)|0,we=we+Math.imul(ve,Zt)|0,me=me+Math.imul(St,Wt)|0,fe=fe+Math.imul(St,er)|0,fe=fe+Math.imul(Bt,Wt)|0,we=we+Math.imul(Bt,er)|0,me=me+Math.imul(dt,Ot)|0,fe=fe+Math.imul(dt,tr)|0,fe=fe+Math.imul(mt,Ot)|0,we=we+Math.imul(mt,tr)|0,me=me+Math.imul(De,rt)|0,fe=fe+Math.imul(De,it)|0,fe=fe+Math.imul(Ze,rt)|0,we=we+Math.imul(Ze,it)|0,me=me+Math.imul(bt,ot)|0,fe=fe+Math.imul(bt,wt)|0,fe=fe+Math.imul(Qe,ot)|0,we=we+Math.imul(Qe,wt)|0,me=me+Math.imul(Rt,Et)|0,fe=fe+Math.imul(Rt,Ct)|0,fe=fe+Math.imul(lt,Et)|0,we=we+Math.imul(lt,Ct)|0;var _r=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(_r>>>26)|0,_r&=67108863,me=Math.imul(Be,Ft),fe=Math.imul(Be,Zt),fe=fe+Math.imul(We,Ft)|0,we=Math.imul(We,Zt),me=me+Math.imul(Ae,Wt)|0,fe=fe+Math.imul(Ae,er)|0,fe=fe+Math.imul(ve,Wt)|0,we=we+Math.imul(ve,er)|0,me=me+Math.imul(St,Ot)|0,fe=fe+Math.imul(St,tr)|0,fe=fe+Math.imul(Bt,Ot)|0,we=we+Math.imul(Bt,tr)|0,me=me+Math.imul(dt,rt)|0,fe=fe+Math.imul(dt,it)|0,fe=fe+Math.imul(mt,rt)|0,we=we+Math.imul(mt,it)|0,me=me+Math.imul(De,ot)|0,fe=fe+Math.imul(De,wt)|0,fe=fe+Math.imul(Ze,ot)|0,we=we+Math.imul(Ze,wt)|0,me=me+Math.imul(bt,Et)|0,fe=fe+Math.imul(bt,Ct)|0,fe=fe+Math.imul(Qe,Et)|0,we=we+Math.imul(Qe,Ct)|0;var lr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(lr>>>26)|0,lr&=67108863,me=Math.imul(Be,Wt),fe=Math.imul(Be,er),fe=fe+Math.imul(We,Wt)|0,we=Math.imul(We,er),me=me+Math.imul(Ae,Ot)|0,fe=fe+Math.imul(Ae,tr)|0,fe=fe+Math.imul(ve,Ot)|0,we=we+Math.imul(ve,tr)|0,me=me+Math.imul(St,rt)|0,fe=fe+Math.imul(St,it)|0,fe=fe+Math.imul(Bt,rt)|0,we=we+Math.imul(Bt,it)|0,me=me+Math.imul(dt,ot)|0,fe=fe+Math.imul(dt,wt)|0,fe=fe+Math.imul(mt,ot)|0,we=we+Math.imul(mt,wt)|0,me=me+Math.imul(De,Et)|0,fe=fe+Math.imul(De,Ct)|0,fe=fe+Math.imul(Ze,Et)|0,we=we+Math.imul(Ze,Ct)|0;var gr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(gr>>>26)|0,gr&=67108863,me=Math.imul(Be,Ot),fe=Math.imul(Be,tr),fe=fe+Math.imul(We,Ot)|0,we=Math.imul(We,tr),me=me+Math.imul(Ae,rt)|0,fe=fe+Math.imul(Ae,it)|0,fe=fe+Math.imul(ve,rt)|0,we=we+Math.imul(ve,it)|0,me=me+Math.imul(St,ot)|0,fe=fe+Math.imul(St,wt)|0,fe=fe+Math.imul(Bt,ot)|0,we=we+Math.imul(Bt,wt)|0,me=me+Math.imul(dt,Et)|0,fe=fe+Math.imul(dt,Ct)|0,fe=fe+Math.imul(mt,Et)|0,we=we+Math.imul(mt,Ct)|0;var mr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(mr>>>26)|0,mr&=67108863,me=Math.imul(Be,rt),fe=Math.imul(Be,it),fe=fe+Math.imul(We,rt)|0,we=Math.imul(We,it),me=me+Math.imul(Ae,ot)|0,fe=fe+Math.imul(Ae,wt)|0,fe=fe+Math.imul(ve,ot)|0,we=we+Math.imul(ve,wt)|0,me=me+Math.imul(St,Et)|0,fe=fe+Math.imul(St,Ct)|0,fe=fe+Math.imul(Bt,Et)|0,we=we+Math.imul(Bt,Ct)|0;var dr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(dr>>>26)|0,dr&=67108863,me=Math.imul(Be,ot),fe=Math.imul(Be,wt),fe=fe+Math.imul(We,ot)|0,we=Math.imul(We,wt),me=me+Math.imul(Ae,Et)|0,fe=fe+Math.imul(Ae,Ct)|0,fe=fe+Math.imul(ve,Et)|0,we=we+Math.imul(ve,Ct)|0;var Ut=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,me=Math.imul(Be,Et),fe=Math.imul(Be,Ct),fe=fe+Math.imul(We,Et)|0,we=Math.imul(We,Ct);var Dt=(Ee+me|0)+((fe&8191)<<13)|0;return Ee=(we+(fe>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,$e[0]=or,$e[1]=Yt,$e[2]=Rr,$e[3]=cr,$e[4]=wr,$e[5]=xr,$e[6]=Er,$e[7]=Mr,$e[8]=Sr,$e[9]=Ar,$e[10]=Tr,$e[11]=pr,$e[12]=_r,$e[13]=lr,$e[14]=gr,$e[15]=mr,$e[16]=dr,$e[17]=Ut,$e[18]=Dt,Ee!==0&&($e[19]=Ee,le.length++),le};Math.imul||(Ce=Re);function Pe(ye,ae,ce){ce.negative=ae.negative^ye.negative,ce.length=ye.length+ae.length;for(var le=0,pe=0,_e=0;_e<ce.length-1;_e++){var $e=pe;pe=0;for(var Ee=le&67108863,me=Math.min(_e,ae.length-1),fe=Math.max(0,_e-ye.length+1);fe<=me;fe++){var we=_e-fe,Me=ye.words[we]|0,Le=ae.words[fe]|0,Je=Me*Le,Ue=Je&67108863;$e=$e+(Je/67108864|0)|0,Ue=Ue+Ee|0,Ee=Ue&67108863,$e=$e+(Ue>>>26)|0,pe+=$e>>>26,$e&=67108863}ce.words[_e]=Ee,le=$e,$e=pe}return le!==0?ce.words[_e]=le:ce.length--,ce.strip()}function Ie(ye,ae,ce){var le=new Ne;return le.mulp(ye,ae,ce)}ie.prototype.mulTo=function(ae,ce){var le,pe=this.length+ae.length;return this.length===10&&ae.length===10?le=Ce(this,ae,ce):pe<63?le=Re(this,ae,ce):pe<1024?le=Pe(this,ae,ce):le=Ie(this,ae,ce),le};function Ne(ye,ae){this.x=ye,this.y=ae}Ne.prototype.makeRBT=function(ae){for(var ce=new Array(ae),le=ie.prototype._countBits(ae)-1,pe=0;pe<ae;pe++)ce[pe]=this.revBin(pe,le,ae);return ce},Ne.prototype.revBin=function(ae,ce,le){if(ae===0||ae===le-1)return ae;for(var pe=0,_e=0;_e<ce;_e++)pe|=(ae&1)<<ce-_e-1,ae>>=1;return pe},Ne.prototype.permute=function(ae,ce,le,pe,_e,$e){for(var Ee=0;Ee<$e;Ee++)pe[Ee]=ce[ae[Ee]],_e[Ee]=le[ae[Ee]]},Ne.prototype.transform=function(ae,ce,le,pe,_e,$e){this.permute($e,ae,ce,le,pe,_e);for(var Ee=1;Ee<_e;Ee<<=1)for(var me=Ee<<1,fe=Math.cos(2*Math.PI/me),we=Math.sin(2*Math.PI/me),Me=0;Me<_e;Me+=me)for(var Le=fe,Je=we,Ue=0;Ue<Ee;Ue++){var ct=le[Me+Ue],gt=pe[Me+Ue],$t=le[Me+Ue+Ee],vt=pe[Me+Ue+Ee],Tt=Le*$t-Je*vt;vt=Le*vt+Je*$t,$t=Tt,le[Me+Ue]=ct+$t,pe[Me+Ue]=gt+vt,le[Me+Ue+Ee]=ct-$t,pe[Me+Ue+Ee]=gt-vt,Ue!==me&&(Tt=fe*Le-we*Je,Je=fe*Je+we*Le,Le=Tt)}},Ne.prototype.guessLen13b=function(ae,ce){var le=Math.max(ce,ae)|1,pe=le&1,_e=0;for(le=le/2|0;le;le=le>>>1)_e++;return 1<<_e+1+pe},Ne.prototype.conjugate=function(ae,ce,le){if(!(le<=1))for(var pe=0;pe<le/2;pe++){var _e=ae[pe];ae[pe]=ae[le-pe-1],ae[le-pe-1]=_e,_e=ce[pe],ce[pe]=-ce[le-pe-1],ce[le-pe-1]=-_e}},Ne.prototype.normalize13b=function(ae,ce){for(var le=0,pe=0;pe<ce/2;pe++){var _e=Math.round(ae[2*pe+1]/ce)*8192+Math.round(ae[2*pe]/ce)+le;ae[pe]=_e&67108863,_e<67108864?le=0:le=_e/67108864|0}return ae},Ne.prototype.convert13b=function(ae,ce,le,pe){for(var _e=0,$e=0;$e<ce;$e++)_e=_e+(ae[$e]|0),le[2*$e]=_e&8191,_e=_e>>>13,le[2*$e+1]=_e&8191,_e=_e>>>13;for($e=2*ce;$e<pe;++$e)le[$e]=0;ne(_e===0),ne((_e&-8192)===0)},Ne.prototype.stub=function(ae){for(var ce=new Array(ae),le=0;le<ae;le++)ce[le]=0;return ce},Ne.prototype.mulp=function(ae,ce,le){var pe=2*this.guessLen13b(ae.length,ce.length),_e=this.makeRBT(pe),$e=this.stub(pe),Ee=new Array(pe),me=new Array(pe),fe=new Array(pe),we=new Array(pe),Me=new Array(pe),Le=new Array(pe),Je=le.words;Je.length=pe,this.convert13b(ae.words,ae.length,Ee,pe),this.convert13b(ce.words,ce.length,we,pe),this.transform(Ee,$e,me,fe,pe,_e),this.transform(we,$e,Me,Le,pe,_e);for(var Ue=0;Ue<pe;Ue++){var ct=me[Ue]*Me[Ue]-fe[Ue]*Le[Ue];fe[Ue]=me[Ue]*Le[Ue]+fe[Ue]*Me[Ue],me[Ue]=ct}return this.conjugate(me,fe,pe),this.transform(me,fe,Je,$e,pe,_e),this.conjugate(Je,$e,pe),this.normalize13b(Je,pe),le.negative=ae.negative^ce.negative,le.length=ae.length+ce.length,le.strip()},ie.prototype.mul=function(ae){var ce=new ie(null);return ce.words=new Array(this.length+ae.length),this.mulTo(ae,ce)},ie.prototype.mulf=function(ae){var ce=new ie(null);return ce.words=new Array(this.length+ae.length),Ie(this,ae,ce)},ie.prototype.imul=function(ae){return this.clone().mulTo(ae,this)},ie.prototype.imuln=function(ae){ne(typeof ae=="number"),ne(ae<67108864);for(var ce=0,le=0;le<this.length;le++){var pe=(this.words[le]|0)*ae,_e=(pe&67108863)+(ce&67108863);ce>>=26,ce+=pe/67108864|0,ce+=_e>>>26,this.words[le]=_e&67108863}return ce!==0&&(this.words[le]=ce,this.length++),this},ie.prototype.muln=function(ae){return this.clone().imuln(ae)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(ae){var ce=ke(ae);if(ce.length===0)return new ie(1);for(var le=this,pe=0;pe<ce.length&&ce[pe]===0;pe++,le=le.sqr());if(++pe<ce.length)for(var _e=le.sqr();pe<ce.length;pe++,_e=_e.sqr())ce[pe]!==0&&(le=le.mul(_e));return le},ie.prototype.iushln=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26,pe=67108863>>>26-ce<<26-ce,_e;if(ce!==0){var $e=0;for(_e=0;_e<this.length;_e++){var Ee=this.words[_e]&pe,me=(this.words[_e]|0)-Ee<<ce;this.words[_e]=me|$e,$e=Ee>>>26-ce}$e&&(this.words[_e]=$e,this.length++)}if(le!==0){for(_e=this.length-1;_e>=0;_e--)this.words[_e+le]=this.words[_e];for(_e=0;_e<le;_e++)this.words[_e]=0;this.length+=le}return this.strip()},ie.prototype.ishln=function(ae){return ne(this.negative===0),this.iushln(ae)},ie.prototype.iushrn=function(ae,ce,le){ne(typeof ae=="number"&&ae>=0);var pe;ce?pe=(ce-ce%26)/26:pe=0;var _e=ae%26,$e=Math.min((ae-_e)/26,this.length),Ee=67108863^67108863>>>_e<<_e,me=le;if(pe-=$e,pe=Math.max(0,pe),me){for(var fe=0;fe<$e;fe++)me.words[fe]=this.words[fe];me.length=$e}if($e!==0)if(this.length>$e)for(this.length-=$e,fe=0;fe<this.length;fe++)this.words[fe]=this.words[fe+$e];else this.words[0]=0,this.length=1;var we=0;for(fe=this.length-1;fe>=0&&(we!==0||fe>=pe);fe--){var Me=this.words[fe]|0;this.words[fe]=we<<26-_e|Me>>>_e,we=Me&Ee}return me&&we!==0&&(me.words[me.length++]=we),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ie.prototype.ishrn=function(ae,ce,le){return ne(this.negative===0),this.iushrn(ae,ce,le)},ie.prototype.shln=function(ae){return this.clone().ishln(ae)},ie.prototype.ushln=function(ae){return this.clone().iushln(ae)},ie.prototype.shrn=function(ae){return this.clone().ishrn(ae)},ie.prototype.ushrn=function(ae){return this.clone().iushrn(ae)},ie.prototype.testn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26,pe=1<<ce;if(this.length<=le)return!1;var _e=this.words[le];return!!(_e&pe)},ie.prototype.imaskn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=le)return this;if(ce!==0&&le++,this.length=Math.min(le,this.length),ce!==0){var pe=67108863^67108863>>>ce<<ce;this.words[this.length-1]&=pe}return this.strip()},ie.prototype.maskn=function(ae){return this.clone().imaskn(ae)},ie.prototype.iaddn=function(ae){return ne(typeof ae=="number"),ne(ae<67108864),ae<0?this.isubn(-ae):this.negative!==0?this.length===1&&(this.words[0]|0)<ae?(this.words[0]=ae-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ae),this.negative=1,this):this._iaddn(ae)},ie.prototype._iaddn=function(ae){this.words[0]+=ae;for(var ce=0;ce<this.length&&this.words[ce]>=67108864;ce++)this.words[ce]-=67108864,ce===this.length-1?this.words[ce+1]=1:this.words[ce+1]++;return this.length=Math.max(this.length,ce+1),this},ie.prototype.isubn=function(ae){if(ne(typeof ae=="number"),ne(ae<67108864),ae<0)return this.iaddn(-ae);if(this.negative!==0)return this.negative=0,this.iaddn(ae),this.negative=1,this;if(this.words[0]-=ae,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ce=0;ce<this.length&&this.words[ce]<0;ce++)this.words[ce]+=67108864,this.words[ce+1]-=1;return this.strip()},ie.prototype.addn=function(ae){return this.clone().iaddn(ae)},ie.prototype.subn=function(ae){return this.clone().isubn(ae)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(ae,ce,le){var pe=ae.length+le,_e;this._expand(pe);var $e,Ee=0;for(_e=0;_e<ae.length;_e++){$e=(this.words[_e+le]|0)+Ee;var me=(ae.words[_e]|0)*ce;$e-=me&67108863,Ee=($e>>26)-(me/67108864|0),this.words[_e+le]=$e&67108863}for(;_e<this.length-le;_e++)$e=(this.words[_e+le]|0)+Ee,Ee=$e>>26,this.words[_e+le]=$e&67108863;if(Ee===0)return this.strip();for(ne(Ee===-1),Ee=0,_e=0;_e<this.length;_e++)$e=-(this.words[_e]|0)+Ee,Ee=$e>>26,this.words[_e]=$e&67108863;return this.negative=1,this.strip()},ie.prototype._wordDiv=function(ae,ce){var le=this.length-ae.length,pe=this.clone(),_e=ae,$e=_e.words[_e.length-1]|0,Ee=this._countBits($e);le=26-Ee,le!==0&&(_e=_e.ushln(le),pe.iushln(le),$e=_e.words[_e.length-1]|0);var me=pe.length-_e.length,fe;if(ce!=="mod"){fe=new ie(null),fe.length=me+1,fe.words=new Array(fe.length);for(var we=0;we<fe.length;we++)fe.words[we]=0}var Me=pe.clone()._ishlnsubmul(_e,1,me);Me.negative===0&&(pe=Me,fe&&(fe.words[me]=1));for(var Le=me-1;Le>=0;Le--){var Je=(pe.words[_e.length+Le]|0)*67108864+(pe.words[_e.length+Le-1]|0);for(Je=Math.min(Je/$e|0,67108863),pe._ishlnsubmul(_e,Je,Le);pe.negative!==0;)Je--,pe.negative=0,pe._ishlnsubmul(_e,1,Le),pe.isZero()||(pe.negative^=1);fe&&(fe.words[Le]=Je)}return fe&&fe.strip(),pe.strip(),ce!=="div"&&le!==0&&pe.iushrn(le),{div:fe||null,mod:pe}},ie.prototype.divmod=function(ae,ce,le){if(ne(!ae.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var pe,_e,$e;return this.negative!==0&&ae.negative===0?($e=this.neg().divmod(ae,ce),ce!=="mod"&&(pe=$e.div.neg()),ce!=="div"&&(_e=$e.mod.neg(),le&&_e.negative!==0&&_e.iadd(ae)),{div:pe,mod:_e}):this.negative===0&&ae.negative!==0?($e=this.divmod(ae.neg(),ce),ce!=="mod"&&(pe=$e.div.neg()),{div:pe,mod:$e.mod}):(this.negative&ae.negative)!==0?($e=this.neg().divmod(ae.neg(),ce),ce!=="div"&&(_e=$e.mod.neg(),le&&_e.negative!==0&&_e.isub(ae)),{div:$e.div,mod:_e}):ae.length>this.length||this.cmp(ae)<0?{div:new ie(0),mod:this}:ae.length===1?ce==="div"?{div:this.divn(ae.words[0]),mod:null}:ce==="mod"?{div:null,mod:new ie(this.modn(ae.words[0]))}:{div:this.divn(ae.words[0]),mod:new ie(this.modn(ae.words[0]))}:this._wordDiv(ae,ce)},ie.prototype.div=function(ae){return this.divmod(ae,"div",!1).div},ie.prototype.mod=function(ae){return this.divmod(ae,"mod",!1).mod},ie.prototype.umod=function(ae){return this.divmod(ae,"mod",!0).mod},ie.prototype.divRound=function(ae){var ce=this.divmod(ae);if(ce.mod.isZero())return ce.div;var le=ce.div.negative!==0?ce.mod.isub(ae):ce.mod,pe=ae.ushrn(1),_e=ae.andln(1),$e=le.cmp(pe);return $e<0||_e===1&&$e===0?ce.div:ce.div.negative!==0?ce.div.isubn(1):ce.div.iaddn(1)},ie.prototype.modn=function(ae){ne(ae<=67108863);for(var ce=(1<<26)%ae,le=0,pe=this.length-1;pe>=0;pe--)le=(ce*le+(this.words[pe]|0))%ae;return le},ie.prototype.idivn=function(ae){ne(ae<=67108863);for(var ce=0,le=this.length-1;le>=0;le--){var pe=(this.words[le]|0)+ce*67108864;this.words[le]=pe/ae|0,ce=pe%ae}return this.strip()},ie.prototype.divn=function(ae){return this.clone().idivn(ae)},ie.prototype.egcd=function(ae){ne(ae.negative===0),ne(!ae.isZero());var ce=this,le=ae.clone();ce.negative!==0?ce=ce.umod(ae):ce=ce.clone();for(var pe=new ie(1),_e=new ie(0),$e=new ie(0),Ee=new ie(1),me=0;ce.isEven()&&le.isEven();)ce.iushrn(1),le.iushrn(1),++me;for(var fe=le.clone(),we=ce.clone();!ce.isZero();){for(var Me=0,Le=1;(ce.words[0]&Le)===0&&Me<26;++Me,Le<<=1);if(Me>0)for(ce.iushrn(Me);Me-- >0;)(pe.isOdd()||_e.isOdd())&&(pe.iadd(fe),_e.isub(we)),pe.iushrn(1),_e.iushrn(1);for(var Je=0,Ue=1;(le.words[0]&Ue)===0&&Je<26;++Je,Ue<<=1);if(Je>0)for(le.iushrn(Je);Je-- >0;)($e.isOdd()||Ee.isOdd())&&($e.iadd(fe),Ee.isub(we)),$e.iushrn(1),Ee.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),pe.isub($e),_e.isub(Ee)):(le.isub(ce),$e.isub(pe),Ee.isub(_e))}return{a:$e,b:Ee,gcd:le.iushln(me)}},ie.prototype._invmp=function(ae){ne(ae.negative===0),ne(!ae.isZero());var ce=this,le=ae.clone();ce.negative!==0?ce=ce.umod(ae):ce=ce.clone();for(var pe=new ie(1),_e=new ie(0),$e=le.clone();ce.cmpn(1)>0&&le.cmpn(1)>0;){for(var Ee=0,me=1;(ce.words[0]&me)===0&&Ee<26;++Ee,me<<=1);if(Ee>0)for(ce.iushrn(Ee);Ee-- >0;)pe.isOdd()&&pe.iadd($e),pe.iushrn(1);for(var fe=0,we=1;(le.words[0]&we)===0&&fe<26;++fe,we<<=1);if(fe>0)for(le.iushrn(fe);fe-- >0;)_e.isOdd()&&_e.iadd($e),_e.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),pe.isub(_e)):(le.isub(ce),_e.isub(pe))}var Me;return ce.cmpn(1)===0?Me=pe:Me=_e,Me.cmpn(0)<0&&Me.iadd(ae),Me},ie.prototype.gcd=function(ae){if(this.isZero())return ae.abs();if(ae.isZero())return this.abs();var ce=this.clone(),le=ae.clone();ce.negative=0,le.negative=0;for(var pe=0;ce.isEven()&&le.isEven();pe++)ce.iushrn(1),le.iushrn(1);do{for(;ce.isEven();)ce.iushrn(1);for(;le.isEven();)le.iushrn(1);var _e=ce.cmp(le);if(_e<0){var $e=ce;ce=le,le=$e}else if(_e===0||le.cmpn(1)===0)break;ce.isub(le)}while(!0);return le.iushln(pe)},ie.prototype.invm=function(ae){return this.egcd(ae).a.umod(ae)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(ae){return this.words[0]&ae},ie.prototype.bincn=function(ae){ne(typeof ae=="number");var ce=ae%26,le=(ae-ce)/26,pe=1<<ce;if(this.length<=le)return this._expand(le+1),this.words[le]|=pe,this;for(var _e=pe,$e=le;_e!==0&&$e<this.length;$e++){var Ee=this.words[$e]|0;Ee+=_e,_e=Ee>>>26,Ee&=67108863,this.words[$e]=Ee}return _e!==0&&(this.words[$e]=_e,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(ae){var ce=ae<0;if(this.negative!==0&&!ce)return-1;if(this.negative===0&&ce)return 1;this.strip();var le;if(this.length>1)le=1;else{ce&&(ae=-ae),ne(ae<=67108863,"Number is too big");var pe=this.words[0]|0;le=pe===ae?0:pe<ae?-1:1}return this.negative!==0?-le|0:le},ie.prototype.cmp=function(ae){if(this.negative!==0&&ae.negative===0)return-1;if(this.negative===0&&ae.negative!==0)return 1;var ce=this.ucmp(ae);return this.negative!==0?-ce|0:ce},ie.prototype.ucmp=function(ae){if(this.length>ae.length)return 1;if(this.length<ae.length)return-1;for(var ce=0,le=this.length-1;le>=0;le--){var pe=this.words[le]|0,_e=ae.words[le]|0;if(pe!==_e){pe<_e?ce=-1:pe>_e&&(ce=1);break}}return ce},ie.prototype.gtn=function(ae){return this.cmpn(ae)===1},ie.prototype.gt=function(ae){return this.cmp(ae)===1},ie.prototype.gten=function(ae){return this.cmpn(ae)>=0},ie.prototype.gte=function(ae){return this.cmp(ae)>=0},ie.prototype.ltn=function(ae){return this.cmpn(ae)===-1},ie.prototype.lt=function(ae){return this.cmp(ae)===-1},ie.prototype.lten=function(ae){return this.cmpn(ae)<=0},ie.prototype.lte=function(ae){return this.cmp(ae)<=0},ie.prototype.eqn=function(ae){return this.cmpn(ae)===0},ie.prototype.eq=function(ae){return this.cmp(ae)===0},ie.red=function(ae){return new st(ae)},ie.prototype.toRed=function(ae){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),ae.convertTo(this)._forceRed(ae)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(ae){return this.red=ae,this},ie.prototype.forceRed=function(ae){return ne(!this.red,"Already a number in reduction context"),this._forceRed(ae)},ie.prototype.redAdd=function(ae){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,ae)},ie.prototype.redIAdd=function(ae){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ae)},ie.prototype.redSub=function(ae){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,ae)},ie.prototype.redISub=function(ae){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,ae)},ie.prototype.redShl=function(ae){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,ae)},ie.prototype.redMul=function(ae){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.mul(this,ae)},ie.prototype.redIMul=function(ae){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.imul(this,ae)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(ae){return ne(this.red&&!ae.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ae)};var He={k256:null,p224:null,p192:null,p25519:null};function Ke(ye,ae){this.name=ye,this.p=new ie(ae,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ke.prototype._tmp=function(){var ae=new ie(null);return ae.words=new Array(Math.ceil(this.n/13)),ae},Ke.prototype.ireduce=function(ae){var ce=ae,le;do this.split(ce,this.tmp),ce=this.imulK(ce),ce=ce.iadd(this.tmp),le=ce.bitLength();while(le>this.n);var pe=le<this.n?-1:ce.ucmp(this.p);return pe===0?(ce.words[0]=0,ce.length=1):pe>0?ce.isub(this.p):ce.strip!==void 0?ce.strip():ce._strip(),ce},Ke.prototype.split=function(ae,ce){ae.iushrn(this.n,0,ce)},Ke.prototype.imulK=function(ae){return ae.imul(this.k)};function Ge(){Ke.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}oe(Ge,Ke),Ge.prototype.split=function(ae,ce){for(var le=4194303,pe=Math.min(ae.length,9),_e=0;_e<pe;_e++)ce.words[_e]=ae.words[_e];if(ce.length=pe,ae.length<=9){ae.words[0]=0,ae.length=1;return}var $e=ae.words[9];for(ce.words[ce.length++]=$e&le,_e=10;_e<ae.length;_e++){var Ee=ae.words[_e]|0;ae.words[_e-10]=(Ee&le)<<4|$e>>>22,$e=Ee}$e>>>=22,ae.words[_e-10]=$e,$e===0&&ae.length>10?ae.length-=10:ae.length-=9},Ge.prototype.imulK=function(ae){ae.words[ae.length]=0,ae.words[ae.length+1]=0,ae.length+=2;for(var ce=0,le=0;le<ae.length;le++){var pe=ae.words[le]|0;ce+=pe*977,ae.words[le]=ce&67108863,ce=pe*64+(ce/67108864|0)}return ae.words[ae.length-1]===0&&(ae.length--,ae.words[ae.length-1]===0&&ae.length--),ae};function ut(){Ke.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}oe(ut,Ke);function Ve(){Ke.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}oe(Ve,Ke);function nt(){Ke.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}oe(nt,Ke),nt.prototype.imulK=function(ae){for(var ce=0,le=0;le<ae.length;le++){var pe=(ae.words[le]|0)*19+ce,_e=pe&67108863;pe>>>=26,ae.words[le]=_e,ce=pe}return ce!==0&&(ae.words[ae.length++]=ce),ae},ie._prime=function(ae){if(He[ae])return He[ae];var ce;if(ae==="k256")ce=new Ge;else if(ae==="p224")ce=new ut;else if(ae==="p192")ce=new Ve;else if(ae==="p25519")ce=new nt;else throw new Error("Unknown prime "+ae);return He[ae]=ce,ce};function st(ye){if(typeof ye=="string"){var ae=ie._prime(ye);this.m=ae.p,this.prime=ae}else ne(ye.gtn(1),"modulus must be greater than 1"),this.m=ye,this.prime=null}st.prototype._verify1=function(ae){ne(ae.negative===0,"red works only with positives"),ne(ae.red,"red works only with red numbers")},st.prototype._verify2=function(ae,ce){ne((ae.negative|ce.negative)===0,"red works only with positives"),ne(ae.red&&ae.red===ce.red,"red works only with red numbers")},st.prototype.imod=function(ae){return this.prime?this.prime.ireduce(ae)._forceRed(this):ae.umod(this.m)._forceRed(this)},st.prototype.neg=function(ae){return ae.isZero()?ae.clone():this.m.sub(ae)._forceRed(this)},st.prototype.add=function(ae,ce){this._verify2(ae,ce);var le=ae.add(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le._forceRed(this)},st.prototype.iadd=function(ae,ce){this._verify2(ae,ce);var le=ae.iadd(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le},st.prototype.sub=function(ae,ce){this._verify2(ae,ce);var le=ae.sub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le._forceRed(this)},st.prototype.isub=function(ae,ce){this._verify2(ae,ce);var le=ae.isub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le},st.prototype.shl=function(ae,ce){return this._verify1(ae),this.imod(ae.ushln(ce))},st.prototype.imul=function(ae,ce){return this._verify2(ae,ce),this.imod(ae.imul(ce))},st.prototype.mul=function(ae,ce){return this._verify2(ae,ce),this.imod(ae.mul(ce))},st.prototype.isqr=function(ae){return this.imul(ae,ae.clone())},st.prototype.sqr=function(ae){return this.mul(ae,ae)},st.prototype.sqrt=function(ae){if(ae.isZero())return ae.clone();var ce=this.m.andln(3);if(ne(ce%2===1),ce===3){var le=this.m.add(new ie(1)).iushrn(2);return this.pow(ae,le)}for(var pe=this.m.subn(1),_e=0;!pe.isZero()&&pe.andln(1)===0;)_e++,pe.iushrn(1);ne(!pe.isZero());var $e=new ie(1).toRed(this),Ee=$e.redNeg(),me=this.m.subn(1).iushrn(1),fe=this.m.bitLength();for(fe=new ie(2*fe*fe).toRed(this);this.pow(fe,me).cmp(Ee)!==0;)fe.redIAdd(Ee);for(var we=this.pow(fe,pe),Me=this.pow(ae,pe.addn(1).iushrn(1)),Le=this.pow(ae,pe),Je=_e;Le.cmp($e)!==0;){for(var Ue=Le,ct=0;Ue.cmp($e)!==0;ct++)Ue=Ue.redSqr();ne(ct<Je);var gt=this.pow(we,new ie(1).iushln(Je-ct-1));Me=Me.redMul(gt),we=gt.redSqr(),Le=Le.redMul(we),Je=ct}return Me},st.prototype.invm=function(ae){var ce=ae._invmp(this.m);return ce.negative!==0?(ce.negative=0,this.imod(ce).redNeg()):this.imod(ce)},st.prototype.pow=function(ae,ce){if(ce.isZero())return new ie(1).toRed(this);if(ce.cmpn(1)===0)return ae.clone();var le=4,pe=new Array(1<<le);pe[0]=new ie(1).toRed(this),pe[1]=ae;for(var _e=2;_e<pe.length;_e++)pe[_e]=this.mul(pe[_e-1],ae);var $e=pe[0],Ee=0,me=0,fe=ce.bitLength()%26;for(fe===0&&(fe=26),_e=ce.length-1;_e>=0;_e--){for(var we=ce.words[_e],Me=fe-1;Me>=0;Me--){var Le=we>>Me&1;if($e!==pe[0]&&($e=this.sqr($e)),Le===0&&Ee===0){me=0;continue}Ee<<=1,Ee|=Le,me++,!(me!==le&&(_e!==0||Me!==0))&&($e=this.mul($e,pe[Ee]),me=0,Ee=0)}fe=26}return $e},st.prototype.convertTo=function(ae){var ce=ae.umod(this.m);return ce===ae?ce.clone():ce},st.prototype.convertFrom=function(ae){var ce=ae.clone();return ce.red=null,ce},ie.mont=function(ae){return new qe(ae)};function qe(ye){st.call(this,ye),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}oe(qe,st),qe.prototype.convertTo=function(ae){return this.imod(ae.ushln(this.shift))},qe.prototype.convertFrom=function(ae){var ce=this.imod(ae.mul(this.rinv));return ce.red=null,ce},qe.prototype.imul=function(ae,ce){if(ae.isZero()||ce.isZero())return ae.words[0]=0,ae.length=1,ae;var le=ae.imul(ce),pe=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_e=le.isub(pe).iushrn(this.shift),$e=_e;return _e.cmp(this.m)>=0?$e=_e.isub(this.m):_e.cmpn(0)<0&&($e=_e.iadd(this.m)),$e._forceRed(this)},qe.prototype.mul=function(ae,ce){if(ae.isZero()||ce.isZero())return new ie(0)._forceRed(this);var le=ae.mul(ce),pe=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_e=le.isub(pe).iushrn(this.shift),$e=_e;return _e.cmp(this.m)>=0?$e=_e.isub(this.m):_e.cmpn(0)<0&&($e=_e.iadd(this.m)),$e._forceRed(this)},qe.prototype.invm=function(ae){var ce=this.imod(ae._invmp(this.m).mul(this.r2));return ce._forceRed(this)}})(te,commonjsGlobal)})(bn$6);var _BN=bn$6.exports;const version$p="logger/5.6.0";let _permanentCensorErrors$1=!1,_censorErrors$1=!1;const LogLevels$1={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel$1=LogLevels$1.default,_globalLogger$1=null;function _checkNormalize$1(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError$1=_checkNormalize$1();var LogLevel$1;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel$1||(LogLevel$1={}));var ErrorCode$1;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$1||(ErrorCode$1={}));const HEX$1="0123456789abcdef";class Logger$2{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels$1[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel$1>LogLevels$1[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$2.levels.DEBUG,ee)}info(...ee){this._log(Logger$2.levels.INFO,ee)}warn(...ee){this._log(Logger$2.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors$1)return this.makeError("censored error",re,{});re||(re=Logger$2.errors.UNKNOWN_ERROR),ne||(ne={});const oe=[];Object.keys(ne).forEach(he=>{const ge=ne[he];try{if(ge instanceof Uint8Array){let be="";for(let Se=0;Se<ge.length;Se++)be+=HEX$1[ge[Se]>>4],be+=HEX$1[ge[Se]&15];oe.push(he+"=Uint8Array(0x"+be+")")}else oe.push(he+"="+JSON.stringify(ge))}catch{oe.push(he+"="+JSON.stringify(ne[he].toString()))}}),oe.push(`code=${re}`),oe.push(`version=${this.version}`);const ie=ee;let se="";switch(re){case ErrorCode$1.NUMERIC_FAULT:{se="NUMERIC_FAULT";const he=ee;switch(he){case"overflow":case"underflow":case"division-by-zero":se+="-"+he;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode$1.CALL_EXCEPTION:case ErrorCode$1.INSUFFICIENT_FUNDS:case ErrorCode$1.MISSING_NEW:case ErrorCode$1.NONCE_EXPIRED:case ErrorCode$1.REPLACEMENT_UNDERPRICED:case ErrorCode$1.TRANSACTION_REPLACED:case ErrorCode$1.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),oe.length&&(ee+=" ("+oe.join(", ")+")");const ue=new Error(ee);return ue.reason=ie,ue.code=re,Object.keys(ne).forEach(function(he){ue[he]=ne[he]}),ue}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$2.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,oe){ee||this.throwError(re,ne,oe)}assertArgument(ee,re,ne,oe){ee||this.throwArgumentError(re,ne,oe)}checkNormalize(ee){_normalizeError$1&&this.throwError("platform missing String.prototype.normalize",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError$1})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$2.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$2.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$2.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$2.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$2.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$2.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$2.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger$1||(_globalLogger$1=new Logger$2(version$p)),_globalLogger$1}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors$1){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors$1=!!ee,_permanentCensorErrors$1=!!re}static setLogLevel(ee){const re=LogLevels$1[ee.toLowerCase()];if(re==null){Logger$2.globalLogger().warn("invalid log level - "+ee);return}_logLevel$1=re}static from(ee){return new Logger$2(ee)}}Logger$2.errors=ErrorCode$1;Logger$2.levels=LogLevel$1;const version$o="bytes/5.6.1",logger$q=new Logger$2(version$o);function isHexable$1(te){return!!te.toHexString}function addSlice$1(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice$1(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isBytesLike(te){return isHexString$4(te)&&!(te.length%2)||isBytes$1(te)}function isInteger$1(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes$1(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger$1(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger$1(re)||re<0||re>=256)return!1}return!0}function arrayify$1(te,ee){if(ee||(ee={}),typeof te=="number"){logger$q.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice$1(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$1(te)&&(te=te.toHexString()),isHexString$4(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0"+re:ee.hexPad==="right"?re+="0":logger$q.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let oe=0;oe<re.length;oe+=2)ne.push(parseInt(re.substring(oe,oe+2),16));return addSlice$1(new Uint8Array(ne))}return isBytes$1(te)?addSlice$1(new Uint8Array(te)):logger$q.throwArgumentError("invalid arrayify value","value",te)}function concat(te){const ee=te.map(oe=>arrayify$1(oe)),re=ee.reduce((oe,ie)=>oe+ie.length,0),ne=new Uint8Array(re);return ee.reduce((oe,ie)=>(ne.set(ie,oe),oe+ie.length),0),addSlice$1(ne)}function stripZeros(te){let ee=arrayify$1(te);if(ee.length===0)return ee;let re=0;for(;re<ee.length&&ee[re]===0;)re++;return re&&(ee=ee.slice(re)),ee}function zeroPad(te,ee){te=arrayify$1(te),te.length>ee&&logger$q.throwArgumentError("value out of range","value",arguments[0]);const re=new Uint8Array(ee);return re.set(te,ee-te.length),addSlice$1(re)}function isHexString$4(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const HexCharacters="0123456789abcdef";function hexlify(te,ee){if(ee||(ee={}),typeof te=="number"){logger$q.checkSafeUint53(te,"invalid hexlify value");let re="";for(;te;)re=HexCharacters[te&15]+re,te=Math.floor(te/16);return re.length?(re.length%2&&(re="0"+re),"0x"+re):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable$1(te))return te.toHexString();if(isHexString$4(te))return te.length%2&&(ee.hexPad==="left"?te="0x0"+te.substring(2):ee.hexPad==="right"?te+="0":logger$q.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(isBytes$1(te)){let re="0x";for(let ne=0;ne<te.length;ne++){let oe=te[ne];re+=HexCharacters[(oe&240)>>4]+HexCharacters[oe&15]}return re}return logger$q.throwArgumentError("invalid hexlify value","value",te)}function hexDataLength(te){if(typeof te!="string")te=hexlify(te);else if(!isHexString$4(te)||te.length%2)return null;return(te.length-2)/2}function hexDataSlice(te,ee,re){return typeof te!="string"?te=hexlify(te):(!isHexString$4(te)||te.length%2)&&logger$q.throwArgumentError("invalid hexData","value",te),ee=2+2*ee,re!=null?"0x"+te.substring(ee,2+2*re):"0x"+te.substring(ee)}function hexConcat(te){let ee="0x";return te.forEach(re=>{ee+=hexlify(re).substring(2)}),ee}function hexValue(te){const ee=hexStripZeros(hexlify(te,{hexPad:"left"}));return ee==="0x"?"0x0":ee}function hexStripZeros(te){typeof te!="string"&&(te=hexlify(te)),isHexString$4(te)||logger$q.throwArgumentError("invalid hex string","value",te),te=te.substring(2);let ee=0;for(;ee<te.length&&te[ee]==="0";)ee++;return"0x"+te.substring(ee)}function hexZeroPad(te,ee){for(typeof te!="string"?te=hexlify(te):isHexString$4(te)||logger$q.throwArgumentError("invalid hex string","value",te),te.length>2*ee+2&&logger$q.throwArgumentError("value out of range","value",arguments[1]);te.length<2*ee+2;)te="0x0"+te.substring(2);return te}function splitSignature(te){const ee={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(te)){let re=arrayify$1(te);re.length===64?(ee.v=27+(re[32]>>7),re[32]&=127,ee.r=hexlify(re.slice(0,32)),ee.s=hexlify(re.slice(32,64))):re.length===65?(ee.r=hexlify(re.slice(0,32)),ee.s=hexlify(re.slice(32,64)),ee.v=re[64]):logger$q.throwArgumentError("invalid signature string","signature",te),ee.v<27&&(ee.v===0||ee.v===1?ee.v+=27:logger$q.throwArgumentError("signature invalid v byte","signature",te)),ee.recoveryParam=1-ee.v%2,ee.recoveryParam&&(re[32]|=128),ee._vs=hexlify(re.slice(32,64))}else{if(ee.r=te.r,ee.s=te.s,ee.v=te.v,ee.recoveryParam=te.recoveryParam,ee._vs=te._vs,ee._vs!=null){const oe=zeroPad(arrayify$1(ee._vs),32);ee._vs=hexlify(oe);const ie=oe[0]>=128?1:0;ee.recoveryParam==null?ee.recoveryParam=ie:ee.recoveryParam!==ie&&logger$q.throwArgumentError("signature recoveryParam mismatch _vs","signature",te),oe[0]&=127;const se=hexlify(oe);ee.s==null?ee.s=se:ee.s!==se&&logger$q.throwArgumentError("signature v mismatch _vs","signature",te)}if(ee.recoveryParam==null)ee.v==null?logger$q.throwArgumentError("signature missing v and recoveryParam","signature",te):ee.v===0||ee.v===1?ee.recoveryParam=ee.v:ee.recoveryParam=1-ee.v%2;else if(ee.v==null)ee.v=27+ee.recoveryParam;else{const oe=ee.v===0||ee.v===1?ee.v:1-ee.v%2;ee.recoveryParam!==oe&&logger$q.throwArgumentError("signature recoveryParam mismatch v","signature",te)}ee.r==null||!isHexString$4(ee.r)?logger$q.throwArgumentError("signature missing or invalid r","signature",te):ee.r=hexZeroPad(ee.r,32),ee.s==null||!isHexString$4(ee.s)?logger$q.throwArgumentError("signature missing or invalid s","signature",te):ee.s=hexZeroPad(ee.s,32);const re=arrayify$1(ee.s);re[0]>=128&&logger$q.throwArgumentError("signature s out of range","signature",te),ee.recoveryParam&&(re[0]|=128);const ne=hexlify(re);ee._vs&&(isHexString$4(ee._vs)||logger$q.throwArgumentError("signature invalid _vs","signature",te),ee._vs=hexZeroPad(ee._vs,32)),ee._vs==null?ee._vs=ne:ee._vs!==ne&&logger$q.throwArgumentError("signature _vs mismatch v and s","signature",te)}return ee.yParityAndS=ee._vs,ee.compact=ee.r+ee.yParityAndS.substring(2),ee}const version$n="bignumber/5.6.1";var BN$h=_BN.BN;const logger$p=new Logger$2(version$n),_constructorGuard$3={},MAX_SAFE=9007199254740991;function isBigNumberish(te){return te!=null&&(BigNumber.isBigNumber(te)||typeof te=="number"&&te%1===0||typeof te=="string"&&!!te.match(/^-?[0-9]+$/)||isHexString$4(te)||typeof te=="bigint"||isBytes$1(te))}let _warnedToStringRadix=!1;class BigNumber{constructor(ee,re){ee!==_constructorGuard$3&&logger$p.throwError("cannot call constructor directly; use BigNumber.from",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=re,this._isBigNumber=!0,Object.freeze(this)}fromTwos(ee){return toBigNumber(toBN(this).fromTwos(ee))}toTwos(ee){return toBigNumber(toBN(this).toTwos(ee))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(ee){return toBigNumber(toBN(this).add(toBN(ee)))}sub(ee){return toBigNumber(toBN(this).sub(toBN(ee)))}div(ee){return BigNumber.from(ee).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(ee)))}mul(ee){return toBigNumber(toBN(this).mul(toBN(ee)))}mod(ee){const re=toBN(ee);return re.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(re))}pow(ee){const re=toBN(ee);return re.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(re))}and(ee){const re=toBN(ee);return(this.isNegative()||re.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(re))}or(ee){const re=toBN(ee);return(this.isNegative()||re.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(re))}xor(ee){const re=toBN(ee);return(this.isNegative()||re.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(re))}mask(ee){return(this.isNegative()||ee<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(ee))}shl(ee){return(this.isNegative()||ee<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(ee))}shr(ee){return(this.isNegative()||ee<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(ee))}eq(ee){return toBN(this).eq(toBN(ee))}lt(ee){return toBN(this).lt(toBN(ee))}lte(ee){return toBN(this).lte(toBN(ee))}gt(ee){return toBN(this).gt(toBN(ee))}gte(ee){return toBN(this).gte(toBN(ee))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$p.throwError("this platform does not support BigInt",Logger$2.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$p.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$p.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$2.errors.UNEXPECTED_ARGUMENT,{}):logger$p.throwError("BigNumber.toString does not accept parameters",Logger$2.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(ee){return{type:"BigNumber",hex:this.toHexString()}}static from(ee){if(ee instanceof BigNumber)return ee;if(typeof ee=="string")return ee.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$3,toHex$2(ee)):ee.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$3,toHex$2(new BN$h(ee))):logger$p.throwArgumentError("invalid BigNumber string","value",ee);if(typeof ee=="number")return ee%1&&throwFault$1("underflow","BigNumber.from",ee),(ee>=MAX_SAFE||ee<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",ee),BigNumber.from(String(ee));const re=ee;if(typeof re=="bigint")return BigNumber.from(re.toString());if(isBytes$1(re))return BigNumber.from(hexlify(re));if(re)if(re.toHexString){const ne=re.toHexString();if(typeof ne=="string")return BigNumber.from(ne)}else{let ne=re._hex;if(ne==null&&re.type==="BigNumber"&&(ne=re.hex),typeof ne=="string"&&(isHexString$4(ne)||ne[0]==="-"&&isHexString$4(ne.substring(1))))return BigNumber.from(ne)}return logger$p.throwArgumentError("invalid BigNumber value","value",ee)}static isBigNumber(ee){return!!(ee&&ee._isBigNumber)}}function toHex$2(te){if(typeof te!="string")return toHex$2(te.toString(16));if(te[0]==="-")return te=te.substring(1),te[0]==="-"&&logger$p.throwArgumentError("invalid hex","value",te),te=toHex$2(te),te==="0x00"?te:"-"+te;if(te.substring(0,2)!=="0x"&&(te="0x"+te),te==="0x")return"0x00";for(te.length%2&&(te="0x0"+te.substring(2));te.length>4&&te.substring(0,4)==="0x00";)te="0x"+te.substring(4);return te}function toBigNumber(te){return BigNumber.from(toHex$2(te))}function toBN(te){const ee=BigNumber.from(te).toHexString();return ee[0]==="-"?new BN$h("-"+ee.substring(3),16):new BN$h(ee.substring(2),16)}function throwFault$1(te,ee,re){const ne={fault:te,operation:ee};return re!=null&&(ne.value=re),logger$p.throwError(te,Logger$2.errors.NUMERIC_FAULT,ne)}function _base36To16(te){return new BN$h(te,36).toString(16)}const logger$o=new Logger$2(version$n),_constructorGuard$2={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault(te,ee,re,ne){const oe={fault:ee,operation:re};return ne!==void 0&&(oe.value=ne),logger$o.throwError(te,Logger$2.errors.NUMERIC_FAULT,oe)}let zeros$1="0";for(;zeros$1.length<256;)zeros$1+=zeros$1;function getMultiplier(te){if(typeof te!="number")try{te=BigNumber.from(te).toNumber()}catch{}return typeof te=="number"&&te>=0&&te<=256&&!(te%1)?"1"+zeros$1.substring(0,te):logger$o.throwArgumentError("invalid decimal size","decimals",te)}function formatFixed(te,ee){ee==null&&(ee=0);const re=getMultiplier(ee);te=BigNumber.from(te);const ne=te.lt(Zero$2);ne&&(te=te.mul(NegativeOne$2));let oe=te.mod(re).toString();for(;oe.length<re.length-1;)oe="0"+oe;oe=oe.match(/^([0-9]*[1-9]|0)(0*)/)[1];const ie=te.div(re).toString();return re.length===1?te=ie:te=ie+"."+oe,ne&&(te="-"+te),te}function parseFixed(te,ee){ee==null&&(ee=0);const re=getMultiplier(ee);(typeof te!="string"||!te.match(/^-?[0-9.]+$/))&&logger$o.throwArgumentError("invalid decimal value","value",te);const ne=te.substring(0,1)==="-";ne&&(te=te.substring(1)),te==="."&&logger$o.throwArgumentError("missing value","value",te);const oe=te.split(".");oe.length>2&&logger$o.throwArgumentError("too many decimal points","value",te);let ie=oe[0],se=oe[1];for(ie||(ie="0"),se||(se="0");se[se.length-1]==="0";)se=se.substring(0,se.length-1);for(se.length>re.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),se===""&&(se="0");se.length<re.length-1;)se+="0";const ue=BigNumber.from(ie),he=BigNumber.from(se);let ge=ue.mul(re).add(he);return ne&&(ge=ge.mul(NegativeOne$2)),ge}class FixedFormat{constructor(ee,re,ne,oe){ee!==_constructorGuard$2&&logger$o.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=re,this.width=ne,this.decimals=oe,this.name=(re?"":"u")+"fixed"+String(ne)+"x"+String(oe),this._multiplier=getMultiplier(oe),Object.freeze(this)}static from(ee){if(ee instanceof FixedFormat)return ee;typeof ee=="number"&&(ee=`fixed128x${ee}`);let re=!0,ne=128,oe=18;if(typeof ee=="string"){if(ee!=="fixed")if(ee==="ufixed")re=!1;else{const ie=ee.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ie||logger$o.throwArgumentError("invalid fixed format","format",ee),re=ie[1]!=="u",ne=parseInt(ie[2]),oe=parseInt(ie[3])}}else if(ee){const ie=(se,ue,he)=>ee[se]==null?he:(typeof ee[se]!==ue&&logger$o.throwArgumentError("invalid fixed format ("+se+" not "+ue+")","format."+se,ee[se]),ee[se]);re=ie("signed","boolean",re),ne=ie("width","number",ne),oe=ie("decimals","number",oe)}return ne%8&&logger$o.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",ne),oe>80&&logger$o.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",oe),new FixedFormat(_constructorGuard$2,re,ne,oe)}}class FixedNumber{constructor(ee,re,ne,oe){ee!==_constructorGuard$2&&logger$o.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=oe,this._hex=re,this._value=ne,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(ee){this.format.name!==ee.format.name&&logger$o.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",ee)}addUnsafe(ee){this._checkFormat(ee);const re=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(re.add(ne),this.format.decimals,this.format)}subUnsafe(ee){this._checkFormat(ee);const re=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(re.sub(ne),this.format.decimals,this.format)}mulUnsafe(ee){this._checkFormat(ee);const re=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(re.mul(ne).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(ee){this._checkFormat(ee);const re=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(re.mul(this.format._multiplier).div(ne),this.format.decimals,this.format)}floor(){const ee=this.toString().split(".");ee.length===1&&ee.push("0");let re=FixedNumber.from(ee[0],this.format);const ne=!ee[1].match(/^(0*)$/);return this.isNegative()&&ne&&(re=re.subUnsafe(ONE.toFormat(re.format))),re}ceiling(){const ee=this.toString().split(".");ee.length===1&&ee.push("0");let re=FixedNumber.from(ee[0],this.format);const ne=!ee[1].match(/^(0*)$/);return!this.isNegative()&&ne&&(re=re.addUnsafe(ONE.toFormat(re.format))),re}round(ee){ee==null&&(ee=0);const re=this.toString().split(".");if(re.length===1&&re.push("0"),(ee<0||ee>80||ee%1)&&logger$o.throwArgumentError("invalid decimal count","decimals",ee),re[1].length<=ee)return this;const ne=FixedNumber.from("1"+zeros$1.substring(0,ee),this.format),oe=BUMP.toFormat(this.format);return this.mulUnsafe(ne).addUnsafe(oe).floor().divUnsafe(ne)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(ee){if(ee==null)return this._hex;ee%8&&logger$o.throwArgumentError("invalid byte width","width",ee);const re=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(ee).toHexString();return hexZeroPad(re,ee/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(ee){return FixedNumber.fromString(this._value,ee)}static fromValue(ee,re,ne){return ne==null&&re!=null&&!isBigNumberish(re)&&(ne=re,re=null),re==null&&(re=0),ne==null&&(ne="fixed"),FixedNumber.fromString(formatFixed(ee,re),FixedFormat.from(ne))}static fromString(ee,re){re==null&&(re="fixed");const ne=FixedFormat.from(re),oe=parseFixed(ee,ne.decimals);!ne.signed&&oe.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",ee);let ie=null;ne.signed?ie=oe.toTwos(ne.width).toHexString():(ie=oe.toHexString(),ie=hexZeroPad(ie,ne.width/8));const se=formatFixed(oe,ne.decimals);return new FixedNumber(_constructorGuard$2,ie,se,ne)}static fromBytes(ee,re){re==null&&(re="fixed");const ne=FixedFormat.from(re);if(arrayify$1(ee).length>ne.width/8)throw new Error("overflow");let oe=BigNumber.from(ee);ne.signed&&(oe=oe.fromTwos(ne.width));const ie=oe.toTwos((ne.signed?0:1)+ne.width).toHexString(),se=formatFixed(oe,ne.decimals);return new FixedNumber(_constructorGuard$2,ie,se,ne)}static from(ee,re){if(typeof ee=="string")return FixedNumber.fromString(ee,re);if(isBytes$1(ee))return FixedNumber.fromBytes(ee,re);try{return FixedNumber.fromValue(ee,0,re)}catch(ne){if(ne.code!==Logger$2.errors.INVALID_ARGUMENT)throw ne}return logger$o.throwArgumentError("invalid FixedNumber value","value",ee)}static isFixedNumber(ee){return!!(ee&&ee._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$m="properties/5.6.0";var __awaiter$9=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function oe(ie){return ie instanceof re?ie:new re(function(se){se(ie)})}return new(re||(re=Promise))(function(ie,se){function ue(be){try{ge(ne.next(be))}catch(Se){se(Se)}}function he(be){try{ge(ne.throw(be))}catch(Se){se(Se)}}function ge(be){be.done?ie(be.value):oe(be.value).then(ue,he)}ge((ne=ne.apply(te,ee||[])).next())})};const logger$n=new Logger$2(version$m);function defineReadOnly(te,ee,re){Object.defineProperty(te,ee,{enumerable:!0,value:re,writable:!1})}function getStatic(te,ee){for(let re=0;re<32;re++){if(te[ee])return te[ee];if(!te.prototype||typeof te.prototype!="object")break;te=Object.getPrototypeOf(te.prototype).constructor}return null}function resolveProperties(te){return __awaiter$9(this,void 0,void 0,function*(){const ee=Object.keys(te).map(ne=>{const oe=te[ne];return Promise.resolve(oe).then(ie=>({key:ne,value:ie}))});return(yield Promise.all(ee)).reduce((ne,oe)=>(ne[oe.key]=oe.value,ne),{})})}function checkProperties(te,ee){(!te||typeof te!="object")&&logger$n.throwArgumentError("invalid object","object",te),Object.keys(te).forEach(re=>{ee[re]||logger$n.throwArgumentError("invalid object key - "+re,"transaction:"+re,te)})}function shallowCopy(te){const ee={};for(const re in te)ee[re]=te[re];return ee}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(te){if(te==null||opaque[typeof te])return!0;if(Array.isArray(te)||typeof te=="object"){if(!Object.isFrozen(te))return!1;const ee=Object.keys(te);for(let re=0;re<ee.length;re++){let ne=null;try{ne=te[ee[re]]}catch{continue}if(!_isFrozen(ne))return!1}return!0}return logger$n.throwArgumentError(`Cannot deepCopy ${typeof te}`,"object",te)}function _deepCopy(te){if(_isFrozen(te))return te;if(Array.isArray(te))return Object.freeze(te.map(ee=>deepCopy(ee)));if(typeof te=="object"){const ee={};for(const re in te){const ne=te[re];ne!==void 0&&defineReadOnly(ee,re,deepCopy(ne))}return ee}return logger$n.throwArgumentError(`Cannot deepCopy ${typeof te}`,"object",te)}function deepCopy(te){return _deepCopy(te)}class Description{constructor(ee){for(const re in ee)this[re]=deepCopy(ee[re])}}const version$l="abi/5.6.2",logger$m=new Logger$2(version$l),_constructorGuard$1={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(te,ee){if(te==="bytes"||te==="string"){if(ModifiersBytes[ee])return!0}else if(te==="address"){if(ee==="payable")return!0}else if((te.indexOf("[")>=0||te==="tuple")&&ModifiersNest[ee])return!0;return(ModifiersBytes[ee]||ee==="payable")&&logger$m.throwArgumentError("invalid modifier","name",ee),!1}function parseParamType(te,ee){let re=te;function ne(ue){logger$m.throwArgumentError(`unexpected character at position ${ue}`,"param",te)}te=te.replace(/\s/g," ");function oe(ue){let he={type:"",name:"",parent:ue,state:{allowType:!0}};return ee&&(he.indexed=!1),he}let ie={type:"",name:"",state:{allowType:!0}},se=ie;for(let ue=0;ue<te.length;ue++){let he=te[ue];switch(he){case"(":se.state.allowType&&se.type===""?se.type="tuple":se.state.allowParams||ne(ue),se.state.allowType=!1,se.type=verifyType(se.type),se.components=[oe(se)],se=se.components[0];break;case")":delete se.state,se.name==="indexed"&&(ee||ne(ue),se.indexed=!0,se.name=""),checkModifier(se.type,se.name)&&(se.name=""),se.type=verifyType(se.type);let ge=se;se=se.parent,se||ne(ue),delete ge.parent,se.state.allowParams=!1,se.state.allowName=!0,se.state.allowArray=!0;break;case",":delete se.state,se.name==="indexed"&&(ee||ne(ue),se.indexed=!0,se.name=""),checkModifier(se.type,se.name)&&(se.name=""),se.type=verifyType(se.type);let be=oe(se.parent);se.parent.components.push(be),delete se.parent,se=be;break;case" ":se.state.allowType&&se.type!==""&&(se.type=verifyType(se.type),delete se.state.allowType,se.state.allowName=!0,se.state.allowParams=!0),se.state.allowName&&se.name!==""&&(se.name==="indexed"?(ee||ne(ue),se.indexed&&ne(ue),se.indexed=!0,se.name=""):checkModifier(se.type,se.name)?se.name="":se.state.allowName=!1);break;case"[":se.state.allowArray||ne(ue),se.type+=he,se.state.allowArray=!1,se.state.allowName=!1,se.state.readArray=!0;break;case"]":se.state.readArray||ne(ue),se.type+=he,se.state.readArray=!1,se.state.allowArray=!0,se.state.allowName=!0;break;default:se.state.allowType?(se.type+=he,se.state.allowParams=!0,se.state.allowArray=!0):se.state.allowName?(se.name+=he,delete se.state.allowArray):se.state.readArray?se.type+=he:ne(ue)}}return se.parent&&logger$m.throwArgumentError("unexpected eof","param",te),delete ie.state,se.name==="indexed"?(ee||ne(re.length-7),se.indexed&&ne(re.length-7),se.indexed=!0,se.name=""):checkModifier(se.type,se.name)&&(se.name=""),ie.type=verifyType(ie.type),ie}function populate(te,ee){for(let re in ee)defineReadOnly(te,re,ee[re])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(ee,re){ee!==_constructorGuard$1&&logger$m.throwError("use fromString",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,re);let ne=this.type.match(paramTypeArray);ne?populate(this,{arrayLength:parseInt(ne[2]||"-1"),arrayChildren:ParamType.fromObject({type:ne[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$m.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json){let ne={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(ne.indexed=this.indexed),this.components&&(ne.components=this.components.map(oe=>JSON.parse(oe.format(ee)))),JSON.stringify(ne)}let re="";return this.baseType==="array"?(re+=this.arrayChildren.format(ee),re+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(ee!==FormatTypes.sighash&&(re+=this.type),re+="("+this.components.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+")"):re+=this.type,ee!==FormatTypes.sighash&&(this.indexed===!0&&(re+=" indexed"),ee===FormatTypes.full&&this.name&&(re+=" "+this.name)),re}static from(ee,re){return typeof ee=="string"?ParamType.fromString(ee,re):ParamType.fromObject(ee)}static fromObject(ee){return ParamType.isParamType(ee)?ee:new ParamType(_constructorGuard$1,{name:ee.name||null,type:verifyType(ee.type),indexed:ee.indexed==null?null:!!ee.indexed,components:ee.components?ee.components.map(ParamType.fromObject):null})}static fromString(ee,re){function ne(oe){return ParamType.fromObject({name:oe.name,type:oe.type,indexed:oe.indexed,components:oe.components})}return ne(parseParamType(ee,!!re))}static isParamType(ee){return!!(ee!=null&&ee._isParamType)}}function parseParams(te,ee){return splitNesting(te).map(re=>ParamType.fromString(re,ee))}class Fragment{constructor(ee,re){ee!==_constructorGuard$1&&logger$m.throwError("use a static from method",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,re),this._isFragment=!0,Object.freeze(this)}static from(ee){return Fragment.isFragment(ee)?ee:typeof ee=="string"?Fragment.fromString(ee):Fragment.fromObject(ee)}static fromObject(ee){if(Fragment.isFragment(ee))return ee;switch(ee.type){case"function":return FunctionFragment.fromObject(ee);case"event":return EventFragment.fromObject(ee);case"constructor":return ConstructorFragment.fromObject(ee);case"error":return ErrorFragment.fromObject(ee);case"fallback":case"receive":return null}return logger$m.throwArgumentError("invalid fragment object","value",ee)}static fromString(ee){return ee=ee.replace(/\s/g," "),ee=ee.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),ee=ee.trim(),ee.split(" ")[0]==="event"?EventFragment.fromString(ee.substring(5).trim()):ee.split(" ")[0]==="function"?FunctionFragment.fromString(ee.substring(8).trim()):ee.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(ee.trim()):ee.split(" ")[0]==="error"?ErrorFragment.fromString(ee.substring(5).trim()):logger$m.throwArgumentError("unsupported fragment","value",ee)}static isFragment(ee){return!!(ee&&ee._isFragment)}}class EventFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$m.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee)))});let re="";return ee!==FormatTypes.sighash&&(re+="event "),re+=this.name+"("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",ee!==FormatTypes.sighash&&this.anonymous&&(re+="anonymous "),re.trim()}static from(ee){return typeof ee=="string"?EventFragment.fromString(ee):EventFragment.fromObject(ee)}static fromObject(ee){if(EventFragment.isEventFragment(ee))return ee;ee.type!=="event"&&logger$m.throwArgumentError("invalid event object","value",ee);const re={name:verifyIdentifier(ee.name),anonymous:ee.anonymous,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$1,re)}static fromString(ee){let re=ee.match(regexParen);re||logger$m.throwArgumentError("invalid event string","value",ee);let ne=!1;return re[3].split(" ").forEach(oe=>{switch(oe.trim()){case"anonymous":ne=!0;break;case"":break;default:logger$m.warn("unknown modifier: "+oe)}}),EventFragment.fromObject({name:re[1].trim(),anonymous:ne,inputs:parseParams(re[2],!0),type:"event"})}static isEventFragment(ee){return ee&&ee._isFragment&&ee.type==="event"}}function parseGas(te,ee){ee.gas=null;let re=te.split("@");return re.length!==1?(re.length>2&&logger$m.throwArgumentError("invalid human-readable ABI signature","value",te),re[1].match(/^[0-9]+$/)||logger$m.throwArgumentError("invalid human-readable ABI signature gas","value",te),ee.gas=BigNumber.from(re[1]),re[0]):te}function parseModifiers(te,ee){ee.constant=!1,ee.payable=!1,ee.stateMutability="nonpayable",te.split(" ").forEach(re=>{switch(re.trim()){case"constant":ee.constant=!0;break;case"payable":ee.payable=!0,ee.stateMutability="payable";break;case"nonpayable":ee.payable=!1,ee.stateMutability="nonpayable";break;case"pure":ee.constant=!0,ee.stateMutability="pure";break;case"view":ee.constant=!0,ee.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+re)}})}function verifyState(te){let ee={constant:!1,payable:!0,stateMutability:"payable"};return te.stateMutability!=null?(ee.stateMutability=te.stateMutability,ee.constant=ee.stateMutability==="view"||ee.stateMutability==="pure",te.constant!=null&&!!te.constant!==ee.constant&&logger$m.throwArgumentError("cannot have constant function with mutability "+ee.stateMutability,"value",te),ee.payable=ee.stateMutability==="payable",te.payable!=null&&!!te.payable!==ee.payable&&logger$m.throwArgumentError("cannot have payable function with mutability "+ee.stateMutability,"value",te)):te.payable!=null?(ee.payable=!!te.payable,te.constant==null&&!ee.payable&&te.type!=="constructor"&&logger$m.throwArgumentError("unable to determine stateMutability","value",te),ee.constant=!!te.constant,ee.constant?ee.stateMutability="view":ee.stateMutability=ee.payable?"payable":"nonpayable",ee.payable&&ee.constant&&logger$m.throwArgumentError("cannot have constant payable function","value",te)):te.constant!=null?(ee.constant=!!te.constant,ee.payable=!ee.constant,ee.stateMutability=ee.constant?"view":"payable"):te.type!=="constructor"&&logger$m.throwArgumentError("unable to determine stateMutability","value",te),ee}class ConstructorFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$m.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee)))});ee===FormatTypes.sighash&&logger$m.throwError("cannot format a constructor for sighash",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let re="constructor("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(re+=this.stateMutability+" "),re.trim()}static from(ee){return typeof ee=="string"?ConstructorFragment.fromString(ee):ConstructorFragment.fromObject(ee)}static fromObject(ee){if(ConstructorFragment.isConstructorFragment(ee))return ee;ee.type!=="constructor"&&logger$m.throwArgumentError("invalid constructor object","value",ee);let re=verifyState(ee);re.constant&&logger$m.throwArgumentError("constructor cannot be constant","value",ee);const ne={name:null,type:ee.type,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],payable:re.payable,stateMutability:re.stateMutability,gas:ee.gas?BigNumber.from(ee.gas):null};return new ConstructorFragment(_constructorGuard$1,ne)}static fromString(ee){let re={type:"constructor"};ee=parseGas(ee,re);let ne=ee.match(regexParen);return(!ne||ne[1].trim()!=="constructor")&&logger$m.throwArgumentError("invalid constructor string","value",ee),re.inputs=parseParams(ne[2].trim(),!1),parseModifiers(ne[3].trim(),re),ConstructorFragment.fromObject(re)}static isConstructorFragment(ee){return ee&&ee._isFragment&&ee.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$m.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee))),outputs:this.outputs.map(ne=>JSON.parse(ne.format(ee)))});let re="";return ee!==FormatTypes.sighash&&(re+="function "),re+=this.name+"("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",ee!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(re+=this.stateMutability+" "):this.constant&&(re+="view "),this.outputs&&this.outputs.length&&(re+="returns ("+this.outputs.map(ne=>ne.format(ee)).join(", ")+") "),this.gas!=null&&(re+="@"+this.gas.toString()+" ")),re.trim()}static from(ee){return typeof ee=="string"?FunctionFragment.fromString(ee):FunctionFragment.fromObject(ee)}static fromObject(ee){if(FunctionFragment.isFunctionFragment(ee))return ee;ee.type!=="function"&&logger$m.throwArgumentError("invalid function object","value",ee);let re=verifyState(ee);const ne={type:ee.type,name:verifyIdentifier(ee.name),constant:re.constant,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],outputs:ee.outputs?ee.outputs.map(ParamType.fromObject):[],payable:re.payable,stateMutability:re.stateMutability,gas:ee.gas?BigNumber.from(ee.gas):null};return new FunctionFragment(_constructorGuard$1,ne)}static fromString(ee){let re={type:"function"};ee=parseGas(ee,re);let ne=ee.split(" returns ");ne.length>2&&logger$m.throwArgumentError("invalid function string","value",ee);let oe=ne[0].match(regexParen);if(oe||logger$m.throwArgumentError("invalid function signature","value",ee),re.name=oe[1].trim(),re.name&&verifyIdentifier(re.name),re.inputs=parseParams(oe[2],!1),parseModifiers(oe[3].trim(),re),ne.length>1){let ie=ne[1].match(regexParen);(ie[1].trim()!=""||ie[3].trim()!="")&&logger$m.throwArgumentError("unexpected tokens","value",ee),re.outputs=parseParams(ie[2],!1)}else re.outputs=[];return FunctionFragment.fromObject(re)}static isFunctionFragment(ee){return ee&&ee._isFragment&&ee.type==="function"}}function checkForbidden(te){const ee=te.format();return(ee==="Error(string)"||ee==="Panic(uint256)")&&logger$m.throwArgumentError(`cannot specify user defined ${ee} error`,"fragment",te),te}class ErrorFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$m.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee)))});let re="";return ee!==FormatTypes.sighash&&(re+="error "),re+=this.name+"("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",re.trim()}static from(ee){return typeof ee=="string"?ErrorFragment.fromString(ee):ErrorFragment.fromObject(ee)}static fromObject(ee){if(ErrorFragment.isErrorFragment(ee))return ee;ee.type!=="error"&&logger$m.throwArgumentError("invalid error object","value",ee);const re={type:ee.type,name:verifyIdentifier(ee.name),inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$1,re))}static fromString(ee){let re={type:"error"},ne=ee.match(regexParen);return ne||logger$m.throwArgumentError("invalid error signature","value",ee),re.name=ne[1].trim(),re.name&&verifyIdentifier(re.name),re.inputs=parseParams(ne[2],!1),checkForbidden(ErrorFragment.fromObject(re))}static isErrorFragment(ee){return ee&&ee._isFragment&&ee.type==="error"}}function verifyType(te){return te.match(/^uint($|[^1-9])/)?te="uint256"+te.substring(4):te.match(/^int($|[^1-9])/)&&(te="int256"+te.substring(3)),te}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(te){return(!te||!te.match(regexIdentifier))&&logger$m.throwArgumentError(`invalid identifier "${te}"`,"value",te),te}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(te){te=te.trim();let ee=[],re="",ne=0;for(let oe=0;oe<te.length;oe++){let ie=te[oe];ie===","&&ne===0?(ee.push(re),re=""):(re+=ie,ie==="("?ne++:ie===")"&&(ne--,ne===-1&&logger$m.throwArgumentError("unbalanced parenthesis","value",te)))}return re&&ee.push(re),ee}const logger$l=new Logger$2(version$l);function checkResultErrors(te){const ee=[],re=function(ne,oe){if(!!Array.isArray(oe))for(let ie in oe){const se=ne.slice();se.push(ie);try{re(se,oe[ie])}catch(ue){ee.push({path:se,error:ue})}}};return re([],te),ee}class Coder$1{constructor(ee,re,ne,oe){this.name=ee,this.type=re,this.localName=ne,this.dynamic=oe}_throwError(ee,re){logger$l.throwArgumentError(ee,this.localName,re)}}class Writer{constructor(ee){defineReadOnly(this,"wordSize",ee||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(ee)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(ee){return this._data.push(ee),this._dataLength+=ee.length,ee.length}appendWriter(ee){return this._writeData(concat(ee._data))}writeBytes(ee){let re=arrayify$1(ee);const ne=re.length%this.wordSize;return ne&&(re=concat([re,this._padding.slice(ne)])),this._writeData(re)}_getValue(ee){let re=arrayify$1(BigNumber.from(ee));return re.length>this.wordSize&&logger$l.throwError("value out-of-bounds",Logger$2.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:re.length}),re.length%this.wordSize&&(re=concat([this._padding.slice(re.length%this.wordSize),re])),re}writeValue(ee){return this._writeData(this._getValue(ee))}writeUpdatableValue(){const ee=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,re=>{this._data[ee]=this._getValue(re)}}}class Reader{constructor(ee,re,ne,oe){defineReadOnly(this,"_data",arrayify$1(ee)),defineReadOnly(this,"wordSize",re||32),defineReadOnly(this,"_coerceFunc",ne),defineReadOnly(this,"allowLoose",oe),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(ee,re){let ne=ee.match("^u?int([0-9]+)$");return ne&&parseInt(ne[1])<=48&&(re=re.toNumber()),re}coerce(ee,re){return this._coerceFunc?this._coerceFunc(ee,re):Reader.coerce(ee,re)}_peekBytes(ee,re,ne){let oe=Math.ceil(re/this.wordSize)*this.wordSize;return this._offset+oe>this._data.length&&(this.allowLoose&&ne&&this._offset+re<=this._data.length?oe=re:logger$l.throwError("data out-of-bounds",Logger$2.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+oe})),this._data.slice(this._offset,this._offset+oe)}subReader(ee){return new Reader(this._data.slice(this._offset+ee),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(ee,re){let ne=this._peekBytes(0,ee,!!re);return this._offset+=ne.length,ne.slice(0,ee)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}}var browser$7={exports:{}},process=browser$7.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(te){if(cachedSetTimeout===setTimeout)return setTimeout(te,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(te,0);try{return cachedSetTimeout(te,0)}catch{try{return cachedSetTimeout.call(null,te,0)}catch{return cachedSetTimeout.call(this,te,0)}}}function runClearTimeout(te){if(cachedClearTimeout===clearTimeout)return clearTimeout(te);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(te);try{return cachedClearTimeout(te)}catch{try{return cachedClearTimeout.call(null,te)}catch{return cachedClearTimeout.call(this,te)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var te=runTimeout(cleanUpNextTick);draining=!0;for(var ee=queue$1.length;ee;){for(currentQueue=queue$1,queue$1=[];++queueIndex<ee;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,ee=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(te)}}process.nextTick=function(te){var ee=new Array(arguments.length-1);if(arguments.length>1)for(var re=1;re<arguments.length;re++)ee[re-1]=arguments[re];queue$1.push(new Item(te,ee)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(te,ee){this.fun=te,this.array=ee}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$4(){}process.on=noop$4;process.addListener=noop$4;process.once=noop$4;process.off=noop$4;process.removeListener=noop$4;process.removeAllListeners=noop$4;process.emit=noop$4;process.prependListener=noop$4;process.prependOnceListener=noop$4;process.listeners=function(te){return[]};process.binding=function(te){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(te){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var process$1=browser$7.exports,sha3$1={exports:{}};(function(te){(function(){var ee="input is invalid type",re="finalize already called",ne=typeof window=="object",oe=ne?window:{};oe.JS_SHA3_NO_WINDOW&&(ne=!1);var ie=!ne&&typeof self=="object",se=!oe.JS_SHA3_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;se?oe=globalThis:ie&&(oe=self);var ue=!oe.JS_SHA3_NO_COMMON_JS&&!0&&te.exports,he=!oe.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",ge="0123456789abcdef".split(""),be=[31,7936,2031616,520093696],Se=[4,1024,262144,67108864],Te=[1,256,65536,16777216],ke=[6,1536,393216,100663296],Re=[0,8,16,24],Ce=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Pe=[224,256,384,512],Ie=[128,256],Ne=["hex","buffer","arrayBuffer","array","digest"],He={"128":168,"256":136};(oe.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Ue){return Object.prototype.toString.call(Ue)==="[object Array]"}),he&&(oe.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Ue){return typeof Ue=="object"&&Ue.buffer&&Ue.buffer.constructor===ArrayBuffer});for(var Ke=function(Ue,ct,gt){return function($t){return new Me(Ue,ct,Ue).update($t)[gt]()}},Ge=function(Ue,ct,gt){return function($t,vt){return new Me(Ue,ct,vt).update($t)[gt]()}},ut=function(Ue,ct,gt){return function($t,vt,Tt,qt){return le["cshake"+Ue].update($t,vt,Tt,qt)[gt]()}},Ve=function(Ue,ct,gt){return function($t,vt,Tt,qt){return le["kmac"+Ue].update($t,vt,Tt,qt)[gt]()}},nt=function(Ue,ct,gt,$t){for(var vt=0;vt<Ne.length;++vt){var Tt=Ne[vt];Ue[Tt]=ct(gt,$t,Tt)}return Ue},st=function(Ue,ct){var gt=Ke(Ue,ct,"hex");return gt.create=function(){return new Me(Ue,ct,Ue)},gt.update=function($t){return gt.create().update($t)},nt(gt,Ke,Ue,ct)},qe=function(Ue,ct){var gt=Ge(Ue,ct,"hex");return gt.create=function($t){return new Me(Ue,ct,$t)},gt.update=function($t,vt){return gt.create(vt).update($t)},nt(gt,Ge,Ue,ct)},ye=function(Ue,ct){var gt=He[Ue],$t=ut(Ue,ct,"hex");return $t.create=function(vt,Tt,qt){return!Tt&&!qt?le["shake"+Ue].create(vt):new Me(Ue,ct,vt).bytepad([Tt,qt],gt)},$t.update=function(vt,Tt,qt,Rt){return $t.create(Tt,qt,Rt).update(vt)},nt($t,ut,Ue,ct)},ae=function(Ue,ct){var gt=He[Ue],$t=Ve(Ue,ct,"hex");return $t.create=function(vt,Tt,qt){return new Le(Ue,ct,Tt).bytepad(["KMAC",qt],gt).bytepad([vt],gt)},$t.update=function(vt,Tt,qt,Rt){return $t.create(vt,qt,Rt).update(Tt)},nt($t,Ve,Ue,ct)},ce=[{name:"keccak",padding:Te,bits:Pe,createMethod:st},{name:"sha3",padding:ke,bits:Pe,createMethod:st},{name:"shake",padding:be,bits:Ie,createMethod:qe},{name:"cshake",padding:Se,bits:Ie,createMethod:ye},{name:"kmac",padding:Se,bits:Ie,createMethod:ae}],le={},pe=[],_e=0;_e<ce.length;++_e)for(var $e=ce[_e],Ee=$e.bits,me=0;me<Ee.length;++me){var fe=$e.name+"_"+Ee[me];if(pe.push(fe),le[fe]=$e.createMethod(Ee[me],$e.padding),$e.name!=="sha3"){var we=$e.name+Ee[me];pe.push(we),le[we]=le[fe]}}function Me(Ue,ct,gt){this.blocks=[],this.s=[],this.padding=ct,this.outputBits=gt,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Ue<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=gt>>5,this.extraBytes=(gt&31)>>3;for(var $t=0;$t<50;++$t)this.s[$t]=0}Me.prototype.update=function(Ue){if(this.finalized)throw new Error(re);var ct,gt=typeof Ue;if(gt!=="string"){if(gt==="object"){if(Ue===null)throw new Error(ee);if(he&&Ue.constructor===ArrayBuffer)Ue=new Uint8Array(Ue);else if(!Array.isArray(Ue)&&(!he||!ArrayBuffer.isView(Ue)))throw new Error(ee)}else throw new Error(ee);ct=!0}for(var $t=this.blocks,vt=this.byteCount,Tt=Ue.length,qt=this.blockCount,Rt=0,lt=this.s,_t,bt;Rt<Tt;){if(this.reset)for(this.reset=!1,$t[0]=this.block,_t=1;_t<qt+1;++_t)$t[_t]=0;if(ct)for(_t=this.start;Rt<Tt&&_t<vt;++Rt)$t[_t>>2]|=Ue[Rt]<<Re[_t++&3];else for(_t=this.start;Rt<Tt&&_t<vt;++Rt)bt=Ue.charCodeAt(Rt),bt<128?$t[_t>>2]|=bt<<Re[_t++&3]:bt<2048?($t[_t>>2]|=(192|bt>>6)<<Re[_t++&3],$t[_t>>2]|=(128|bt&63)<<Re[_t++&3]):bt<55296||bt>=57344?($t[_t>>2]|=(224|bt>>12)<<Re[_t++&3],$t[_t>>2]|=(128|bt>>6&63)<<Re[_t++&3],$t[_t>>2]|=(128|bt&63)<<Re[_t++&3]):(bt=65536+((bt&1023)<<10|Ue.charCodeAt(++Rt)&1023),$t[_t>>2]|=(240|bt>>18)<<Re[_t++&3],$t[_t>>2]|=(128|bt>>12&63)<<Re[_t++&3],$t[_t>>2]|=(128|bt>>6&63)<<Re[_t++&3],$t[_t>>2]|=(128|bt&63)<<Re[_t++&3]);if(this.lastByteIndex=_t,_t>=vt){for(this.start=_t-vt,this.block=$t[qt],_t=0;_t<qt;++_t)lt[_t]^=$t[_t];Je(lt),this.reset=!0}else this.start=_t}return this},Me.prototype.encode=function(Ue,ct){var gt=Ue&255,$t=1,vt=[gt];for(Ue=Ue>>8,gt=Ue&255;gt>0;)vt.unshift(gt),Ue=Ue>>8,gt=Ue&255,++$t;return ct?vt.push($t):vt.unshift($t),this.update(vt),vt.length},Me.prototype.encodeString=function(Ue){var ct,gt=typeof Ue;if(gt!=="string"){if(gt==="object"){if(Ue===null)throw new Error(ee);if(he&&Ue.constructor===ArrayBuffer)Ue=new Uint8Array(Ue);else if(!Array.isArray(Ue)&&(!he||!ArrayBuffer.isView(Ue)))throw new Error(ee)}else throw new Error(ee);ct=!0}var $t=0,vt=Ue.length;if(ct)$t=vt;else for(var Tt=0;Tt<Ue.length;++Tt){var qt=Ue.charCodeAt(Tt);qt<128?$t+=1:qt<2048?$t+=2:qt<55296||qt>=57344?$t+=3:(qt=65536+((qt&1023)<<10|Ue.charCodeAt(++Tt)&1023),$t+=4)}return $t+=this.encode($t*8),this.update(Ue),$t},Me.prototype.bytepad=function(Ue,ct){for(var gt=this.encode(ct),$t=0;$t<Ue.length;++$t)gt+=this.encodeString(Ue[$t]);var vt=ct-gt%ct,Tt=[];return Tt.length=vt,this.update(Tt),this},Me.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Ue=this.blocks,ct=this.lastByteIndex,gt=this.blockCount,$t=this.s;if(Ue[ct>>2]|=this.padding[ct&3],this.lastByteIndex===this.byteCount)for(Ue[0]=Ue[gt],ct=1;ct<gt+1;++ct)Ue[ct]=0;for(Ue[gt-1]|=2147483648,ct=0;ct<gt;++ct)$t[ct]^=Ue[ct];Je($t)}},Me.prototype.toString=Me.prototype.hex=function(){this.finalize();for(var Ue=this.blockCount,ct=this.s,gt=this.outputBlocks,$t=this.extraBytes,vt=0,Tt=0,qt="",Rt;Tt<gt;){for(vt=0;vt<Ue&&Tt<gt;++vt,++Tt)Rt=ct[vt],qt+=ge[Rt>>4&15]+ge[Rt&15]+ge[Rt>>12&15]+ge[Rt>>8&15]+ge[Rt>>20&15]+ge[Rt>>16&15]+ge[Rt>>28&15]+ge[Rt>>24&15];Tt%Ue===0&&(Je(ct),vt=0)}return $t&&(Rt=ct[vt],qt+=ge[Rt>>4&15]+ge[Rt&15],$t>1&&(qt+=ge[Rt>>12&15]+ge[Rt>>8&15]),$t>2&&(qt+=ge[Rt>>20&15]+ge[Rt>>16&15])),qt},Me.prototype.arrayBuffer=function(){this.finalize();var Ue=this.blockCount,ct=this.s,gt=this.outputBlocks,$t=this.extraBytes,vt=0,Tt=0,qt=this.outputBits>>3,Rt;$t?Rt=new ArrayBuffer(gt+1<<2):Rt=new ArrayBuffer(qt);for(var lt=new Uint32Array(Rt);Tt<gt;){for(vt=0;vt<Ue&&Tt<gt;++vt,++Tt)lt[Tt]=ct[vt];Tt%Ue===0&&Je(ct)}return $t&&(lt[vt]=ct[vt],Rt=Rt.slice(0,qt)),Rt},Me.prototype.buffer=Me.prototype.arrayBuffer,Me.prototype.digest=Me.prototype.array=function(){this.finalize();for(var Ue=this.blockCount,ct=this.s,gt=this.outputBlocks,$t=this.extraBytes,vt=0,Tt=0,qt=[],Rt,lt;Tt<gt;){for(vt=0;vt<Ue&&Tt<gt;++vt,++Tt)Rt=Tt<<2,lt=ct[vt],qt[Rt]=lt&255,qt[Rt+1]=lt>>8&255,qt[Rt+2]=lt>>16&255,qt[Rt+3]=lt>>24&255;Tt%Ue===0&&Je(ct)}return $t&&(Rt=Tt<<2,lt=ct[vt],qt[Rt]=lt&255,$t>1&&(qt[Rt+1]=lt>>8&255),$t>2&&(qt[Rt+2]=lt>>16&255)),qt};function Le(Ue,ct,gt){Me.call(this,Ue,ct,gt)}Le.prototype=new Me,Le.prototype.finalize=function(){return this.encode(this.outputBits,!0),Me.prototype.finalize.call(this)};var Je=function(Ue){var ct,gt,$t,vt,Tt,qt,Rt,lt,_t,bt,Qe,ze,De,Ze,yt,dt,mt,Lt,St,Bt,Gt,Ae,ve,xe,Be,We,et,Xe,Mt,Vt,At,Nt,zt,Ht,Qt,Ir,jt,Xt,$r,Ft,Zt,kr,Wt,er,Pr,Ot,tr,Ye,rt,it,Fe,ot,wt,Pt,Et,Ct,or,Yt,Rr,cr,wr,xr,Er;for($t=0;$t<48;$t+=2)vt=Ue[0]^Ue[10]^Ue[20]^Ue[30]^Ue[40],Tt=Ue[1]^Ue[11]^Ue[21]^Ue[31]^Ue[41],qt=Ue[2]^Ue[12]^Ue[22]^Ue[32]^Ue[42],Rt=Ue[3]^Ue[13]^Ue[23]^Ue[33]^Ue[43],lt=Ue[4]^Ue[14]^Ue[24]^Ue[34]^Ue[44],_t=Ue[5]^Ue[15]^Ue[25]^Ue[35]^Ue[45],bt=Ue[6]^Ue[16]^Ue[26]^Ue[36]^Ue[46],Qe=Ue[7]^Ue[17]^Ue[27]^Ue[37]^Ue[47],ze=Ue[8]^Ue[18]^Ue[28]^Ue[38]^Ue[48],De=Ue[9]^Ue[19]^Ue[29]^Ue[39]^Ue[49],ct=ze^(qt<<1|Rt>>>31),gt=De^(Rt<<1|qt>>>31),Ue[0]^=ct,Ue[1]^=gt,Ue[10]^=ct,Ue[11]^=gt,Ue[20]^=ct,Ue[21]^=gt,Ue[30]^=ct,Ue[31]^=gt,Ue[40]^=ct,Ue[41]^=gt,ct=vt^(lt<<1|_t>>>31),gt=Tt^(_t<<1|lt>>>31),Ue[2]^=ct,Ue[3]^=gt,Ue[12]^=ct,Ue[13]^=gt,Ue[22]^=ct,Ue[23]^=gt,Ue[32]^=ct,Ue[33]^=gt,Ue[42]^=ct,Ue[43]^=gt,ct=qt^(bt<<1|Qe>>>31),gt=Rt^(Qe<<1|bt>>>31),Ue[4]^=ct,Ue[5]^=gt,Ue[14]^=ct,Ue[15]^=gt,Ue[24]^=ct,Ue[25]^=gt,Ue[34]^=ct,Ue[35]^=gt,Ue[44]^=ct,Ue[45]^=gt,ct=lt^(ze<<1|De>>>31),gt=_t^(De<<1|ze>>>31),Ue[6]^=ct,Ue[7]^=gt,Ue[16]^=ct,Ue[17]^=gt,Ue[26]^=ct,Ue[27]^=gt,Ue[36]^=ct,Ue[37]^=gt,Ue[46]^=ct,Ue[47]^=gt,ct=bt^(vt<<1|Tt>>>31),gt=Qe^(Tt<<1|vt>>>31),Ue[8]^=ct,Ue[9]^=gt,Ue[18]^=ct,Ue[19]^=gt,Ue[28]^=ct,Ue[29]^=gt,Ue[38]^=ct,Ue[39]^=gt,Ue[48]^=ct,Ue[49]^=gt,Ze=Ue[0],yt=Ue[1],Ot=Ue[11]<<4|Ue[10]>>>28,tr=Ue[10]<<4|Ue[11]>>>28,Xe=Ue[20]<<3|Ue[21]>>>29,Mt=Ue[21]<<3|Ue[20]>>>29,cr=Ue[31]<<9|Ue[30]>>>23,wr=Ue[30]<<9|Ue[31]>>>23,kr=Ue[40]<<18|Ue[41]>>>14,Wt=Ue[41]<<18|Ue[40]>>>14,Ht=Ue[2]<<1|Ue[3]>>>31,Qt=Ue[3]<<1|Ue[2]>>>31,dt=Ue[13]<<12|Ue[12]>>>20,mt=Ue[12]<<12|Ue[13]>>>20,Ye=Ue[22]<<10|Ue[23]>>>22,rt=Ue[23]<<10|Ue[22]>>>22,Vt=Ue[33]<<13|Ue[32]>>>19,At=Ue[32]<<13|Ue[33]>>>19,xr=Ue[42]<<2|Ue[43]>>>30,Er=Ue[43]<<2|Ue[42]>>>30,Pt=Ue[5]<<30|Ue[4]>>>2,Et=Ue[4]<<30|Ue[5]>>>2,Ir=Ue[14]<<6|Ue[15]>>>26,jt=Ue[15]<<6|Ue[14]>>>26,Lt=Ue[25]<<11|Ue[24]>>>21,St=Ue[24]<<11|Ue[25]>>>21,it=Ue[34]<<15|Ue[35]>>>17,Fe=Ue[35]<<15|Ue[34]>>>17,Nt=Ue[45]<<29|Ue[44]>>>3,zt=Ue[44]<<29|Ue[45]>>>3,xe=Ue[6]<<28|Ue[7]>>>4,Be=Ue[7]<<28|Ue[6]>>>4,Ct=Ue[17]<<23|Ue[16]>>>9,or=Ue[16]<<23|Ue[17]>>>9,Xt=Ue[26]<<25|Ue[27]>>>7,$r=Ue[27]<<25|Ue[26]>>>7,Bt=Ue[36]<<21|Ue[37]>>>11,Gt=Ue[37]<<21|Ue[36]>>>11,ot=Ue[47]<<24|Ue[46]>>>8,wt=Ue[46]<<24|Ue[47]>>>8,er=Ue[8]<<27|Ue[9]>>>5,Pr=Ue[9]<<27|Ue[8]>>>5,We=Ue[18]<<20|Ue[19]>>>12,et=Ue[19]<<20|Ue[18]>>>12,Yt=Ue[29]<<7|Ue[28]>>>25,Rr=Ue[28]<<7|Ue[29]>>>25,Ft=Ue[38]<<8|Ue[39]>>>24,Zt=Ue[39]<<8|Ue[38]>>>24,Ae=Ue[48]<<14|Ue[49]>>>18,ve=Ue[49]<<14|Ue[48]>>>18,Ue[0]=Ze^~dt&Lt,Ue[1]=yt^~mt&St,Ue[10]=xe^~We&Xe,Ue[11]=Be^~et&Mt,Ue[20]=Ht^~Ir&Xt,Ue[21]=Qt^~jt&$r,Ue[30]=er^~Ot&Ye,Ue[31]=Pr^~tr&rt,Ue[40]=Pt^~Ct&Yt,Ue[41]=Et^~or&Rr,Ue[2]=dt^~Lt&Bt,Ue[3]=mt^~St&Gt,Ue[12]=We^~Xe&Vt,Ue[13]=et^~Mt&At,Ue[22]=Ir^~Xt&Ft,Ue[23]=jt^~$r&Zt,Ue[32]=Ot^~Ye&it,Ue[33]=tr^~rt&Fe,Ue[42]=Ct^~Yt&cr,Ue[43]=or^~Rr&wr,Ue[4]=Lt^~Bt&Ae,Ue[5]=St^~Gt&ve,Ue[14]=Xe^~Vt&Nt,Ue[15]=Mt^~At&zt,Ue[24]=Xt^~Ft&kr,Ue[25]=$r^~Zt&Wt,Ue[34]=Ye^~it&ot,Ue[35]=rt^~Fe&wt,Ue[44]=Yt^~cr&xr,Ue[45]=Rr^~wr&Er,Ue[6]=Bt^~Ae&Ze,Ue[7]=Gt^~ve&yt,Ue[16]=Vt^~Nt&xe,Ue[17]=At^~zt&Be,Ue[26]=Ft^~kr&Ht,Ue[27]=Zt^~Wt&Qt,Ue[36]=it^~ot&er,Ue[37]=Fe^~wt&Pr,Ue[46]=cr^~xr&Pt,Ue[47]=wr^~Er&Et,Ue[8]=Ae^~Ze&dt,Ue[9]=ve^~yt&mt,Ue[18]=Nt^~xe&We,Ue[19]=zt^~Be&et,Ue[28]=kr^~Ht&Ir,Ue[29]=Wt^~Qt&jt,Ue[38]=ot^~er&Ot,Ue[39]=wt^~Pr&tr,Ue[48]=xr^~Pt&Ct,Ue[49]=Er^~Et&or,Ue[0]^=Ce[$t],Ue[1]^=Ce[$t+1]};if(ue)te.exports=le;else for(_e=0;_e<pe.length;++_e)oe[pe[_e]]=le[pe[_e]]})()})(sha3$1);var sha3=sha3$1.exports;function keccak256(te){return"0x"+sha3.keccak_256(arrayify$1(te))}const version$k="rlp/5.6.0",logger$k=new Logger$2(version$k);function arrayifyInteger(te){const ee=[];for(;te;)ee.unshift(te&255),te>>=8;return ee}function unarrayifyInteger(te,ee,re){let ne=0;for(let oe=0;oe<re;oe++)ne=ne*256+te[ee+oe];return ne}function _encode(te){if(Array.isArray(te)){let ne=[];if(te.forEach(function(ie){ne=ne.concat(_encode(ie))}),ne.length<=55)return ne.unshift(192+ne.length),ne;const oe=arrayifyInteger(ne.length);return oe.unshift(247+oe.length),oe.concat(ne)}isBytesLike(te)||logger$k.throwArgumentError("RLP object must be BytesLike","object",te);const ee=Array.prototype.slice.call(arrayify$1(te));if(ee.length===1&&ee[0]<=127)return ee;if(ee.length<=55)return ee.unshift(128+ee.length),ee;const re=arrayifyInteger(ee.length);return re.unshift(183+re.length),re.concat(ee)}function encode$a(te){return hexlify(_encode(te))}function _decodeChildren(te,ee,re,ne){const oe=[];for(;re<ee+1+ne;){const ie=_decode$1(te,re);oe.push(ie.result),re+=ie.consumed,re>ee+1+ne&&logger$k.throwError("child data too short",Logger$2.errors.BUFFER_OVERRUN,{})}return{consumed:1+ne,result:oe}}function _decode$1(te,ee){if(te.length===0&&logger$k.throwError("data too short",Logger$2.errors.BUFFER_OVERRUN,{}),te[ee]>=248){const re=te[ee]-247;ee+1+re>te.length&&logger$k.throwError("data short segment too short",Logger$2.errors.BUFFER_OVERRUN,{});const ne=unarrayifyInteger(te,ee+1,re);return ee+1+re+ne>te.length&&logger$k.throwError("data long segment too short",Logger$2.errors.BUFFER_OVERRUN,{}),_decodeChildren(te,ee,ee+1+re,re+ne)}else if(te[ee]>=192){const re=te[ee]-192;return ee+1+re>te.length&&logger$k.throwError("data array too short",Logger$2.errors.BUFFER_OVERRUN,{}),_decodeChildren(te,ee,ee+1,re)}else if(te[ee]>=184){const re=te[ee]-183;ee+1+re>te.length&&logger$k.throwError("data array too short",Logger$2.errors.BUFFER_OVERRUN,{});const ne=unarrayifyInteger(te,ee+1,re);ee+1+re+ne>te.length&&logger$k.throwError("data array too short",Logger$2.errors.BUFFER_OVERRUN,{});const oe=hexlify(te.slice(ee+1+re,ee+1+re+ne));return{consumed:1+re+ne,result:oe}}else if(te[ee]>=128){const re=te[ee]-128;ee+1+re>te.length&&logger$k.throwError("data too short",Logger$2.errors.BUFFER_OVERRUN,{});const ne=hexlify(te.slice(ee+1,ee+1+re));return{consumed:1+re,result:ne}}return{consumed:1,result:hexlify(te[ee])}}function decode$9(te){const ee=arrayify$1(te),re=_decode$1(ee,0);return re.consumed!==ee.length&&logger$k.throwArgumentError("invalid rlp data","data",te),re.result}const version$j="address/5.6.0",logger$j=new Logger$2(version$j);function getChecksumAddress(te){isHexString$4(te,20)||logger$j.throwArgumentError("invalid address","address",te),te=te.toLowerCase();const ee=te.substring(2).split(""),re=new Uint8Array(40);for(let oe=0;oe<40;oe++)re[oe]=ee[oe].charCodeAt(0);const ne=arrayify$1(keccak256(re));for(let oe=0;oe<40;oe+=2)ne[oe>>1]>>4>=8&&(ee[oe]=ee[oe].toUpperCase()),(ne[oe>>1]&15)>=8&&(ee[oe+1]=ee[oe+1].toUpperCase());return"0x"+ee.join("")}const MAX_SAFE_INTEGER$2=9007199254740991;function log10(te){return Math.log10?Math.log10(te):Math.log(te)/Math.LN10}const ibanLookup={};for(let te=0;te<10;te++)ibanLookup[String(te)]=String(te);for(let te=0;te<26;te++)ibanLookup[String.fromCharCode(65+te)]=String(10+te);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER$2));function ibanChecksum(te){te=te.toUpperCase(),te=te.substring(4)+te.substring(0,2)+"00";let ee=te.split("").map(ne=>ibanLookup[ne]).join("");for(;ee.length>=safeDigits;){let ne=ee.substring(0,safeDigits);ee=parseInt(ne,10)%97+ee.substring(ne.length)}let re=String(98-parseInt(ee,10)%97);for(;re.length<2;)re="0"+re;return re}function getAddress(te){let ee=null;if(typeof te!="string"&&logger$j.throwArgumentError("invalid address","address",te),te.match(/^(0x)?[0-9a-fA-F]{40}$/))te.substring(0,2)!=="0x"&&(te="0x"+te),ee=getChecksumAddress(te),te.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&ee!==te&&logger$j.throwArgumentError("bad address checksum","address",te);else if(te.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(te.substring(2,4)!==ibanChecksum(te)&&logger$j.throwArgumentError("bad icap checksum","address",te),ee=_base36To16(te.substring(4));ee.length<40;)ee="0"+ee;ee=getChecksumAddress("0x"+ee)}else logger$j.throwArgumentError("invalid address","address",te);return ee}function isAddress(te){try{return getAddress(te),!0}catch{}return!1}function getContractAddress(te){let ee=null;try{ee=getAddress(te.from)}catch{logger$j.throwArgumentError("missing from address","transaction",te)}const re=stripZeros(arrayify$1(BigNumber.from(te.nonce).toHexString()));return getAddress(hexDataSlice(keccak256(encode$a([ee,re])),12))}class AddressCoder extends Coder$1{constructor(ee){super("address","address",ee,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(ee,re){try{re=getAddress(re)}catch(ne){this._throwError(ne.message,re)}return ee.writeValue(re)}decode(ee){return getAddress(hexZeroPad(ee.readValue().toHexString(),20))}}class AnonymousCoder extends Coder$1{constructor(ee){super(ee.name,ee.type,void 0,ee.dynamic),this.coder=ee}defaultValue(){return this.coder.defaultValue()}encode(ee,re){return this.coder.encode(ee,re)}decode(ee){return this.coder.decode(ee)}}const logger$i=new Logger$2(version$l);function pack(te,ee,re){let ne=null;if(Array.isArray(re))ne=re;else if(re&&typeof re=="object"){let he={};ne=ee.map(ge=>{const be=ge.localName;return be||logger$i.throwError("cannot encode object for signature with missing names",Logger$2.errors.INVALID_ARGUMENT,{argument:"values",coder:ge,value:re}),he[be]&&logger$i.throwError("cannot encode object for signature with duplicate names",Logger$2.errors.INVALID_ARGUMENT,{argument:"values",coder:ge,value:re}),he[be]=!0,re[be]})}else logger$i.throwArgumentError("invalid tuple value","tuple",re);ee.length!==ne.length&&logger$i.throwArgumentError("types/value length mismatch","tuple",re);let oe=new Writer(te.wordSize),ie=new Writer(te.wordSize),se=[];ee.forEach((he,ge)=>{let be=ne[ge];if(he.dynamic){let Se=ie.length;he.encode(ie,be);let Te=oe.writeUpdatableValue();se.push(ke=>{Te(ke+Se)})}else he.encode(oe,be)}),se.forEach(he=>{he(oe.length)});let ue=te.appendWriter(oe);return ue+=te.appendWriter(ie),ue}function unpack(te,ee){let re=[],ne=te.subReader(0);ee.forEach(ie=>{let se=null;if(ie.dynamic){let ue=te.readValue(),he=ne.subReader(ue.toNumber());try{se=ie.decode(he)}catch(ge){if(ge.code===Logger$2.errors.BUFFER_OVERRUN)throw ge;se=ge,se.baseType=ie.name,se.name=ie.localName,se.type=ie.type}}else try{se=ie.decode(te)}catch(ue){if(ue.code===Logger$2.errors.BUFFER_OVERRUN)throw ue;se=ue,se.baseType=ie.name,se.name=ie.localName,se.type=ie.type}se!=null&&re.push(se)});const oe=ee.reduce((ie,se)=>{const ue=se.localName;return ue&&(ie[ue]||(ie[ue]=0),ie[ue]++),ie},{});ee.forEach((ie,se)=>{let ue=ie.localName;if(!ue||oe[ue]!==1||(ue==="length"&&(ue="_length"),re[ue]!=null))return;const he=re[se];he instanceof Error?Object.defineProperty(re,ue,{enumerable:!0,get:()=>{throw he}}):re[ue]=he});for(let ie=0;ie<re.length;ie++){const se=re[ie];se instanceof Error&&Object.defineProperty(re,ie,{enumerable:!0,get:()=>{throw se}})}return Object.freeze(re)}class ArrayCoder extends Coder$1{constructor(ee,re,ne){const oe=ee.type+"["+(re>=0?re:"")+"]",ie=re===-1||ee.dynamic;super("array",oe,ne,ie),this.coder=ee,this.length=re}defaultValue(){const ee=this.coder.defaultValue(),re=[];for(let ne=0;ne<this.length;ne++)re.push(ee);return re}encode(ee,re){Array.isArray(re)||this._throwError("expected array value",re);let ne=this.length;ne===-1&&(ne=re.length,ee.writeValue(re.length)),logger$i.checkArgumentCount(re.length,ne,"coder array"+(this.localName?" "+this.localName:""));let oe=[];for(let ie=0;ie<re.length;ie++)oe.push(this.coder);return pack(ee,oe,re)}decode(ee){let re=this.length;re===-1&&(re=ee.readValue().toNumber(),re*32>ee._data.length&&logger$i.throwError("insufficient data length",Logger$2.errors.BUFFER_OVERRUN,{length:ee._data.length,count:re}));let ne=[];for(let oe=0;oe<re;oe++)ne.push(new AnonymousCoder(this.coder));return ee.coerce(this.name,unpack(ee,ne))}}class BooleanCoder extends Coder$1{constructor(ee){super("bool","bool",ee,!1)}defaultValue(){return!1}encode(ee,re){return ee.writeValue(re?1:0)}decode(ee){return ee.coerce(this.type,!ee.readValue().isZero())}}class DynamicBytesCoder extends Coder$1{constructor(ee,re){super(ee,ee,re,!0)}defaultValue(){return"0x"}encode(ee,re){re=arrayify$1(re);let ne=ee.writeValue(re.length);return ne+=ee.writeBytes(re),ne}decode(ee){return ee.readBytes(ee.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(ee){super("bytes",ee)}decode(ee){return ee.coerce(this.name,hexlify(super.decode(ee)))}}class FixedBytesCoder extends Coder$1{constructor(ee,re){let ne="bytes"+String(ee);super(ne,ne,re,!1),this.size=ee}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(ee,re){let ne=arrayify$1(re);return ne.length!==this.size&&this._throwError("incorrect data length",re),ee.writeBytes(ne)}decode(ee){return ee.coerce(this.name,hexlify(ee.readBytes(this.size)))}}class NullCoder extends Coder$1{constructor(ee){super("null","",ee,!1)}defaultValue(){return null}encode(ee,re){return re!=null&&this._throwError("not null",re),ee.writeBytes([])}decode(ee){return ee.readBytes(0),ee.coerce(this.name,null)}}const AddressZero="0x0000000000000000000000000000000000000000",NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder$1{constructor(ee,re,ne){const oe=(re?"int":"uint")+ee*8;super(oe,oe,ne,!1),this.size=ee,this.signed=re}defaultValue(){return 0}encode(ee,re){let ne=BigNumber.from(re),oe=MaxUint256$1.mask(ee.wordSize*8);if(this.signed){let ie=oe.mask(this.size*8-1);(ne.gt(ie)||ne.lt(ie.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",re)}else(ne.lt(Zero$1)||ne.gt(oe.mask(this.size*8)))&&this._throwError("value out-of-bounds",re);return ne=ne.toTwos(this.size*8).mask(this.size*8),this.signed&&(ne=ne.fromTwos(this.size*8).toTwos(8*ee.wordSize)),ee.writeValue(ne)}decode(ee){let re=ee.readValue().mask(this.size*8);return this.signed&&(re=re.fromTwos(this.size*8)),ee.coerce(this.name,re)}}const version$i="strings/5.6.0",logger$h=new Logger$2(version$i);var UnicodeNormalizationForm;(function(te){te.current="",te.NFC="NFC",te.NFD="NFD",te.NFKC="NFKC",te.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(te){te.UNEXPECTED_CONTINUE="unexpected continuation byte",te.BAD_PREFIX="bad codepoint prefix",te.OVERRUN="string overrun",te.MISSING_CONTINUE="missing continuation byte",te.OUT_OF_RANGE="out of UTF-8 range",te.UTF16_SURROGATE="UTF-16 surrogate",te.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(te,ee,re,ne,oe){return logger$h.throwArgumentError(`invalid codepoint at offset ${ee}; ${te}`,"bytes",re)}function ignoreFunc(te,ee,re,ne,oe){if(te===Utf8ErrorReason.BAD_PREFIX||te===Utf8ErrorReason.UNEXPECTED_CONTINUE){let ie=0;for(let se=ee+1;se<re.length&&re[se]>>6===2;se++)ie++;return ie}return te===Utf8ErrorReason.OVERRUN?re.length-ee-1:0}function replaceFunc(te,ee,re,ne,oe){return te===Utf8ErrorReason.OVERLONG?(ne.push(oe),0):(ne.push(65533),ignoreFunc(te,ee,re))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(te,ee){ee==null&&(ee=Utf8ErrorFuncs.error),te=arrayify$1(te);const re=[];let ne=0;for(;ne<te.length;){const oe=te[ne++];if(oe>>7===0){re.push(oe);continue}let ie=null,se=null;if((oe&224)===192)ie=1,se=127;else if((oe&240)===224)ie=2,se=2047;else if((oe&248)===240)ie=3,se=65535;else{(oe&192)===128?ne+=ee(Utf8ErrorReason.UNEXPECTED_CONTINUE,ne-1,te,re):ne+=ee(Utf8ErrorReason.BAD_PREFIX,ne-1,te,re);continue}if(ne-1+ie>=te.length){ne+=ee(Utf8ErrorReason.OVERRUN,ne-1,te,re);continue}let ue=oe&(1<<8-ie-1)-1;for(let he=0;he<ie;he++){let ge=te[ne];if((ge&192)!=128){ne+=ee(Utf8ErrorReason.MISSING_CONTINUE,ne,te,re),ue=null;break}ue=ue<<6|ge&63,ne++}if(ue!==null){if(ue>1114111){ne+=ee(Utf8ErrorReason.OUT_OF_RANGE,ne-1-ie,te,re,ue);continue}if(ue>=55296&&ue<=57343){ne+=ee(Utf8ErrorReason.UTF16_SURROGATE,ne-1-ie,te,re,ue);continue}if(ue<=se){ne+=ee(Utf8ErrorReason.OVERLONG,ne-1-ie,te,re,ue);continue}re.push(ue)}}return re}function toUtf8Bytes(te,ee=UnicodeNormalizationForm.current){ee!=UnicodeNormalizationForm.current&&(logger$h.checkNormalize(),te=te.normalize(ee));let re=[];for(let ne=0;ne<te.length;ne++){const oe=te.charCodeAt(ne);if(oe<128)re.push(oe);else if(oe<2048)re.push(oe>>6|192),re.push(oe&63|128);else if((oe&64512)==55296){ne++;const ie=te.charCodeAt(ne);if(ne>=te.length||(ie&64512)!==56320)throw new Error("invalid utf-8 string");const se=65536+((oe&1023)<<10)+(ie&1023);re.push(se>>18|240),re.push(se>>12&63|128),re.push(se>>6&63|128),re.push(se&63|128)}else re.push(oe>>12|224),re.push(oe>>6&63|128),re.push(oe&63|128)}return arrayify$1(re)}function _toUtf8String(te){return te.map(ee=>ee<=65535?String.fromCharCode(ee):(ee-=65536,String.fromCharCode((ee>>10&1023)+55296,(ee&1023)+56320))).join("")}function toUtf8String(te,ee){return _toUtf8String(getUtf8CodePoints(te,ee))}function toUtf8CodePoints(te,ee=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes(te,ee))}function bytes2(te){if(te.length%4!==0)throw new Error("bad data");let ee=[];for(let re=0;re<te.length;re+=4)ee.push(parseInt(te.substring(re,re+4),16));return ee}function createTable(te,ee){ee||(ee=function(oe){return[parseInt(oe,16)]});let re=0,ne={};return te.split(",").forEach(oe=>{let ie=oe.split(":");re+=parseInt(ie[0],16),ne[re]=ee(ie[1])}),ne}function createRangeTable(te){let ee=0;return te.split(",").map(re=>{let ne=re.split("-");ne.length===1?ne[1]="0":ne[1]===""&&(ne[1]="1");let oe=ee+parseInt(ne[0],16);return ee=parseInt(ne[1],16),{l:oe,h:ee}})}function matchMap(te,ee){let re=0;for(let ne=0;ne<ee.length;ne++){let oe=ee[ne];if(re+=oe.l,te>=re&&te<=re+oe.h&&(te-re)%(oe.d||1)===0){if(oe.e&&oe.e.indexOf(te-re)!==-1)continue;return oe}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(te=>parseInt(te,16)),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten(te){return te.reduce((ee,re)=>(re.forEach(ne=>{ee.push(ne)}),ee),[])}function _nameprepTableA1(te){return!!matchMap(te,Table_A_1_ranges)}function _nameprepTableB2(te){let ee=matchMap(te,Table_B_2_ranges);if(ee)return[te+ee.s];let re=Table_B_2_lut_abs[te];if(re)return re;let ne=Table_B_2_lut_rel[te];if(ne)return[te+ne[0]];let oe=Table_B_2_complex[te];return oe||null}function _nameprepTableC(te){return!!matchMap(te,Table_C_ranges)}function nameprep(te){if(te.match(/^[a-z0-9-]*$/i)&&te.length<=59)return te.toLowerCase();let ee=toUtf8CodePoints(te);ee=flatten(ee.map(ne=>{if(Table_B_1_flags.indexOf(ne)>=0)return[];if(ne>=65024&&ne<=65039)return[];let oe=_nameprepTableB2(ne);return oe||[ne]})),ee=toUtf8CodePoints(_toUtf8String(ee),UnicodeNormalizationForm.NFKC),ee.forEach(ne=>{if(_nameprepTableC(ne))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),ee.forEach(ne=>{if(_nameprepTableA1(ne))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let re=_toUtf8String(ee);if(re.substring(0,1)==="-"||re.substring(2,4)==="--"||re.substring(re.length-1)==="-")throw new Error("invalid hyphen");if(re.length>63)throw new Error("too long");return re}class StringCoder extends DynamicBytesCoder{constructor(ee){super("string",ee)}defaultValue(){return""}encode(ee,re){return super.encode(ee,toUtf8Bytes(re))}decode(ee){return toUtf8String(super.decode(ee))}}class TupleCoder extends Coder$1{constructor(ee,re){let ne=!1;const oe=[];ee.forEach(se=>{se.dynamic&&(ne=!0),oe.push(se.type)});const ie="tuple("+oe.join(",")+")";super("tuple",ie,re,ne),this.coders=ee}defaultValue(){const ee=[];this.coders.forEach(ne=>{ee.push(ne.defaultValue())});const re=this.coders.reduce((ne,oe)=>{const ie=oe.localName;return ie&&(ne[ie]||(ne[ie]=0),ne[ie]++),ne},{});return this.coders.forEach((ne,oe)=>{let ie=ne.localName;!ie||re[ie]!==1||(ie==="length"&&(ie="_length"),ee[ie]==null&&(ee[ie]=ee[oe]))}),Object.freeze(ee)}encode(ee,re){return pack(ee,this.coders,re)}decode(ee){return ee.coerce(this.name,unpack(ee,this.coders))}}const logger$g=new Logger$2(version$l),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(ee){defineReadOnly(this,"coerceFunc",ee||null)}_getCoder(ee){switch(ee.baseType){case"address":return new AddressCoder(ee.name);case"bool":return new BooleanCoder(ee.name);case"string":return new StringCoder(ee.name);case"bytes":return new BytesCoder(ee.name);case"array":return new ArrayCoder(this._getCoder(ee.arrayChildren),ee.arrayLength,ee.name);case"tuple":return new TupleCoder((ee.components||[]).map(ne=>this._getCoder(ne)),ee.name);case"":return new NullCoder(ee.name)}let re=ee.type.match(paramTypeNumber);if(re){let ne=parseInt(re[2]||"256");return(ne===0||ne>256||ne%8!==0)&&logger$g.throwArgumentError("invalid "+re[1]+" bit length","param",ee),new NumberCoder(ne/8,re[1]==="int",ee.name)}if(re=ee.type.match(paramTypeBytes),re){let ne=parseInt(re[1]);return(ne===0||ne>32)&&logger$g.throwArgumentError("invalid bytes length","param",ee),new FixedBytesCoder(ne,ee.name)}return logger$g.throwArgumentError("invalid type","type",ee.type)}_getWordSize(){return 32}_getReader(ee,re){return new Reader(ee,this._getWordSize(),this.coerceFunc,re)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(ee){const re=ee.map(oe=>this._getCoder(ParamType.from(oe)));return new TupleCoder(re,"_").defaultValue()}encode(ee,re){ee.length!==re.length&&logger$g.throwError("types/values length mismatch",Logger$2.errors.INVALID_ARGUMENT,{count:{types:ee.length,values:re.length},value:{types:ee,values:re}});const ne=ee.map(se=>this._getCoder(ParamType.from(se))),oe=new TupleCoder(ne,"_"),ie=this._getWriter();return oe.encode(ie,re),ie.data}decode(ee,re,ne){const oe=ee.map(se=>this._getCoder(ParamType.from(se)));return new TupleCoder(oe,"_").decode(this._getReader(arrayify$1(re),ne))}}const defaultAbiCoder=new AbiCoder;function id(te){return keccak256(toUtf8Bytes(te))}const version$h="hash/5.6.0",logger$f=new Logger$2(version$h),Zeros$1=new Uint8Array(32);Zeros$1.fill(0);const Partition=new RegExp("^((.*)\\.)?([^.]+)$");function namehash(te){typeof te!="string"&&logger$f.throwArgumentError("invalid ENS name; not a string","name",te);let ee=te,re=Zeros$1;for(;ee.length;){const ne=ee.match(Partition);(ne==null||ne[2]==="")&&logger$f.throwArgumentError("invalid ENS address; missing component","name",te);const oe=toUtf8Bytes(nameprep(ne[3]));re=keccak256(concat([re,keccak256(oe)])),ee=ne[2]||""}return hexlify(re)}function dnsEncode(te){return hexlify(concat(te.split(".").map(ee=>{const re=toUtf8Bytes("_"+nameprep(ee));return re[0]=re.length-1,re})))+"00"}var __awaiter$8=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function oe(ie){return ie instanceof re?ie:new re(function(se){se(ie)})}return new(re||(re=Promise))(function(ie,se){function ue(be){try{ge(ne.next(be))}catch(Se){se(Se)}}function he(be){try{ge(ne.throw(be))}catch(Se){se(Se)}}function ge(be){be.done?ie(be.value):oe(be.value).then(ue,he)}ge((ne=ne.apply(te,ee||[])).next())})};const logger$e=new Logger$2(version$h),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(te){const ee=arrayify$1(te),re=ee.length%32;return re?hexConcat([ee,padding.slice(re)]):hexlify(ee)}const hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(te){return function(ee){return typeof ee!="string"&&logger$e.throwArgumentError(`invalid domain value for ${JSON.stringify(te)}`,`domain.${te}`,ee),ee}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(te){try{return BigNumber.from(te).toString()}catch{}return logger$e.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",te)},verifyingContract:function(te){try{return getAddress(te).toLowerCase()}catch{}return logger$e.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",te)},salt:function(te){try{const ee=arrayify$1(te);if(ee.length!==32)throw new Error("bad length");return hexlify(ee)}catch{}return logger$e.throwArgumentError('invalid domain value "salt"',"domain.salt",te)}};function getBaseEncoder(te){{const ee=te.match(/^(u?)int(\d*)$/);if(ee){const re=ee[1]==="",ne=parseInt(ee[2]||"256");(ne%8!==0||ne>256||ee[2]&&ee[2]!==String(ne))&&logger$e.throwArgumentError("invalid numeric width","type",te);const oe=MaxUint256.mask(re?ne-1:ne),ie=re?oe.add(One).mul(NegativeOne):Zero;return function(se){const ue=BigNumber.from(se);return(ue.lt(ie)||ue.gt(oe))&&logger$e.throwArgumentError(`value out-of-bounds for ${te}`,"value",se),hexZeroPad(ue.toTwos(256).toHexString(),32)}}}{const ee=te.match(/^bytes(\d+)$/);if(ee){const re=parseInt(ee[1]);return(re===0||re>32||ee[1]!==String(re))&&logger$e.throwArgumentError("invalid bytes width","type",te),function(ne){return arrayify$1(ne).length!==re&&logger$e.throwArgumentError(`invalid length for ${te}`,"value",ne),hexPadRight(ne)}}}switch(te){case"address":return function(ee){return hexZeroPad(getAddress(ee),32)};case"bool":return function(ee){return ee?hexTrue:hexFalse};case"bytes":return function(ee){return keccak256(ee)};case"string":return function(ee){return id(ee)}}return null}function encodeType(te,ee){return`${te}(${ee.map(({name:re,type:ne})=>ne+" "+re).join(",")})`}class TypedDataEncoder{constructor(ee){defineReadOnly(this,"types",Object.freeze(deepCopy(ee))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});const re={},ne={},oe={};Object.keys(ee).forEach(ue=>{re[ue]={},ne[ue]=[],oe[ue]={}});for(const ue in ee){const he={};ee[ue].forEach(ge=>{he[ge.name]&&logger$e.throwArgumentError(`duplicate variable name ${JSON.stringify(ge.name)} in ${JSON.stringify(ue)}`,"types",ee),he[ge.name]=!0;const be=ge.type.match(/^([^\x5b]*)(\x5b|$)/)[1];be===ue&&logger$e.throwArgumentError(`circular type reference to ${JSON.stringify(be)}`,"types",ee),!getBaseEncoder(be)&&(ne[be]||logger$e.throwArgumentError(`unknown type ${JSON.stringify(be)}`,"types",ee),ne[be].push(ue),re[ue][be]=!0)})}const ie=Object.keys(ne).filter(ue=>ne[ue].length===0);ie.length===0?logger$e.throwArgumentError("missing primary type","types",ee):ie.length>1&&logger$e.throwArgumentError(`ambiguous primary types or unused types: ${ie.map(ue=>JSON.stringify(ue)).join(", ")}`,"types",ee),defineReadOnly(this,"primaryType",ie[0]);function se(ue,he){he[ue]&&logger$e.throwArgumentError(`circular type reference to ${JSON.stringify(ue)}`,"types",ee),he[ue]=!0,Object.keys(re[ue]).forEach(ge=>{!ne[ge]||(se(ge,he),Object.keys(he).forEach(be=>{oe[be][ge]=!0}))}),delete he[ue]}se(this.primaryType,{});for(const ue in oe){const he=Object.keys(oe[ue]);he.sort(),this._types[ue]=encodeType(ue,ee[ue])+he.map(ge=>encodeType(ge,ee[ge])).join("")}}getEncoder(ee){let re=this._encoderCache[ee];return re||(re=this._encoderCache[ee]=this._getEncoder(ee)),re}_getEncoder(ee){{const oe=getBaseEncoder(ee);if(oe)return oe}const re=ee.match(/^(.*)(\x5b(\d*)\x5d)$/);if(re){const oe=re[1],ie=this.getEncoder(oe),se=parseInt(re[3]);return ue=>{se>=0&&ue.length!==se&&logger$e.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",ue);let he=ue.map(ie);return this._types[oe]&&(he=he.map(keccak256)),keccak256(hexConcat(he))}}const ne=this.types[ee];if(ne){const oe=id(this._types[ee]);return ie=>{const se=ne.map(({name:ue,type:he})=>{const ge=this.getEncoder(he)(ie[ue]);return this._types[he]?keccak256(ge):ge});return se.unshift(oe),hexConcat(se)}}return logger$e.throwArgumentError(`unknown type: ${ee}`,"type",ee)}encodeType(ee){const re=this._types[ee];return re||logger$e.throwArgumentError(`unknown type: ${JSON.stringify(ee)}`,"name",ee),re}encodeData(ee,re){return this.getEncoder(ee)(re)}hashStruct(ee,re){return keccak256(this.encodeData(ee,re))}encode(ee){return this.encodeData(this.primaryType,ee)}hash(ee){return this.hashStruct(this.primaryType,ee)}_visit(ee,re,ne){if(getBaseEncoder(ee))return ne(ee,re);const oe=ee.match(/^(.*)(\x5b(\d*)\x5d)$/);if(oe){const se=oe[1],ue=parseInt(oe[3]);return ue>=0&&re.length!==ue&&logger$e.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",re),re.map(he=>this._visit(se,he,ne))}const ie=this.types[ee];return ie?ie.reduce((se,{name:ue,type:he})=>(se[ue]=this._visit(he,re[ue],ne),se),{}):logger$e.throwArgumentError(`unknown type: ${ee}`,"type",ee)}visit(ee,re){return this._visit(this.primaryType,ee,re)}static from(ee){return new TypedDataEncoder(ee)}static getPrimaryType(ee){return TypedDataEncoder.from(ee).primaryType}static hashStruct(ee,re,ne){return TypedDataEncoder.from(re).hashStruct(ee,ne)}static hashDomain(ee){const re=[];for(const ne in ee){const oe=domainFieldTypes[ne];oe||logger$e.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(ne)}`,"domain",ee),re.push({name:ne,type:oe})}return re.sort((ne,oe)=>domainFieldNames.indexOf(ne.name)-domainFieldNames.indexOf(oe.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:re},ee)}static encode(ee,re,ne){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(ee),TypedDataEncoder.from(re).hash(ne)])}static hash(ee,re,ne){return keccak256(TypedDataEncoder.encode(ee,re,ne))}static resolveNames(ee,re,ne,oe){return __awaiter$8(this,void 0,void 0,function*(){ee=shallowCopy(ee);const ie={};ee.verifyingContract&&!isHexString$4(ee.verifyingContract,20)&&(ie[ee.verifyingContract]="0x");const se=TypedDataEncoder.from(re);se.visit(ne,(ue,he)=>(ue==="address"&&!isHexString$4(he,20)&&(ie[he]="0x"),he));for(const ue in ie)ie[ue]=yield oe(ue);return ee.verifyingContract&&ie[ee.verifyingContract]&&(ee.verifyingContract=ie[ee.verifyingContract]),ne=se.visit(ne,(ue,he)=>ue==="address"&&ie[he]?ie[he]:he),{domain:ee,value:ne}})}static getPayload(ee,re,ne){TypedDataEncoder.hashDomain(ee);const oe={},ie=[];domainFieldNames.forEach(he=>{const ge=ee[he];ge!=null&&(oe[he]=domainChecks[he](ge),ie.push({name:he,type:domainFieldTypes[he]}))});const se=TypedDataEncoder.from(re),ue=shallowCopy(re);return ue.EIP712Domain?logger$e.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",re):ue.EIP712Domain=ie,se.encode(ne),{types:ue,domain:oe,primaryType:se.primaryType,message:se.visit(ne,(he,ge)=>{if(he.match(/^bytes(\d*)/))return hexlify(arrayify$1(ge));if(he.match(/^u?int/))return BigNumber.from(ge).toString();switch(he){case"address":return ge.toLowerCase();case"bool":return!!ge;case"string":return typeof ge!="string"&&logger$e.throwArgumentError("invalid string","value",ge),ge}return logger$e.throwArgumentError("unsupported type","type",he)})}}}const logger$d=new Logger$2(version$l);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(ee){return!!(ee&&ee._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(te,ee){const re=new Error(`deferred error during ABI decoding triggered accessing ${te}`);return re.error=ee,re}class Interface{constructor(ee){let re=[];typeof ee=="string"?re=JSON.parse(ee):re=ee,defineReadOnly(this,"fragments",re.map(ne=>Fragment.from(ne)).filter(ne=>ne!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(ne=>{let oe=null;switch(ne.type){case"constructor":if(this.deploy){logger$d.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",ne);return;case"function":oe=this.functions;break;case"event":oe=this.events;break;case"error":oe=this.errors;break;default:return}let ie=ne.format();if(oe[ie]){logger$d.warn("duplicate definition - "+ie);return}oe[ie]=ne}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(ee){ee||(ee=FormatTypes.full),ee===FormatTypes.sighash&&logger$d.throwArgumentError("interface does not support formatting sighash","format",ee);const re=this.fragments.map(ne=>ne.format(ee));return ee===FormatTypes.json?JSON.stringify(re.map(ne=>JSON.parse(ne))):re}static getAbiCoder(){return defaultAbiCoder}static getAddress(ee){return getAddress(ee)}static getSighash(ee){return hexDataSlice(id(ee.format()),0,4)}static getEventTopic(ee){return id(ee.format())}getFunction(ee){if(isHexString$4(ee)){for(const ne in this.functions)if(ee===this.getSighash(ne))return this.functions[ne];logger$d.throwArgumentError("no matching function","sighash",ee)}if(ee.indexOf("(")===-1){const ne=ee.trim(),oe=Object.keys(this.functions).filter(ie=>ie.split("(")[0]===ne);return oe.length===0?logger$d.throwArgumentError("no matching function","name",ne):oe.length>1&&logger$d.throwArgumentError("multiple matching functions","name",ne),this.functions[oe[0]]}const re=this.functions[FunctionFragment.fromString(ee).format()];return re||logger$d.throwArgumentError("no matching function","signature",ee),re}getEvent(ee){if(isHexString$4(ee)){const ne=ee.toLowerCase();for(const oe in this.events)if(ne===this.getEventTopic(oe))return this.events[oe];logger$d.throwArgumentError("no matching event","topichash",ne)}if(ee.indexOf("(")===-1){const ne=ee.trim(),oe=Object.keys(this.events).filter(ie=>ie.split("(")[0]===ne);return oe.length===0?logger$d.throwArgumentError("no matching event","name",ne):oe.length>1&&logger$d.throwArgumentError("multiple matching events","name",ne),this.events[oe[0]]}const re=this.events[EventFragment.fromString(ee).format()];return re||logger$d.throwArgumentError("no matching event","signature",ee),re}getError(ee){if(isHexString$4(ee)){const ne=getStatic(this.constructor,"getSighash");for(const oe in this.errors){const ie=this.errors[oe];if(ee===ne(ie))return this.errors[oe]}logger$d.throwArgumentError("no matching error","sighash",ee)}if(ee.indexOf("(")===-1){const ne=ee.trim(),oe=Object.keys(this.errors).filter(ie=>ie.split("(")[0]===ne);return oe.length===0?logger$d.throwArgumentError("no matching error","name",ne):oe.length>1&&logger$d.throwArgumentError("multiple matching errors","name",ne),this.errors[oe[0]]}const re=this.errors[FunctionFragment.fromString(ee).format()];return re||logger$d.throwArgumentError("no matching error","signature",ee),re}getSighash(ee){if(typeof ee=="string")try{ee=this.getFunction(ee)}catch(re){try{ee=this.getError(ee)}catch{throw re}}return getStatic(this.constructor,"getSighash")(ee)}getEventTopic(ee){return typeof ee=="string"&&(ee=this.getEvent(ee)),getStatic(this.constructor,"getEventTopic")(ee)}_decodeParams(ee,re){return this._abiCoder.decode(ee,re)}_encodeParams(ee,re){return this._abiCoder.encode(ee,re)}encodeDeploy(ee){return this._encodeParams(this.deploy.inputs,ee||[])}decodeErrorResult(ee,re){typeof ee=="string"&&(ee=this.getError(ee));const ne=arrayify$1(re);return hexlify(ne.slice(0,4))!==this.getSighash(ee)&&logger$d.throwArgumentError(`data signature does not match error ${ee.name}.`,"data",hexlify(ne)),this._decodeParams(ee.inputs,ne.slice(4))}encodeErrorResult(ee,re){return typeof ee=="string"&&(ee=this.getError(ee)),hexlify(concat([this.getSighash(ee),this._encodeParams(ee.inputs,re||[])]))}decodeFunctionData(ee,re){typeof ee=="string"&&(ee=this.getFunction(ee));const ne=arrayify$1(re);return hexlify(ne.slice(0,4))!==this.getSighash(ee)&&logger$d.throwArgumentError(`data signature does not match function ${ee.name}.`,"data",hexlify(ne)),this._decodeParams(ee.inputs,ne.slice(4))}encodeFunctionData(ee,re){return typeof ee=="string"&&(ee=this.getFunction(ee)),hexlify(concat([this.getSighash(ee),this._encodeParams(ee.inputs,re||[])]))}decodeFunctionResult(ee,re){typeof ee=="string"&&(ee=this.getFunction(ee));let ne=arrayify$1(re),oe=null,ie="",se=null,ue=null,he=null;switch(ne.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(ee.outputs,ne)}catch{}break;case 4:{const ge=hexlify(ne.slice(0,4)),be=BuiltinErrors[ge];if(be)se=this._abiCoder.decode(be.inputs,ne.slice(4)),ue=be.name,he=be.signature,be.reason&&(oe=se[0]),ue==="Error"?ie=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(se[0])}`:ue==="Panic"&&(ie=`; VM Exception while processing transaction: reverted with panic code ${se[0]}`);else try{const Se=this.getError(ge);se=this._abiCoder.decode(Se.inputs,ne.slice(4)),ue=Se.name,he=Se.format()}catch{}break}}return logger$d.throwError("call revert exception"+ie,Logger$2.errors.CALL_EXCEPTION,{method:ee.format(),data:hexlify(re),errorArgs:se,errorName:ue,errorSignature:he,reason:oe})}encodeFunctionResult(ee,re){return typeof ee=="string"&&(ee=this.getFunction(ee)),hexlify(this._abiCoder.encode(ee.outputs,re||[]))}encodeFilterTopics(ee,re){typeof ee=="string"&&(ee=this.getEvent(ee)),re.length>ee.inputs.length&&logger$d.throwError("too many arguments for "+ee.format(),Logger$2.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:re});let ne=[];ee.anonymous||ne.push(this.getEventTopic(ee));const oe=(ie,se)=>ie.type==="string"?id(se):ie.type==="bytes"?keccak256(hexlify(se)):(ie.type==="address"&&this._abiCoder.encode(["address"],[se]),hexZeroPad(hexlify(se),32));for(re.forEach((ie,se)=>{let ue=ee.inputs[se];if(!ue.indexed){ie!=null&&logger$d.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+ue.name,ie);return}ie==null?ne.push(null):ue.baseType==="array"||ue.baseType==="tuple"?logger$d.throwArgumentError("filtering with tuples or arrays not supported","contract."+ue.name,ie):Array.isArray(ie)?ne.push(ie.map(he=>oe(ue,he))):ne.push(oe(ue,ie))});ne.length&&ne[ne.length-1]===null;)ne.pop();return ne}encodeEventLog(ee,re){typeof ee=="string"&&(ee=this.getEvent(ee));const ne=[],oe=[],ie=[];return ee.anonymous||ne.push(this.getEventTopic(ee)),re.length!==ee.inputs.length&&logger$d.throwArgumentError("event arguments/values mismatch","values",re),ee.inputs.forEach((se,ue)=>{const he=re[ue];if(se.indexed)if(se.type==="string")ne.push(id(he));else if(se.type==="bytes")ne.push(keccak256(he));else{if(se.baseType==="tuple"||se.baseType==="array")throw new Error("not implemented");ne.push(this._abiCoder.encode([se.type],[he]))}else oe.push(se),ie.push(he)}),{data:this._abiCoder.encode(oe,ie),topics:ne}}decodeEventLog(ee,re,ne){if(typeof ee=="string"&&(ee=this.getEvent(ee)),ne!=null&&!ee.anonymous){let Te=this.getEventTopic(ee);(!isHexString$4(ne[0],32)||ne[0].toLowerCase()!==Te)&&logger$d.throwError("fragment/topic mismatch",Logger$2.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:Te,value:ne[0]}),ne=ne.slice(1)}let oe=[],ie=[],se=[];ee.inputs.forEach((Te,ke)=>{Te.indexed?Te.type==="string"||Te.type==="bytes"||Te.baseType==="tuple"||Te.baseType==="array"?(oe.push(ParamType.fromObject({type:"bytes32",name:Te.name})),se.push(!0)):(oe.push(Te),se.push(!1)):(ie.push(Te),se.push(!1))});let ue=ne!=null?this._abiCoder.decode(oe,concat(ne)):null,he=this._abiCoder.decode(ie,re,!0),ge=[],be=0,Se=0;ee.inputs.forEach((Te,ke)=>{if(Te.indexed)if(ue==null)ge[ke]=new Indexed({_isIndexed:!0,hash:null});else if(se[ke])ge[ke]=new Indexed({_isIndexed:!0,hash:ue[Se++]});else try{ge[ke]=ue[Se++]}catch(Re){ge[ke]=Re}else try{ge[ke]=he[be++]}catch(Re){ge[ke]=Re}if(Te.name&&ge[Te.name]==null){const Re=ge[ke];Re instanceof Error?Object.defineProperty(ge,Te.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(Te.name)}`,Re)}}):ge[Te.name]=Re}});for(let Te=0;Te<ge.length;Te++){const ke=ge[Te];ke instanceof Error&&Object.defineProperty(ge,Te,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${Te}`,ke)}})}return Object.freeze(ge)}parseTransaction(ee){let re=this.getFunction(ee.data.substring(0,10).toLowerCase());return re?new TransactionDescription({args:this._abiCoder.decode(re.inputs,"0x"+ee.data.substring(10)),functionFragment:re,name:re.name,signature:re.format(),sighash:this.getSighash(re),value:BigNumber.from(ee.value||"0")}):null}parseLog(ee){let re=this.getEvent(ee.topics[0]);return!re||re.anonymous?null:new LogDescription({eventFragment:re,name:re.name,signature:re.format(),topic:this.getEventTopic(re),args:this.decodeEventLog(re,ee.data,ee.topics)})}parseError(ee){const re=hexlify(ee);let ne=this.getError(re.substring(0,10).toLowerCase());return ne?new ErrorDescription({args:this._abiCoder.decode(ne.inputs,"0x"+re.substring(10)),errorFragment:ne,name:ne.name,signature:ne.format(),sighash:this.getSighash(ne)}):null}static isInterface(ee){return!!(ee&&ee._isInterface)}}const version$g="abstract-provider/5.6.0";var __awaiter$7=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function oe(ie){return ie instanceof re?ie:new re(function(se){se(ie)})}return new(re||(re=Promise))(function(ie,se){function ue(be){try{ge(ne.next(be))}catch(Se){se(Se)}}function he(be){try{ge(ne.throw(be))}catch(Se){se(Se)}}function ge(be){be.done?ie(be.value):oe(be.value).then(ue,he)}ge((ne=ne.apply(te,ee||[])).next())})};const logger$c=new Logger$2(version$g);class ForkEvent extends Description{static isForkEvent(ee){return!!(ee&&ee._isForkEvent)}}class Provider$3{constructor(){logger$c.checkAbstract(new.target,Provider$3),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$7(this,void 0,void 0,function*(){const{block:ee,gasPrice:re}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(ie=>null)});let ne=null,oe=null;return ee&&ee.baseFeePerGas&&(oe=BigNumber.from("1500000000"),ne=ee.baseFeePerGas.mul(2).add(oe)),{maxFeePerGas:ne,maxPriorityFeePerGas:oe,gasPrice:re}})}addListener(ee,re){return this.on(ee,re)}removeListener(ee,re){return this.off(ee,re)}static isProvider(ee){return!!(ee&&ee._isProvider)}}const version$f="abstract-signer/5.6.1";var __awaiter$6=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function oe(ie){return ie instanceof re?ie:new re(function(se){se(ie)})}return new(re||(re=Promise))(function(ie,se){function ue(be){try{ge(ne.next(be))}catch(Se){se(Se)}}function he(be){try{ge(ne.throw(be))}catch(Se){se(Se)}}function ge(be){be.done?ie(be.value):oe(be.value).then(ue,he)}ge((ne=ne.apply(te,ee||[])).next())})};const logger$b=new Logger$2(version$f),allowedTransactionKeys$1=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger$2.errors.INSUFFICIENT_FUNDS,Logger$2.errors.NONCE_EXPIRED,Logger$2.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$b.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(ee){return __awaiter$6(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),ee)})}getTransactionCount(ee){return __awaiter$6(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),ee)})}estimateGas(ee){return __awaiter$6(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const re=yield resolveProperties(this.checkTransaction(ee));return yield this.provider.estimateGas(re)})}call(ee,re){return __awaiter$6(this,void 0,void 0,function*(){this._checkProvider("call");const ne=yield resolveProperties(this.checkTransaction(ee));return yield this.provider.call(ne,re)})}sendTransaction(ee){return __awaiter$6(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const re=yield this.populateTransaction(ee),ne=yield this.signTransaction(re);return yield this.provider.sendTransaction(ne)})}getChainId(){return __awaiter$6(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$6(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$6(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(ee){return __awaiter$6(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(ee)})}checkTransaction(ee){for(const ne in ee)allowedTransactionKeys$1.indexOf(ne)===-1&&logger$b.throwArgumentError("invalid transaction key: "+ne,"transaction",ee);const re=shallowCopy(ee);return re.from==null?re.from=this.getAddress():re.from=Promise.all([Promise.resolve(re.from),this.getAddress()]).then(ne=>(ne[0].toLowerCase()!==ne[1].toLowerCase()&&logger$b.throwArgumentError("from address mismatch","transaction",ee),ne[0])),re}populateTransaction(ee){return __awaiter$6(this,void 0,void 0,function*(){const re=yield resolveProperties(this.checkTransaction(ee));re.to!=null&&(re.to=Promise.resolve(re.to).then(oe=>__awaiter$6(this,void 0,void 0,function*(){if(oe==null)return null;const ie=yield this.resolveName(oe);return ie==null&&logger$b.throwArgumentError("provided ENS name resolves to null","tx.to",oe),ie})),re.to.catch(oe=>{}));const ne=re.maxFeePerGas!=null||re.maxPriorityFeePerGas!=null;if(re.gasPrice!=null&&(re.type===2||ne)?logger$b.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",ee):(re.type===0||re.type===1)&&ne&&logger$b.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",ee),(re.type===2||re.type==null)&&re.maxFeePerGas!=null&&re.maxPriorityFeePerGas!=null)re.type=2;else if(re.type===0||re.type===1)re.gasPrice==null&&(re.gasPrice=this.getGasPrice());else{const oe=yield this.getFeeData();if(re.type==null)if(oe.maxFeePerGas!=null&&oe.maxPriorityFeePerGas!=null)if(re.type=2,re.gasPrice!=null){const ie=re.gasPrice;delete re.gasPrice,re.maxFeePerGas=ie,re.maxPriorityFeePerGas=ie}else re.maxFeePerGas==null&&(re.maxFeePerGas=oe.maxFeePerGas),re.maxPriorityFeePerGas==null&&(re.maxPriorityFeePerGas=oe.maxPriorityFeePerGas);else oe.gasPrice!=null?(ne&&logger$b.throwError("network does not support EIP-1559",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),re.gasPrice==null&&(re.gasPrice=oe.gasPrice),re.type=0):logger$b.throwError("failed to get consistent fee data",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else re.type===2&&(re.maxFeePerGas==null&&(re.maxFeePerGas=oe.maxFeePerGas),re.maxPriorityFeePerGas==null&&(re.maxPriorityFeePerGas=oe.maxPriorityFeePerGas))}return re.nonce==null&&(re.nonce=this.getTransactionCount("pending")),re.gasLimit==null&&(re.gasLimit=this.estimateGas(re).catch(oe=>{if(forwardErrors.indexOf(oe.code)>=0)throw oe;return logger$b.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$2.errors.UNPREDICTABLE_GAS_LIMIT,{error:oe,tx:re})})),re.chainId==null?re.chainId=this.getChainId():re.chainId=Promise.all([Promise.resolve(re.chainId),this.getChainId()]).then(oe=>(oe[1]!==0&&oe[0]!==oe[1]&&logger$b.throwArgumentError("chainId address mismatch","transaction",ee),oe[0])),yield resolveProperties(re)})}_checkProvider(ee){this.provider||logger$b.throwError("missing provider",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:ee||"_checkProvider"})}static isSigner(ee){return!!(ee&&ee._isSigner)}}class VoidSigner extends Signer{constructor(ee,re){super(),defineReadOnly(this,"address",ee),defineReadOnly(this,"provider",re||null)}getAddress(){return Promise.resolve(this.address)}_fail(ee,re){return Promise.resolve().then(()=>{logger$b.throwError(ee,Logger$2.errors.UNSUPPORTED_OPERATION,{operation:re})})}signMessage(ee){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(ee){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(ee,re,ne){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(ee){return new VoidSigner(this.address,ee)}}var bn$5={exports:{}};(function(te){(function(ee,re){function ne(ye,ae){if(!ye)throw new Error(ae||"Assertion failed")}function oe(ye,ae){ye.super_=ae;var ce=function(){};ce.prototype=ae.prototype,ye.prototype=new ce,ye.prototype.constructor=ye}function ie(ye,ae,ce){if(ie.isBN(ye))return ye;this.negative=0,this.words=null,this.length=0,this.red=null,ye!==null&&((ae==="le"||ae==="be")&&(ce=ae,ae=10),this._init(ye||0,ae||10,ce||"be"))}typeof ee=="object"?ee.exports=ie:re.BN=ie,ie.BN=ie,ie.wordSize=26;var se;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?se=window.Buffer:se=require("buffer").Buffer}catch{}ie.isBN=function(ae){return ae instanceof ie?!0:ae!==null&&typeof ae=="object"&&ae.constructor.wordSize===ie.wordSize&&Array.isArray(ae.words)},ie.max=function(ae,ce){return ae.cmp(ce)>0?ae:ce},ie.min=function(ae,ce){return ae.cmp(ce)<0?ae:ce},ie.prototype._init=function(ae,ce,le){if(typeof ae=="number")return this._initNumber(ae,ce,le);if(typeof ae=="object")return this._initArray(ae,ce,le);ce==="hex"&&(ce=16),ne(ce===(ce|0)&&ce>=2&&ce<=36),ae=ae.toString().replace(/\s+/g,"");var pe=0;ae[0]==="-"&&(pe++,this.negative=1),pe<ae.length&&(ce===16?this._parseHex(ae,pe,le):(this._parseBase(ae,ce,pe),le==="le"&&this._initArray(this.toArray(),ce,le)))},ie.prototype._initNumber=function(ae,ce,le){ae<0&&(this.negative=1,ae=-ae),ae<67108864?(this.words=[ae&67108863],this.length=1):ae<4503599627370496?(this.words=[ae&67108863,ae/67108864&67108863],this.length=2):(ne(ae<9007199254740992),this.words=[ae&67108863,ae/67108864&67108863,1],this.length=3),le==="le"&&this._initArray(this.toArray(),ce,le)},ie.prototype._initArray=function(ae,ce,le){if(ne(typeof ae.length=="number"),ae.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ae.length/3),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var _e,$e,Ee=0;if(le==="be")for(pe=ae.length-1,_e=0;pe>=0;pe-=3)$e=ae[pe]|ae[pe-1]<<8|ae[pe-2]<<16,this.words[_e]|=$e<<Ee&67108863,this.words[_e+1]=$e>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,_e++);else if(le==="le")for(pe=0,_e=0;pe<ae.length;pe+=3)$e=ae[pe]|ae[pe+1]<<8|ae[pe+2]<<16,this.words[_e]|=$e<<Ee&67108863,this.words[_e+1]=$e>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,_e++);return this.strip()};function ue(ye,ae){var ce=ye.charCodeAt(ae);return ce>=65&&ce<=70?ce-55:ce>=97&&ce<=102?ce-87:ce-48&15}function he(ye,ae,ce){var le=ue(ye,ce);return ce-1>=ae&&(le|=ue(ye,ce-1)<<4),le}ie.prototype._parseHex=function(ae,ce,le){this.length=Math.ceil((ae.length-ce)/6),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var _e=0,$e=0,Ee;if(le==="be")for(pe=ae.length-1;pe>=ce;pe-=2)Ee=he(ae,ce,pe)<<_e,this.words[$e]|=Ee&67108863,_e>=18?(_e-=18,$e+=1,this.words[$e]|=Ee>>>26):_e+=8;else{var me=ae.length-ce;for(pe=me%2===0?ce+1:ce;pe<ae.length;pe+=2)Ee=he(ae,ce,pe)<<_e,this.words[$e]|=Ee&67108863,_e>=18?(_e-=18,$e+=1,this.words[$e]|=Ee>>>26):_e+=8}this.strip()};function ge(ye,ae,ce,le){for(var pe=0,_e=Math.min(ye.length,ce),$e=ae;$e<_e;$e++){var Ee=ye.charCodeAt($e)-48;pe*=le,Ee>=49?pe+=Ee-49+10:Ee>=17?pe+=Ee-17+10:pe+=Ee}return pe}ie.prototype._parseBase=function(ae,ce,le){this.words=[0],this.length=1;for(var pe=0,_e=1;_e<=67108863;_e*=ce)pe++;pe--,_e=_e/ce|0;for(var $e=ae.length-le,Ee=$e%pe,me=Math.min($e,$e-Ee)+le,fe=0,we=le;we<me;we+=pe)fe=ge(ae,we,we+pe,ce),this.imuln(_e),this.words[0]+fe<67108864?this.words[0]+=fe:this._iaddn(fe);if(Ee!==0){var Me=1;for(fe=ge(ae,we,ae.length,ce),we=0;we<Ee;we++)Me*=ce;this.imuln(Me),this.words[0]+fe<67108864?this.words[0]+=fe:this._iaddn(fe)}this.strip()},ie.prototype.copy=function(ae){ae.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)ae.words[ce]=this.words[ce];ae.length=this.length,ae.negative=this.negative,ae.red=this.red},ie.prototype.clone=function(){var ae=new ie(null);return this.copy(ae),ae},ie.prototype._expand=function(ae){for(;this.length<ae;)this.words[this.length++]=0;return this},ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var be=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Se=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Te=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(ae,ce){ae=ae||10,ce=ce|0||1;var le;if(ae===16||ae==="hex"){le="";for(var pe=0,_e=0,$e=0;$e<this.length;$e++){var Ee=this.words[$e],me=((Ee<<pe|_e)&16777215).toString(16);_e=Ee>>>24-pe&16777215,_e!==0||$e!==this.length-1?le=be[6-me.length]+me+le:le=me+le,pe+=2,pe>=26&&(pe-=26,$e--)}for(_e!==0&&(le=_e.toString(16)+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}if(ae===(ae|0)&&ae>=2&&ae<=36){var fe=Se[ae],we=Te[ae];le="";var Me=this.clone();for(Me.negative=0;!Me.isZero();){var Le=Me.modn(we).toString(ae);Me=Me.idivn(we),Me.isZero()?le=Le+le:le=be[fe-Le.length]+Le+le}for(this.isZero()&&(le="0"+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var ae=this.words[0];return this.length===2?ae+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ae+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ae:ae},ie.prototype.toJSON=function(){return this.toString(16)},ie.prototype.toBuffer=function(ae,ce){return ne(typeof se!="undefined"),this.toArrayLike(se,ae,ce)},ie.prototype.toArray=function(ae,ce){return this.toArrayLike(Array,ae,ce)},ie.prototype.toArrayLike=function(ae,ce,le){var pe=this.byteLength(),_e=le||Math.max(1,pe);ne(pe<=_e,"byte array longer than desired length"),ne(_e>0,"Requested array length <= 0"),this.strip();var $e=ce==="le",Ee=new ae(_e),me,fe,we=this.clone();if($e){for(fe=0;!we.isZero();fe++)me=we.andln(255),we.iushrn(8),Ee[fe]=me;for(;fe<_e;fe++)Ee[fe]=0}else{for(fe=0;fe<_e-pe;fe++)Ee[fe]=0;for(fe=0;!we.isZero();fe++)me=we.andln(255),we.iushrn(8),Ee[_e-fe-1]=me}return Ee},Math.clz32?ie.prototype._countBits=function(ae){return 32-Math.clz32(ae)}:ie.prototype._countBits=function(ae){var ce=ae,le=0;return ce>=4096&&(le+=13,ce>>>=13),ce>=64&&(le+=7,ce>>>=7),ce>=8&&(le+=4,ce>>>=4),ce>=2&&(le+=2,ce>>>=2),le+ce},ie.prototype._zeroBits=function(ae){if(ae===0)return 26;var ce=ae,le=0;return(ce&8191)===0&&(le+=13,ce>>>=13),(ce&127)===0&&(le+=7,ce>>>=7),(ce&15)===0&&(le+=4,ce>>>=4),(ce&3)===0&&(le+=2,ce>>>=2),(ce&1)===0&&le++,le},ie.prototype.bitLength=function(){var ae=this.words[this.length-1],ce=this._countBits(ae);return(this.length-1)*26+ce};function ke(ye){for(var ae=new Array(ye.bitLength()),ce=0;ce<ae.length;ce++){var le=ce/26|0,pe=ce%26;ae[ce]=(ye.words[le]&1<<pe)>>>pe}return ae}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ae=0,ce=0;ce<this.length;ce++){var le=this._zeroBits(this.words[ce]);if(ae+=le,le!==26)break}return ae},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(ae){return this.negative!==0?this.abs().inotn(ae).iaddn(1):this.clone()},ie.prototype.fromTwos=function(ae){return this.testn(ae-1)?this.notn(ae).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(ae){for(;this.length<ae.length;)this.words[this.length++]=0;for(var ce=0;ce<ae.length;ce++)this.words[ce]=this.words[ce]|ae.words[ce];return this.strip()},ie.prototype.ior=function(ae){return ne((this.negative|ae.negative)===0),this.iuor(ae)},ie.prototype.or=function(ae){return this.length>ae.length?this.clone().ior(ae):ae.clone().ior(this)},ie.prototype.uor=function(ae){return this.length>ae.length?this.clone().iuor(ae):ae.clone().iuor(this)},ie.prototype.iuand=function(ae){var ce;this.length>ae.length?ce=ae:ce=this;for(var le=0;le<ce.length;le++)this.words[le]=this.words[le]&ae.words[le];return this.length=ce.length,this.strip()},ie.prototype.iand=function(ae){return ne((this.negative|ae.negative)===0),this.iuand(ae)},ie.prototype.and=function(ae){return this.length>ae.length?this.clone().iand(ae):ae.clone().iand(this)},ie.prototype.uand=function(ae){return this.length>ae.length?this.clone().iuand(ae):ae.clone().iuand(this)},ie.prototype.iuxor=function(ae){var ce,le;this.length>ae.length?(ce=this,le=ae):(ce=ae,le=this);for(var pe=0;pe<le.length;pe++)this.words[pe]=ce.words[pe]^le.words[pe];if(this!==ce)for(;pe<ce.length;pe++)this.words[pe]=ce.words[pe];return this.length=ce.length,this.strip()},ie.prototype.ixor=function(ae){return ne((this.negative|ae.negative)===0),this.iuxor(ae)},ie.prototype.xor=function(ae){return this.length>ae.length?this.clone().ixor(ae):ae.clone().ixor(this)},ie.prototype.uxor=function(ae){return this.length>ae.length?this.clone().iuxor(ae):ae.clone().iuxor(this)},ie.prototype.inotn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=Math.ceil(ae/26)|0,le=ae%26;this._expand(ce),le>0&&ce--;for(var pe=0;pe<ce;pe++)this.words[pe]=~this.words[pe]&67108863;return le>0&&(this.words[pe]=~this.words[pe]&67108863>>26-le),this.strip()},ie.prototype.notn=function(ae){return this.clone().inotn(ae)},ie.prototype.setn=function(ae,ce){ne(typeof ae=="number"&&ae>=0);var le=ae/26|0,pe=ae%26;return this._expand(le+1),ce?this.words[le]=this.words[le]|1<<pe:this.words[le]=this.words[le]&~(1<<pe),this.strip()},ie.prototype.iadd=function(ae){var ce;if(this.negative!==0&&ae.negative===0)return this.negative=0,ce=this.isub(ae),this.negative^=1,this._normSign();if(this.negative===0&&ae.negative!==0)return ae.negative=0,ce=this.isub(ae),ae.negative=1,ce._normSign();var le,pe;this.length>ae.length?(le=this,pe=ae):(le=ae,pe=this);for(var _e=0,$e=0;$e<pe.length;$e++)ce=(le.words[$e]|0)+(pe.words[$e]|0)+_e,this.words[$e]=ce&67108863,_e=ce>>>26;for(;_e!==0&&$e<le.length;$e++)ce=(le.words[$e]|0)+_e,this.words[$e]=ce&67108863,_e=ce>>>26;if(this.length=le.length,_e!==0)this.words[this.length]=_e,this.length++;else if(le!==this)for(;$e<le.length;$e++)this.words[$e]=le.words[$e];return this},ie.prototype.add=function(ae){var ce;return ae.negative!==0&&this.negative===0?(ae.negative=0,ce=this.sub(ae),ae.negative^=1,ce):ae.negative===0&&this.negative!==0?(this.negative=0,ce=ae.sub(this),this.negative=1,ce):this.length>ae.length?this.clone().iadd(ae):ae.clone().iadd(this)},ie.prototype.isub=function(ae){if(ae.negative!==0){ae.negative=0;var ce=this.iadd(ae);return ae.negative=1,ce._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ae),this.negative=1,this._normSign();var le=this.cmp(ae);if(le===0)return this.negative=0,this.length=1,this.words[0]=0,this;var pe,_e;le>0?(pe=this,_e=ae):(pe=ae,_e=this);for(var $e=0,Ee=0;Ee<_e.length;Ee++)ce=(pe.words[Ee]|0)-(_e.words[Ee]|0)+$e,$e=ce>>26,this.words[Ee]=ce&67108863;for(;$e!==0&&Ee<pe.length;Ee++)ce=(pe.words[Ee]|0)+$e,$e=ce>>26,this.words[Ee]=ce&67108863;if($e===0&&Ee<pe.length&&pe!==this)for(;Ee<pe.length;Ee++)this.words[Ee]=pe.words[Ee];return this.length=Math.max(this.length,Ee),pe!==this&&(this.negative=1),this.strip()},ie.prototype.sub=function(ae){return this.clone().isub(ae)};function Re(ye,ae,ce){ce.negative=ae.negative^ye.negative;var le=ye.length+ae.length|0;ce.length=le,le=le-1|0;var pe=ye.words[0]|0,_e=ae.words[0]|0,$e=pe*_e,Ee=$e&67108863,me=$e/67108864|0;ce.words[0]=Ee;for(var fe=1;fe<le;fe++){for(var we=me>>>26,Me=me&67108863,Le=Math.min(fe,ae.length-1),Je=Math.max(0,fe-ye.length+1);Je<=Le;Je++){var Ue=fe-Je|0;pe=ye.words[Ue]|0,_e=ae.words[Je]|0,$e=pe*_e+Me,we+=$e/67108864|0,Me=$e&67108863}ce.words[fe]=Me|0,me=we|0}return me!==0?ce.words[fe]=me|0:ce.length--,ce.strip()}var Ce=function(ae,ce,le){var pe=ae.words,_e=ce.words,$e=le.words,Ee=0,me,fe,we,Me=pe[0]|0,Le=Me&8191,Je=Me>>>13,Ue=pe[1]|0,ct=Ue&8191,gt=Ue>>>13,$t=pe[2]|0,vt=$t&8191,Tt=$t>>>13,qt=pe[3]|0,Rt=qt&8191,lt=qt>>>13,_t=pe[4]|0,bt=_t&8191,Qe=_t>>>13,ze=pe[5]|0,De=ze&8191,Ze=ze>>>13,yt=pe[6]|0,dt=yt&8191,mt=yt>>>13,Lt=pe[7]|0,St=Lt&8191,Bt=Lt>>>13,Gt=pe[8]|0,Ae=Gt&8191,ve=Gt>>>13,xe=pe[9]|0,Be=xe&8191,We=xe>>>13,et=_e[0]|0,Xe=et&8191,Mt=et>>>13,Vt=_e[1]|0,At=Vt&8191,Nt=Vt>>>13,zt=_e[2]|0,Ht=zt&8191,Qt=zt>>>13,Ir=_e[3]|0,jt=Ir&8191,Xt=Ir>>>13,$r=_e[4]|0,Ft=$r&8191,Zt=$r>>>13,kr=_e[5]|0,Wt=kr&8191,er=kr>>>13,Pr=_e[6]|0,Ot=Pr&8191,tr=Pr>>>13,Ye=_e[7]|0,rt=Ye&8191,it=Ye>>>13,Fe=_e[8]|0,ot=Fe&8191,wt=Fe>>>13,Pt=_e[9]|0,Et=Pt&8191,Ct=Pt>>>13;le.negative=ae.negative^ce.negative,le.length=19,me=Math.imul(Le,Xe),fe=Math.imul(Le,Mt),fe=fe+Math.imul(Je,Xe)|0,we=Math.imul(Je,Mt);var or=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(or>>>26)|0,or&=67108863,me=Math.imul(ct,Xe),fe=Math.imul(ct,Mt),fe=fe+Math.imul(gt,Xe)|0,we=Math.imul(gt,Mt),me=me+Math.imul(Le,At)|0,fe=fe+Math.imul(Le,Nt)|0,fe=fe+Math.imul(Je,At)|0,we=we+Math.imul(Je,Nt)|0;var Yt=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,me=Math.imul(vt,Xe),fe=Math.imul(vt,Mt),fe=fe+Math.imul(Tt,Xe)|0,we=Math.imul(Tt,Mt),me=me+Math.imul(ct,At)|0,fe=fe+Math.imul(ct,Nt)|0,fe=fe+Math.imul(gt,At)|0,we=we+Math.imul(gt,Nt)|0,me=me+Math.imul(Le,Ht)|0,fe=fe+Math.imul(Le,Qt)|0,fe=fe+Math.imul(Je,Ht)|0,we=we+Math.imul(Je,Qt)|0;var Rr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,me=Math.imul(Rt,Xe),fe=Math.imul(Rt,Mt),fe=fe+Math.imul(lt,Xe)|0,we=Math.imul(lt,Mt),me=me+Math.imul(vt,At)|0,fe=fe+Math.imul(vt,Nt)|0,fe=fe+Math.imul(Tt,At)|0,we=we+Math.imul(Tt,Nt)|0,me=me+Math.imul(ct,Ht)|0,fe=fe+Math.imul(ct,Qt)|0,fe=fe+Math.imul(gt,Ht)|0,we=we+Math.imul(gt,Qt)|0,me=me+Math.imul(Le,jt)|0,fe=fe+Math.imul(Le,Xt)|0,fe=fe+Math.imul(Je,jt)|0,we=we+Math.imul(Je,Xt)|0;var cr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(cr>>>26)|0,cr&=67108863,me=Math.imul(bt,Xe),fe=Math.imul(bt,Mt),fe=fe+Math.imul(Qe,Xe)|0,we=Math.imul(Qe,Mt),me=me+Math.imul(Rt,At)|0,fe=fe+Math.imul(Rt,Nt)|0,fe=fe+Math.imul(lt,At)|0,we=we+Math.imul(lt,Nt)|0,me=me+Math.imul(vt,Ht)|0,fe=fe+Math.imul(vt,Qt)|0,fe=fe+Math.imul(Tt,Ht)|0,we=we+Math.imul(Tt,Qt)|0,me=me+Math.imul(ct,jt)|0,fe=fe+Math.imul(ct,Xt)|0,fe=fe+Math.imul(gt,jt)|0,we=we+Math.imul(gt,Xt)|0,me=me+Math.imul(Le,Ft)|0,fe=fe+Math.imul(Le,Zt)|0,fe=fe+Math.imul(Je,Ft)|0,we=we+Math.imul(Je,Zt)|0;var wr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(wr>>>26)|0,wr&=67108863,me=Math.imul(De,Xe),fe=Math.imul(De,Mt),fe=fe+Math.imul(Ze,Xe)|0,we=Math.imul(Ze,Mt),me=me+Math.imul(bt,At)|0,fe=fe+Math.imul(bt,Nt)|0,fe=fe+Math.imul(Qe,At)|0,we=we+Math.imul(Qe,Nt)|0,me=me+Math.imul(Rt,Ht)|0,fe=fe+Math.imul(Rt,Qt)|0,fe=fe+Math.imul(lt,Ht)|0,we=we+Math.imul(lt,Qt)|0,me=me+Math.imul(vt,jt)|0,fe=fe+Math.imul(vt,Xt)|0,fe=fe+Math.imul(Tt,jt)|0,we=we+Math.imul(Tt,Xt)|0,me=me+Math.imul(ct,Ft)|0,fe=fe+Math.imul(ct,Zt)|0,fe=fe+Math.imul(gt,Ft)|0,we=we+Math.imul(gt,Zt)|0,me=me+Math.imul(Le,Wt)|0,fe=fe+Math.imul(Le,er)|0,fe=fe+Math.imul(Je,Wt)|0,we=we+Math.imul(Je,er)|0;var xr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(xr>>>26)|0,xr&=67108863,me=Math.imul(dt,Xe),fe=Math.imul(dt,Mt),fe=fe+Math.imul(mt,Xe)|0,we=Math.imul(mt,Mt),me=me+Math.imul(De,At)|0,fe=fe+Math.imul(De,Nt)|0,fe=fe+Math.imul(Ze,At)|0,we=we+Math.imul(Ze,Nt)|0,me=me+Math.imul(bt,Ht)|0,fe=fe+Math.imul(bt,Qt)|0,fe=fe+Math.imul(Qe,Ht)|0,we=we+Math.imul(Qe,Qt)|0,me=me+Math.imul(Rt,jt)|0,fe=fe+Math.imul(Rt,Xt)|0,fe=fe+Math.imul(lt,jt)|0,we=we+Math.imul(lt,Xt)|0,me=me+Math.imul(vt,Ft)|0,fe=fe+Math.imul(vt,Zt)|0,fe=fe+Math.imul(Tt,Ft)|0,we=we+Math.imul(Tt,Zt)|0,me=me+Math.imul(ct,Wt)|0,fe=fe+Math.imul(ct,er)|0,fe=fe+Math.imul(gt,Wt)|0,we=we+Math.imul(gt,er)|0,me=me+Math.imul(Le,Ot)|0,fe=fe+Math.imul(Le,tr)|0,fe=fe+Math.imul(Je,Ot)|0,we=we+Math.imul(Je,tr)|0;var Er=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Er>>>26)|0,Er&=67108863,me=Math.imul(St,Xe),fe=Math.imul(St,Mt),fe=fe+Math.imul(Bt,Xe)|0,we=Math.imul(Bt,Mt),me=me+Math.imul(dt,At)|0,fe=fe+Math.imul(dt,Nt)|0,fe=fe+Math.imul(mt,At)|0,we=we+Math.imul(mt,Nt)|0,me=me+Math.imul(De,Ht)|0,fe=fe+Math.imul(De,Qt)|0,fe=fe+Math.imul(Ze,Ht)|0,we=we+Math.imul(Ze,Qt)|0,me=me+Math.imul(bt,jt)|0,fe=fe+Math.imul(bt,Xt)|0,fe=fe+Math.imul(Qe,jt)|0,we=we+Math.imul(Qe,Xt)|0,me=me+Math.imul(Rt,Ft)|0,fe=fe+Math.imul(Rt,Zt)|0,fe=fe+Math.imul(lt,Ft)|0,we=we+Math.imul(lt,Zt)|0,me=me+Math.imul(vt,Wt)|0,fe=fe+Math.imul(vt,er)|0,fe=fe+Math.imul(Tt,Wt)|0,we=we+Math.imul(Tt,er)|0,me=me+Math.imul(ct,Ot)|0,fe=fe+Math.imul(ct,tr)|0,fe=fe+Math.imul(gt,Ot)|0,we=we+Math.imul(gt,tr)|0,me=me+Math.imul(Le,rt)|0,fe=fe+Math.imul(Le,it)|0,fe=fe+Math.imul(Je,rt)|0,we=we+Math.imul(Je,it)|0;var Mr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,me=Math.imul(Ae,Xe),fe=Math.imul(Ae,Mt),fe=fe+Math.imul(ve,Xe)|0,we=Math.imul(ve,Mt),me=me+Math.imul(St,At)|0,fe=fe+Math.imul(St,Nt)|0,fe=fe+Math.imul(Bt,At)|0,we=we+Math.imul(Bt,Nt)|0,me=me+Math.imul(dt,Ht)|0,fe=fe+Math.imul(dt,Qt)|0,fe=fe+Math.imul(mt,Ht)|0,we=we+Math.imul(mt,Qt)|0,me=me+Math.imul(De,jt)|0,fe=fe+Math.imul(De,Xt)|0,fe=fe+Math.imul(Ze,jt)|0,we=we+Math.imul(Ze,Xt)|0,me=me+Math.imul(bt,Ft)|0,fe=fe+Math.imul(bt,Zt)|0,fe=fe+Math.imul(Qe,Ft)|0,we=we+Math.imul(Qe,Zt)|0,me=me+Math.imul(Rt,Wt)|0,fe=fe+Math.imul(Rt,er)|0,fe=fe+Math.imul(lt,Wt)|0,we=we+Math.imul(lt,er)|0,me=me+Math.imul(vt,Ot)|0,fe=fe+Math.imul(vt,tr)|0,fe=fe+Math.imul(Tt,Ot)|0,we=we+Math.imul(Tt,tr)|0,me=me+Math.imul(ct,rt)|0,fe=fe+Math.imul(ct,it)|0,fe=fe+Math.imul(gt,rt)|0,we=we+Math.imul(gt,it)|0,me=me+Math.imul(Le,ot)|0,fe=fe+Math.imul(Le,wt)|0,fe=fe+Math.imul(Je,ot)|0,we=we+Math.imul(Je,wt)|0;var Sr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,me=Math.imul(Be,Xe),fe=Math.imul(Be,Mt),fe=fe+Math.imul(We,Xe)|0,we=Math.imul(We,Mt),me=me+Math.imul(Ae,At)|0,fe=fe+Math.imul(Ae,Nt)|0,fe=fe+Math.imul(ve,At)|0,we=we+Math.imul(ve,Nt)|0,me=me+Math.imul(St,Ht)|0,fe=fe+Math.imul(St,Qt)|0,fe=fe+Math.imul(Bt,Ht)|0,we=we+Math.imul(Bt,Qt)|0,me=me+Math.imul(dt,jt)|0,fe=fe+Math.imul(dt,Xt)|0,fe=fe+Math.imul(mt,jt)|0,we=we+Math.imul(mt,Xt)|0,me=me+Math.imul(De,Ft)|0,fe=fe+Math.imul(De,Zt)|0,fe=fe+Math.imul(Ze,Ft)|0,we=we+Math.imul(Ze,Zt)|0,me=me+Math.imul(bt,Wt)|0,fe=fe+Math.imul(bt,er)|0,fe=fe+Math.imul(Qe,Wt)|0,we=we+Math.imul(Qe,er)|0,me=me+Math.imul(Rt,Ot)|0,fe=fe+Math.imul(Rt,tr)|0,fe=fe+Math.imul(lt,Ot)|0,we=we+Math.imul(lt,tr)|0,me=me+Math.imul(vt,rt)|0,fe=fe+Math.imul(vt,it)|0,fe=fe+Math.imul(Tt,rt)|0,we=we+Math.imul(Tt,it)|0,me=me+Math.imul(ct,ot)|0,fe=fe+Math.imul(ct,wt)|0,fe=fe+Math.imul(gt,ot)|0,we=we+Math.imul(gt,wt)|0,me=me+Math.imul(Le,Et)|0,fe=fe+Math.imul(Le,Ct)|0,fe=fe+Math.imul(Je,Et)|0,we=we+Math.imul(Je,Ct)|0;var Ar=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,me=Math.imul(Be,At),fe=Math.imul(Be,Nt),fe=fe+Math.imul(We,At)|0,we=Math.imul(We,Nt),me=me+Math.imul(Ae,Ht)|0,fe=fe+Math.imul(Ae,Qt)|0,fe=fe+Math.imul(ve,Ht)|0,we=we+Math.imul(ve,Qt)|0,me=me+Math.imul(St,jt)|0,fe=fe+Math.imul(St,Xt)|0,fe=fe+Math.imul(Bt,jt)|0,we=we+Math.imul(Bt,Xt)|0,me=me+Math.imul(dt,Ft)|0,fe=fe+Math.imul(dt,Zt)|0,fe=fe+Math.imul(mt,Ft)|0,we=we+Math.imul(mt,Zt)|0,me=me+Math.imul(De,Wt)|0,fe=fe+Math.imul(De,er)|0,fe=fe+Math.imul(Ze,Wt)|0,we=we+Math.imul(Ze,er)|0,me=me+Math.imul(bt,Ot)|0,fe=fe+Math.imul(bt,tr)|0,fe=fe+Math.imul(Qe,Ot)|0,we=we+Math.imul(Qe,tr)|0,me=me+Math.imul(Rt,rt)|0,fe=fe+Math.imul(Rt,it)|0,fe=fe+Math.imul(lt,rt)|0,we=we+Math.imul(lt,it)|0,me=me+Math.imul(vt,ot)|0,fe=fe+Math.imul(vt,wt)|0,fe=fe+Math.imul(Tt,ot)|0,we=we+Math.imul(Tt,wt)|0,me=me+Math.imul(ct,Et)|0,fe=fe+Math.imul(ct,Ct)|0,fe=fe+Math.imul(gt,Et)|0,we=we+Math.imul(gt,Ct)|0;var Tr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,me=Math.imul(Be,Ht),fe=Math.imul(Be,Qt),fe=fe+Math.imul(We,Ht)|0,we=Math.imul(We,Qt),me=me+Math.imul(Ae,jt)|0,fe=fe+Math.imul(Ae,Xt)|0,fe=fe+Math.imul(ve,jt)|0,we=we+Math.imul(ve,Xt)|0,me=me+Math.imul(St,Ft)|0,fe=fe+Math.imul(St,Zt)|0,fe=fe+Math.imul(Bt,Ft)|0,we=we+Math.imul(Bt,Zt)|0,me=me+Math.imul(dt,Wt)|0,fe=fe+Math.imul(dt,er)|0,fe=fe+Math.imul(mt,Wt)|0,we=we+Math.imul(mt,er)|0,me=me+Math.imul(De,Ot)|0,fe=fe+Math.imul(De,tr)|0,fe=fe+Math.imul(Ze,Ot)|0,we=we+Math.imul(Ze,tr)|0,me=me+Math.imul(bt,rt)|0,fe=fe+Math.imul(bt,it)|0,fe=fe+Math.imul(Qe,rt)|0,we=we+Math.imul(Qe,it)|0,me=me+Math.imul(Rt,ot)|0,fe=fe+Math.imul(Rt,wt)|0,fe=fe+Math.imul(lt,ot)|0,we=we+Math.imul(lt,wt)|0,me=me+Math.imul(vt,Et)|0,fe=fe+Math.imul(vt,Ct)|0,fe=fe+Math.imul(Tt,Et)|0,we=we+Math.imul(Tt,Ct)|0;var pr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(pr>>>26)|0,pr&=67108863,me=Math.imul(Be,jt),fe=Math.imul(Be,Xt),fe=fe+Math.imul(We,jt)|0,we=Math.imul(We,Xt),me=me+Math.imul(Ae,Ft)|0,fe=fe+Math.imul(Ae,Zt)|0,fe=fe+Math.imul(ve,Ft)|0,we=we+Math.imul(ve,Zt)|0,me=me+Math.imul(St,Wt)|0,fe=fe+Math.imul(St,er)|0,fe=fe+Math.imul(Bt,Wt)|0,we=we+Math.imul(Bt,er)|0,me=me+Math.imul(dt,Ot)|0,fe=fe+Math.imul(dt,tr)|0,fe=fe+Math.imul(mt,Ot)|0,we=we+Math.imul(mt,tr)|0,me=me+Math.imul(De,rt)|0,fe=fe+Math.imul(De,it)|0,fe=fe+Math.imul(Ze,rt)|0,we=we+Math.imul(Ze,it)|0,me=me+Math.imul(bt,ot)|0,fe=fe+Math.imul(bt,wt)|0,fe=fe+Math.imul(Qe,ot)|0,we=we+Math.imul(Qe,wt)|0,me=me+Math.imul(Rt,Et)|0,fe=fe+Math.imul(Rt,Ct)|0,fe=fe+Math.imul(lt,Et)|0,we=we+Math.imul(lt,Ct)|0;var _r=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(_r>>>26)|0,_r&=67108863,me=Math.imul(Be,Ft),fe=Math.imul(Be,Zt),fe=fe+Math.imul(We,Ft)|0,we=Math.imul(We,Zt),me=me+Math.imul(Ae,Wt)|0,fe=fe+Math.imul(Ae,er)|0,fe=fe+Math.imul(ve,Wt)|0,we=we+Math.imul(ve,er)|0,me=me+Math.imul(St,Ot)|0,fe=fe+Math.imul(St,tr)|0,fe=fe+Math.imul(Bt,Ot)|0,we=we+Math.imul(Bt,tr)|0,me=me+Math.imul(dt,rt)|0,fe=fe+Math.imul(dt,it)|0,fe=fe+Math.imul(mt,rt)|0,we=we+Math.imul(mt,it)|0,me=me+Math.imul(De,ot)|0,fe=fe+Math.imul(De,wt)|0,fe=fe+Math.imul(Ze,ot)|0,we=we+Math.imul(Ze,wt)|0,me=me+Math.imul(bt,Et)|0,fe=fe+Math.imul(bt,Ct)|0,fe=fe+Math.imul(Qe,Et)|0,we=we+Math.imul(Qe,Ct)|0;var lr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(lr>>>26)|0,lr&=67108863,me=Math.imul(Be,Wt),fe=Math.imul(Be,er),fe=fe+Math.imul(We,Wt)|0,we=Math.imul(We,er),me=me+Math.imul(Ae,Ot)|0,fe=fe+Math.imul(Ae,tr)|0,fe=fe+Math.imul(ve,Ot)|0,we=we+Math.imul(ve,tr)|0,me=me+Math.imul(St,rt)|0,fe=fe+Math.imul(St,it)|0,fe=fe+Math.imul(Bt,rt)|0,we=we+Math.imul(Bt,it)|0,me=me+Math.imul(dt,ot)|0,fe=fe+Math.imul(dt,wt)|0,fe=fe+Math.imul(mt,ot)|0,we=we+Math.imul(mt,wt)|0,me=me+Math.imul(De,Et)|0,fe=fe+Math.imul(De,Ct)|0,fe=fe+Math.imul(Ze,Et)|0,we=we+Math.imul(Ze,Ct)|0;var gr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(gr>>>26)|0,gr&=67108863,me=Math.imul(Be,Ot),fe=Math.imul(Be,tr),fe=fe+Math.imul(We,Ot)|0,we=Math.imul(We,tr),me=me+Math.imul(Ae,rt)|0,fe=fe+Math.imul(Ae,it)|0,fe=fe+Math.imul(ve,rt)|0,we=we+Math.imul(ve,it)|0,me=me+Math.imul(St,ot)|0,fe=fe+Math.imul(St,wt)|0,fe=fe+Math.imul(Bt,ot)|0,we=we+Math.imul(Bt,wt)|0,me=me+Math.imul(dt,Et)|0,fe=fe+Math.imul(dt,Ct)|0,fe=fe+Math.imul(mt,Et)|0,we=we+Math.imul(mt,Ct)|0;var mr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(mr>>>26)|0,mr&=67108863,me=Math.imul(Be,rt),fe=Math.imul(Be,it),fe=fe+Math.imul(We,rt)|0,we=Math.imul(We,it),me=me+Math.imul(Ae,ot)|0,fe=fe+Math.imul(Ae,wt)|0,fe=fe+Math.imul(ve,ot)|0,we=we+Math.imul(ve,wt)|0,me=me+Math.imul(St,Et)|0,fe=fe+Math.imul(St,Ct)|0,fe=fe+Math.imul(Bt,Et)|0,we=we+Math.imul(Bt,Ct)|0;var dr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(dr>>>26)|0,dr&=67108863,me=Math.imul(Be,ot),fe=Math.imul(Be,wt),fe=fe+Math.imul(We,ot)|0,we=Math.imul(We,wt),me=me+Math.imul(Ae,Et)|0,fe=fe+Math.imul(Ae,Ct)|0,fe=fe+Math.imul(ve,Et)|0,we=we+Math.imul(ve,Ct)|0;var Ut=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,me=Math.imul(Be,Et),fe=Math.imul(Be,Ct),fe=fe+Math.imul(We,Et)|0,we=Math.imul(We,Ct);var Dt=(Ee+me|0)+((fe&8191)<<13)|0;return Ee=(we+(fe>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,$e[0]=or,$e[1]=Yt,$e[2]=Rr,$e[3]=cr,$e[4]=wr,$e[5]=xr,$e[6]=Er,$e[7]=Mr,$e[8]=Sr,$e[9]=Ar,$e[10]=Tr,$e[11]=pr,$e[12]=_r,$e[13]=lr,$e[14]=gr,$e[15]=mr,$e[16]=dr,$e[17]=Ut,$e[18]=Dt,Ee!==0&&($e[19]=Ee,le.length++),le};Math.imul||(Ce=Re);function Pe(ye,ae,ce){ce.negative=ae.negative^ye.negative,ce.length=ye.length+ae.length;for(var le=0,pe=0,_e=0;_e<ce.length-1;_e++){var $e=pe;pe=0;for(var Ee=le&67108863,me=Math.min(_e,ae.length-1),fe=Math.max(0,_e-ye.length+1);fe<=me;fe++){var we=_e-fe,Me=ye.words[we]|0,Le=ae.words[fe]|0,Je=Me*Le,Ue=Je&67108863;$e=$e+(Je/67108864|0)|0,Ue=Ue+Ee|0,Ee=Ue&67108863,$e=$e+(Ue>>>26)|0,pe+=$e>>>26,$e&=67108863}ce.words[_e]=Ee,le=$e,$e=pe}return le!==0?ce.words[_e]=le:ce.length--,ce.strip()}function Ie(ye,ae,ce){var le=new Ne;return le.mulp(ye,ae,ce)}ie.prototype.mulTo=function(ae,ce){var le,pe=this.length+ae.length;return this.length===10&&ae.length===10?le=Ce(this,ae,ce):pe<63?le=Re(this,ae,ce):pe<1024?le=Pe(this,ae,ce):le=Ie(this,ae,ce),le};function Ne(ye,ae){this.x=ye,this.y=ae}Ne.prototype.makeRBT=function(ae){for(var ce=new Array(ae),le=ie.prototype._countBits(ae)-1,pe=0;pe<ae;pe++)ce[pe]=this.revBin(pe,le,ae);return ce},Ne.prototype.revBin=function(ae,ce,le){if(ae===0||ae===le-1)return ae;for(var pe=0,_e=0;_e<ce;_e++)pe|=(ae&1)<<ce-_e-1,ae>>=1;return pe},Ne.prototype.permute=function(ae,ce,le,pe,_e,$e){for(var Ee=0;Ee<$e;Ee++)pe[Ee]=ce[ae[Ee]],_e[Ee]=le[ae[Ee]]},Ne.prototype.transform=function(ae,ce,le,pe,_e,$e){this.permute($e,ae,ce,le,pe,_e);for(var Ee=1;Ee<_e;Ee<<=1)for(var me=Ee<<1,fe=Math.cos(2*Math.PI/me),we=Math.sin(2*Math.PI/me),Me=0;Me<_e;Me+=me)for(var Le=fe,Je=we,Ue=0;Ue<Ee;Ue++){var ct=le[Me+Ue],gt=pe[Me+Ue],$t=le[Me+Ue+Ee],vt=pe[Me+Ue+Ee],Tt=Le*$t-Je*vt;vt=Le*vt+Je*$t,$t=Tt,le[Me+Ue]=ct+$t,pe[Me+Ue]=gt+vt,le[Me+Ue+Ee]=ct-$t,pe[Me+Ue+Ee]=gt-vt,Ue!==me&&(Tt=fe*Le-we*Je,Je=fe*Je+we*Le,Le=Tt)}},Ne.prototype.guessLen13b=function(ae,ce){var le=Math.max(ce,ae)|1,pe=le&1,_e=0;for(le=le/2|0;le;le=le>>>1)_e++;return 1<<_e+1+pe},Ne.prototype.conjugate=function(ae,ce,le){if(!(le<=1))for(var pe=0;pe<le/2;pe++){var _e=ae[pe];ae[pe]=ae[le-pe-1],ae[le-pe-1]=_e,_e=ce[pe],ce[pe]=-ce[le-pe-1],ce[le-pe-1]=-_e}},Ne.prototype.normalize13b=function(ae,ce){for(var le=0,pe=0;pe<ce/2;pe++){var _e=Math.round(ae[2*pe+1]/ce)*8192+Math.round(ae[2*pe]/ce)+le;ae[pe]=_e&67108863,_e<67108864?le=0:le=_e/67108864|0}return ae},Ne.prototype.convert13b=function(ae,ce,le,pe){for(var _e=0,$e=0;$e<ce;$e++)_e=_e+(ae[$e]|0),le[2*$e]=_e&8191,_e=_e>>>13,le[2*$e+1]=_e&8191,_e=_e>>>13;for($e=2*ce;$e<pe;++$e)le[$e]=0;ne(_e===0),ne((_e&-8192)===0)},Ne.prototype.stub=function(ae){for(var ce=new Array(ae),le=0;le<ae;le++)ce[le]=0;return ce},Ne.prototype.mulp=function(ae,ce,le){var pe=2*this.guessLen13b(ae.length,ce.length),_e=this.makeRBT(pe),$e=this.stub(pe),Ee=new Array(pe),me=new Array(pe),fe=new Array(pe),we=new Array(pe),Me=new Array(pe),Le=new Array(pe),Je=le.words;Je.length=pe,this.convert13b(ae.words,ae.length,Ee,pe),this.convert13b(ce.words,ce.length,we,pe),this.transform(Ee,$e,me,fe,pe,_e),this.transform(we,$e,Me,Le,pe,_e);for(var Ue=0;Ue<pe;Ue++){var ct=me[Ue]*Me[Ue]-fe[Ue]*Le[Ue];fe[Ue]=me[Ue]*Le[Ue]+fe[Ue]*Me[Ue],me[Ue]=ct}return this.conjugate(me,fe,pe),this.transform(me,fe,Je,$e,pe,_e),this.conjugate(Je,$e,pe),this.normalize13b(Je,pe),le.negative=ae.negative^ce.negative,le.length=ae.length+ce.length,le.strip()},ie.prototype.mul=function(ae){var ce=new ie(null);return ce.words=new Array(this.length+ae.length),this.mulTo(ae,ce)},ie.prototype.mulf=function(ae){var ce=new ie(null);return ce.words=new Array(this.length+ae.length),Ie(this,ae,ce)},ie.prototype.imul=function(ae){return this.clone().mulTo(ae,this)},ie.prototype.imuln=function(ae){ne(typeof ae=="number"),ne(ae<67108864);for(var ce=0,le=0;le<this.length;le++){var pe=(this.words[le]|0)*ae,_e=(pe&67108863)+(ce&67108863);ce>>=26,ce+=pe/67108864|0,ce+=_e>>>26,this.words[le]=_e&67108863}return ce!==0&&(this.words[le]=ce,this.length++),this},ie.prototype.muln=function(ae){return this.clone().imuln(ae)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(ae){var ce=ke(ae);if(ce.length===0)return new ie(1);for(var le=this,pe=0;pe<ce.length&&ce[pe]===0;pe++,le=le.sqr());if(++pe<ce.length)for(var _e=le.sqr();pe<ce.length;pe++,_e=_e.sqr())ce[pe]!==0&&(le=le.mul(_e));return le},ie.prototype.iushln=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26,pe=67108863>>>26-ce<<26-ce,_e;if(ce!==0){var $e=0;for(_e=0;_e<this.length;_e++){var Ee=this.words[_e]&pe,me=(this.words[_e]|0)-Ee<<ce;this.words[_e]=me|$e,$e=Ee>>>26-ce}$e&&(this.words[_e]=$e,this.length++)}if(le!==0){for(_e=this.length-1;_e>=0;_e--)this.words[_e+le]=this.words[_e];for(_e=0;_e<le;_e++)this.words[_e]=0;this.length+=le}return this.strip()},ie.prototype.ishln=function(ae){return ne(this.negative===0),this.iushln(ae)},ie.prototype.iushrn=function(ae,ce,le){ne(typeof ae=="number"&&ae>=0);var pe;ce?pe=(ce-ce%26)/26:pe=0;var _e=ae%26,$e=Math.min((ae-_e)/26,this.length),Ee=67108863^67108863>>>_e<<_e,me=le;if(pe-=$e,pe=Math.max(0,pe),me){for(var fe=0;fe<$e;fe++)me.words[fe]=this.words[fe];me.length=$e}if($e!==0)if(this.length>$e)for(this.length-=$e,fe=0;fe<this.length;fe++)this.words[fe]=this.words[fe+$e];else this.words[0]=0,this.length=1;var we=0;for(fe=this.length-1;fe>=0&&(we!==0||fe>=pe);fe--){var Me=this.words[fe]|0;this.words[fe]=we<<26-_e|Me>>>_e,we=Me&Ee}return me&&we!==0&&(me.words[me.length++]=we),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ie.prototype.ishrn=function(ae,ce,le){return ne(this.negative===0),this.iushrn(ae,ce,le)},ie.prototype.shln=function(ae){return this.clone().ishln(ae)},ie.prototype.ushln=function(ae){return this.clone().iushln(ae)},ie.prototype.shrn=function(ae){return this.clone().ishrn(ae)},ie.prototype.ushrn=function(ae){return this.clone().iushrn(ae)},ie.prototype.testn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26,pe=1<<ce;if(this.length<=le)return!1;var _e=this.words[le];return!!(_e&pe)},ie.prototype.imaskn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=le)return this;if(ce!==0&&le++,this.length=Math.min(le,this.length),ce!==0){var pe=67108863^67108863>>>ce<<ce;this.words[this.length-1]&=pe}return this.strip()},ie.prototype.maskn=function(ae){return this.clone().imaskn(ae)},ie.prototype.iaddn=function(ae){return ne(typeof ae=="number"),ne(ae<67108864),ae<0?this.isubn(-ae):this.negative!==0?this.length===1&&(this.words[0]|0)<ae?(this.words[0]=ae-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ae),this.negative=1,this):this._iaddn(ae)},ie.prototype._iaddn=function(ae){this.words[0]+=ae;for(var ce=0;ce<this.length&&this.words[ce]>=67108864;ce++)this.words[ce]-=67108864,ce===this.length-1?this.words[ce+1]=1:this.words[ce+1]++;return this.length=Math.max(this.length,ce+1),this},ie.prototype.isubn=function(ae){if(ne(typeof ae=="number"),ne(ae<67108864),ae<0)return this.iaddn(-ae);if(this.negative!==0)return this.negative=0,this.iaddn(ae),this.negative=1,this;if(this.words[0]-=ae,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ce=0;ce<this.length&&this.words[ce]<0;ce++)this.words[ce]+=67108864,this.words[ce+1]-=1;return this.strip()},ie.prototype.addn=function(ae){return this.clone().iaddn(ae)},ie.prototype.subn=function(ae){return this.clone().isubn(ae)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(ae,ce,le){var pe=ae.length+le,_e;this._expand(pe);var $e,Ee=0;for(_e=0;_e<ae.length;_e++){$e=(this.words[_e+le]|0)+Ee;var me=(ae.words[_e]|0)*ce;$e-=me&67108863,Ee=($e>>26)-(me/67108864|0),this.words[_e+le]=$e&67108863}for(;_e<this.length-le;_e++)$e=(this.words[_e+le]|0)+Ee,Ee=$e>>26,this.words[_e+le]=$e&67108863;if(Ee===0)return this.strip();for(ne(Ee===-1),Ee=0,_e=0;_e<this.length;_e++)$e=-(this.words[_e]|0)+Ee,Ee=$e>>26,this.words[_e]=$e&67108863;return this.negative=1,this.strip()},ie.prototype._wordDiv=function(ae,ce){var le=this.length-ae.length,pe=this.clone(),_e=ae,$e=_e.words[_e.length-1]|0,Ee=this._countBits($e);le=26-Ee,le!==0&&(_e=_e.ushln(le),pe.iushln(le),$e=_e.words[_e.length-1]|0);var me=pe.length-_e.length,fe;if(ce!=="mod"){fe=new ie(null),fe.length=me+1,fe.words=new Array(fe.length);for(var we=0;we<fe.length;we++)fe.words[we]=0}var Me=pe.clone()._ishlnsubmul(_e,1,me);Me.negative===0&&(pe=Me,fe&&(fe.words[me]=1));for(var Le=me-1;Le>=0;Le--){var Je=(pe.words[_e.length+Le]|0)*67108864+(pe.words[_e.length+Le-1]|0);for(Je=Math.min(Je/$e|0,67108863),pe._ishlnsubmul(_e,Je,Le);pe.negative!==0;)Je--,pe.negative=0,pe._ishlnsubmul(_e,1,Le),pe.isZero()||(pe.negative^=1);fe&&(fe.words[Le]=Je)}return fe&&fe.strip(),pe.strip(),ce!=="div"&&le!==0&&pe.iushrn(le),{div:fe||null,mod:pe}},ie.prototype.divmod=function(ae,ce,le){if(ne(!ae.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var pe,_e,$e;return this.negative!==0&&ae.negative===0?($e=this.neg().divmod(ae,ce),ce!=="mod"&&(pe=$e.div.neg()),ce!=="div"&&(_e=$e.mod.neg(),le&&_e.negative!==0&&_e.iadd(ae)),{div:pe,mod:_e}):this.negative===0&&ae.negative!==0?($e=this.divmod(ae.neg(),ce),ce!=="mod"&&(pe=$e.div.neg()),{div:pe,mod:$e.mod}):(this.negative&ae.negative)!==0?($e=this.neg().divmod(ae.neg(),ce),ce!=="div"&&(_e=$e.mod.neg(),le&&_e.negative!==0&&_e.isub(ae)),{div:$e.div,mod:_e}):ae.length>this.length||this.cmp(ae)<0?{div:new ie(0),mod:this}:ae.length===1?ce==="div"?{div:this.divn(ae.words[0]),mod:null}:ce==="mod"?{div:null,mod:new ie(this.modn(ae.words[0]))}:{div:this.divn(ae.words[0]),mod:new ie(this.modn(ae.words[0]))}:this._wordDiv(ae,ce)},ie.prototype.div=function(ae){return this.divmod(ae,"div",!1).div},ie.prototype.mod=function(ae){return this.divmod(ae,"mod",!1).mod},ie.prototype.umod=function(ae){return this.divmod(ae,"mod",!0).mod},ie.prototype.divRound=function(ae){var ce=this.divmod(ae);if(ce.mod.isZero())return ce.div;var le=ce.div.negative!==0?ce.mod.isub(ae):ce.mod,pe=ae.ushrn(1),_e=ae.andln(1),$e=le.cmp(pe);return $e<0||_e===1&&$e===0?ce.div:ce.div.negative!==0?ce.div.isubn(1):ce.div.iaddn(1)},ie.prototype.modn=function(ae){ne(ae<=67108863);for(var ce=(1<<26)%ae,le=0,pe=this.length-1;pe>=0;pe--)le=(ce*le+(this.words[pe]|0))%ae;return le},ie.prototype.idivn=function(ae){ne(ae<=67108863);for(var ce=0,le=this.length-1;le>=0;le--){var pe=(this.words[le]|0)+ce*67108864;this.words[le]=pe/ae|0,ce=pe%ae}return this.strip()},ie.prototype.divn=function(ae){return this.clone().idivn(ae)},ie.prototype.egcd=function(ae){ne(ae.negative===0),ne(!ae.isZero());var ce=this,le=ae.clone();ce.negative!==0?ce=ce.umod(ae):ce=ce.clone();for(var pe=new ie(1),_e=new ie(0),$e=new ie(0),Ee=new ie(1),me=0;ce.isEven()&&le.isEven();)ce.iushrn(1),le.iushrn(1),++me;for(var fe=le.clone(),we=ce.clone();!ce.isZero();){for(var Me=0,Le=1;(ce.words[0]&Le)===0&&Me<26;++Me,Le<<=1);if(Me>0)for(ce.iushrn(Me);Me-- >0;)(pe.isOdd()||_e.isOdd())&&(pe.iadd(fe),_e.isub(we)),pe.iushrn(1),_e.iushrn(1);for(var Je=0,Ue=1;(le.words[0]&Ue)===0&&Je<26;++Je,Ue<<=1);if(Je>0)for(le.iushrn(Je);Je-- >0;)($e.isOdd()||Ee.isOdd())&&($e.iadd(fe),Ee.isub(we)),$e.iushrn(1),Ee.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),pe.isub($e),_e.isub(Ee)):(le.isub(ce),$e.isub(pe),Ee.isub(_e))}return{a:$e,b:Ee,gcd:le.iushln(me)}},ie.prototype._invmp=function(ae){ne(ae.negative===0),ne(!ae.isZero());var ce=this,le=ae.clone();ce.negative!==0?ce=ce.umod(ae):ce=ce.clone();for(var pe=new ie(1),_e=new ie(0),$e=le.clone();ce.cmpn(1)>0&&le.cmpn(1)>0;){for(var Ee=0,me=1;(ce.words[0]&me)===0&&Ee<26;++Ee,me<<=1);if(Ee>0)for(ce.iushrn(Ee);Ee-- >0;)pe.isOdd()&&pe.iadd($e),pe.iushrn(1);for(var fe=0,we=1;(le.words[0]&we)===0&&fe<26;++fe,we<<=1);if(fe>0)for(le.iushrn(fe);fe-- >0;)_e.isOdd()&&_e.iadd($e),_e.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),pe.isub(_e)):(le.isub(ce),_e.isub(pe))}var Me;return ce.cmpn(1)===0?Me=pe:Me=_e,Me.cmpn(0)<0&&Me.iadd(ae),Me},ie.prototype.gcd=function(ae){if(this.isZero())return ae.abs();if(ae.isZero())return this.abs();var ce=this.clone(),le=ae.clone();ce.negative=0,le.negative=0;for(var pe=0;ce.isEven()&&le.isEven();pe++)ce.iushrn(1),le.iushrn(1);do{for(;ce.isEven();)ce.iushrn(1);for(;le.isEven();)le.iushrn(1);var _e=ce.cmp(le);if(_e<0){var $e=ce;ce=le,le=$e}else if(_e===0||le.cmpn(1)===0)break;ce.isub(le)}while(!0);return le.iushln(pe)},ie.prototype.invm=function(ae){return this.egcd(ae).a.umod(ae)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(ae){return this.words[0]&ae},ie.prototype.bincn=function(ae){ne(typeof ae=="number");var ce=ae%26,le=(ae-ce)/26,pe=1<<ce;if(this.length<=le)return this._expand(le+1),this.words[le]|=pe,this;for(var _e=pe,$e=le;_e!==0&&$e<this.length;$e++){var Ee=this.words[$e]|0;Ee+=_e,_e=Ee>>>26,Ee&=67108863,this.words[$e]=Ee}return _e!==0&&(this.words[$e]=_e,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(ae){var ce=ae<0;if(this.negative!==0&&!ce)return-1;if(this.negative===0&&ce)return 1;this.strip();var le;if(this.length>1)le=1;else{ce&&(ae=-ae),ne(ae<=67108863,"Number is too big");var pe=this.words[0]|0;le=pe===ae?0:pe<ae?-1:1}return this.negative!==0?-le|0:le},ie.prototype.cmp=function(ae){if(this.negative!==0&&ae.negative===0)return-1;if(this.negative===0&&ae.negative!==0)return 1;var ce=this.ucmp(ae);return this.negative!==0?-ce|0:ce},ie.prototype.ucmp=function(ae){if(this.length>ae.length)return 1;if(this.length<ae.length)return-1;for(var ce=0,le=this.length-1;le>=0;le--){var pe=this.words[le]|0,_e=ae.words[le]|0;if(pe!==_e){pe<_e?ce=-1:pe>_e&&(ce=1);break}}return ce},ie.prototype.gtn=function(ae){return this.cmpn(ae)===1},ie.prototype.gt=function(ae){return this.cmp(ae)===1},ie.prototype.gten=function(ae){return this.cmpn(ae)>=0},ie.prototype.gte=function(ae){return this.cmp(ae)>=0},ie.prototype.ltn=function(ae){return this.cmpn(ae)===-1},ie.prototype.lt=function(ae){return this.cmp(ae)===-1},ie.prototype.lten=function(ae){return this.cmpn(ae)<=0},ie.prototype.lte=function(ae){return this.cmp(ae)<=0},ie.prototype.eqn=function(ae){return this.cmpn(ae)===0},ie.prototype.eq=function(ae){return this.cmp(ae)===0},ie.red=function(ae){return new st(ae)},ie.prototype.toRed=function(ae){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),ae.convertTo(this)._forceRed(ae)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(ae){return this.red=ae,this},ie.prototype.forceRed=function(ae){return ne(!this.red,"Already a number in reduction context"),this._forceRed(ae)},ie.prototype.redAdd=function(ae){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,ae)},ie.prototype.redIAdd=function(ae){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ae)},ie.prototype.redSub=function(ae){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,ae)},ie.prototype.redISub=function(ae){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,ae)},ie.prototype.redShl=function(ae){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,ae)},ie.prototype.redMul=function(ae){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.mul(this,ae)},ie.prototype.redIMul=function(ae){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.imul(this,ae)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(ae){return ne(this.red&&!ae.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ae)};var He={k256:null,p224:null,p192:null,p25519:null};function Ke(ye,ae){this.name=ye,this.p=new ie(ae,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ke.prototype._tmp=function(){var ae=new ie(null);return ae.words=new Array(Math.ceil(this.n/13)),ae},Ke.prototype.ireduce=function(ae){var ce=ae,le;do this.split(ce,this.tmp),ce=this.imulK(ce),ce=ce.iadd(this.tmp),le=ce.bitLength();while(le>this.n);var pe=le<this.n?-1:ce.ucmp(this.p);return pe===0?(ce.words[0]=0,ce.length=1):pe>0?ce.isub(this.p):ce.strip!==void 0?ce.strip():ce._strip(),ce},Ke.prototype.split=function(ae,ce){ae.iushrn(this.n,0,ce)},Ke.prototype.imulK=function(ae){return ae.imul(this.k)};function Ge(){Ke.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}oe(Ge,Ke),Ge.prototype.split=function(ae,ce){for(var le=4194303,pe=Math.min(ae.length,9),_e=0;_e<pe;_e++)ce.words[_e]=ae.words[_e];if(ce.length=pe,ae.length<=9){ae.words[0]=0,ae.length=1;return}var $e=ae.words[9];for(ce.words[ce.length++]=$e&le,_e=10;_e<ae.length;_e++){var Ee=ae.words[_e]|0;ae.words[_e-10]=(Ee&le)<<4|$e>>>22,$e=Ee}$e>>>=22,ae.words[_e-10]=$e,$e===0&&ae.length>10?ae.length-=10:ae.length-=9},Ge.prototype.imulK=function(ae){ae.words[ae.length]=0,ae.words[ae.length+1]=0,ae.length+=2;for(var ce=0,le=0;le<ae.length;le++){var pe=ae.words[le]|0;ce+=pe*977,ae.words[le]=ce&67108863,ce=pe*64+(ce/67108864|0)}return ae.words[ae.length-1]===0&&(ae.length--,ae.words[ae.length-1]===0&&ae.length--),ae};function ut(){Ke.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}oe(ut,Ke);function Ve(){Ke.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}oe(Ve,Ke);function nt(){Ke.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}oe(nt,Ke),nt.prototype.imulK=function(ae){for(var ce=0,le=0;le<ae.length;le++){var pe=(ae.words[le]|0)*19+ce,_e=pe&67108863;pe>>>=26,ae.words[le]=_e,ce=pe}return ce!==0&&(ae.words[ae.length++]=ce),ae},ie._prime=function(ae){if(He[ae])return He[ae];var ce;if(ae==="k256")ce=new Ge;else if(ae==="p224")ce=new ut;else if(ae==="p192")ce=new Ve;else if(ae==="p25519")ce=new nt;else throw new Error("Unknown prime "+ae);return He[ae]=ce,ce};function st(ye){if(typeof ye=="string"){var ae=ie._prime(ye);this.m=ae.p,this.prime=ae}else ne(ye.gtn(1),"modulus must be greater than 1"),this.m=ye,this.prime=null}st.prototype._verify1=function(ae){ne(ae.negative===0,"red works only with positives"),ne(ae.red,"red works only with red numbers")},st.prototype._verify2=function(ae,ce){ne((ae.negative|ce.negative)===0,"red works only with positives"),ne(ae.red&&ae.red===ce.red,"red works only with red numbers")},st.prototype.imod=function(ae){return this.prime?this.prime.ireduce(ae)._forceRed(this):ae.umod(this.m)._forceRed(this)},st.prototype.neg=function(ae){return ae.isZero()?ae.clone():this.m.sub(ae)._forceRed(this)},st.prototype.add=function(ae,ce){this._verify2(ae,ce);var le=ae.add(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le._forceRed(this)},st.prototype.iadd=function(ae,ce){this._verify2(ae,ce);var le=ae.iadd(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le},st.prototype.sub=function(ae,ce){this._verify2(ae,ce);var le=ae.sub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le._forceRed(this)},st.prototype.isub=function(ae,ce){this._verify2(ae,ce);var le=ae.isub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le},st.prototype.shl=function(ae,ce){return this._verify1(ae),this.imod(ae.ushln(ce))},st.prototype.imul=function(ae,ce){return this._verify2(ae,ce),this.imod(ae.imul(ce))},st.prototype.mul=function(ae,ce){return this._verify2(ae,ce),this.imod(ae.mul(ce))},st.prototype.isqr=function(ae){return this.imul(ae,ae.clone())},st.prototype.sqr=function(ae){return this.mul(ae,ae)},st.prototype.sqrt=function(ae){if(ae.isZero())return ae.clone();var ce=this.m.andln(3);if(ne(ce%2===1),ce===3){var le=this.m.add(new ie(1)).iushrn(2);return this.pow(ae,le)}for(var pe=this.m.subn(1),_e=0;!pe.isZero()&&pe.andln(1)===0;)_e++,pe.iushrn(1);ne(!pe.isZero());var $e=new ie(1).toRed(this),Ee=$e.redNeg(),me=this.m.subn(1).iushrn(1),fe=this.m.bitLength();for(fe=new ie(2*fe*fe).toRed(this);this.pow(fe,me).cmp(Ee)!==0;)fe.redIAdd(Ee);for(var we=this.pow(fe,pe),Me=this.pow(ae,pe.addn(1).iushrn(1)),Le=this.pow(ae,pe),Je=_e;Le.cmp($e)!==0;){for(var Ue=Le,ct=0;Ue.cmp($e)!==0;ct++)Ue=Ue.redSqr();ne(ct<Je);var gt=this.pow(we,new ie(1).iushln(Je-ct-1));Me=Me.redMul(gt),we=gt.redSqr(),Le=Le.redMul(we),Je=ct}return Me},st.prototype.invm=function(ae){var ce=ae._invmp(this.m);return ce.negative!==0?(ce.negative=0,this.imod(ce).redNeg()):this.imod(ce)},st.prototype.pow=function(ae,ce){if(ce.isZero())return new ie(1).toRed(this);if(ce.cmpn(1)===0)return ae.clone();var le=4,pe=new Array(1<<le);pe[0]=new ie(1).toRed(this),pe[1]=ae;for(var _e=2;_e<pe.length;_e++)pe[_e]=this.mul(pe[_e-1],ae);var $e=pe[0],Ee=0,me=0,fe=ce.bitLength()%26;for(fe===0&&(fe=26),_e=ce.length-1;_e>=0;_e--){for(var we=ce.words[_e],Me=fe-1;Me>=0;Me--){var Le=we>>Me&1;if($e!==pe[0]&&($e=this.sqr($e)),Le===0&&Ee===0){me=0;continue}Ee<<=1,Ee|=Le,me++,!(me!==le&&(_e!==0||Me!==0))&&($e=this.mul($e,pe[Ee]),me=0,Ee=0)}fe=26}return $e},st.prototype.convertTo=function(ae){var ce=ae.umod(this.m);return ce===ae?ce.clone():ce},st.prototype.convertFrom=function(ae){var ce=ae.clone();return ce.red=null,ce},ie.mont=function(ae){return new qe(ae)};function qe(ye){st.call(this,ye),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}oe(qe,st),qe.prototype.convertTo=function(ae){return this.imod(ae.ushln(this.shift))},qe.prototype.convertFrom=function(ae){var ce=this.imod(ae.mul(this.rinv));return ce.red=null,ce},qe.prototype.imul=function(ae,ce){if(ae.isZero()||ce.isZero())return ae.words[0]=0,ae.length=1,ae;var le=ae.imul(ce),pe=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_e=le.isub(pe).iushrn(this.shift),$e=_e;return _e.cmp(this.m)>=0?$e=_e.isub(this.m):_e.cmpn(0)<0&&($e=_e.iadd(this.m)),$e._forceRed(this)},qe.prototype.mul=function(ae,ce){if(ae.isZero()||ce.isZero())return new ie(0)._forceRed(this);var le=ae.mul(ce),pe=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_e=le.isub(pe).iushrn(this.shift),$e=_e;return _e.cmp(this.m)>=0?$e=_e.isub(this.m):_e.cmpn(0)<0&&($e=_e.iadd(this.m)),$e._forceRed(this)},qe.prototype.invm=function(ae){var ce=this.imod(ae._invmp(this.m).mul(this.r2));return ce._forceRed(this)}})(te,commonjsGlobal)})(bn$5);var BN$g=bn$5.exports,hash$6={},utils$J={},minimalisticAssert$2=assert$r;function assert$r(te,ee){if(!te)throw new Error(ee||"Assertion failed")}assert$r.equal=function(ee,re,ne){if(ee!=re)throw new Error(ne||"Assertion failed: "+ee+" != "+re)};var inherits_browser$2={exports:{}};typeof Object.create=="function"?inherits_browser$2.exports=function(ee,re){re&&(ee.super_=re,ee.prototype=Object.create(re.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$2.exports=function(ee,re){if(re){ee.super_=re;var ne=function(){};ne.prototype=re.prototype,ee.prototype=new ne,ee.prototype.constructor=ee}};var assert$q=minimalisticAssert$2,inherits$n=inherits_browser$2.exports;utils$J.inherits=inherits$n;function isSurrogatePair$1(te,ee){return(te.charCodeAt(ee)&64512)!==55296||ee<0||ee+1>=te.length?!1:(te.charCodeAt(ee+1)&64512)===56320}function toArray$2(te,ee){if(Array.isArray(te))return te.slice();if(!te)return[];var re=[];if(typeof te=="string")if(ee){if(ee==="hex")for(te=te.replace(/[^a-z0-9]+/ig,""),te.length%2!==0&&(te="0"+te),oe=0;oe<te.length;oe+=2)re.push(parseInt(te[oe]+te[oe+1],16))}else for(var ne=0,oe=0;oe<te.length;oe++){var ie=te.charCodeAt(oe);ie<128?re[ne++]=ie:ie<2048?(re[ne++]=ie>>6|192,re[ne++]=ie&63|128):isSurrogatePair$1(te,oe)?(ie=65536+((ie&1023)<<10)+(te.charCodeAt(++oe)&1023),re[ne++]=ie>>18|240,re[ne++]=ie>>12&63|128,re[ne++]=ie>>6&63|128,re[ne++]=ie&63|128):(re[ne++]=ie>>12|224,re[ne++]=ie>>6&63|128,re[ne++]=ie&63|128)}else for(oe=0;oe<te.length;oe++)re[oe]=te[oe]|0;return re}utils$J.toArray=toArray$2;function toHex$1(te){for(var ee="",re=0;re<te.length;re++)ee+=zero2$1(te[re].toString(16));return ee}utils$J.toHex=toHex$1;function htonl$1(te){var ee=te>>>24|te>>>8&65280|te<<8&16711680|(te&255)<<24;return ee>>>0}utils$J.htonl=htonl$1;function toHex32$1(te,ee){for(var re="",ne=0;ne<te.length;ne++){var oe=te[ne];ee==="little"&&(oe=htonl$1(oe)),re+=zero8$1(oe.toString(16))}return re}utils$J.toHex32=toHex32$1;function zero2$1(te){return te.length===1?"0"+te:te}utils$J.zero2=zero2$1;function zero8$1(te){return te.length===7?"0"+te:te.length===6?"00"+te:te.length===5?"000"+te:te.length===4?"0000"+te:te.length===3?"00000"+te:te.length===2?"000000"+te:te.length===1?"0000000"+te:te}utils$J.zero8=zero8$1;function join32$1(te,ee,re,ne){var oe=re-ee;assert$q(oe%4===0);for(var ie=new Array(oe/4),se=0,ue=ee;se<ie.length;se++,ue+=4){var he;ne==="big"?he=te[ue]<<24|te[ue+1]<<16|te[ue+2]<<8|te[ue+3]:he=te[ue+3]<<24|te[ue+2]<<16|te[ue+1]<<8|te[ue],ie[se]=he>>>0}return ie}utils$J.join32=join32$1;function split32$1(te,ee){for(var re=new Array(te.length*4),ne=0,oe=0;ne<te.length;ne++,oe+=4){var ie=te[ne];ee==="big"?(re[oe]=ie>>>24,re[oe+1]=ie>>>16&255,re[oe+2]=ie>>>8&255,re[oe+3]=ie&255):(re[oe+3]=ie>>>24,re[oe+2]=ie>>>16&255,re[oe+1]=ie>>>8&255,re[oe]=ie&255)}return re}utils$J.split32=split32$1;function rotr32$3(te,ee){return te>>>ee|te<<32-ee}utils$J.rotr32=rotr32$3;function rotl32$5(te,ee){return te<<ee|te>>>32-ee}utils$J.rotl32=rotl32$5;function sum32$7(te,ee){return te+ee>>>0}utils$J.sum32=sum32$7;function sum32_3$3(te,ee,re){return te+ee+re>>>0}utils$J.sum32_3=sum32_3$3;function sum32_4$5(te,ee,re,ne){return te+ee+re+ne>>>0}utils$J.sum32_4=sum32_4$5;function sum32_5$5(te,ee,re,ne,oe){return te+ee+re+ne+oe>>>0}utils$J.sum32_5=sum32_5$5;function sum64$3(te,ee,re,ne){var oe=te[ee],ie=te[ee+1],se=ne+ie>>>0,ue=(se<ne?1:0)+re+oe;te[ee]=ue>>>0,te[ee+1]=se}utils$J.sum64=sum64$3;function sum64_hi$3(te,ee,re,ne){var oe=ee+ne>>>0,ie=(oe<ee?1:0)+te+re;return ie>>>0}utils$J.sum64_hi=sum64_hi$3;function sum64_lo$3(te,ee,re,ne){var oe=ee+ne;return oe>>>0}utils$J.sum64_lo=sum64_lo$3;function sum64_4_hi$3(te,ee,re,ne,oe,ie,se,ue){var he=0,ge=ee;ge=ge+ne>>>0,he+=ge<ee?1:0,ge=ge+ie>>>0,he+=ge<ie?1:0,ge=ge+ue>>>0,he+=ge<ue?1:0;var be=te+re+oe+se+he;return be>>>0}utils$J.sum64_4_hi=sum64_4_hi$3;function sum64_4_lo$3(te,ee,re,ne,oe,ie,se,ue){var he=ee+ne+ie+ue;return he>>>0}utils$J.sum64_4_lo=sum64_4_lo$3;function sum64_5_hi$3(te,ee,re,ne,oe,ie,se,ue,he,ge){var be=0,Se=ee;Se=Se+ne>>>0,be+=Se<ee?1:0,Se=Se+ie>>>0,be+=Se<ie?1:0,Se=Se+ue>>>0,be+=Se<ue?1:0,Se=Se+ge>>>0,be+=Se<ge?1:0;var Te=te+re+oe+se+he+be;return Te>>>0}utils$J.sum64_5_hi=sum64_5_hi$3;function sum64_5_lo$3(te,ee,re,ne,oe,ie,se,ue,he,ge){var be=ee+ne+ie+ue+ge;return be>>>0}utils$J.sum64_5_lo=sum64_5_lo$3;function rotr64_hi$3(te,ee,re){var ne=ee<<32-re|te>>>re;return ne>>>0}utils$J.rotr64_hi=rotr64_hi$3;function rotr64_lo$3(te,ee,re){var ne=te<<32-re|ee>>>re;return ne>>>0}utils$J.rotr64_lo=rotr64_lo$3;function shr64_hi$3(te,ee,re){return te>>>re}utils$J.shr64_hi=shr64_hi$3;function shr64_lo$3(te,ee,re){var ne=te<<32-re|ee>>>re;return ne>>>0}utils$J.shr64_lo=shr64_lo$3;var common$c={},utils$I=utils$J,assert$p=minimalisticAssert$2;function BlockHash$9(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$c.BlockHash=BlockHash$9;BlockHash$9.prototype.update=function(ee,re){if(ee=utils$I.toArray(ee,re),this.pending?this.pending=this.pending.concat(ee):this.pending=ee,this.pendingTotal+=ee.length,this.pending.length>=this._delta8){ee=this.pending;var ne=ee.length%this._delta8;this.pending=ee.slice(ee.length-ne,ee.length),this.pending.length===0&&(this.pending=null),ee=utils$I.join32(ee,0,ee.length-ne,this.endian);for(var oe=0;oe<ee.length;oe+=this._delta32)this._update(ee,oe,oe+this._delta32)}return this};BlockHash$9.prototype.digest=function(ee){return this.update(this._pad()),assert$p(this.pending===null),this._digest(ee)};BlockHash$9.prototype._pad=function(){var ee=this.pendingTotal,re=this._delta8,ne=re-(ee+this.padLength)%re,oe=new Array(ne+this.padLength);oe[0]=128;for(var ie=1;ie<ne;ie++)oe[ie]=0;if(ee<<=3,this.endian==="big"){for(var se=8;se<this.padLength;se++)oe[ie++]=0;oe[ie++]=0,oe[ie++]=0,oe[ie++]=0,oe[ie++]=0,oe[ie++]=ee>>>24&255,oe[ie++]=ee>>>16&255,oe[ie++]=ee>>>8&255,oe[ie++]=ee&255}else for(oe[ie++]=ee&255,oe[ie++]=ee>>>8&255,oe[ie++]=ee>>>16&255,oe[ie++]=ee>>>24&255,oe[ie++]=0,oe[ie++]=0,oe[ie++]=0,oe[ie++]=0,se=8;se<this.padLength;se++)oe[ie++]=0;return oe};var sha$3={},common$b={},utils$H=utils$J,rotr32$2=utils$H.rotr32;function ft_1$3(te,ee,re,ne){if(te===0)return ch32$3(ee,re,ne);if(te===1||te===3)return p32$1(ee,re,ne);if(te===2)return maj32$3(ee,re,ne)}common$b.ft_1=ft_1$3;function ch32$3(te,ee,re){return te&ee^~te&re}common$b.ch32=ch32$3;function maj32$3(te,ee,re){return te&ee^te&re^ee&re}common$b.maj32=maj32$3;function p32$1(te,ee,re){return te^ee^re}common$b.p32=p32$1;function s0_256$3(te){return rotr32$2(te,2)^rotr32$2(te,13)^rotr32$2(te,22)}common$b.s0_256=s0_256$3;function s1_256$3(te){return rotr32$2(te,6)^rotr32$2(te,11)^rotr32$2(te,25)}common$b.s1_256=s1_256$3;function g0_256$3(te){return rotr32$2(te,7)^rotr32$2(te,18)^te>>>3}common$b.g0_256=g0_256$3;function g1_256$3(te){return rotr32$2(te,17)^rotr32$2(te,19)^te>>>10}common$b.g1_256=g1_256$3;var utils$G=utils$J,common$a=common$c,shaCommon$3=common$b,rotl32$4=utils$G.rotl32,sum32$6=utils$G.sum32,sum32_5$4=utils$G.sum32_5,ft_1$2=shaCommon$3.ft_1,BlockHash$8=common$a.BlockHash,sha1_K$1=[1518500249,1859775393,2400959708,3395469782];function SHA1$1(){if(!(this instanceof SHA1$1))return new SHA1$1;BlockHash$8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$G.inherits(SHA1$1,BlockHash$8);var _1$1=SHA1$1;SHA1$1.blockSize=512;SHA1$1.outSize=160;SHA1$1.hmacStrength=80;SHA1$1.padLength=64;SHA1$1.prototype._update=function(ee,re){for(var ne=this.W,oe=0;oe<16;oe++)ne[oe]=ee[re+oe];for(;oe<ne.length;oe++)ne[oe]=rotl32$4(ne[oe-3]^ne[oe-8]^ne[oe-14]^ne[oe-16],1);var ie=this.h[0],se=this.h[1],ue=this.h[2],he=this.h[3],ge=this.h[4];for(oe=0;oe<ne.length;oe++){var be=~~(oe/20),Se=sum32_5$4(rotl32$4(ie,5),ft_1$2(be,se,ue,he),ge,ne[oe],sha1_K$1[be]);ge=he,he=ue,ue=rotl32$4(se,30),se=ie,ie=Se}this.h[0]=sum32$6(this.h[0],ie),this.h[1]=sum32$6(this.h[1],se),this.h[2]=sum32$6(this.h[2],ue),this.h[3]=sum32$6(this.h[3],he),this.h[4]=sum32$6(this.h[4],ge)};SHA1$1.prototype._digest=function(ee){return ee==="hex"?utils$G.toHex32(this.h,"big"):utils$G.split32(this.h,"big")};var utils$F=utils$J,common$9=common$c,shaCommon$2=common$b,assert$o=minimalisticAssert$2,sum32$5=utils$F.sum32,sum32_4$4=utils$F.sum32_4,sum32_5$3=utils$F.sum32_5,ch32$2=shaCommon$2.ch32,maj32$2=shaCommon$2.maj32,s0_256$2=shaCommon$2.s0_256,s1_256$2=shaCommon$2.s1_256,g0_256$2=shaCommon$2.g0_256,g1_256$2=shaCommon$2.g1_256,BlockHash$7=common$9.BlockHash,sha256_K$1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$3(){if(!(this instanceof SHA256$3))return new SHA256$3;BlockHash$7.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K$1,this.W=new Array(64)}utils$F.inherits(SHA256$3,BlockHash$7);var _256$1=SHA256$3;SHA256$3.blockSize=512;SHA256$3.outSize=256;SHA256$3.hmacStrength=192;SHA256$3.padLength=64;SHA256$3.prototype._update=function(ee,re){for(var ne=this.W,oe=0;oe<16;oe++)ne[oe]=ee[re+oe];for(;oe<ne.length;oe++)ne[oe]=sum32_4$4(g1_256$2(ne[oe-2]),ne[oe-7],g0_256$2(ne[oe-15]),ne[oe-16]);var ie=this.h[0],se=this.h[1],ue=this.h[2],he=this.h[3],ge=this.h[4],be=this.h[5],Se=this.h[6],Te=this.h[7];for(assert$o(this.k.length===ne.length),oe=0;oe<ne.length;oe++){var ke=sum32_5$3(Te,s1_256$2(ge),ch32$2(ge,be,Se),this.k[oe],ne[oe]),Re=sum32$5(s0_256$2(ie),maj32$2(ie,se,ue));Te=Se,Se=be,be=ge,ge=sum32$5(he,ke),he=ue,ue=se,se=ie,ie=sum32$5(ke,Re)}this.h[0]=sum32$5(this.h[0],ie),this.h[1]=sum32$5(this.h[1],se),this.h[2]=sum32$5(this.h[2],ue),this.h[3]=sum32$5(this.h[3],he),this.h[4]=sum32$5(this.h[4],ge),this.h[5]=sum32$5(this.h[5],be),this.h[6]=sum32$5(this.h[6],Se),this.h[7]=sum32$5(this.h[7],Te)};SHA256$3.prototype._digest=function(ee){return ee==="hex"?utils$F.toHex32(this.h,"big"):utils$F.split32(this.h,"big")};var utils$E=utils$J,SHA256$2=_256$1;function SHA224$1(){if(!(this instanceof SHA224$1))return new SHA224$1;SHA256$2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$E.inherits(SHA224$1,SHA256$2);var _224$1=SHA224$1;SHA224$1.blockSize=512;SHA224$1.outSize=224;SHA224$1.hmacStrength=192;SHA224$1.padLength=64;SHA224$1.prototype._digest=function(ee){return ee==="hex"?utils$E.toHex32(this.h.slice(0,7),"big"):utils$E.split32(this.h.slice(0,7),"big")};var utils$D=utils$J,common$8=common$c,assert$n=minimalisticAssert$2,rotr64_hi$2=utils$D.rotr64_hi,rotr64_lo$2=utils$D.rotr64_lo,shr64_hi$2=utils$D.shr64_hi,shr64_lo$2=utils$D.shr64_lo,sum64$2=utils$D.sum64,sum64_hi$2=utils$D.sum64_hi,sum64_lo$2=utils$D.sum64_lo,sum64_4_hi$2=utils$D.sum64_4_hi,sum64_4_lo$2=utils$D.sum64_4_lo,sum64_5_hi$2=utils$D.sum64_5_hi,sum64_5_lo$2=utils$D.sum64_5_lo,BlockHash$6=common$8.BlockHash,sha512_K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$4(){if(!(this instanceof SHA512$4))return new SHA512$4;BlockHash$6.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K$1,this.W=new Array(160)}utils$D.inherits(SHA512$4,BlockHash$6);var _512$1=SHA512$4;SHA512$4.blockSize=1024;SHA512$4.outSize=512;SHA512$4.hmacStrength=192;SHA512$4.padLength=128;SHA512$4.prototype._prepareBlock=function(ee,re){for(var ne=this.W,oe=0;oe<32;oe++)ne[oe]=ee[re+oe];for(;oe<ne.length;oe+=2){var ie=g1_512_hi$1(ne[oe-4],ne[oe-3]),se=g1_512_lo$1(ne[oe-4],ne[oe-3]),ue=ne[oe-14],he=ne[oe-13],ge=g0_512_hi$1(ne[oe-30],ne[oe-29]),be=g0_512_lo$1(ne[oe-30],ne[oe-29]),Se=ne[oe-32],Te=ne[oe-31];ne[oe]=sum64_4_hi$2(ie,se,ue,he,ge,be,Se,Te),ne[oe+1]=sum64_4_lo$2(ie,se,ue,he,ge,be,Se,Te)}};SHA512$4.prototype._update=function(ee,re){this._prepareBlock(ee,re);var ne=this.W,oe=this.h[0],ie=this.h[1],se=this.h[2],ue=this.h[3],he=this.h[4],ge=this.h[5],be=this.h[6],Se=this.h[7],Te=this.h[8],ke=this.h[9],Re=this.h[10],Ce=this.h[11],Pe=this.h[12],Ie=this.h[13],Ne=this.h[14],He=this.h[15];assert$n(this.k.length===ne.length);for(var Ke=0;Ke<ne.length;Ke+=2){var Ge=Ne,ut=He,Ve=s1_512_hi$1(Te,ke),nt=s1_512_lo$1(Te,ke),st=ch64_hi$1(Te,ke,Re,Ce,Pe),qe=ch64_lo$1(Te,ke,Re,Ce,Pe,Ie),ye=this.k[Ke],ae=this.k[Ke+1],ce=ne[Ke],le=ne[Ke+1],pe=sum64_5_hi$2(Ge,ut,Ve,nt,st,qe,ye,ae,ce,le),_e=sum64_5_lo$2(Ge,ut,Ve,nt,st,qe,ye,ae,ce,le);Ge=s0_512_hi$1(oe,ie),ut=s0_512_lo$1(oe,ie),Ve=maj64_hi$1(oe,ie,se,ue,he),nt=maj64_lo$1(oe,ie,se,ue,he,ge);var $e=sum64_hi$2(Ge,ut,Ve,nt),Ee=sum64_lo$2(Ge,ut,Ve,nt);Ne=Pe,He=Ie,Pe=Re,Ie=Ce,Re=Te,Ce=ke,Te=sum64_hi$2(be,Se,pe,_e),ke=sum64_lo$2(Se,Se,pe,_e),be=he,Se=ge,he=se,ge=ue,se=oe,ue=ie,oe=sum64_hi$2(pe,_e,$e,Ee),ie=sum64_lo$2(pe,_e,$e,Ee)}sum64$2(this.h,0,oe,ie),sum64$2(this.h,2,se,ue),sum64$2(this.h,4,he,ge),sum64$2(this.h,6,be,Se),sum64$2(this.h,8,Te,ke),sum64$2(this.h,10,Re,Ce),sum64$2(this.h,12,Pe,Ie),sum64$2(this.h,14,Ne,He)};SHA512$4.prototype._digest=function(ee){return ee==="hex"?utils$D.toHex32(this.h,"big"):utils$D.split32(this.h,"big")};function ch64_hi$1(te,ee,re,ne,oe){var ie=te&re^~te&oe;return ie<0&&(ie+=4294967296),ie}function ch64_lo$1(te,ee,re,ne,oe,ie){var se=ee&ne^~ee&ie;return se<0&&(se+=4294967296),se}function maj64_hi$1(te,ee,re,ne,oe){var ie=te&re^te&oe^re&oe;return ie<0&&(ie+=4294967296),ie}function maj64_lo$1(te,ee,re,ne,oe,ie){var se=ee&ne^ee&ie^ne&ie;return se<0&&(se+=4294967296),se}function s0_512_hi$1(te,ee){var re=rotr64_hi$2(te,ee,28),ne=rotr64_hi$2(ee,te,2),oe=rotr64_hi$2(ee,te,7),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function s0_512_lo$1(te,ee){var re=rotr64_lo$2(te,ee,28),ne=rotr64_lo$2(ee,te,2),oe=rotr64_lo$2(ee,te,7),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function s1_512_hi$1(te,ee){var re=rotr64_hi$2(te,ee,14),ne=rotr64_hi$2(te,ee,18),oe=rotr64_hi$2(ee,te,9),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function s1_512_lo$1(te,ee){var re=rotr64_lo$2(te,ee,14),ne=rotr64_lo$2(te,ee,18),oe=rotr64_lo$2(ee,te,9),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function g0_512_hi$1(te,ee){var re=rotr64_hi$2(te,ee,1),ne=rotr64_hi$2(te,ee,8),oe=shr64_hi$2(te,ee,7),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function g0_512_lo$1(te,ee){var re=rotr64_lo$2(te,ee,1),ne=rotr64_lo$2(te,ee,8),oe=shr64_lo$2(te,ee,7),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function g1_512_hi$1(te,ee){var re=rotr64_hi$2(te,ee,19),ne=rotr64_hi$2(ee,te,29),oe=shr64_hi$2(te,ee,6),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function g1_512_lo$1(te,ee){var re=rotr64_lo$2(te,ee,19),ne=rotr64_lo$2(ee,te,29),oe=shr64_lo$2(te,ee,6),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}var utils$C=utils$J,SHA512$3=_512$1;function SHA384$1(){if(!(this instanceof SHA384$1))return new SHA384$1;SHA512$3.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$C.inherits(SHA384$1,SHA512$3);var _384$1=SHA384$1;SHA384$1.blockSize=1024;SHA384$1.outSize=384;SHA384$1.hmacStrength=192;SHA384$1.padLength=128;SHA384$1.prototype._digest=function(ee){return ee==="hex"?utils$C.toHex32(this.h.slice(0,12),"big"):utils$C.split32(this.h.slice(0,12),"big")};sha$3.sha1=_1$1;sha$3.sha224=_224$1;sha$3.sha256=_256$1;sha$3.sha384=_384$1;sha$3.sha512=_512$1;var ripemd$1={},utils$B=utils$J,common$7=common$c,rotl32$3=utils$B.rotl32,sum32$4=utils$B.sum32,sum32_3$2=utils$B.sum32_3,sum32_4$3=utils$B.sum32_4,BlockHash$5=common$7.BlockHash;function RIPEMD160$3(){if(!(this instanceof RIPEMD160$3))return new RIPEMD160$3;BlockHash$5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$B.inherits(RIPEMD160$3,BlockHash$5);ripemd$1.ripemd160=RIPEMD160$3;RIPEMD160$3.blockSize=512;RIPEMD160$3.outSize=160;RIPEMD160$3.hmacStrength=192;RIPEMD160$3.padLength=64;RIPEMD160$3.prototype._update=function(ee,re){for(var ne=this.h[0],oe=this.h[1],ie=this.h[2],se=this.h[3],ue=this.h[4],he=ne,ge=oe,be=ie,Se=se,Te=ue,ke=0;ke<80;ke++){var Re=sum32$4(rotl32$3(sum32_4$3(ne,f$4(ke,oe,ie,se),ee[r$4[ke]+re],K$6(ke)),s$3[ke]),ue);ne=ue,ue=se,se=rotl32$3(ie,10),ie=oe,oe=Re,Re=sum32$4(rotl32$3(sum32_4$3(he,f$4(79-ke,ge,be,Se),ee[rh$1[ke]+re],Kh$1(ke)),sh$1[ke]),Te),he=Te,Te=Se,Se=rotl32$3(be,10),be=ge,ge=Re}Re=sum32_3$2(this.h[1],ie,Se),this.h[1]=sum32_3$2(this.h[2],se,Te),this.h[2]=sum32_3$2(this.h[3],ue,he),this.h[3]=sum32_3$2(this.h[4],ne,ge),this.h[4]=sum32_3$2(this.h[0],oe,be),this.h[0]=Re};RIPEMD160$3.prototype._digest=function(ee){return ee==="hex"?utils$B.toHex32(this.h,"little"):utils$B.split32(this.h,"little")};function f$4(te,ee,re,ne){return te<=15?ee^re^ne:te<=31?ee&re|~ee&ne:te<=47?(ee|~re)^ne:te<=63?ee&ne|re&~ne:ee^(re|~ne)}function K$6(te){return te<=15?0:te<=31?1518500249:te<=47?1859775393:te<=63?2400959708:2840853838}function Kh$1(te){return te<=15?1352829926:te<=31?1548603684:te<=47?1836072691:te<=63?2053994217:0}var r$4=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh$1=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$3=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$A=utils$J,assert$m=minimalisticAssert$2;function Hmac$1(te,ee,re){if(!(this instanceof Hmac$1))return new Hmac$1(te,ee,re);this.Hash=te,this.blockSize=te.blockSize/8,this.outSize=te.outSize/8,this.inner=null,this.outer=null,this._init(utils$A.toArray(ee,re))}var hmac$1=Hmac$1;Hmac$1.prototype._init=function(ee){ee.length>this.blockSize&&(ee=new this.Hash().update(ee).digest()),assert$m(ee.length<=this.blockSize);for(var re=ee.length;re<this.blockSize;re++)ee.push(0);for(re=0;re<ee.length;re++)ee[re]^=54;for(this.inner=new this.Hash().update(ee),re=0;re<ee.length;re++)ee[re]^=106;this.outer=new this.Hash().update(ee)};Hmac$1.prototype.update=function(ee,re){return this.inner.update(ee,re),this};Hmac$1.prototype.digest=function(ee){return this.outer.update(this.inner.digest()),this.outer.digest(ee)};(function(te){var ee=te;ee.utils=utils$J,ee.common=common$c,ee.sha=sha$3,ee.ripemd=ripemd$1,ee.hmac=hmac$1,ee.sha1=ee.sha.sha1,ee.sha256=ee.sha.sha256,ee.sha224=ee.sha.sha224,ee.sha384=ee.sha.sha384,ee.sha512=ee.sha.sha512,ee.ripemd160=ee.ripemd.ripemd160})(hash$6);function createCommonjsModule(te,ee,re){return re={path:ee,exports:{},require:function(ne,oe){return commonjsRequire(ne,oe==null?re.path:oe)}},te(re,re.exports),re.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert$1=assert$l;function assert$l(te,ee){if(!te)throw new Error(ee||"Assertion failed")}assert$l.equal=function(ee,re,ne){if(ee!=re)throw new Error(ne||"Assertion failed: "+ee+" != "+re)};var utils_1$1=createCommonjsModule(function(te,ee){var re=ee;function ne(se,ue){if(Array.isArray(se))return se.slice();if(!se)return[];var he=[];if(typeof se!="string"){for(var ge=0;ge<se.length;ge++)he[ge]=se[ge]|0;return he}if(ue==="hex"){se=se.replace(/[^a-z0-9]+/ig,""),se.length%2!==0&&(se="0"+se);for(var ge=0;ge<se.length;ge+=2)he.push(parseInt(se[ge]+se[ge+1],16))}else for(var ge=0;ge<se.length;ge++){var be=se.charCodeAt(ge),Se=be>>8,Te=be&255;Se?he.push(Se,Te):he.push(Te)}return he}re.toArray=ne;function oe(se){return se.length===1?"0"+se:se}re.zero2=oe;function ie(se){for(var ue="",he=0;he<se.length;he++)ue+=oe(se[he].toString(16));return ue}re.toHex=ie,re.encode=function(ue,he){return he==="hex"?ie(ue):ue}}),utils_1$1$1=createCommonjsModule(function(te,ee){var re=ee;re.assert=minimalisticAssert$1,re.toArray=utils_1$1.toArray,re.zero2=utils_1$1.zero2,re.toHex=utils_1$1.toHex,re.encode=utils_1$1.encode;function ne(he,ge,be){var Se=new Array(Math.max(he.bitLength(),be)+1);Se.fill(0);for(var Te=1<<ge+1,ke=he.clone(),Re=0;Re<Se.length;Re++){var Ce,Pe=ke.andln(Te-1);ke.isOdd()?(Pe>(Te>>1)-1?Ce=(Te>>1)-Pe:Ce=Pe,ke.isubn(Ce)):Ce=0,Se[Re]=Ce,ke.iushrn(1)}return Se}re.getNAF=ne;function oe(he,ge){var be=[[],[]];he=he.clone(),ge=ge.clone();for(var Se=0,Te=0,ke;he.cmpn(-Se)>0||ge.cmpn(-Te)>0;){var Re=he.andln(3)+Se&3,Ce=ge.andln(3)+Te&3;Re===3&&(Re=-1),Ce===3&&(Ce=-1);var Pe;(Re&1)===0?Pe=0:(ke=he.andln(7)+Se&7,(ke===3||ke===5)&&Ce===2?Pe=-Re:Pe=Re),be[0].push(Pe);var Ie;(Ce&1)===0?Ie=0:(ke=ge.andln(7)+Te&7,(ke===3||ke===5)&&Re===2?Ie=-Ce:Ie=Ce),be[1].push(Ie),2*Se===Pe+1&&(Se=1-Se),2*Te===Ie+1&&(Te=1-Te),he.iushrn(1),ge.iushrn(1)}return be}re.getJSF=oe;function ie(he,ge,be){var Se="_"+ge;he.prototype[ge]=function(){return this[Se]!==void 0?this[Se]:this[Se]=be.call(this)}}re.cachedProperty=ie;function se(he){return typeof he=="string"?re.toArray(he,"hex"):he}re.parseBytes=se;function ue(he){return new BN$g(he,"hex","le")}re.intFromLE=ue}),getNAF$1=utils_1$1$1.getNAF,getJSF$1=utils_1$1$1.getJSF,assert$1$2=utils_1$1$1.assert;function BaseCurve$1(te,ee){this.type=te,this.p=new BN$g(ee.p,16),this.red=ee.prime?BN$g.red(ee.prime):BN$g.mont(this.p),this.zero=new BN$g(0).toRed(this.red),this.one=new BN$g(1).toRed(this.red),this.two=new BN$g(2).toRed(this.red),this.n=ee.n&&new BN$g(ee.n,16),this.g=ee.g&&this.pointFromJSON(ee.g,ee.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var re=this.n&&this.p.div(this.n);!re||re.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$3=BaseCurve$1;BaseCurve$1.prototype.point=function(){throw new Error("Not implemented")};BaseCurve$1.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve$1.prototype._fixedNafMul=function(ee,re){assert$1$2(ee.precomputed);var ne=ee._getDoubles(),oe=getNAF$1(re,1,this._bitLength),ie=(1<<ne.step+1)-(ne.step%2===0?2:1);ie/=3;var se=[],ue,he;for(ue=0;ue<oe.length;ue+=ne.step){he=0;for(var ge=ue+ne.step-1;ge>=ue;ge--)he=(he<<1)+oe[ge];se.push(he)}for(var be=this.jpoint(null,null,null),Se=this.jpoint(null,null,null),Te=ie;Te>0;Te--){for(ue=0;ue<se.length;ue++)he=se[ue],he===Te?Se=Se.mixedAdd(ne.points[ue]):he===-Te&&(Se=Se.mixedAdd(ne.points[ue].neg()));be=be.add(Se)}return be.toP()};BaseCurve$1.prototype._wnafMul=function(ee,re){var ne=4,oe=ee._getNAFPoints(ne);ne=oe.wnd;for(var ie=oe.points,se=getNAF$1(re,ne,this._bitLength),ue=this.jpoint(null,null,null),he=se.length-1;he>=0;he--){for(var ge=0;he>=0&&se[he]===0;he--)ge++;if(he>=0&&ge++,ue=ue.dblp(ge),he<0)break;var be=se[he];assert$1$2(be!==0),ee.type==="affine"?be>0?ue=ue.mixedAdd(ie[be-1>>1]):ue=ue.mixedAdd(ie[-be-1>>1].neg()):be>0?ue=ue.add(ie[be-1>>1]):ue=ue.add(ie[-be-1>>1].neg())}return ee.type==="affine"?ue.toP():ue};BaseCurve$1.prototype._wnafMulAdd=function(ee,re,ne,oe,ie){var se=this._wnafT1,ue=this._wnafT2,he=this._wnafT3,ge=0,be,Se,Te;for(be=0;be<oe;be++){Te=re[be];var ke=Te._getNAFPoints(ee);se[be]=ke.wnd,ue[be]=ke.points}for(be=oe-1;be>=1;be-=2){var Re=be-1,Ce=be;if(se[Re]!==1||se[Ce]!==1){he[Re]=getNAF$1(ne[Re],se[Re],this._bitLength),he[Ce]=getNAF$1(ne[Ce],se[Ce],this._bitLength),ge=Math.max(he[Re].length,ge),ge=Math.max(he[Ce].length,ge);continue}var Pe=[re[Re],null,null,re[Ce]];re[Re].y.cmp(re[Ce].y)===0?(Pe[1]=re[Re].add(re[Ce]),Pe[2]=re[Re].toJ().mixedAdd(re[Ce].neg())):re[Re].y.cmp(re[Ce].y.redNeg())===0?(Pe[1]=re[Re].toJ().mixedAdd(re[Ce]),Pe[2]=re[Re].add(re[Ce].neg())):(Pe[1]=re[Re].toJ().mixedAdd(re[Ce]),Pe[2]=re[Re].toJ().mixedAdd(re[Ce].neg()));var Ie=[-3,-1,-5,-7,0,7,5,1,3],Ne=getJSF$1(ne[Re],ne[Ce]);for(ge=Math.max(Ne[0].length,ge),he[Re]=new Array(ge),he[Ce]=new Array(ge),Se=0;Se<ge;Se++){var He=Ne[0][Se]|0,Ke=Ne[1][Se]|0;he[Re][Se]=Ie[(He+1)*3+(Ke+1)],he[Ce][Se]=0,ue[Re]=Pe}}var Ge=this.jpoint(null,null,null),ut=this._wnafT4;for(be=ge;be>=0;be--){for(var Ve=0;be>=0;){var nt=!0;for(Se=0;Se<oe;Se++)ut[Se]=he[Se][be]|0,ut[Se]!==0&&(nt=!1);if(!nt)break;Ve++,be--}if(be>=0&&Ve++,Ge=Ge.dblp(Ve),be<0)break;for(Se=0;Se<oe;Se++){var st=ut[Se];st!==0&&(st>0?Te=ue[Se][st-1>>1]:st<0&&(Te=ue[Se][-st-1>>1].neg()),Te.type==="affine"?Ge=Ge.mixedAdd(Te):Ge=Ge.add(Te))}}for(be=0;be<oe;be++)ue[be]=null;return ie?Ge:Ge.toP()};function BasePoint$1(te,ee){this.curve=te,this.type=ee,this.precomputed=null}BaseCurve$1.BasePoint=BasePoint$1;BasePoint$1.prototype.eq=function(){throw new Error("Not implemented")};BasePoint$1.prototype.validate=function(){return this.curve.validate(this)};BaseCurve$1.prototype.decodePoint=function(ee,re){ee=utils_1$1$1.toArray(ee,re);var ne=this.p.byteLength();if((ee[0]===4||ee[0]===6||ee[0]===7)&&ee.length-1===2*ne){ee[0]===6?assert$1$2(ee[ee.length-1]%2===0):ee[0]===7&&assert$1$2(ee[ee.length-1]%2===1);var oe=this.point(ee.slice(1,1+ne),ee.slice(1+ne,1+2*ne));return oe}else if((ee[0]===2||ee[0]===3)&&ee.length-1===ne)return this.pointFromX(ee.slice(1,1+ne),ee[0]===3);throw new Error("Unknown point format")};BasePoint$1.prototype.encodeCompressed=function(ee){return this.encode(ee,!0)};BasePoint$1.prototype._encode=function(ee){var re=this.curve.p.byteLength(),ne=this.getX().toArray("be",re);return ee?[this.getY().isEven()?2:3].concat(ne):[4].concat(ne,this.getY().toArray("be",re))};BasePoint$1.prototype.encode=function(ee,re){return utils_1$1$1.encode(this._encode(re),ee)};BasePoint$1.prototype.precompute=function(ee){if(this.precomputed)return this;var re={doubles:null,naf:null,beta:null};return re.naf=this._getNAFPoints(8),re.doubles=this._getDoubles(4,ee),re.beta=this._getBeta(),this.precomputed=re,this};BasePoint$1.prototype._hasDoubles=function(ee){if(!this.precomputed)return!1;var re=this.precomputed.doubles;return re?re.points.length>=Math.ceil((ee.bitLength()+1)/re.step):!1};BasePoint$1.prototype._getDoubles=function(ee,re){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ne=[this],oe=this,ie=0;ie<re;ie+=ee){for(var se=0;se<ee;se++)oe=oe.dbl();ne.push(oe)}return{step:ee,points:ne}};BasePoint$1.prototype._getNAFPoints=function(ee){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var re=[this],ne=(1<<ee)-1,oe=ne===1?null:this.dbl(),ie=1;ie<ne;ie++)re[ie]=re[ie-1].add(oe);return{wnd:ee,points:re}};BasePoint$1.prototype._getBeta=function(){return null};BasePoint$1.prototype.dblp=function(ee){for(var re=this,ne=0;ne<ee;ne++)re=re.dbl();return re};var inherits_browser$1=createCommonjsModule(function(te){typeof Object.create=="function"?te.exports=function(re,ne){ne&&(re.super_=ne,re.prototype=Object.create(ne.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}))}:te.exports=function(re,ne){if(ne){re.super_=ne;var oe=function(){};oe.prototype=ne.prototype,re.prototype=new oe,re.prototype.constructor=re}}}),assert$2$1=utils_1$1$1.assert;function ShortCurve$1(te){base$3.call(this,"short",te),this.a=new BN$g(te.a,16).toRed(this.red),this.b=new BN$g(te.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(te),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser$1(ShortCurve$1,base$3);var short_1=ShortCurve$1;ShortCurve$1.prototype._getEndomorphism=function(ee){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var re,ne;if(ee.beta)re=new BN$g(ee.beta,16).toRed(this.red);else{var oe=this._getEndoRoots(this.p);re=oe[0].cmp(oe[1])<0?oe[0]:oe[1],re=re.toRed(this.red)}if(ee.lambda)ne=new BN$g(ee.lambda,16);else{var ie=this._getEndoRoots(this.n);this.g.mul(ie[0]).x.cmp(this.g.x.redMul(re))===0?ne=ie[0]:(ne=ie[1],assert$2$1(this.g.mul(ne).x.cmp(this.g.x.redMul(re))===0))}var se;return ee.basis?se=ee.basis.map(function(ue){return{a:new BN$g(ue.a,16),b:new BN$g(ue.b,16)}}):se=this._getEndoBasis(ne),{beta:re,lambda:ne,basis:se}}};ShortCurve$1.prototype._getEndoRoots=function(ee){var re=ee===this.p?this.red:BN$g.mont(ee),ne=new BN$g(2).toRed(re).redInvm(),oe=ne.redNeg(),ie=new BN$g(3).toRed(re).redNeg().redSqrt().redMul(ne),se=oe.redAdd(ie).fromRed(),ue=oe.redSub(ie).fromRed();return[se,ue]};ShortCurve$1.prototype._getEndoBasis=function(ee){for(var re=this.n.ushrn(Math.floor(this.n.bitLength()/2)),ne=ee,oe=this.n.clone(),ie=new BN$g(1),se=new BN$g(0),ue=new BN$g(0),he=new BN$g(1),ge,be,Se,Te,ke,Re,Ce,Pe=0,Ie,Ne;ne.cmpn(0)!==0;){var He=oe.div(ne);Ie=oe.sub(He.mul(ne)),Ne=ue.sub(He.mul(ie));var Ke=he.sub(He.mul(se));if(!Se&&Ie.cmp(re)<0)ge=Ce.neg(),be=ie,Se=Ie.neg(),Te=Ne;else if(Se&&++Pe===2)break;Ce=Ie,oe=ne,ne=Ie,ue=ie,ie=Ne,he=se,se=Ke}ke=Ie.neg(),Re=Ne;var Ge=Se.sqr().add(Te.sqr()),ut=ke.sqr().add(Re.sqr());return ut.cmp(Ge)>=0&&(ke=ge,Re=be),Se.negative&&(Se=Se.neg(),Te=Te.neg()),ke.negative&&(ke=ke.neg(),Re=Re.neg()),[{a:Se,b:Te},{a:ke,b:Re}]};ShortCurve$1.prototype._endoSplit=function(ee){var re=this.endo.basis,ne=re[0],oe=re[1],ie=oe.b.mul(ee).divRound(this.n),se=ne.b.neg().mul(ee).divRound(this.n),ue=ie.mul(ne.a),he=se.mul(oe.a),ge=ie.mul(ne.b),be=se.mul(oe.b),Se=ee.sub(ue).sub(he),Te=ge.add(be).neg();return{k1:Se,k2:Te}};ShortCurve$1.prototype.pointFromX=function(ee,re){ee=new BN$g(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr().redMul(ee).redIAdd(ee.redMul(this.a)).redIAdd(this.b),oe=ne.redSqrt();if(oe.redSqr().redSub(ne).cmp(this.zero)!==0)throw new Error("invalid point");var ie=oe.fromRed().isOdd();return(re&&!ie||!re&&ie)&&(oe=oe.redNeg()),this.point(ee,oe)};ShortCurve$1.prototype.validate=function(ee){if(ee.inf)return!0;var re=ee.x,ne=ee.y,oe=this.a.redMul(re),ie=re.redSqr().redMul(re).redIAdd(oe).redIAdd(this.b);return ne.redSqr().redISub(ie).cmpn(0)===0};ShortCurve$1.prototype._endoWnafMulAdd=function(ee,re,ne){for(var oe=this._endoWnafT1,ie=this._endoWnafT2,se=0;se<ee.length;se++){var ue=this._endoSplit(re[se]),he=ee[se],ge=he._getBeta();ue.k1.negative&&(ue.k1.ineg(),he=he.neg(!0)),ue.k2.negative&&(ue.k2.ineg(),ge=ge.neg(!0)),oe[se*2]=he,oe[se*2+1]=ge,ie[se*2]=ue.k1,ie[se*2+1]=ue.k2}for(var be=this._wnafMulAdd(1,oe,ie,se*2,ne),Se=0;Se<se*2;Se++)oe[Se]=null,ie[Se]=null;return be};function Point$3(te,ee,re,ne){base$3.BasePoint.call(this,te,"affine"),ee===null&&re===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$g(ee,16),this.y=new BN$g(re,16),ne&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser$1(Point$3,base$3.BasePoint);ShortCurve$1.prototype.point=function(ee,re,ne){return new Point$3(this,ee,re,ne)};ShortCurve$1.prototype.pointFromJSON=function(ee,re){return Point$3.fromJSON(this,ee,re)};Point$3.prototype._getBeta=function(){if(!!this.curve.endo){var ee=this.precomputed;if(ee&&ee.beta)return ee.beta;var re=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ee){var ne=this.curve,oe=function(ie){return ne.point(ie.x.redMul(ne.endo.beta),ie.y)};ee.beta=re,re.precomputed={beta:null,naf:ee.naf&&{wnd:ee.naf.wnd,points:ee.naf.points.map(oe)},doubles:ee.doubles&&{step:ee.doubles.step,points:ee.doubles.points.map(oe)}}}return re}};Point$3.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$3.fromJSON=function(ee,re,ne){typeof re=="string"&&(re=JSON.parse(re));var oe=ee.point(re[0],re[1],ne);if(!re[2])return oe;function ie(ue){return ee.point(ue[0],ue[1],ne)}var se=re[2];return oe.precomputed={beta:null,doubles:se.doubles&&{step:se.doubles.step,points:[oe].concat(se.doubles.points.map(ie))},naf:se.naf&&{wnd:se.naf.wnd,points:[oe].concat(se.naf.points.map(ie))}},oe};Point$3.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$3.prototype.isInfinity=function(){return this.inf};Point$3.prototype.add=function(ee){if(this.inf)return ee;if(ee.inf)return this;if(this.eq(ee))return this.dbl();if(this.neg().eq(ee))return this.curve.point(null,null);if(this.x.cmp(ee.x)===0)return this.curve.point(null,null);var re=this.y.redSub(ee.y);re.cmpn(0)!==0&&(re=re.redMul(this.x.redSub(ee.x).redInvm()));var ne=re.redSqr().redISub(this.x).redISub(ee.x),oe=re.redMul(this.x.redSub(ne)).redISub(this.y);return this.curve.point(ne,oe)};Point$3.prototype.dbl=function(){if(this.inf)return this;var ee=this.y.redAdd(this.y);if(ee.cmpn(0)===0)return this.curve.point(null,null);var re=this.curve.a,ne=this.x.redSqr(),oe=ee.redInvm(),ie=ne.redAdd(ne).redIAdd(ne).redIAdd(re).redMul(oe),se=ie.redSqr().redISub(this.x.redAdd(this.x)),ue=ie.redMul(this.x.redSub(se)).redISub(this.y);return this.curve.point(se,ue)};Point$3.prototype.getX=function(){return this.x.fromRed()};Point$3.prototype.getY=function(){return this.y.fromRed()};Point$3.prototype.mul=function(ee){return ee=new BN$g(ee,16),this.isInfinity()?this:this._hasDoubles(ee)?this.curve._fixedNafMul(this,ee):this.curve.endo?this.curve._endoWnafMulAdd([this],[ee]):this.curve._wnafMul(this,ee)};Point$3.prototype.mulAdd=function(ee,re,ne){var oe=[this,re],ie=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(oe,ie):this.curve._wnafMulAdd(1,oe,ie,2)};Point$3.prototype.jmulAdd=function(ee,re,ne){var oe=[this,re],ie=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(oe,ie,!0):this.curve._wnafMulAdd(1,oe,ie,2,!0)};Point$3.prototype.eq=function(ee){return this===ee||this.inf===ee.inf&&(this.inf||this.x.cmp(ee.x)===0&&this.y.cmp(ee.y)===0)};Point$3.prototype.neg=function(ee){if(this.inf)return this;var re=this.curve.point(this.x,this.y.redNeg());if(ee&&this.precomputed){var ne=this.precomputed,oe=function(ie){return ie.neg()};re.precomputed={naf:ne.naf&&{wnd:ne.naf.wnd,points:ne.naf.points.map(oe)},doubles:ne.doubles&&{step:ne.doubles.step,points:ne.doubles.points.map(oe)}}}return re};Point$3.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var ee=this.curve.jpoint(this.x,this.y,this.curve.one);return ee};function JPoint$1(te,ee,re,ne){base$3.BasePoint.call(this,te,"jacobian"),ee===null&&re===null&&ne===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$g(0)):(this.x=new BN$g(ee,16),this.y=new BN$g(re,16),this.z=new BN$g(ne,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser$1(JPoint$1,base$3.BasePoint);ShortCurve$1.prototype.jpoint=function(ee,re,ne){return new JPoint$1(this,ee,re,ne)};JPoint$1.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ee=this.z.redInvm(),re=ee.redSqr(),ne=this.x.redMul(re),oe=this.y.redMul(re).redMul(ee);return this.curve.point(ne,oe)};JPoint$1.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint$1.prototype.add=function(ee){if(this.isInfinity())return ee;if(ee.isInfinity())return this;var re=ee.z.redSqr(),ne=this.z.redSqr(),oe=this.x.redMul(re),ie=ee.x.redMul(ne),se=this.y.redMul(re.redMul(ee.z)),ue=ee.y.redMul(ne.redMul(this.z)),he=oe.redSub(ie),ge=se.redSub(ue);if(he.cmpn(0)===0)return ge.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var be=he.redSqr(),Se=be.redMul(he),Te=oe.redMul(be),ke=ge.redSqr().redIAdd(Se).redISub(Te).redISub(Te),Re=ge.redMul(Te.redISub(ke)).redISub(se.redMul(Se)),Ce=this.z.redMul(ee.z).redMul(he);return this.curve.jpoint(ke,Re,Ce)};JPoint$1.prototype.mixedAdd=function(ee){if(this.isInfinity())return ee.toJ();if(ee.isInfinity())return this;var re=this.z.redSqr(),ne=this.x,oe=ee.x.redMul(re),ie=this.y,se=ee.y.redMul(re).redMul(this.z),ue=ne.redSub(oe),he=ie.redSub(se);if(ue.cmpn(0)===0)return he.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ge=ue.redSqr(),be=ge.redMul(ue),Se=ne.redMul(ge),Te=he.redSqr().redIAdd(be).redISub(Se).redISub(Se),ke=he.redMul(Se.redISub(Te)).redISub(ie.redMul(be)),Re=this.z.redMul(ue);return this.curve.jpoint(Te,ke,Re)};JPoint$1.prototype.dblp=function(ee){if(ee===0)return this;if(this.isInfinity())return this;if(!ee)return this.dbl();var re;if(this.curve.zeroA||this.curve.threeA){var ne=this;for(re=0;re<ee;re++)ne=ne.dbl();return ne}var oe=this.curve.a,ie=this.curve.tinv,se=this.x,ue=this.y,he=this.z,ge=he.redSqr().redSqr(),be=ue.redAdd(ue);for(re=0;re<ee;re++){var Se=se.redSqr(),Te=be.redSqr(),ke=Te.redSqr(),Re=Se.redAdd(Se).redIAdd(Se).redIAdd(oe.redMul(ge)),Ce=se.redMul(Te),Pe=Re.redSqr().redISub(Ce.redAdd(Ce)),Ie=Ce.redISub(Pe),Ne=Re.redMul(Ie);Ne=Ne.redIAdd(Ne).redISub(ke);var He=be.redMul(he);re+1<ee&&(ge=ge.redMul(ke)),se=Pe,he=He,be=Ne}return this.curve.jpoint(se,be.redMul(ie),he)};JPoint$1.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint$1.prototype._zeroDbl=function(){var ee,re,ne;if(this.zOne){var oe=this.x.redSqr(),ie=this.y.redSqr(),se=ie.redSqr(),ue=this.x.redAdd(ie).redSqr().redISub(oe).redISub(se);ue=ue.redIAdd(ue);var he=oe.redAdd(oe).redIAdd(oe),ge=he.redSqr().redISub(ue).redISub(ue),be=se.redIAdd(se);be=be.redIAdd(be),be=be.redIAdd(be),ee=ge,re=he.redMul(ue.redISub(ge)).redISub(be),ne=this.y.redAdd(this.y)}else{var Se=this.x.redSqr(),Te=this.y.redSqr(),ke=Te.redSqr(),Re=this.x.redAdd(Te).redSqr().redISub(Se).redISub(ke);Re=Re.redIAdd(Re);var Ce=Se.redAdd(Se).redIAdd(Se),Pe=Ce.redSqr(),Ie=ke.redIAdd(ke);Ie=Ie.redIAdd(Ie),Ie=Ie.redIAdd(Ie),ee=Pe.redISub(Re).redISub(Re),re=Ce.redMul(Re.redISub(ee)).redISub(Ie),ne=this.y.redMul(this.z),ne=ne.redIAdd(ne)}return this.curve.jpoint(ee,re,ne)};JPoint$1.prototype._threeDbl=function(){var ee,re,ne;if(this.zOne){var oe=this.x.redSqr(),ie=this.y.redSqr(),se=ie.redSqr(),ue=this.x.redAdd(ie).redSqr().redISub(oe).redISub(se);ue=ue.redIAdd(ue);var he=oe.redAdd(oe).redIAdd(oe).redIAdd(this.curve.a),ge=he.redSqr().redISub(ue).redISub(ue);ee=ge;var be=se.redIAdd(se);be=be.redIAdd(be),be=be.redIAdd(be),re=he.redMul(ue.redISub(ge)).redISub(be),ne=this.y.redAdd(this.y)}else{var Se=this.z.redSqr(),Te=this.y.redSqr(),ke=this.x.redMul(Te),Re=this.x.redSub(Se).redMul(this.x.redAdd(Se));Re=Re.redAdd(Re).redIAdd(Re);var Ce=ke.redIAdd(ke);Ce=Ce.redIAdd(Ce);var Pe=Ce.redAdd(Ce);ee=Re.redSqr().redISub(Pe),ne=this.y.redAdd(this.z).redSqr().redISub(Te).redISub(Se);var Ie=Te.redSqr();Ie=Ie.redIAdd(Ie),Ie=Ie.redIAdd(Ie),Ie=Ie.redIAdd(Ie),re=Re.redMul(Ce.redISub(ee)).redISub(Ie)}return this.curve.jpoint(ee,re,ne)};JPoint$1.prototype._dbl=function(){var ee=this.curve.a,re=this.x,ne=this.y,oe=this.z,ie=oe.redSqr().redSqr(),se=re.redSqr(),ue=ne.redSqr(),he=se.redAdd(se).redIAdd(se).redIAdd(ee.redMul(ie)),ge=re.redAdd(re);ge=ge.redIAdd(ge);var be=ge.redMul(ue),Se=he.redSqr().redISub(be.redAdd(be)),Te=be.redISub(Se),ke=ue.redSqr();ke=ke.redIAdd(ke),ke=ke.redIAdd(ke),ke=ke.redIAdd(ke);var Re=he.redMul(Te).redISub(ke),Ce=ne.redAdd(ne).redMul(oe);return this.curve.jpoint(Se,Re,Ce)};JPoint$1.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ee=this.x.redSqr(),re=this.y.redSqr(),ne=this.z.redSqr(),oe=re.redSqr(),ie=ee.redAdd(ee).redIAdd(ee),se=ie.redSqr(),ue=this.x.redAdd(re).redSqr().redISub(ee).redISub(oe);ue=ue.redIAdd(ue),ue=ue.redAdd(ue).redIAdd(ue),ue=ue.redISub(se);var he=ue.redSqr(),ge=oe.redIAdd(oe);ge=ge.redIAdd(ge),ge=ge.redIAdd(ge),ge=ge.redIAdd(ge);var be=ie.redIAdd(ue).redSqr().redISub(se).redISub(he).redISub(ge),Se=re.redMul(be);Se=Se.redIAdd(Se),Se=Se.redIAdd(Se);var Te=this.x.redMul(he).redISub(Se);Te=Te.redIAdd(Te),Te=Te.redIAdd(Te);var ke=this.y.redMul(be.redMul(ge.redISub(be)).redISub(ue.redMul(he)));ke=ke.redIAdd(ke),ke=ke.redIAdd(ke),ke=ke.redIAdd(ke);var Re=this.z.redAdd(ue).redSqr().redISub(ne).redISub(he);return this.curve.jpoint(Te,ke,Re)};JPoint$1.prototype.mul=function(ee,re){return ee=new BN$g(ee,re),this.curve._wnafMul(this,ee)};JPoint$1.prototype.eq=function(ee){if(ee.type==="affine")return this.eq(ee.toJ());if(this===ee)return!0;var re=this.z.redSqr(),ne=ee.z.redSqr();if(this.x.redMul(ne).redISub(ee.x.redMul(re)).cmpn(0)!==0)return!1;var oe=re.redMul(this.z),ie=ne.redMul(ee.z);return this.y.redMul(ie).redISub(ee.y.redMul(oe)).cmpn(0)===0};JPoint$1.prototype.eqXToP=function(ee){var re=this.z.redSqr(),ne=ee.toRed(this.curve.red).redMul(re);if(this.x.cmp(ne)===0)return!0;for(var oe=ee.clone(),ie=this.curve.redN.redMul(re);;){if(oe.iadd(this.curve.n),oe.cmp(this.curve.p)>=0)return!1;if(ne.redIAdd(ie),this.x.cmp(ne)===0)return!0}};JPoint$1.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule(function(te,ee){var re=ee;re.base=base$3,re.short=short_1,re.mont=null,re.edwards=null}),curves_1=createCommonjsModule(function(te,ee){var re=ee,ne=utils_1$1$1.assert;function oe(ue){ue.type==="short"?this.curve=new curve_1.short(ue):ue.type==="edwards"?this.curve=new curve_1.edwards(ue):this.curve=new curve_1.mont(ue),this.g=this.curve.g,this.n=this.curve.n,this.hash=ue.hash,ne(this.g.validate(),"Invalid curve"),ne(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}re.PresetCurve=oe;function ie(ue,he){Object.defineProperty(re,ue,{configurable:!0,enumerable:!0,get:function(){var ge=new oe(he);return Object.defineProperty(re,ue,{configurable:!0,enumerable:!0,value:ge}),ge}})}ie("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$6.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),ie("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$6.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),ie("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$6.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),ie("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$6.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),ie("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$6.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),ie("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$6.sha256,gRed:!1,g:["9"]}),ie("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$6.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var se;try{se=null.crash()}catch{se=void 0}ie("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$6.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",se]})});function HmacDRBG$2(te){if(!(this instanceof HmacDRBG$2))return new HmacDRBG$2(te);this.hash=te.hash,this.predResist=!!te.predResist,this.outLen=this.hash.outSize,this.minEntropy=te.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ee=utils_1$1.toArray(te.entropy,te.entropyEnc||"hex"),re=utils_1$1.toArray(te.nonce,te.nonceEnc||"hex"),ne=utils_1$1.toArray(te.pers,te.persEnc||"hex");minimalisticAssert$1(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ee,re,ne)}var hmacDrbg$1=HmacDRBG$2;HmacDRBG$2.prototype._init=function(ee,re,ne){var oe=ee.concat(re).concat(ne);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var ie=0;ie<this.V.length;ie++)this.K[ie]=0,this.V[ie]=1;this._update(oe),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$2.prototype._hmac=function(){return new hash$6.hmac(this.hash,this.K)};HmacDRBG$2.prototype._update=function(ee){var re=this._hmac().update(this.V).update([0]);ee&&(re=re.update(ee)),this.K=re.digest(),this.V=this._hmac().update(this.V).digest(),ee&&(this.K=this._hmac().update(this.V).update([1]).update(ee).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$2.prototype.reseed=function(ee,re,ne,oe){typeof re!="string"&&(oe=ne,ne=re,re=null),ee=utils_1$1.toArray(ee,re),ne=utils_1$1.toArray(ne,oe),minimalisticAssert$1(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ee.concat(ne||[])),this._reseed=1};HmacDRBG$2.prototype.generate=function(ee,re,ne,oe){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof re!="string"&&(oe=ne,ne=re,re=null),ne&&(ne=utils_1$1.toArray(ne,oe||"hex"),this._update(ne));for(var ie=[];ie.length<ee;)this.V=this._hmac().update(this.V).digest(),ie=ie.concat(this.V);var se=ie.slice(0,ee);return this._update(ne),this._reseed++,utils_1$1.encode(se,re)};var assert$3$1=utils_1$1$1.assert;function KeyPair$4(te,ee){this.ec=te,this.priv=null,this.pub=null,ee.priv&&this._importPrivate(ee.priv,ee.privEnc),ee.pub&&this._importPublic(ee.pub,ee.pubEnc)}var key$2=KeyPair$4;KeyPair$4.fromPublic=function(ee,re,ne){return re instanceof KeyPair$4?re:new KeyPair$4(ee,{pub:re,pubEnc:ne})};KeyPair$4.fromPrivate=function(ee,re,ne){return re instanceof KeyPair$4?re:new KeyPair$4(ee,{priv:re,privEnc:ne})};KeyPair$4.prototype.validate=function(){var ee=this.getPublic();return ee.isInfinity()?{result:!1,reason:"Invalid public key"}:ee.validate()?ee.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$4.prototype.getPublic=function(ee,re){return typeof ee=="string"&&(re=ee,ee=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),re?this.pub.encode(re,ee):this.pub};KeyPair$4.prototype.getPrivate=function(ee){return ee==="hex"?this.priv.toString(16,2):this.priv};KeyPair$4.prototype._importPrivate=function(ee,re){this.priv=new BN$g(ee,re||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$4.prototype._importPublic=function(ee,re){if(ee.x||ee.y){this.ec.curve.type==="mont"?assert$3$1(ee.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3$1(ee.x&&ee.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ee.x,ee.y);return}this.pub=this.ec.curve.decodePoint(ee,re)};KeyPair$4.prototype.derive=function(ee){return ee.validate()||assert$3$1(ee.validate(),"public point not validated"),ee.mul(this.priv).getX()};KeyPair$4.prototype.sign=function(ee,re,ne){return this.ec.sign(ee,this,re,ne)};KeyPair$4.prototype.verify=function(ee,re){return this.ec.verify(ee,re,this)};KeyPair$4.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$1=utils_1$1$1.assert;function Signature$4(te,ee){if(te instanceof Signature$4)return te;this._importDER(te,ee)||(assert$4$1(te.r&&te.s,"Signature without r or s"),this.r=new BN$g(te.r,16),this.s=new BN$g(te.s,16),te.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=te.recoveryParam)}var signature$3=Signature$4;function Position$1(){this.place=0}function getLength$2(te,ee){var re=te[ee.place++];if(!(re&128))return re;var ne=re&15;if(ne===0||ne>4)return!1;for(var oe=0,ie=0,se=ee.place;ie<ne;ie++,se++)oe<<=8,oe|=te[se],oe>>>=0;return oe<=127?!1:(ee.place=se,oe)}function rmPadding$1(te){for(var ee=0,re=te.length-1;!te[ee]&&!(te[ee+1]&128)&&ee<re;)ee++;return ee===0?te:te.slice(ee)}Signature$4.prototype._importDER=function(ee,re){ee=utils_1$1$1.toArray(ee,re);var ne=new Position$1;if(ee[ne.place++]!==48)return!1;var oe=getLength$2(ee,ne);if(oe===!1||oe+ne.place!==ee.length||ee[ne.place++]!==2)return!1;var ie=getLength$2(ee,ne);if(ie===!1)return!1;var se=ee.slice(ne.place,ie+ne.place);if(ne.place+=ie,ee[ne.place++]!==2)return!1;var ue=getLength$2(ee,ne);if(ue===!1||ee.length!==ue+ne.place)return!1;var he=ee.slice(ne.place,ue+ne.place);if(se[0]===0)if(se[1]&128)se=se.slice(1);else return!1;if(he[0]===0)if(he[1]&128)he=he.slice(1);else return!1;return this.r=new BN$g(se),this.s=new BN$g(he),this.recoveryParam=null,!0};function constructLength$1(te,ee){if(ee<128){te.push(ee);return}var re=1+(Math.log(ee)/Math.LN2>>>3);for(te.push(re|128);--re;)te.push(ee>>>(re<<3)&255);te.push(ee)}Signature$4.prototype.toDER=function(ee){var re=this.r.toArray(),ne=this.s.toArray();for(re[0]&128&&(re=[0].concat(re)),ne[0]&128&&(ne=[0].concat(ne)),re=rmPadding$1(re),ne=rmPadding$1(ne);!ne[0]&&!(ne[1]&128);)ne=ne.slice(1);var oe=[2];constructLength$1(oe,re.length),oe=oe.concat(re),oe.push(2),constructLength$1(oe,ne.length);var ie=oe.concat(ne),se=[48];return constructLength$1(se,ie.length),se=se.concat(ie),utils_1$1$1.encode(se,ee)};var rand$1=function(){throw new Error("unsupported")},assert$5$1=utils_1$1$1.assert;function EC$4(te){if(!(this instanceof EC$4))return new EC$4(te);typeof te=="string"&&(assert$5$1(Object.prototype.hasOwnProperty.call(curves_1,te),"Unknown curve "+te),te=curves_1[te]),te instanceof curves_1.PresetCurve&&(te={curve:te}),this.curve=te.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=te.curve.g,this.g.precompute(te.curve.n.bitLength()+1),this.hash=te.hash||te.curve.hash}var ec$4=EC$4;EC$4.prototype.keyPair=function(ee){return new key$2(this,ee)};EC$4.prototype.keyFromPrivate=function(ee,re){return key$2.fromPrivate(this,ee,re)};EC$4.prototype.keyFromPublic=function(ee,re){return key$2.fromPublic(this,ee,re)};EC$4.prototype.genKeyPair=function(ee){ee||(ee={});for(var re=new hmacDrbg$1({hash:this.hash,pers:ee.pers,persEnc:ee.persEnc||"utf8",entropy:ee.entropy||rand$1(this.hash.hmacStrength),entropyEnc:ee.entropy&&ee.entropyEnc||"utf8",nonce:this.n.toArray()}),ne=this.n.byteLength(),oe=this.n.sub(new BN$g(2));;){var ie=new BN$g(re.generate(ne));if(!(ie.cmp(oe)>0))return ie.iaddn(1),this.keyFromPrivate(ie)}};EC$4.prototype._truncateToN=function(ee,re){var ne=ee.byteLength()*8-this.n.bitLength();return ne>0&&(ee=ee.ushrn(ne)),!re&&ee.cmp(this.n)>=0?ee.sub(this.n):ee};EC$4.prototype.sign=function(ee,re,ne,oe){typeof ne=="object"&&(oe=ne,ne=null),oe||(oe={}),re=this.keyFromPrivate(re,ne),ee=this._truncateToN(new BN$g(ee,16));for(var ie=this.n.byteLength(),se=re.getPrivate().toArray("be",ie),ue=ee.toArray("be",ie),he=new hmacDrbg$1({hash:this.hash,entropy:se,nonce:ue,pers:oe.pers,persEnc:oe.persEnc||"utf8"}),ge=this.n.sub(new BN$g(1)),be=0;;be++){var Se=oe.k?oe.k(be):new BN$g(he.generate(this.n.byteLength()));if(Se=this._truncateToN(Se,!0),!(Se.cmpn(1)<=0||Se.cmp(ge)>=0)){var Te=this.g.mul(Se);if(!Te.isInfinity()){var ke=Te.getX(),Re=ke.umod(this.n);if(Re.cmpn(0)!==0){var Ce=Se.invm(this.n).mul(Re.mul(re.getPrivate()).iadd(ee));if(Ce=Ce.umod(this.n),Ce.cmpn(0)!==0){var Pe=(Te.getY().isOdd()?1:0)|(ke.cmp(Re)!==0?2:0);return oe.canonical&&Ce.cmp(this.nh)>0&&(Ce=this.n.sub(Ce),Pe^=1),new signature$3({r:Re,s:Ce,recoveryParam:Pe})}}}}}};EC$4.prototype.verify=function(ee,re,ne,oe){ee=this._truncateToN(new BN$g(ee,16)),ne=this.keyFromPublic(ne,oe),re=new signature$3(re,"hex");var ie=re.r,se=re.s;if(ie.cmpn(1)<0||ie.cmp(this.n)>=0||se.cmpn(1)<0||se.cmp(this.n)>=0)return!1;var ue=se.invm(this.n),he=ue.mul(ee).umod(this.n),ge=ue.mul(ie).umod(this.n),be;return this.curve._maxwellTrick?(be=this.g.jmulAdd(he,ne.getPublic(),ge),be.isInfinity()?!1:be.eqXToP(ie)):(be=this.g.mulAdd(he,ne.getPublic(),ge),be.isInfinity()?!1:be.getX().umod(this.n).cmp(ie)===0)};EC$4.prototype.recoverPubKey=function(te,ee,re,ne){assert$5$1((3&re)===re,"The recovery param is more than two bits"),ee=new signature$3(ee,ne);var oe=this.n,ie=new BN$g(te),se=ee.r,ue=ee.s,he=re&1,ge=re>>1;if(se.cmp(this.curve.p.umod(this.curve.n))>=0&&ge)throw new Error("Unable to find sencond key candinate");ge?se=this.curve.pointFromX(se.add(this.curve.n),he):se=this.curve.pointFromX(se,he);var be=ee.r.invm(oe),Se=oe.sub(ie).mul(be).umod(oe),Te=ue.mul(be).umod(oe);return this.g.mulAdd(Se,se,Te)};EC$4.prototype.getKeyRecoveryParam=function(te,ee,re,ne){if(ee=new signature$3(ee,ne),ee.recoveryParam!==null)return ee.recoveryParam;for(var oe=0;oe<4;oe++){var ie;try{ie=this.recoverPubKey(te,ee,oe)}catch{continue}if(ie.eq(re))return oe}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule(function(te,ee){var re=ee;re.version="6.5.4",re.utils=utils_1$1$1,re.rand=function(){throw new Error("unsupported")},re.curve=curve_1,re.curves=curves_1,re.ec=ec$4,re.eddsa=null}),EC$1$1=elliptic_1.ec;const version$e="signing-key/5.6.1",logger$a=new Logger$2(version$e);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1$1("secp256k1")),_curve}class SigningKey{constructor(ee){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(ee)),hexDataLength(this.privateKey)!==32&&logger$a.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const re=getCurve().keyFromPrivate(arrayify$1(this.privateKey));defineReadOnly(this,"publicKey","0x"+re.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+re.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(ee){const re=getCurve().keyFromPublic(arrayify$1(this.publicKey)),ne=getCurve().keyFromPublic(arrayify$1(ee));return"0x"+re.pub.add(ne.pub).encodeCompressed("hex")}signDigest(ee){const re=getCurve().keyFromPrivate(arrayify$1(this.privateKey)),ne=arrayify$1(ee);ne.length!==32&&logger$a.throwArgumentError("bad digest length","digest",ee);const oe=re.sign(ne,{canonical:!0});return splitSignature({recoveryParam:oe.recoveryParam,r:hexZeroPad("0x"+oe.r.toString(16),32),s:hexZeroPad("0x"+oe.s.toString(16),32)})}computeSharedSecret(ee){const re=getCurve().keyFromPrivate(arrayify$1(this.privateKey)),ne=getCurve().keyFromPublic(arrayify$1(computePublicKey(ee)));return hexZeroPad("0x"+re.derive(ne.getPublic()).toString(16),32)}static isSigningKey(ee){return!!(ee&&ee._isSigningKey)}}function recoverPublicKey$1(te,ee){const re=splitSignature(ee),ne={r:arrayify$1(re.r),s:arrayify$1(re.s)};return"0x"+getCurve().recoverPubKey(arrayify$1(te),ne,re.recoveryParam).encode("hex",!1)}function computePublicKey(te,ee){const re=arrayify$1(te);if(re.length===32){const ne=new SigningKey(re);return ee?"0x"+getCurve().keyFromPrivate(re).getPublic(!0,"hex"):ne.publicKey}else{if(re.length===33)return ee?hexlify(re):"0x"+getCurve().keyFromPublic(re).getPublic(!1,"hex");if(re.length===65)return ee?"0x"+getCurve().keyFromPublic(re).getPublic(!0,"hex"):hexlify(re)}return logger$a.throwArgumentError("invalid public or private key","key","[REDACTED]")}const version$d="transactions/5.6.0",logger$9=new Logger$2(version$d);var TransactionTypes;(function(te){te[te.legacy=0]="legacy",te[te.eip2930=1]="eip2930",te[te.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress(te){return te==="0x"?null:getAddress(te)}function handleNumber(te){return te==="0x"?Zero$1:BigNumber.from(te)}function computeAddress(te){const ee=computePublicKey(te);return getAddress(hexDataSlice(keccak256(hexDataSlice(ee,1)),12))}function recoverAddress(te,ee){return computeAddress(recoverPublicKey$1(arrayify$1(te),ee))}function formatNumber(te,ee){const re=stripZeros(BigNumber.from(te).toHexString());return re.length>32&&logger$9.throwArgumentError("invalid length for "+ee,"transaction:"+ee,te),re}function accessSetify(te,ee){return{address:getAddress(te),storageKeys:(ee||[]).map((re,ne)=>(hexDataLength(re)!==32&&logger$9.throwArgumentError("invalid access list storageKey",`accessList[${te}:${ne}]`,re),re.toLowerCase()))}}function accessListify(te){if(Array.isArray(te))return te.map((re,ne)=>Array.isArray(re)?(re.length>2&&logger$9.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${ne}]`,re),accessSetify(re[0],re[1])):accessSetify(re.address,re.storageKeys));const ee=Object.keys(te).map(re=>{const ne=te[re].reduce((oe,ie)=>(oe[ie]=!0,oe),{});return accessSetify(re,Object.keys(ne).sort())});return ee.sort((re,ne)=>re.address.localeCompare(ne.address)),ee}function formatAccessList(te){return accessListify(te).map(ee=>[ee.address,ee.storageKeys])}function _serializeEip1559(te,ee){if(te.gasPrice!=null){const ne=BigNumber.from(te.gasPrice),oe=BigNumber.from(te.maxFeePerGas||0);ne.eq(oe)||logger$9.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:ne,maxFeePerGas:oe})}const re=[formatNumber(te.chainId||0,"chainId"),formatNumber(te.nonce||0,"nonce"),formatNumber(te.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(te.maxFeePerGas||0,"maxFeePerGas"),formatNumber(te.gasLimit||0,"gasLimit"),te.to!=null?getAddress(te.to):"0x",formatNumber(te.value||0,"value"),te.data||"0x",formatAccessList(te.accessList||[])];if(ee){const ne=splitSignature(ee);re.push(formatNumber(ne.recoveryParam,"recoveryParam")),re.push(stripZeros(ne.r)),re.push(stripZeros(ne.s))}return hexConcat(["0x02",encode$a(re)])}function _serializeEip2930(te,ee){const re=[formatNumber(te.chainId||0,"chainId"),formatNumber(te.nonce||0,"nonce"),formatNumber(te.gasPrice||0,"gasPrice"),formatNumber(te.gasLimit||0,"gasLimit"),te.to!=null?getAddress(te.to):"0x",formatNumber(te.value||0,"value"),te.data||"0x",formatAccessList(te.accessList||[])];if(ee){const ne=splitSignature(ee);re.push(formatNumber(ne.recoveryParam,"recoveryParam")),re.push(stripZeros(ne.r)),re.push(stripZeros(ne.s))}return hexConcat(["0x01",encode$a(re)])}function _parseEipSignature(te,ee,re){try{const ne=handleNumber(ee[0]).toNumber();if(ne!==0&&ne!==1)throw new Error("bad recid");te.v=ne}catch{logger$9.throwArgumentError("invalid v for transaction type: 1","v",ee[0])}te.r=hexZeroPad(ee[1],32),te.s=hexZeroPad(ee[2],32);try{const ne=keccak256(re(te));te.from=recoverAddress(ne,{r:te.r,s:te.s,recoveryParam:te.v})}catch(ne){console.log(ne)}}function _parseEip1559(te){const ee=decode$9(te.slice(1));ee.length!==9&&ee.length!==12&&logger$9.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(te));const re=handleNumber(ee[2]),ne=handleNumber(ee[3]),oe={type:2,chainId:handleNumber(ee[0]).toNumber(),nonce:handleNumber(ee[1]).toNumber(),maxPriorityFeePerGas:re,maxFeePerGas:ne,gasPrice:null,gasLimit:handleNumber(ee[4]),to:handleAddress(ee[5]),value:handleNumber(ee[6]),data:ee[7],accessList:accessListify(ee[8])};return ee.length===9||(oe.hash=keccak256(te),_parseEipSignature(oe,ee.slice(9),_serializeEip1559)),oe}function _parseEip2930(te){const ee=decode$9(te.slice(1));ee.length!==8&&ee.length!==11&&logger$9.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(te));const re={type:1,chainId:handleNumber(ee[0]).toNumber(),nonce:handleNumber(ee[1]).toNumber(),gasPrice:handleNumber(ee[2]),gasLimit:handleNumber(ee[3]),to:handleAddress(ee[4]),value:handleNumber(ee[5]),data:ee[6],accessList:accessListify(ee[7])};return ee.length===8||(re.hash=keccak256(te),_parseEipSignature(re,ee.slice(8),_serializeEip2930)),re}function _parse(te){const ee=decode$9(te);ee.length!==9&&ee.length!==6&&logger$9.throwArgumentError("invalid raw transaction","rawTransaction",te);const re={nonce:handleNumber(ee[0]).toNumber(),gasPrice:handleNumber(ee[1]),gasLimit:handleNumber(ee[2]),to:handleAddress(ee[3]),value:handleNumber(ee[4]),data:ee[5],chainId:0};if(ee.length===6)return re;try{re.v=BigNumber.from(ee[6]).toNumber()}catch(ne){return console.log(ne),re}if(re.r=hexZeroPad(ee[7],32),re.s=hexZeroPad(ee[8],32),BigNumber.from(re.r).isZero()&&BigNumber.from(re.s).isZero())re.chainId=re.v,re.v=0;else{re.chainId=Math.floor((re.v-35)/2),re.chainId<0&&(re.chainId=0);let ne=re.v-27;const oe=ee.slice(0,6);re.chainId!==0&&(oe.push(hexlify(re.chainId)),oe.push("0x"),oe.push("0x"),ne-=re.chainId*2+8);const ie=keccak256(encode$a(oe));try{re.from=recoverAddress(ie,{r:hexlify(re.r),s:hexlify(re.s),recoveryParam:ne})}catch(se){console.log(se)}re.hash=keccak256(te)}return re.type=null,re}function parse$2(te){const ee=arrayify$1(te);if(ee[0]>127)return _parse(ee);switch(ee[0]){case 1:return _parseEip2930(ee);case 2:return _parseEip1559(ee)}return logger$9.throwError(`unsupported transaction type: ${ee[0]}`,Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:ee[0]})}const version$c="contracts/5.6.1";var __awaiter$5=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function oe(ie){return ie instanceof re?ie:new re(function(se){se(ie)})}return new(re||(re=Promise))(function(ie,se){function ue(be){try{ge(ne.next(be))}catch(Se){se(Se)}}function he(be){try{ge(ne.throw(be))}catch(Se){se(Se)}}function ge(be){be.done?ie(be.value):oe(be.value).then(ue,he)}ge((ne=ne.apply(te,ee||[])).next())})};const logger$8=new Logger$2(version$c);function resolveName(te,ee){return __awaiter$5(this,void 0,void 0,function*(){const re=yield ee;typeof re!="string"&&logger$8.throwArgumentError("invalid address or ENS name","name",re);try{return getAddress(re)}catch{}te||logger$8.throwError("a provider or signer is needed to resolve ENS names",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const ne=yield te.resolveName(re);return ne==null&&logger$8.throwArgumentError("resolver or addr is not configured for ENS name","name",re),ne})}function resolveAddresses(te,ee,re){return __awaiter$5(this,void 0,void 0,function*(){return Array.isArray(re)?yield Promise.all(re.map((ne,oe)=>resolveAddresses(te,Array.isArray(ee)?ee[oe]:ee[ne.name],ne))):re.type==="address"?yield resolveName(te,ee):re.type==="tuple"?yield resolveAddresses(te,ee,re.components):re.baseType==="array"?Array.isArray(ee)?yield Promise.all(ee.map(ne=>resolveAddresses(te,ne,re.arrayChildren))):Promise.reject(logger$8.makeError("invalid value for array",Logger$2.errors.INVALID_ARGUMENT,{argument:"value",value:ee})):ee})}function populateTransaction(te,ee,re){return __awaiter$5(this,void 0,void 0,function*(){let ne={};re.length===ee.inputs.length+1&&typeof re[re.length-1]=="object"&&(ne=shallowCopy(re.pop())),logger$8.checkArgumentCount(re.length,ee.inputs.length,"passed to contract"),te.signer?ne.from?ne.from=resolveProperties({override:resolveName(te.signer,ne.from),signer:te.signer.getAddress()}).then(ge=>__awaiter$5(this,void 0,void 0,function*(){return getAddress(ge.signer)!==ge.override&&logger$8.throwError("Contract with a Signer cannot override from",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),ge.override})):ne.from=te.signer.getAddress():ne.from&&(ne.from=resolveName(te.provider,ne.from));const oe=yield resolveProperties({args:resolveAddresses(te.signer||te.provider,re,ee.inputs),address:te.resolvedAddress,overrides:resolveProperties(ne)||{}}),ie=te.interface.encodeFunctionData(ee,oe.args),se={data:ie,to:oe.address},ue=oe.overrides;if(ue.nonce!=null&&(se.nonce=BigNumber.from(ue.nonce).toNumber()),ue.gasLimit!=null&&(se.gasLimit=BigNumber.from(ue.gasLimit)),ue.gasPrice!=null&&(se.gasPrice=BigNumber.from(ue.gasPrice)),ue.maxFeePerGas!=null&&(se.maxFeePerGas=BigNumber.from(ue.maxFeePerGas)),ue.maxPriorityFeePerGas!=null&&(se.maxPriorityFeePerGas=BigNumber.from(ue.maxPriorityFeePerGas)),ue.from!=null&&(se.from=ue.from),ue.type!=null&&(se.type=ue.type),ue.accessList!=null&&(se.accessList=accessListify(ue.accessList)),se.gasLimit==null&&ee.gas!=null){let ge=21e3;const be=arrayify$1(ie);for(let Se=0;Se<be.length;Se++)ge+=4,be[Se]&&(ge+=64);se.gasLimit=BigNumber.from(ee.gas).add(ge)}if(ue.value){const ge=BigNumber.from(ue.value);!ge.isZero()&&!ee.payable&&logger$8.throwError("non-payable method cannot override value",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:ne.value}),se.value=ge}ue.customData&&(se.customData=shallowCopy(ue.customData)),ue.ccipReadEnabled&&(se.ccipReadEnabled=!!ue.ccipReadEnabled),delete ne.nonce,delete ne.gasLimit,delete ne.gasPrice,delete ne.from,delete ne.value,delete ne.type,delete ne.accessList,delete ne.maxFeePerGas,delete ne.maxPriorityFeePerGas,delete ne.customData,delete ne.ccipReadEnabled;const he=Object.keys(ne).filter(ge=>ne[ge]!=null);return he.length&&logger$8.throwError(`cannot override ${he.map(ge=>JSON.stringify(ge)).join(",")}`,Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:he}),se})}function buildPopulate(te,ee){return function(...re){return populateTransaction(te,ee,re)}}function buildEstimate(te,ee){const re=te.signer||te.provider;return function(...ne){return __awaiter$5(this,void 0,void 0,function*(){re||logger$8.throwError("estimate require a provider or signer",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const oe=yield populateTransaction(te,ee,ne);return yield re.estimateGas(oe)})}}function addContractWait(te,ee){const re=ee.wait.bind(ee);ee.wait=ne=>re(ne).then(oe=>(oe.events=oe.logs.map(ie=>{let se=deepCopy(ie),ue=null;try{ue=te.interface.parseLog(ie)}catch{}return ue&&(se.args=ue.args,se.decode=(he,ge)=>te.interface.decodeEventLog(ue.eventFragment,he,ge),se.event=ue.name,se.eventSignature=ue.signature),se.removeListener=()=>te.provider,se.getBlock=()=>te.provider.getBlock(oe.blockHash),se.getTransaction=()=>te.provider.getTransaction(oe.transactionHash),se.getTransactionReceipt=()=>Promise.resolve(oe),se}),oe))}function buildCall(te,ee,re){const ne=te.signer||te.provider;return function(...oe){return __awaiter$5(this,void 0,void 0,function*(){let ie;if(oe.length===ee.inputs.length+1&&typeof oe[oe.length-1]=="object"){const he=shallowCopy(oe.pop());he.blockTag!=null&&(ie=yield he.blockTag),delete he.blockTag,oe.push(he)}te.deployTransaction!=null&&(yield te._deployed(ie));const se=yield populateTransaction(te,ee,oe),ue=yield ne.call(se,ie);try{let he=te.interface.decodeFunctionResult(ee,ue);return re&&ee.outputs.length===1&&(he=he[0]),he}catch(he){throw he.code===Logger$2.errors.CALL_EXCEPTION&&(he.address=te.address,he.args=oe,he.transaction=se),he}})}}function buildSend(te,ee){return function(...re){return __awaiter$5(this,void 0,void 0,function*(){te.signer||logger$8.throwError("sending a transaction requires a signer",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),te.deployTransaction!=null&&(yield te._deployed());const ne=yield populateTransaction(te,ee,re),oe=yield te.signer.sendTransaction(ne);return addContractWait(te,oe),oe})}}function buildDefault(te,ee,re){return ee.constant?buildCall(te,ee,re):buildSend(te,ee)}function getEventTag$1(te){return te.address&&(te.topics==null||te.topics.length===0)?"*":(te.address||"*")+"@"+(te.topics?te.topics.map(ee=>Array.isArray(ee)?ee.join("|"):ee).join(":"):"")}class RunningEvent{constructor(ee,re){defineReadOnly(this,"tag",ee),defineReadOnly(this,"filter",re),this._listeners=[]}addListener(ee,re){this._listeners.push({listener:ee,once:re})}removeListener(ee){let re=!1;this._listeners=this._listeners.filter(ne=>re||ne.listener!==ee?!0:(re=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(ee=>ee.listener)}listenerCount(){return this._listeners.length}run(ee){const re=this.listenerCount();return this._listeners=this._listeners.filter(ne=>{const oe=ee.slice();return setTimeout(()=>{ne.listener.apply(this,oe)},0),!ne.once}),re}prepareEvent(ee){}getEmit(ee){return[ee]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(ee,re,ne,oe){const ie={address:ee};let se=re.getEventTopic(ne);oe?(se!==oe[0]&&logger$8.throwArgumentError("topic mismatch","topics",oe),ie.topics=oe.slice()):ie.topics=[se],super(getEventTag$1(ie),ie),defineReadOnly(this,"address",ee),defineReadOnly(this,"interface",re),defineReadOnly(this,"fragment",ne)}prepareEvent(ee){super.prepareEvent(ee),ee.event=this.fragment.name,ee.eventSignature=this.fragment.format(),ee.decode=(re,ne)=>this.interface.decodeEventLog(this.fragment,re,ne);try{ee.args=this.interface.decodeEventLog(this.fragment,ee.data,ee.topics)}catch(re){ee.args=null,ee.decodeError=re}}getEmit(ee){const re=checkResultErrors(ee.args);if(re.length)throw re[0].error;const ne=(ee.args||[]).slice();return ne.push(ee),ne}}class WildcardRunningEvent extends RunningEvent{constructor(ee,re){super("*",{address:ee}),defineReadOnly(this,"address",ee),defineReadOnly(this,"interface",re)}prepareEvent(ee){super.prepareEvent(ee);try{const re=this.interface.parseLog(ee);ee.event=re.name,ee.eventSignature=re.signature,ee.decode=(ne,oe)=>this.interface.decodeEventLog(re.eventFragment,ne,oe),ee.args=re.args}catch{}}}class BaseContract{constructor(ee,re,ne){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(re)),ne==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(ne)?(defineReadOnly(this,"provider",ne.provider||null),defineReadOnly(this,"signer",ne)):Provider$3.isProvider(ne)?(defineReadOnly(this,"provider",ne),defineReadOnly(this,"signer",null)):logger$8.throwArgumentError("invalid signer or provider","signerOrProvider",ne),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const se={};Object.keys(this.interface.events).forEach(ue=>{const he=this.interface.events[ue];defineReadOnly(this.filters,ue,(...ge)=>({address:this.address,topics:this.interface.encodeFilterTopics(he,ge)})),se[he.name]||(se[he.name]=[]),se[he.name].push(ue)}),Object.keys(se).forEach(ue=>{const he=se[ue];he.length===1?defineReadOnly(this.filters,ue,this.filters[he[0]]):logger$8.warn(`Duplicate definition of ${ue} (${he.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),ee==null&&logger$8.throwArgumentError("invalid contract address or ENS name","addressOrName",ee),defineReadOnly(this,"address",ee),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,ee));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress(ee)))}catch{logger$8.throwError("provider is required to use ENS name as contract address",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(se=>{});const oe={},ie={};Object.keys(this.interface.functions).forEach(se=>{const ue=this.interface.functions[se];if(ie[se]){logger$8.warn(`Duplicate ABI entry for ${JSON.stringify(se)}`);return}ie[se]=!0;{const he=ue.name;oe[`%${he}`]||(oe[`%${he}`]=[]),oe[`%${he}`].push(se)}this[se]==null&&defineReadOnly(this,se,buildDefault(this,ue,!0)),this.functions[se]==null&&defineReadOnly(this.functions,se,buildDefault(this,ue,!1)),this.callStatic[se]==null&&defineReadOnly(this.callStatic,se,buildCall(this,ue,!0)),this.populateTransaction[se]==null&&defineReadOnly(this.populateTransaction,se,buildPopulate(this,ue)),this.estimateGas[se]==null&&defineReadOnly(this.estimateGas,se,buildEstimate(this,ue))}),Object.keys(oe).forEach(se=>{const ue=oe[se];if(ue.length>1)return;se=se.substring(1);const he=ue[0];try{this[se]==null&&defineReadOnly(this,se,this[he])}catch{}this.functions[se]==null&&defineReadOnly(this.functions,se,this.functions[he]),this.callStatic[se]==null&&defineReadOnly(this.callStatic,se,this.callStatic[he]),this.populateTransaction[se]==null&&defineReadOnly(this.populateTransaction,se,this.populateTransaction[he]),this.estimateGas[se]==null&&defineReadOnly(this.estimateGas,se,this.estimateGas[he])})}static getContractAddress(ee){return getContractAddress(ee)}static getInterface(ee){return Interface.isInterface(ee)?ee:new Interface(ee)}deployed(){return this._deployed()}_deployed(ee){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,ee).then(re=>(re==="0x"&&logger$8.throwError("contract not deployed",Logger$2.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(ee){this.signer||logger$8.throwError("sending a transactions require a signer",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const re=shallowCopy(ee||{});return["from","to"].forEach(function(ne){re[ne]!=null&&logger$8.throwError("cannot override "+ne,Logger$2.errors.UNSUPPORTED_OPERATION,{operation:ne})}),re.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(re))}connect(ee){typeof ee=="string"&&(ee=new VoidSigner(ee,this.provider));const re=new this.constructor(this.address,this.interface,ee);return this.deployTransaction&&defineReadOnly(re,"deployTransaction",this.deployTransaction),re}attach(ee){return new this.constructor(ee,this.interface,this.signer||this.provider)}static isIndexed(ee){return Indexed.isIndexed(ee)}_normalizeRunningEvent(ee){return this._runningEvents[ee.tag]?this._runningEvents[ee.tag]:ee}_getRunningEvent(ee){if(typeof ee=="string"){if(ee==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(ee==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(ee==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const re=this.interface.getEvent(ee);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,re))}if(ee.topics&&ee.topics.length>0){try{const ne=ee.topics[0];if(typeof ne!="string")throw new Error("invalid topic");const oe=this.interface.getEvent(ne);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,oe,ee.topics))}catch{}const re={address:this.address,topics:ee.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(re),re))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(ee){if(ee.listenerCount()===0){delete this._runningEvents[ee.tag];const re=this._wrappedEmits[ee.tag];re&&ee.filter&&(this.provider.off(ee.filter,re),delete this._wrappedEmits[ee.tag])}}_wrapEvent(ee,re,ne){const oe=deepCopy(re);return oe.removeListener=()=>{!ne||(ee.removeListener(ne),this._checkRunningEvents(ee))},oe.getBlock=()=>this.provider.getBlock(re.blockHash),oe.getTransaction=()=>this.provider.getTransaction(re.transactionHash),oe.getTransactionReceipt=()=>this.provider.getTransactionReceipt(re.transactionHash),ee.prepareEvent(oe),oe}_addEventListener(ee,re,ne){if(this.provider||logger$8.throwError("events require a provider or a signer with a provider",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"once"}),ee.addListener(re,ne),this._runningEvents[ee.tag]=ee,!this._wrappedEmits[ee.tag]){const oe=ie=>{let se=this._wrapEvent(ee,ie,re);if(se.decodeError==null)try{const ue=ee.getEmit(se);this.emit(ee.filter,...ue)}catch(ue){se.decodeError=ue.error}ee.filter!=null&&this.emit("event",se),se.decodeError!=null&&this.emit("error",se.decodeError,se)};this._wrappedEmits[ee.tag]=oe,ee.filter!=null&&this.provider.on(ee.filter,oe)}}queryFilter(ee,re,ne){const oe=this._getRunningEvent(ee),ie=shallowCopy(oe.filter);return typeof re=="string"&&isHexString$4(re,32)?(ne!=null&&logger$8.throwArgumentError("cannot specify toBlock with blockhash","toBlock",ne),ie.blockHash=re):(ie.fromBlock=re!=null?re:0,ie.toBlock=ne!=null?ne:"latest"),this.provider.getLogs(ie).then(se=>se.map(ue=>this._wrapEvent(oe,ue,null)))}on(ee,re){return this._addEventListener(this._getRunningEvent(ee),re,!1),this}once(ee,re){return this._addEventListener(this._getRunningEvent(ee),re,!0),this}emit(ee,...re){if(!this.provider)return!1;const ne=this._getRunningEvent(ee),oe=ne.run(re)>0;return this._checkRunningEvents(ne),oe}listenerCount(ee){return this.provider?ee==null?Object.keys(this._runningEvents).reduce((re,ne)=>re+this._runningEvents[ne].listenerCount(),0):this._getRunningEvent(ee).listenerCount():0}listeners(ee){if(!this.provider)return[];if(ee==null){const re=[];for(let ne in this._runningEvents)this._runningEvents[ne].listeners().forEach(oe=>{re.push(oe)});return re}return this._getRunningEvent(ee).listeners()}removeAllListeners(ee){if(!this.provider)return this;if(ee==null){for(const ne in this._runningEvents){const oe=this._runningEvents[ne];oe.removeAllListeners(),this._checkRunningEvents(oe)}return this}const re=this._getRunningEvent(ee);return re.removeAllListeners(),this._checkRunningEvents(re),this}off(ee,re){if(!this.provider)return this;const ne=this._getRunningEvent(ee);return ne.removeListener(re),this._checkRunningEvents(ne),this}removeListener(ee,re){return this.off(ee,re)}}class Contract extends BaseContract{}class BaseX{constructor(ee){defineReadOnly(this,"alphabet",ee),defineReadOnly(this,"base",ee.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",ee.charAt(0));for(let re=0;re<ee.length;re++)this._alphabetMap[ee.charAt(re)]=re}encode(ee){let re=arrayify$1(ee);if(re.length===0)return"";let ne=[0];for(let ie=0;ie<re.length;++ie){let se=re[ie];for(let ue=0;ue<ne.length;++ue)se+=ne[ue]<<8,ne[ue]=se%this.base,se=se/this.base|0;for(;se>0;)ne.push(se%this.base),se=se/this.base|0}let oe="";for(let ie=0;re[ie]===0&&ie<re.length-1;++ie)oe+=this._leader;for(let ie=ne.length-1;ie>=0;--ie)oe+=this.alphabet[ne[ie]];return oe}decode(ee){if(typeof ee!="string")throw new TypeError("Expected String");let re=[];if(ee.length===0)return new Uint8Array(re);re.push(0);for(let ne=0;ne<ee.length;ne++){let oe=this._alphabetMap[ee[ne]];if(oe===void 0)throw new Error("Non-base"+this.base+" character");let ie=oe;for(let se=0;se<re.length;++se)ie+=re[se]*this.base,re[se]=ie&255,ie>>=8;for(;ie>0;)re.push(ie&255),ie>>=8}for(let ne=0;ee[ne]===this._leader&&ne<ee.length-1;++ne)re.push(0);return arrayify$1(new Uint8Array(re.reverse()))}}new BaseX("abcdefghijklmnopqrstuvwxyz234567");const Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),version$b="sha2/5.6.0";new Logger$2(version$b);function sha256$4(te){return"0x"+hash$6.sha256().update(arrayify$1(te)).digest("hex")}const version$a="networks/5.6.2",logger$7=new Logger$2(version$a);function isRenetworkable(te){return te&&typeof te.renetwork=="function"}function ethDefaultProvider(te){const ee=function(re,ne){ne==null&&(ne={});const oe=[];if(re.InfuraProvider&&ne.infura!=="-")try{oe.push(new re.InfuraProvider(te,ne.infura))}catch{}if(re.EtherscanProvider&&ne.etherscan!=="-")try{oe.push(new re.EtherscanProvider(te,ne.etherscan))}catch{}if(re.AlchemyProvider&&ne.alchemy!=="-")try{oe.push(new re.AlchemyProvider(te,ne.alchemy))}catch{}if(re.PocketProvider&&ne.pocket!=="-"){const ie=["goerli","ropsten","rinkeby"];try{const se=new re.PocketProvider(te,ne.pocket);se.network&&ie.indexOf(se.network.name)===-1&&oe.push(se)}catch{}}if(re.CloudflareProvider&&ne.cloudflare!=="-")try{oe.push(new re.CloudflareProvider(te))}catch{}if(re.AnkrProvider&&ne.ankr!=="-")try{oe.push(new re.AnkrProvider(te,ne.ankr))}catch{}if(oe.length===0)return null;if(re.FallbackProvider){let ie=1;return ne.quorum!=null?ie=ne.quorum:te==="homestead"&&(ie=2),new re.FallbackProvider(oe,ie)}return oe[0]};return ee.renetwork=function(re){return ethDefaultProvider(re)},ee}function etcDefaultProvider(te,ee){const re=function(ne,oe){return ne.JsonRpcProvider?new ne.JsonRpcProvider(te,ee):null};return re.renetwork=function(ne){return etcDefaultProvider(te,ne)},re}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(te){if(te==null)return null;if(typeof te=="number"){for(const ne in networks){const oe=networks[ne];if(oe.chainId===te)return{name:oe.name,chainId:oe.chainId,ensAddress:oe.ensAddress||null,_defaultProvider:oe._defaultProvider||null}}return{chainId:te,name:"unknown"}}if(typeof te=="string"){const ne=networks[te];return ne==null?null:{name:ne.name,chainId:ne.chainId,ensAddress:ne.ensAddress,_defaultProvider:ne._defaultProvider||null}}const ee=networks[te.name];if(!ee)return typeof te.chainId!="number"&&logger$7.throwArgumentError("invalid network chainId","network",te),te;te.chainId!==0&&te.chainId!==ee.chainId&&logger$7.throwArgumentError("network chainId mismatch","network",te);let re=te._defaultProvider||null;return re==null&&ee._defaultProvider&&(isRenetworkable(ee._defaultProvider)?re=ee._defaultProvider.renetwork(te):re=ee._defaultProvider),{name:te.name,chainId:ee.chainId,ensAddress:te.ensAddress||ee.ensAddress||null,_defaultProvider:re}}function decode$8(te){te=atob(te);const ee=[];for(let re=0;re<te.length;re++)ee.push(te.charCodeAt(re));return arrayify$1(ee)}function encode$9(te){te=arrayify$1(te);let ee="";for(let re=0;re<te.length;re++)ee+=String.fromCharCode(te[re]);return btoa(ee)}const version$9="web/5.6.0";var __awaiter$4=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function oe(ie){return ie instanceof re?ie:new re(function(se){se(ie)})}return new(re||(re=Promise))(function(ie,se){function ue(be){try{ge(ne.next(be))}catch(Se){se(Se)}}function he(be){try{ge(ne.throw(be))}catch(Se){se(Se)}}function ge(be){be.done?ie(be.value):oe(be.value).then(ue,he)}ge((ne=ne.apply(te,ee||[])).next())})};function getUrl(te,ee){return __awaiter$4(this,void 0,void 0,function*(){ee==null&&(ee={});const re={method:ee.method||"GET",headers:ee.headers||{},body:ee.body||void 0};ee.skipFetchSetup!==!0&&(re.mode="cors",re.cache="no-cache",re.credentials="same-origin",re.redirect="follow",re.referrer="client");const ne=yield fetch(te,re),oe=yield ne.arrayBuffer(),ie={};return ne.headers.forEach?ne.headers.forEach((se,ue)=>{ie[ue.toLowerCase()]=se}):ne.headers.keys().forEach(se=>{ie[se.toLowerCase()]=ne.headers.get(se)}),{headers:ie,statusCode:ne.status,statusMessage:ne.statusText,body:arrayify$1(new Uint8Array(oe))}})}var __awaiter$3=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function oe(ie){return ie instanceof re?ie:new re(function(se){se(ie)})}return new(re||(re=Promise))(function(ie,se){function ue(be){try{ge(ne.next(be))}catch(Se){se(Se)}}function he(be){try{ge(ne.throw(be))}catch(Se){se(Se)}}function ge(be){be.done?ie(be.value):oe(be.value).then(ue,he)}ge((ne=ne.apply(te,ee||[])).next())})};const logger$6=new Logger$2(version$9);function staller(te){return new Promise(ee=>{setTimeout(ee,te)})}function bodyify(te,ee){if(te==null)return null;if(typeof te=="string")return te;if(isBytesLike(te)){if(ee&&(ee.split("/")[0]==="text"||ee.split(";")[0].trim()==="application/json"))try{return toUtf8String(te)}catch{}return hexlify(te)}return te}function _fetchData(te,ee,re){const ne=typeof te=="object"&&te.throttleLimit!=null?te.throttleLimit:12;logger$6.assertArgument(ne>0&&ne%1===0,"invalid connection throttle limit","connection.throttleLimit",ne);const oe=typeof te=="object"?te.throttleCallback:null,ie=typeof te=="object"&&typeof te.throttleSlotInterval=="number"?te.throttleSlotInterval:100;logger$6.assertArgument(ie>0&&ie%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",ie);const se=typeof te=="object"?!!te.errorPassThrough:!1,ue={};let he=null;const ge={method:"GET"};let be=!1,Se=2*60*1e3;if(typeof te=="string")he=te;else if(typeof te=="object"){if((te==null||te.url==null)&&logger$6.throwArgumentError("missing URL","connection.url",te),he=te.url,typeof te.timeout=="number"&&te.timeout>0&&(Se=te.timeout),te.headers)for(const Ie in te.headers)ue[Ie.toLowerCase()]={key:Ie,value:String(te.headers[Ie])},["if-none-match","if-modified-since"].indexOf(Ie.toLowerCase())>=0&&(be=!0);if(ge.allowGzip=!!te.allowGzip,te.user!=null&&te.password!=null){he.substring(0,6)!=="https:"&&te.allowInsecureAuthentication!==!0&&logger$6.throwError("basic authentication requires a secure https url",Logger$2.errors.INVALID_ARGUMENT,{argument:"url",url:he,user:te.user,password:"[REDACTED]"});const Ie=te.user+":"+te.password;ue.authorization={key:"Authorization",value:"Basic "+encode$9(toUtf8Bytes(Ie))}}te.skipFetchSetup!=null&&(ge.skipFetchSetup=!!te.skipFetchSetup)}const Te=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),ke=he?he.match(Te):null;if(ke)try{const Ie={statusCode:200,statusMessage:"OK",headers:{"content-type":ke[1]},body:decode$8(ke[2])};let Ne=Ie.body;return re&&(Ne=re(Ie.body,Ie)),Promise.resolve(Ne)}catch(Ie){logger$6.throwError("processing response error",Logger$2.errors.SERVER_ERROR,{body:bodyify(ke[1],ke[2]),error:Ie,requestBody:null,requestMethod:"GET",url:he})}ee&&(ge.method="POST",ge.body=ee,ue["content-type"]==null&&(ue["content-type"]={key:"Content-Type",value:"application/octet-stream"}),ue["content-length"]==null&&(ue["content-length"]={key:"Content-Length",value:String(ee.length)}));const Re={};Object.keys(ue).forEach(Ie=>{const Ne=ue[Ie];Re[Ne.key]=Ne.value}),ge.headers=Re;const Ce=function(){let Ie=null;return{promise:new Promise(function(Ke,Ge){Se&&(Ie=setTimeout(()=>{Ie!=null&&(Ie=null,Ge(logger$6.makeError("timeout",Logger$2.errors.TIMEOUT,{requestBody:bodyify(ge.body,Re["content-type"]),requestMethod:ge.method,timeout:Se,url:he})))},Se))}),cancel:function(){Ie!=null&&(clearTimeout(Ie),Ie=null)}}}(),Pe=function(){return __awaiter$3(this,void 0,void 0,function*(){for(let Ie=0;Ie<ne;Ie++){let Ne=null;try{if(Ne=yield getUrl(he,ge),Ie<ne){if(Ne.statusCode===301||Ne.statusCode===302){const Ke=Ne.headers.location||"";if(ge.method==="GET"&&Ke.match(/^https:/)){he=Ne.headers.location;continue}}else if(Ne.statusCode===429){let Ke=!0;if(oe&&(Ke=yield oe(Ie,he)),Ke){let Ge=0;const ut=Ne.headers["retry-after"];typeof ut=="string"&&ut.match(/^[1-9][0-9]*$/)?Ge=parseInt(ut)*1e3:Ge=ie*parseInt(String(Math.random()*Math.pow(2,Ie))),yield staller(Ge);continue}}}}catch(Ke){Ne=Ke.response,Ne==null&&(Ce.cancel(),logger$6.throwError("missing response",Logger$2.errors.SERVER_ERROR,{requestBody:bodyify(ge.body,Re["content-type"]),requestMethod:ge.method,serverError:Ke,url:he}))}let He=Ne.body;if(be&&Ne.statusCode===304?He=null:!se&&(Ne.statusCode<200||Ne.statusCode>=300)&&(Ce.cancel(),logger$6.throwError("bad response",Logger$2.errors.SERVER_ERROR,{status:Ne.statusCode,headers:Ne.headers,body:bodyify(He,Ne.headers?Ne.headers["content-type"]:null),requestBody:bodyify(ge.body,Re["content-type"]),requestMethod:ge.method,url:he})),re)try{const Ke=yield re(He,Ne);return Ce.cancel(),Ke}catch(Ke){if(Ke.throttleRetry&&Ie<ne){let Ge=!0;if(oe&&(Ge=yield oe(Ie,he)),Ge){const ut=ie*parseInt(String(Math.random()*Math.pow(2,Ie)));yield staller(ut);continue}}Ce.cancel(),logger$6.throwError("processing response error",Logger$2.errors.SERVER_ERROR,{body:bodyify(He,Ne.headers?Ne.headers["content-type"]:null),error:Ke,requestBody:bodyify(ge.body,Re["content-type"]),requestMethod:ge.method,url:he})}return Ce.cancel(),He}return logger$6.throwError("failed response",Logger$2.errors.SERVER_ERROR,{requestBody:bodyify(ge.body,Re["content-type"]),requestMethod:ge.method,url:he})})}();return Promise.race([Ce.promise,Pe])}function fetchJson(te,ee,re){let ne=(ie,se)=>{let ue=null;if(ie!=null)try{ue=JSON.parse(toUtf8String(ie))}catch(he){logger$6.throwError("invalid JSON",Logger$2.errors.SERVER_ERROR,{body:ie,error:he})}return re&&(ue=re(ue,se)),ue},oe=null;if(ee!=null){oe=toUtf8Bytes(ee);const ie=typeof te=="string"?{url:te}:shallowCopy(te);ie.headers?Object.keys(ie.headers).filter(ue=>ue.toLowerCase()==="content-type").length!==0||(ie.headers=shallowCopy(ie.headers),ie.headers["content-type"]="application/json"):ie.headers={"content-type":"application/json"},te=ie}return _fetchData(te,oe,ne)}function poll(te,ee){return ee||(ee={}),ee=shallowCopy(ee),ee.floor==null&&(ee.floor=0),ee.ceiling==null&&(ee.ceiling=1e4),ee.interval==null&&(ee.interval=250),new Promise(function(re,ne){let oe=null,ie=!1;const se=()=>ie?!1:(ie=!0,oe&&clearTimeout(oe),!0);ee.timeout&&(oe=setTimeout(()=>{se()&&ne(new Error("timeout"))},ee.timeout));const ue=ee.retryLimit;let he=0;function ge(){return te().then(function(be){if(be!==void 0)se()&&re(be);else if(ee.oncePoll)ee.oncePoll.once("poll",ge);else if(ee.onceBlock)ee.onceBlock.once("block",ge);else if(!ie){if(he++,he>ue){se()&&ne(new Error("retry limit reached"));return}let Se=ee.interval*parseInt(String(Math.random()*Math.pow(2,he)));Se<ee.floor&&(Se=ee.floor),Se>ee.ceiling&&(Se=ee.ceiling),setTimeout(ge,Se)}return null},function(be){se()&&ne(be)})}ge()})}var ALPHABET$1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z$2=0;z$2<ALPHABET$1.length;z$2++){var x$2=ALPHABET$1.charAt(z$2);if(ALPHABET_MAP[x$2]!==void 0)throw new TypeError(x$2+" is ambiguous");ALPHABET_MAP[x$2]=z$2}function polymodStep(te){var ee=te>>25;return(te&33554431)<<5^-(ee>>0&1)&996825010^-(ee>>1&1)&642813549^-(ee>>2&1)&513874426^-(ee>>3&1)&1027748829^-(ee>>4&1)&705979059}function prefixChk(te){for(var ee=1,re=0;re<te.length;++re){var ne=te.charCodeAt(re);if(ne<33||ne>126)return"Invalid prefix ("+te+")";ee=polymodStep(ee)^ne>>5}for(ee=polymodStep(ee),re=0;re<te.length;++re){var oe=te.charCodeAt(re);ee=polymodStep(ee)^oe&31}return ee}function encode$8(te,ee,re){if(re=re||90,te.length+7+ee.length>re)throw new TypeError("Exceeds length limit");te=te.toLowerCase();var ne=prefixChk(te);if(typeof ne=="string")throw new Error(ne);for(var oe=te+"1",ie=0;ie<ee.length;++ie){var se=ee[ie];if(se>>5!==0)throw new Error("Non 5-bit word");ne=polymodStep(ne)^se,oe+=ALPHABET$1.charAt(se)}for(ie=0;ie<6;++ie)ne=polymodStep(ne);for(ne^=1,ie=0;ie<6;++ie){var ue=ne>>(5-ie)*5&31;oe+=ALPHABET$1.charAt(ue)}return oe}function __decode(te,ee){if(ee=ee||90,te.length<8)return te+" too short";if(te.length>ee)return"Exceeds length limit";var re=te.toLowerCase(),ne=te.toUpperCase();if(te!==re&&te!==ne)return"Mixed-case string "+te;te=re;var oe=te.lastIndexOf("1");if(oe===-1)return"No separator character for "+te;if(oe===0)return"Missing prefix for "+te;var ie=te.slice(0,oe),se=te.slice(oe+1);if(se.length<6)return"Data too short";var ue=prefixChk(ie);if(typeof ue=="string")return ue;for(var he=[],ge=0;ge<se.length;++ge){var be=se.charAt(ge),Se=ALPHABET_MAP[be];if(Se===void 0)return"Unknown character "+be;ue=polymodStep(ue)^Se,!(ge+6>=se.length)&&he.push(Se)}return ue!==1?"Invalid checksum for "+te:{prefix:ie,words:he}}function decodeUnsafe(){var te=__decode.apply(null,arguments);if(typeof te=="object")return te}function decode$7(te){var ee=__decode.apply(null,arguments);if(typeof ee=="object")return ee;throw new Error(ee)}function convert(te,ee,re,ne){for(var oe=0,ie=0,se=(1<<re)-1,ue=[],he=0;he<te.length;++he)for(oe=oe<<ee|te[he],ie+=ee;ie>=re;)ie-=re,ue.push(oe>>ie&se);if(ne)ie>0&&ue.push(oe<<re-ie&se);else{if(ie>=ee)return"Excess padding";if(oe<<re-ie&se)return"Non-zero padding"}return ue}function toWordsUnsafe(te){var ee=convert(te,8,5,!0);if(Array.isArray(ee))return ee}function toWords(te){var ee=convert(te,8,5,!0);if(Array.isArray(ee))return ee;throw new Error(ee)}function fromWordsUnsafe(te){var ee=convert(te,5,8,!1);if(Array.isArray(ee))return ee}function fromWords(te){var ee=convert(te,5,8,!1);if(Array.isArray(ee))return ee;throw new Error(ee)}var bech32={decodeUnsafe,decode:decode$7,encode:encode$8,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const version$8="providers/5.6.6",logger$5=new Logger$2(version$8);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const ee={},re=this.address.bind(this),ne=this.bigNumber.bind(this),oe=this.blockTag.bind(this),ie=this.data.bind(this),se=this.hash.bind(this),ue=this.hex.bind(this),he=this.number.bind(this),ge=this.type.bind(this),be=Se=>this.data(Se,!0);return ee.transaction={hash:se,type:ge,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(se,null),blockNumber:Formatter.allowNull(he,null),transactionIndex:Formatter.allowNull(he,null),confirmations:Formatter.allowNull(he,null),from:re,gasPrice:Formatter.allowNull(ne),maxPriorityFeePerGas:Formatter.allowNull(ne),maxFeePerGas:Formatter.allowNull(ne),gasLimit:ne,to:Formatter.allowNull(re,null),value:ne,nonce:he,data:ie,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(he),creates:Formatter.allowNull(re,null),raw:Formatter.allowNull(ie)},ee.transactionRequest={from:Formatter.allowNull(re),nonce:Formatter.allowNull(he),gasLimit:Formatter.allowNull(ne),gasPrice:Formatter.allowNull(ne),maxPriorityFeePerGas:Formatter.allowNull(ne),maxFeePerGas:Formatter.allowNull(ne),to:Formatter.allowNull(re),value:Formatter.allowNull(ne),data:Formatter.allowNull(be),type:Formatter.allowNull(he),accessList:Formatter.allowNull(this.accessList.bind(this),null)},ee.receiptLog={transactionIndex:he,blockNumber:he,transactionHash:se,address:re,topics:Formatter.arrayOf(se),data:ie,logIndex:he,blockHash:se},ee.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(re,null),transactionIndex:he,root:Formatter.allowNull(ue),gasUsed:ne,logsBloom:Formatter.allowNull(ie),blockHash:se,transactionHash:se,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:he,confirmations:Formatter.allowNull(he,null),cumulativeGasUsed:ne,effectiveGasPrice:Formatter.allowNull(ne),status:Formatter.allowNull(he),type:ge},ee.block={hash:Formatter.allowNull(se),parentHash:se,number:he,timestamp:he,nonce:Formatter.allowNull(ue),difficulty:this.difficulty.bind(this),gasLimit:ne,gasUsed:ne,miner:Formatter.allowNull(re),extraData:ie,transactions:Formatter.allowNull(Formatter.arrayOf(se)),baseFeePerGas:Formatter.allowNull(ne)},ee.blockWithTransactions=shallowCopy(ee.block),ee.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),ee.filter={fromBlock:Formatter.allowNull(oe,void 0),toBlock:Formatter.allowNull(oe,void 0),blockHash:Formatter.allowNull(se,void 0),address:Formatter.allowNull(re,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},ee.filterLog={blockNumber:Formatter.allowNull(he),blockHash:Formatter.allowNull(se),transactionIndex:he,removed:Formatter.allowNull(this.boolean.bind(this)),address:re,data:Formatter.allowFalsish(ie,"0x"),topics:Formatter.arrayOf(se),transactionHash:se,logIndex:he},ee}accessList(ee){return accessListify(ee||[])}number(ee){return ee==="0x"?0:BigNumber.from(ee).toNumber()}type(ee){return ee==="0x"||ee==null?0:BigNumber.from(ee).toNumber()}bigNumber(ee){return BigNumber.from(ee)}boolean(ee){if(typeof ee=="boolean")return ee;if(typeof ee=="string"){if(ee=ee.toLowerCase(),ee==="true")return!0;if(ee==="false")return!1}throw new Error("invalid boolean - "+ee)}hex(ee,re){return typeof ee=="string"&&(!re&&ee.substring(0,2)!=="0x"&&(ee="0x"+ee),isHexString$4(ee))?ee.toLowerCase():logger$5.throwArgumentError("invalid hash","value",ee)}data(ee,re){const ne=this.hex(ee,re);if(ne.length%2!==0)throw new Error("invalid data; odd-length - "+ee);return ne}address(ee){return getAddress(ee)}callAddress(ee){if(!isHexString$4(ee,32))return null;const re=getAddress(hexDataSlice(ee,12));return re===AddressZero?null:re}contractAddress(ee){return getContractAddress(ee)}blockTag(ee){if(ee==null)return"latest";if(ee==="earliest")return"0x0";if(ee==="latest"||ee==="pending")return ee;if(typeof ee=="number"||isHexString$4(ee))return hexValue(ee);throw new Error("invalid blockTag")}hash(ee,re){const ne=this.hex(ee,re);return hexDataLength(ne)!==32?logger$5.throwArgumentError("invalid hash","value",ee):ne}difficulty(ee){if(ee==null)return null;const re=BigNumber.from(ee);try{return re.toNumber()}catch{}return null}uint256(ee){if(!isHexString$4(ee))throw new Error("invalid uint256");return hexZeroPad(ee,32)}_block(ee,re){ee.author!=null&&ee.miner==null&&(ee.miner=ee.author);const ne=ee._difficulty!=null?ee._difficulty:ee.difficulty,oe=Formatter.check(re,ee);return oe._difficulty=ne==null?null:BigNumber.from(ne),oe}block(ee){return this._block(ee,this.formats.block)}blockWithTransactions(ee){return this._block(ee,this.formats.blockWithTransactions)}transactionRequest(ee){return Formatter.check(this.formats.transactionRequest,ee)}transactionResponse(ee){ee.gas!=null&&ee.gasLimit==null&&(ee.gasLimit=ee.gas),ee.to&&BigNumber.from(ee.to).isZero()&&(ee.to="0x0000000000000000000000000000000000000000"),ee.input!=null&&ee.data==null&&(ee.data=ee.input),ee.to==null&&ee.creates==null&&(ee.creates=this.contractAddress(ee)),(ee.type===1||ee.type===2)&&ee.accessList==null&&(ee.accessList=[]);const re=Formatter.check(this.formats.transaction,ee);if(ee.chainId!=null){let ne=ee.chainId;isHexString$4(ne)&&(ne=BigNumber.from(ne).toNumber()),re.chainId=ne}else{let ne=ee.networkId;ne==null&&re.v==null&&(ne=ee.chainId),isHexString$4(ne)&&(ne=BigNumber.from(ne).toNumber()),typeof ne!="number"&&re.v!=null&&(ne=(re.v-35)/2,ne<0&&(ne=0),ne=parseInt(ne)),typeof ne!="number"&&(ne=0),re.chainId=ne}return re.blockHash&&re.blockHash.replace(/0/g,"")==="x"&&(re.blockHash=null),re}transaction(ee){return parse$2(ee)}receiptLog(ee){return Formatter.check(this.formats.receiptLog,ee)}receipt(ee){const re=Formatter.check(this.formats.receipt,ee);if(re.root!=null)if(re.root.length<=4){const ne=BigNumber.from(re.root).toNumber();ne===0||ne===1?(re.status!=null&&re.status!==ne&&logger$5.throwArgumentError("alt-root-status/status mismatch","value",{root:re.root,status:re.status}),re.status=ne,delete re.root):logger$5.throwArgumentError("invalid alt-root-status","value.root",re.root)}else re.root.length!==66&&logger$5.throwArgumentError("invalid root hash","value.root",re.root);return re.status!=null&&(re.byzantium=!0),re}topics(ee){return Array.isArray(ee)?ee.map(re=>this.topics(re)):ee!=null?this.hash(ee,!0):null}filter(ee){return Formatter.check(this.formats.filter,ee)}filterLog(ee){return Formatter.check(this.formats.filterLog,ee)}static check(ee,re){const ne={};for(const oe in ee)try{const ie=ee[oe](re[oe]);ie!==void 0&&(ne[oe]=ie)}catch(ie){throw ie.checkKey=oe,ie.checkValue=re[oe],ie}return ne}static allowNull(ee,re){return function(ne){return ne==null?re:ee(ne)}}static allowFalsish(ee,re){return function(ne){return ne?ee(ne):re}}static arrayOf(ee){return function(re){if(!Array.isArray(re))throw new Error("not an array");const ne=[];return re.forEach(function(oe){ne.push(ee(oe))}),ne}}}var __awaiter$2=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function oe(ie){return ie instanceof re?ie:new re(function(se){se(ie)})}return new(re||(re=Promise))(function(ie,se){function ue(be){try{ge(ne.next(be))}catch(Se){se(Se)}}function he(be){try{ge(ne.throw(be))}catch(Se){se(Se)}}function ge(be){be.done?ie(be.value):oe(be.value).then(ue,he)}ge((ne=ne.apply(te,ee||[])).next())})};const logger$4=new Logger$2(version$8),MAX_CCIP_REDIRECTS=10;function checkTopic(te){return te==null?"null":(hexDataLength(te)!==32&&logger$4.throwArgumentError("invalid topic","topic",te),te.toLowerCase())}function serializeTopics(te){for(te=te.slice();te.length>0&&te[te.length-1]==null;)te.pop();return te.map(ee=>{if(Array.isArray(ee)){const re={};ee.forEach(oe=>{re[checkTopic(oe)]=!0});const ne=Object.keys(re);return ne.sort(),ne.join("|")}else return checkTopic(ee)}).join("&")}function deserializeTopics(te){return te===""?[]:te.split(/&/g).map(ee=>{if(ee==="")return[];const re=ee.split("|").map(ne=>ne==="null"?null:ne);return re.length===1?re[0]:re})}function getEventTag(te){if(typeof te=="string"){if(te=te.toLowerCase(),hexDataLength(te)===32)return"tx:"+te;if(te.indexOf(":")===-1)return te}else{if(Array.isArray(te))return"filter:*:"+serializeTopics(te);if(ForkEvent.isForkEvent(te))throw logger$4.warn("not implemented"),new Error("not implemented");if(te&&typeof te=="object")return"filter:"+(te.address||"*")+":"+serializeTopics(te.topics||[])}throw new Error("invalid event - "+te)}function getTime(){return new Date().getTime()}function stall(te){return new Promise(ee=>{setTimeout(ee,te)})}const PollableEvents=["block","network","pending","poll"];class Event{constructor(ee,re,ne){defineReadOnly(this,"tag",ee),defineReadOnly(this,"listener",re),defineReadOnly(this,"once",ne),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const ee=this.tag.split(":");return ee[0]!=="tx"?null:ee[1]}get filter(){const ee=this.tag.split(":");if(ee[0]!=="filter")return null;const re=ee[1],ne=deserializeTopics(ee[2]),oe={};return ne.length>0&&(oe.topics=ne),re&&re!=="*"&&(oe.address=re),oe}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={"0":{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},"2":{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},"3":{symbol:"doge",p2pkh:30,p2sh:22},"60":{symbol:"eth",ilk:"eth"},"61":{symbol:"etc",ilk:"eth"},"700":{symbol:"xdai",ilk:"eth"}};function bytes32ify(te){return hexZeroPad(BigNumber.from(te).toHexString(),32)}function base58Encode(te){return Base58.encode(concat([te,hexDataSlice(sha256$4(sha256$4(te)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(te,ee){try{return toUtf8String(_parseBytes(te,ee))}catch{}return null}function _parseBytes(te,ee){if(te==="0x")return null;const re=BigNumber.from(hexDataSlice(te,ee,ee+32)).toNumber(),ne=BigNumber.from(hexDataSlice(te,re,re+32)).toNumber();return hexDataSlice(te,re+32,re+32+ne)}function getIpfsLink(te){return te.match(/^ipfs:\/\/ipfs\//i)?te=te.substring(12):te.match(/^ipfs:\/\//i)?te=te.substring(7):logger$4.throwArgumentError("unsupported IPFS format","link",te),`https://gateway.ipfs.io/ipfs/${te}`}function numPad(te){const ee=arrayify$1(te);if(ee.length>32)throw new Error("internal; should not happen");const re=new Uint8Array(32);return re.set(ee,32-ee.length),re}function bytesPad(te){if(te.length%32===0)return te;const ee=new Uint8Array(Math.ceil(te.length/32)*32);return ee.set(te),ee}function encodeBytes(te){const ee=[];let re=0;for(let ne=0;ne<te.length;ne++)ee.push(null),re+=32;for(let ne=0;ne<te.length;ne++){const oe=arrayify$1(te[ne]);ee[ne]=numPad(re),ee.push(numPad(oe.length)),ee.push(bytesPad(oe)),re+=32+Math.ceil(oe.length/32)*32}return hexConcat(ee)}class Resolver{constructor(ee,re,ne,oe){defineReadOnly(this,"provider",ee),defineReadOnly(this,"name",ne),defineReadOnly(this,"address",ee.formatter.address(re)),defineReadOnly(this,"_resolvedAddress",oe)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(ee=>BigNumber.from(ee).eq(1)).catch(ee=>{if(ee.code===Logger$2.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,ee})),this._supportsEip2544}_fetch(ee,re){return __awaiter$2(this,void 0,void 0,function*(){const ne={to:this.address,ccipReadEnabled:!0,data:hexConcat([ee,namehash(this.name),re||"0x"])};let oe=!1;(yield this.supportsWildcard())&&(oe=!0,ne.data=hexConcat(["0x9061b923",encodeBytes([dnsEncode(this.name),ne.data])]));try{let ie=yield this.provider.call(ne);return arrayify$1(ie).length%32===4&&logger$4.throwError("resolver threw error",Logger$2.errors.CALL_EXCEPTION,{transaction:ne,data:ie}),oe&&(ie=_parseBytes(ie,0)),ie}catch(ie){if(ie.code===Logger$2.errors.CALL_EXCEPTION)return null;throw ie}})}_fetchBytes(ee,re){return __awaiter$2(this,void 0,void 0,function*(){const ne=yield this._fetch(ee,re);return ne!=null?_parseBytes(ne,0):null})}_getAddress(ee,re){const ne=coinInfos[String(ee)];if(ne==null&&logger$4.throwError(`unsupported coin type: ${ee}`,Logger$2.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${ee})`}),ne.ilk==="eth")return this.provider.formatter.address(re);const oe=arrayify$1(re);if(ne.p2pkh!=null){const ie=re.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(ie){const se=parseInt(ie[1],16);if(ie[2].length===se*2&&se>=1&&se<=75)return base58Encode(concat([[ne.p2pkh],"0x"+ie[2]]))}}if(ne.p2sh!=null){const ie=re.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(ie){const se=parseInt(ie[1],16);if(ie[2].length===se*2&&se>=1&&se<=75)return base58Encode(concat([[ne.p2sh],"0x"+ie[2]]))}}if(ne.prefix!=null){const ie=oe[1];let se=oe[0];if(se===0?ie!==20&&ie!==32&&(se=-1):se=-1,se>=0&&oe.length===2+ie&&ie>=1&&ie<=75){const ue=bech32.toWords(oe.slice(2));return ue.unshift(se),bech32.encode(ne.prefix,ue)}}return null}getAddress(ee){return __awaiter$2(this,void 0,void 0,function*(){if(ee==null&&(ee=60),ee===60)try{const oe=yield this._fetch("0x3b3b57de");return oe==="0x"||oe===HashZero?null:this.provider.formatter.callAddress(oe)}catch(oe){if(oe.code===Logger$2.errors.CALL_EXCEPTION)return null;throw oe}const re=yield this._fetchBytes("0xf1cb7e06",bytes32ify(ee));if(re==null||re==="0x")return null;const ne=this._getAddress(ee,re);return ne==null&&logger$4.throwError("invalid or unsupported coin data",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${ee})`,coinType:ee,data:re}),ne})}getAvatar(){return __awaiter$2(this,void 0,void 0,function*(){const ee=[{type:"name",content:this.name}];try{const re=yield this.getText("avatar");if(re==null)return null;for(let ne=0;ne<matchers.length;ne++){const oe=re.match(matchers[ne]);if(oe==null)continue;const ie=oe[1].toLowerCase();switch(ie){case"https":return ee.push({type:"url",content:re}),{linkage:ee,url:re};case"data":return ee.push({type:"data",content:re}),{linkage:ee,url:re};case"ipfs":return ee.push({type:"ipfs",content:re}),{linkage:ee,url:getIpfsLink(re)};case"erc721":case"erc1155":{const se=ie==="erc721"?"0xc87b56dd":"0x0e89341c";ee.push({type:ie,content:re});const ue=this._resolvedAddress||(yield this.getAddress()),he=(oe[2]||"").split("/");if(he.length!==2)return null;const ge=yield this.provider.formatter.address(he[0]),be=hexZeroPad(BigNumber.from(he[1]).toHexString(),32);if(ie==="erc721"){const Ce=this.provider.formatter.callAddress(yield this.provider.call({to:ge,data:hexConcat(["0x6352211e",be])}));if(ue!==Ce)return null;ee.push({type:"owner",content:Ce})}else if(ie==="erc1155"){const Ce=BigNumber.from(yield this.provider.call({to:ge,data:hexConcat(["0x00fdd58e",hexZeroPad(ue,32),be])}));if(Ce.isZero())return null;ee.push({type:"balance",content:Ce.toString()})}const Se={to:this.provider.formatter.address(he[0]),data:hexConcat([se,be])};let Te=_parseString(yield this.provider.call(Se),0);if(Te==null)return null;ee.push({type:"metadata-url-base",content:Te}),ie==="erc1155"&&(Te=Te.replace("{id}",be.substring(2)),ee.push({type:"metadata-url-expanded",content:Te})),Te.match(/^ipfs:/i)&&(Te=getIpfsLink(Te)),ee.push({type:"metadata-url",content:Te});const ke=yield fetchJson(Te);if(!ke)return null;ee.push({type:"metadata",content:JSON.stringify(ke)});let Re=ke.image;if(typeof Re!="string")return null;if(!Re.match(/^(https:\/\/|data:)/i)){if(Re.match(matcherIpfs)==null)return null;ee.push({type:"url-ipfs",content:Re}),Re=getIpfsLink(Re)}return ee.push({type:"url",content:Re}),{linkage:ee,url:Re}}}}}catch{}return null})}getContentHash(){return __awaiter$2(this,void 0,void 0,function*(){const ee=yield this._fetchBytes("0xbc1c58d1");if(ee==null||ee==="0x")return null;const re=ee.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(re){const ie=parseInt(re[3],16);if(re[4].length===ie*2)return"ipfs://"+Base58.encode("0x"+re[1])}const ne=ee.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(ne){const ie=parseInt(ne[3],16);if(ne[4].length===ie*2)return"ipns://"+Base58.encode("0x"+ne[1])}const oe=ee.match(/^0xe40101fa011b20([0-9a-f]*)$/);return oe&&oe[1].length===32*2?"bzz://"+oe[1]:logger$4.throwError("invalid or unsupported content hash data",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:ee})})}getText(ee){return __awaiter$2(this,void 0,void 0,function*(){let re=toUtf8Bytes(ee);re=concat([bytes32ify(64),bytes32ify(re.length),re]),re.length%32!==0&&(re=concat([re,hexZeroPad("0x",32-ee.length%32)]));const ne=yield this._fetchBytes("0x59d1d43c",hexlify(re));return ne==null||ne==="0x"?null:toUtf8String(ne)})}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider$3{constructor(ee){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),defineReadOnly(this,"anyNetwork",ee==="any"),this.anyNetwork&&(ee=this.detectNetwork()),ee instanceof Promise)this._networkPromise=ee,ee.catch(re=>{}),this._ready().catch(re=>{});else{const re=getStatic(new.target,"getNetwork")(ee);re?(defineReadOnly(this,"_network",re),this.emit("network",re,null)):logger$4.throwArgumentError("invalid network","network",ee)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$2(this,void 0,void 0,function*(){if(this._network==null){let ee=null;if(this._networkPromise)try{ee=yield this._networkPromise}catch{}ee==null&&(ee=yield this.detectNetwork()),ee||logger$4.throwError("no network detected",Logger$2.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=ee:defineReadOnly(this,"_network",ee),this.emit("network",ee,null))}return this._network})}get ready(){return poll(()=>this._ready().then(ee=>ee,ee=>{if(!(ee.code===Logger$2.errors.NETWORK_ERROR&&ee.event==="noNetwork"))throw ee}))}static getFormatter(){return defaultFormatter==null&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(ee){return getNetwork(ee==null?"homestead":ee)}ccipReadFetch(ee,re,ne){return __awaiter$2(this,void 0,void 0,function*(){if(this.disableCcipRead||ne.length===0)return null;const oe=ee.to.toLowerCase(),ie=re.toLowerCase(),se=[];for(let ue=0;ue<ne.length;ue++){const he=ne[ue],ge=he.replace("{sender}",oe).replace("{data}",ie),be=he.indexOf("{data}")>=0?null:JSON.stringify({data:ie,sender:oe}),Se=yield fetchJson({url:ge,errorPassThrough:!0},be,(ke,Re)=>(ke.status=Re.statusCode,ke));if(Se.data)return Se.data;const Te=Se.message||"unknown error";if(Se.status>=400&&Se.status<500)return logger$4.throwError(`response not found during CCIP fetch: ${Te}`,Logger$2.errors.SERVER_ERROR,{url:he,errorMessage:Te});se.push(Te)}return logger$4.throwError(`error encountered during CCIP fetch: ${se.map(ue=>JSON.stringify(ue)).join(", ")}`,Logger$2.errors.SERVER_ERROR,{urls:ne,errorMessages:se})})}_getInternalBlockNumber(ee){return __awaiter$2(this,void 0,void 0,function*(){if(yield this._ready(),ee>0)for(;this._internalBlockNumber;){const oe=this._internalBlockNumber;try{const ie=yield oe;if(getTime()-ie.respTime<=ee)return ie.blockNumber;break}catch{if(this._internalBlockNumber===oe)break}}const re=getTime(),ne=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(oe=>null,oe=>oe)}).then(({blockNumber:oe,networkError:ie})=>{if(ie)throw this._internalBlockNumber===ne&&(this._internalBlockNumber=null),ie;const se=getTime();return oe=BigNumber.from(oe).toNumber(),oe<this._maxInternalBlockNumber&&(oe=this._maxInternalBlockNumber),this._maxInternalBlockNumber=oe,this._setFastBlockNumber(oe),{blockNumber:oe,reqTime:re,respTime:se}});return this._internalBlockNumber=ne,ne.catch(oe=>{this._internalBlockNumber===ne&&(this._internalBlockNumber=null)}),(yield ne).blockNumber})}poll(){return __awaiter$2(this,void 0,void 0,function*(){const ee=nextPollId++,re=[];let ne=null;try{ne=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(oe){this.emit("error",oe);return}if(this._setFastBlockNumber(ne),this.emit("poll",ee,ne),ne===this._lastBlockNumber){this.emit("didPoll",ee);return}if(this._emitted.block===-2&&(this._emitted.block=ne-1),Math.abs(this._emitted.block-ne)>1e3)logger$4.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${ne})`),this.emit("error",logger$4.makeError("network block skew detected",Logger$2.errors.NETWORK_ERROR,{blockNumber:ne,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",ne);else for(let oe=this._emitted.block+1;oe<=ne;oe++)this.emit("block",oe);this._emitted.block!==ne&&(this._emitted.block=ne,Object.keys(this._emitted).forEach(oe=>{if(oe==="block")return;const ie=this._emitted[oe];ie!=="pending"&&ne-ie>12&&delete this._emitted[oe]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=ne-1),this._events.forEach(oe=>{switch(oe.type){case"tx":{const ie=oe.hash;let se=this.getTransactionReceipt(ie).then(ue=>(!ue||ue.blockNumber==null||(this._emitted["t:"+ie]=ue.blockNumber,this.emit(ie,ue)),null)).catch(ue=>{this.emit("error",ue)});re.push(se);break}case"filter":{if(!oe._inflight){oe._inflight=!0;const ie=oe.filter;ie.fromBlock=oe._lastBlockNumber+1,ie.toBlock=ne,ie.toBlock-this._maxFilterBlockRange>ie.fromBlock&&(ie.fromBlock=ie.toBlock-this._maxFilterBlockRange);const se=this.getLogs(ie).then(ue=>{oe._inflight=!1,ue.length!==0&&ue.forEach(he=>{he.blockNumber>oe._lastBlockNumber&&(oe._lastBlockNumber=he.blockNumber),this._emitted["b:"+he.blockHash]=he.blockNumber,this._emitted["t:"+he.transactionHash]=he.blockNumber,this.emit(ie,he)})}).catch(ue=>{this.emit("error",ue),oe._inflight=!1});re.push(se)}break}}}),this._lastBlockNumber=ne,Promise.all(re).then(()=>{this.emit("didPoll",ee)}).catch(oe=>{this.emit("error",oe)})})}resetEventsBlock(ee){this._lastBlockNumber=ee-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$2(this,void 0,void 0,function*(){return logger$4.throwError("provider does not support network detection",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return __awaiter$2(this,void 0,void 0,function*(){const ee=yield this._ready(),re=yield this.detectNetwork();if(ee.chainId!==re.chainId){if(this.anyNetwork)return this._network=re,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",re,ee),yield stall(0),this._network;const ne=logger$4.makeError("underlying network changed",Logger$2.errors.NETWORK_ERROR,{event:"changed",network:ee,detectedNetwork:re});throw this.emit("error",ne),ne}return ee})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(ee=>{this._setFastBlockNumber(ee)},ee=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(ee){ee&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!ee&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(ee){if(typeof ee!="number"||ee<=0||parseInt(String(ee))!=ee)throw new Error("invalid polling interval");this._pollingInterval=ee,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const ee=getTime();return ee-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=ee,this._fastBlockNumberPromise=this.getBlockNumber().then(re=>((this._fastBlockNumber==null||re>this._fastBlockNumber)&&(this._fastBlockNumber=re),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(ee){this._fastBlockNumber!=null&&ee<this._fastBlockNumber||(this._fastQueryDate=getTime(),(this._fastBlockNumber==null||ee>this._fastBlockNumber)&&(this._fastBlockNumber=ee,this._fastBlockNumberPromise=Promise.resolve(ee)))}waitForTransaction(ee,re,ne){return __awaiter$2(this,void 0,void 0,function*(){return this._waitForTransaction(ee,re==null?1:re,ne||0,null)})}_waitForTransaction(ee,re,ne,oe){return __awaiter$2(this,void 0,void 0,function*(){const ie=yield this.getTransactionReceipt(ee);return(ie?ie.confirmations:0)>=re?ie:new Promise((se,ue)=>{const he=[];let ge=!1;const be=function(){return ge?!0:(ge=!0,he.forEach(Te=>{Te()}),!1)},Se=Te=>{Te.confirmations<re||be()||se(Te)};if(this.on(ee,Se),he.push(()=>{this.removeListener(ee,Se)}),oe){let Te=oe.startBlock,ke=null;const Re=Ce=>__awaiter$2(this,void 0,void 0,function*(){ge||(yield stall(1e3),this.getTransactionCount(oe.from).then(Pe=>__awaiter$2(this,void 0,void 0,function*(){if(!ge){if(Pe<=oe.nonce)Te=Ce;else{{const Ie=yield this.getTransaction(ee);if(Ie&&Ie.blockNumber!=null)return}for(ke==null&&(ke=Te-3,ke<oe.startBlock&&(ke=oe.startBlock));ke<=Ce;){if(ge)return;const Ie=yield this.getBlockWithTransactions(ke);for(let Ne=0;Ne<Ie.transactions.length;Ne++){const He=Ie.transactions[Ne];if(He.hash===ee)return;if(He.from===oe.from&&He.nonce===oe.nonce){if(ge)return;const Ke=yield this.waitForTransaction(He.hash,re);if(be())return;let Ge="replaced";He.data===oe.data&&He.to===oe.to&&He.value.eq(oe.value)?Ge="repriced":He.data==="0x"&&He.from===He.to&&He.value.isZero()&&(Ge="cancelled"),ue(logger$4.makeError("transaction was replaced",Logger$2.errors.TRANSACTION_REPLACED,{cancelled:Ge==="replaced"||Ge==="cancelled",reason:Ge,replacement:this._wrapTransaction(He),hash:ee,receipt:Ke}));return}}ke++}}ge||this.once("block",Re)}}),Pe=>{ge||this.once("block",Re)}))});if(ge)return;this.once("block",Re),he.push(()=>{this.removeListener("block",Re)})}if(typeof ne=="number"&&ne>0){const Te=setTimeout(()=>{be()||ue(logger$4.makeError("timeout exceeded",Logger$2.errors.TIMEOUT,{timeout:ne}))},ne);Te.unref&&Te.unref(),he.push(()=>{clearTimeout(Te)})}})})}getBlockNumber(){return __awaiter$2(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ee=yield this.perform("getGasPrice",{});try{return BigNumber.from(ee)}catch(re){return logger$4.throwError("bad result from backend",Logger$2.errors.SERVER_ERROR,{method:"getGasPrice",result:ee,error:re})}})}getBalance(ee,re){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ne=yield resolveProperties({address:this._getAddress(ee),blockTag:this._getBlockTag(re)}),oe=yield this.perform("getBalance",ne);try{return BigNumber.from(oe)}catch(ie){return logger$4.throwError("bad result from backend",Logger$2.errors.SERVER_ERROR,{method:"getBalance",params:ne,result:oe,error:ie})}})}getTransactionCount(ee,re){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ne=yield resolveProperties({address:this._getAddress(ee),blockTag:this._getBlockTag(re)}),oe=yield this.perform("getTransactionCount",ne);try{return BigNumber.from(oe).toNumber()}catch(ie){return logger$4.throwError("bad result from backend",Logger$2.errors.SERVER_ERROR,{method:"getTransactionCount",params:ne,result:oe,error:ie})}})}getCode(ee,re){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ne=yield resolveProperties({address:this._getAddress(ee),blockTag:this._getBlockTag(re)}),oe=yield this.perform("getCode",ne);try{return hexlify(oe)}catch(ie){return logger$4.throwError("bad result from backend",Logger$2.errors.SERVER_ERROR,{method:"getCode",params:ne,result:oe,error:ie})}})}getStorageAt(ee,re,ne){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const oe=yield resolveProperties({address:this._getAddress(ee),blockTag:this._getBlockTag(ne),position:Promise.resolve(re).then(se=>hexValue(se))}),ie=yield this.perform("getStorageAt",oe);try{return hexlify(ie)}catch(se){return logger$4.throwError("bad result from backend",Logger$2.errors.SERVER_ERROR,{method:"getStorageAt",params:oe,result:ie,error:se})}})}_wrapTransaction(ee,re,ne){if(re!=null&&hexDataLength(re)!==32)throw new Error("invalid response - sendTransaction");const oe=ee;return re!=null&&ee.hash!==re&&logger$4.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger$2.errors.UNKNOWN_ERROR,{expectedHash:ee.hash,returnedHash:re}),oe.wait=(ie,se)=>__awaiter$2(this,void 0,void 0,function*(){ie==null&&(ie=1),se==null&&(se=0);let ue;ie!==0&&ne!=null&&(ue={data:ee.data,from:ee.from,nonce:ee.nonce,to:ee.to,value:ee.value,startBlock:ne});const he=yield this._waitForTransaction(ee.hash,ie,se,ue);return he==null&&ie===0?null:(this._emitted["t:"+ee.hash]=he.blockNumber,he.status===0&&logger$4.throwError("transaction failed",Logger$2.errors.CALL_EXCEPTION,{transactionHash:ee.hash,transaction:ee,receipt:he}),he)}),oe}sendTransaction(ee){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const re=yield Promise.resolve(ee).then(ie=>hexlify(ie)),ne=this.formatter.transaction(ee);ne.confirmations==null&&(ne.confirmations=0);const oe=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const ie=yield this.perform("sendTransaction",{signedTransaction:re});return this._wrapTransaction(ne,ie,oe)}catch(ie){throw ie.transaction=ne,ie.transactionHash=ne.hash,ie}})}_getTransactionRequest(ee){return __awaiter$2(this,void 0,void 0,function*(){const re=yield ee,ne={};return["from","to"].forEach(oe=>{re[oe]!=null&&(ne[oe]=Promise.resolve(re[oe]).then(ie=>ie?this._getAddress(ie):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(oe=>{re[oe]!=null&&(ne[oe]=Promise.resolve(re[oe]).then(ie=>ie?BigNumber.from(ie):null))}),["type"].forEach(oe=>{re[oe]!=null&&(ne[oe]=Promise.resolve(re[oe]).then(ie=>ie!=null?ie:null))}),re.accessList&&(ne.accessList=this.formatter.accessList(re.accessList)),["data"].forEach(oe=>{re[oe]!=null&&(ne[oe]=Promise.resolve(re[oe]).then(ie=>ie?hexlify(ie):null))}),this.formatter.transactionRequest(yield resolveProperties(ne))})}_getFilter(ee){return __awaiter$2(this,void 0,void 0,function*(){ee=yield ee;const re={};return ee.address!=null&&(re.address=this._getAddress(ee.address)),["blockHash","topics"].forEach(ne=>{ee[ne]!=null&&(re[ne]=ee[ne])}),["fromBlock","toBlock"].forEach(ne=>{ee[ne]!=null&&(re[ne]=this._getBlockTag(ee[ne]))}),this.formatter.filter(yield resolveProperties(re))})}_call(ee,re,ne){return __awaiter$2(this,void 0,void 0,function*(){ne>=MAX_CCIP_REDIRECTS&&logger$4.throwError("CCIP read exceeded maximum redirections",Logger$2.errors.SERVER_ERROR,{redirects:ne,transaction:ee});const oe=ee.to,ie=yield this.perform("call",{transaction:ee,blockTag:re});if(ne>=0&&re==="latest"&&oe!=null&&ie.substring(0,10)==="0x556f1830"&&hexDataLength(ie)%32===4)try{const se=hexDataSlice(ie,4),ue=hexDataSlice(se,0,32);BigNumber.from(ue).eq(oe)||logger$4.throwError("CCIP Read sender did not match",Logger$2.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:ee,data:ie});const he=[],ge=BigNumber.from(hexDataSlice(se,32,64)).toNumber(),be=BigNumber.from(hexDataSlice(se,ge,ge+32)).toNumber(),Se=hexDataSlice(se,ge+32);for(let Ie=0;Ie<be;Ie++){const Ne=_parseString(Se,Ie*32);Ne==null&&logger$4.throwError("CCIP Read contained corrupt URL string",Logger$2.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:ee,data:ie}),he.push(Ne)}const Te=_parseBytes(se,64);BigNumber.from(hexDataSlice(se,100,128)).isZero()||logger$4.throwError("CCIP Read callback selector included junk",Logger$2.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:ee,data:ie});const ke=hexDataSlice(se,96,100),Re=_parseBytes(se,128),Ce=yield this.ccipReadFetch(ee,Te,he);Ce==null&&logger$4.throwError("CCIP Read disabled or provided no URLs",Logger$2.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:ee,data:ie});const Pe={to:oe,data:hexConcat([ke,encodeBytes([Ce,Re])])};return this._call(Pe,re,ne+1)}catch(se){if(se.code===Logger$2.errors.SERVER_ERROR)throw se}try{return hexlify(ie)}catch(se){return logger$4.throwError("bad result from backend",Logger$2.errors.SERVER_ERROR,{method:"call",params:{transaction:ee,blockTag:re},result:ie,error:se})}})}call(ee,re){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const ne=yield resolveProperties({transaction:this._getTransactionRequest(ee),blockTag:this._getBlockTag(re),ccipReadEnabled:Promise.resolve(ee.ccipReadEnabled)});return this._call(ne.transaction,ne.blockTag,ne.ccipReadEnabled?0:-1)})}estimateGas(ee){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const re=yield resolveProperties({transaction:this._getTransactionRequest(ee)}),ne=yield this.perform("estimateGas",re);try{return BigNumber.from(ne)}catch(oe){return logger$4.throwError("bad result from backend",Logger$2.errors.SERVER_ERROR,{method:"estimateGas",params:re,result:ne,error:oe})}})}_getAddress(ee){return __awaiter$2(this,void 0,void 0,function*(){ee=yield ee,typeof ee!="string"&&logger$4.throwArgumentError("invalid address or ENS name","name",ee);const re=yield this.resolveName(ee);return re==null&&logger$4.throwError("ENS name not configured",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(ee)})`}),re})}_getBlock(ee,re){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork(),ee=yield ee;let ne=-128;const oe={includeTransactions:!!re};if(isHexString$4(ee,32))oe.blockHash=ee;else try{oe.blockTag=yield this._getBlockTag(ee),isHexString$4(oe.blockTag)&&(ne=parseInt(oe.blockTag.substring(2),16))}catch{logger$4.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",ee)}return poll(()=>__awaiter$2(this,void 0,void 0,function*(){const ie=yield this.perform("getBlock",oe);if(ie==null)return oe.blockHash!=null&&this._emitted["b:"+oe.blockHash]==null||oe.blockTag!=null&&ne>this._emitted.block?null:void 0;if(re){let se=null;for(let he=0;he<ie.transactions.length;he++){const ge=ie.transactions[he];if(ge.blockNumber==null)ge.confirmations=0;else if(ge.confirmations==null){se==null&&(se=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let be=se-ge.blockNumber+1;be<=0&&(be=1),ge.confirmations=be}}const ue=this.formatter.blockWithTransactions(ie);return ue.transactions=ue.transactions.map(he=>this._wrapTransaction(he)),ue}return this.formatter.block(ie)}),{oncePoll:this})})}getBlock(ee){return this._getBlock(ee,!1)}getBlockWithTransactions(ee){return this._getBlock(ee,!0)}getTransaction(ee){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork(),ee=yield ee;const re={transactionHash:this.formatter.hash(ee,!0)};return poll(()=>__awaiter$2(this,void 0,void 0,function*(){const ne=yield this.perform("getTransaction",re);if(ne==null)return this._emitted["t:"+ee]==null?null:void 0;const oe=this.formatter.transactionResponse(ne);if(oe.blockNumber==null)oe.confirmations=0;else if(oe.confirmations==null){let se=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-oe.blockNumber+1;se<=0&&(se=1),oe.confirmations=se}return this._wrapTransaction(oe)}),{oncePoll:this})})}getTransactionReceipt(ee){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork(),ee=yield ee;const re={transactionHash:this.formatter.hash(ee,!0)};return poll(()=>__awaiter$2(this,void 0,void 0,function*(){const ne=yield this.perform("getTransactionReceipt",re);if(ne==null)return this._emitted["t:"+ee]==null?null:void 0;if(ne.blockHash==null)return;const oe=this.formatter.receipt(ne);if(oe.blockNumber==null)oe.confirmations=0;else if(oe.confirmations==null){let se=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-oe.blockNumber+1;se<=0&&(se=1),oe.confirmations=se}return oe}),{oncePoll:this})})}getLogs(ee){return __awaiter$2(this,void 0,void 0,function*(){yield this.getNetwork();const re=yield resolveProperties({filter:this._getFilter(ee)}),ne=yield this.perform("getLogs",re);return ne.forEach(oe=>{oe.removed==null&&(oe.removed=!1)}),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(ne)})}getEtherPrice(){return __awaiter$2(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(ee){return __awaiter$2(this,void 0,void 0,function*(){if(ee=yield ee,typeof ee=="number"&&ee<0){ee%1&&logger$4.throwArgumentError("invalid BlockTag","blockTag",ee);let re=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return re+=ee,re<0&&(re=0),this.formatter.blockTag(re)}return this.formatter.blockTag(ee)})}getResolver(ee){return __awaiter$2(this,void 0,void 0,function*(){let re=ee;for(;;){if(re===""||re==="."||ee!=="eth"&&re==="eth")return null;const ne=yield this._getResolver(re,"getResolver");if(ne!=null){const oe=new Resolver(this,ne,ee);return re!==ee&&!(yield oe.supportsWildcard())?null:oe}re=re.split(".").slice(1).join(".")}})}_getResolver(ee,re){return __awaiter$2(this,void 0,void 0,function*(){re==null&&(re="ENS");const ne=yield this.getNetwork();ne.ensAddress||logger$4.throwError("network does not support ENS",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:re,network:ne.name});try{const oe=yield this.call({to:ne.ensAddress,data:"0x0178b8bf"+namehash(ee).substring(2)});return this.formatter.callAddress(oe)}catch{}return null})}resolveName(ee){return __awaiter$2(this,void 0,void 0,function*(){ee=yield ee;try{return Promise.resolve(this.formatter.address(ee))}catch(ne){if(isHexString$4(ee))throw ne}typeof ee!="string"&&logger$4.throwArgumentError("invalid ENS name","name",ee);const re=yield this.getResolver(ee);return re?yield re.getAddress():null})}lookupAddress(ee){return __awaiter$2(this,void 0,void 0,function*(){ee=yield ee,ee=this.formatter.address(ee);const re=ee.substring(2).toLowerCase()+".addr.reverse",ne=yield this._getResolver(re,"lookupAddress");if(ne==null)return null;const oe=_parseString(yield this.call({to:ne,data:"0x691f3431"+namehash(re).substring(2)}),0);return(yield this.resolveName(oe))!=ee?null:oe})}getAvatar(ee){return __awaiter$2(this,void 0,void 0,function*(){let re=null;if(isHexString$4(ee)){const ie=this.formatter.address(ee).substring(2).toLowerCase()+".addr.reverse",se=yield this._getResolver(ie,"getAvatar");if(!se)return null;re=new Resolver(this,se,ie);try{const ue=yield re.getAvatar();if(ue)return ue.url}catch(ue){if(ue.code!==Logger$2.errors.CALL_EXCEPTION)throw ue}try{const ue=_parseString(yield this.call({to:se,data:"0x691f3431"+namehash(ie).substring(2)}),0);re=yield this.getResolver(ue)}catch(ue){if(ue.code!==Logger$2.errors.CALL_EXCEPTION)throw ue;return null}}else if(re=yield this.getResolver(ee),!re)return null;const ne=yield re.getAvatar();return ne==null?null:ne.url})}perform(ee,re){return logger$4.throwError(ee+" not implemented",Logger$2.errors.NOT_IMPLEMENTED,{operation:ee})}_startEvent(ee){this.polling=this._events.filter(re=>re.pollable()).length>0}_stopEvent(ee){this.polling=this._events.filter(re=>re.pollable()).length>0}_addEventListener(ee,re,ne){const oe=new Event(getEventTag(ee),re,ne);return this._events.push(oe),this._startEvent(oe),this}on(ee,re){return this._addEventListener(ee,re,!1)}once(ee,re){return this._addEventListener(ee,re,!0)}emit(ee,...re){let ne=!1,oe=[],ie=getEventTag(ee);return this._events=this._events.filter(se=>se.tag!==ie?!0:(setTimeout(()=>{se.listener.apply(this,re)},0),ne=!0,se.once?(oe.push(se),!1):!0)),oe.forEach(se=>{this._stopEvent(se)}),ne}listenerCount(ee){if(!ee)return this._events.length;let re=getEventTag(ee);return this._events.filter(ne=>ne.tag===re).length}listeners(ee){if(ee==null)return this._events.map(ne=>ne.listener);let re=getEventTag(ee);return this._events.filter(ne=>ne.tag===re).map(ne=>ne.listener)}off(ee,re){if(re==null)return this.removeAllListeners(ee);const ne=[];let oe=!1,ie=getEventTag(ee);return this._events=this._events.filter(se=>se.tag!==ie||se.listener!=re||oe?!0:(oe=!0,ne.push(se),!1)),ne.forEach(se=>{this._stopEvent(se)}),this}removeAllListeners(ee){let re=[];if(ee==null)re=this._events,this._events=[];else{const ne=getEventTag(ee);this._events=this._events.filter(oe=>oe.tag!==ne?!0:(re.push(oe),!1))}return re.forEach(ne=>{this._stopEvent(ne)}),this}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(te,ee,re,ne){function oe(ie){return ie instanceof re?ie:new re(function(se){se(ie)})}return new(re||(re=Promise))(function(ie,se){function ue(be){try{ge(ne.next(be))}catch(Se){se(Se)}}function he(be){try{ge(ne.throw(be))}catch(Se){se(Se)}}function ge(be){be.done?ie(be.value):oe(be.value).then(ue,he)}ge((ne=ne.apply(te,ee||[])).next())})};const logger$3=new Logger$2(version$8),errorGas=["call","estimateGas"];function spelunk(te,ee){if(te==null)return null;if(typeof te.message=="string"&&te.message.match("reverted")){const re=isHexString$4(te.data)?te.data:null;if(!ee||re)return{message:te.message,data:re}}if(typeof te=="object"){for(const re in te){const ne=spelunk(te[re],ee);if(ne)return ne}return null}if(typeof te=="string")try{return spelunk(JSON.parse(te),ee)}catch{}return null}function checkError(te,ee,re){const ne=re.transaction||re.signedTransaction;if(te==="call"){const ie=spelunk(ee,!0);if(ie)return ie.data;logger$3.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger$2.errors.CALL_EXCEPTION,{data:"0x",transaction:ne,error:ee})}if(te==="estimateGas"){let ie=spelunk(ee.body,!1);ie==null&&(ie=spelunk(ee,!1)),ie&&logger$3.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$2.errors.UNPREDICTABLE_GAS_LIMIT,{reason:ie.message,method:te,transaction:ne,error:ee})}let oe=ee.message;throw ee.code===Logger$2.errors.SERVER_ERROR&&ee.error&&typeof ee.error.message=="string"?oe=ee.error.message:typeof ee.body=="string"?oe=ee.body:typeof ee.responseText=="string"&&(oe=ee.responseText),oe=(oe||"").toLowerCase(),oe.match(/insufficient funds|base fee exceeds gas limit/i)&&logger$3.throwError("insufficient funds for intrinsic transaction cost",Logger$2.errors.INSUFFICIENT_FUNDS,{error:ee,method:te,transaction:ne}),oe.match(/nonce (is )?too low/i)&&logger$3.throwError("nonce has already been used",Logger$2.errors.NONCE_EXPIRED,{error:ee,method:te,transaction:ne}),oe.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger$3.throwError("replacement fee too low",Logger$2.errors.REPLACEMENT_UNDERPRICED,{error:ee,method:te,transaction:ne}),oe.match(/only replay-protected/i)&&logger$3.throwError("legacy pre-eip-155 transactions not supported",Logger$2.errors.UNSUPPORTED_OPERATION,{error:ee,method:te,transaction:ne}),errorGas.indexOf(te)>=0&&oe.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&logger$3.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$2.errors.UNPREDICTABLE_GAS_LIMIT,{error:ee,method:te,transaction:ne}),ee}function timer(te){return new Promise(function(ee){setTimeout(ee,te)})}function getResult(te){if(te.error){const ee=new Error(te.error.message);throw ee.code=te.error.code,ee.data=te.error.data,ee}return te.result}function getLowerCase(te){return te&&te.toLowerCase()}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(ee,re,ne){if(super(),ee!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly(this,"provider",re),ne==null&&(ne=0),typeof ne=="string"?(defineReadOnly(this,"_address",this.provider.formatter.address(ne)),defineReadOnly(this,"_index",null)):typeof ne=="number"?(defineReadOnly(this,"_index",ne),defineReadOnly(this,"_address",null)):logger$3.throwArgumentError("invalid address or index","addressOrIndex",ne)}connect(ee){return logger$3.throwError("cannot alter JSON-RPC Signer connection",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(ee=>(ee.length<=this._index&&logger$3.throwError("unknown account #"+this._index,Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(ee[this._index])))}sendUncheckedTransaction(ee){ee=shallowCopy(ee);const re=this.getAddress().then(ne=>(ne&&(ne=ne.toLowerCase()),ne));if(ee.gasLimit==null){const ne=shallowCopy(ee);ne.from=re,ee.gasLimit=this.provider.estimateGas(ne)}return ee.to!=null&&(ee.to=Promise.resolve(ee.to).then(ne=>__awaiter$1(this,void 0,void 0,function*(){if(ne==null)return null;const oe=yield this.provider.resolveName(ne);return oe==null&&logger$3.throwArgumentError("provided ENS name resolves to null","tx.to",ne),oe}))),resolveProperties({tx:resolveProperties(ee),sender:re}).then(({tx:ne,sender:oe})=>{ne.from!=null?ne.from.toLowerCase()!==oe&&logger$3.throwArgumentError("from address mismatch","transaction",ee):ne.from=oe;const ie=this.provider.constructor.hexlifyTransaction(ne,{from:!0});return this.provider.send("eth_sendTransaction",[ie]).then(se=>se,se=>checkError("sendTransaction",se,ie))})}signTransaction(ee){return logger$3.throwError("signing transactions is unsupported",Logger$2.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(ee){return __awaiter$1(this,void 0,void 0,function*(){const re=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),ne=yield this.sendUncheckedTransaction(ee);try{return yield poll(()=>__awaiter$1(this,void 0,void 0,function*(){const oe=yield this.provider.getTransaction(ne);if(oe!==null)return this.provider._wrapTransaction(oe,ne,re)}),{oncePoll:this.provider})}catch(oe){throw oe.transactionHash=ne,oe}})}signMessage(ee){return __awaiter$1(this,void 0,void 0,function*(){const re=typeof ee=="string"?toUtf8Bytes(ee):ee,ne=yield this.getAddress();return yield this.provider.send("personal_sign",[hexlify(re),ne.toLowerCase()])})}_legacySignMessage(ee){return __awaiter$1(this,void 0,void 0,function*(){const re=typeof ee=="string"?toUtf8Bytes(ee):ee,ne=yield this.getAddress();return yield this.provider.send("eth_sign",[ne.toLowerCase(),hexlify(re)])})}_signTypedData(ee,re,ne){return __awaiter$1(this,void 0,void 0,function*(){const oe=yield TypedDataEncoder.resolveNames(ee,re,ne,se=>this.provider.resolveName(se)),ie=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[ie.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(oe.domain,re,oe.value))])})}unlock(ee){return __awaiter$1(this,void 0,void 0,function*(){const re=this.provider,ne=yield this.getAddress();return re.send("personal_unlockAccount",[ne.toLowerCase(),ee,null])})}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(ee){return this.sendUncheckedTransaction(ee).then(re=>({hash:re,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:ne=>this.provider.waitForTransaction(re,ne)}))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider extends BaseProvider{constructor(ee,re){let ne=re;ne==null&&(ne=new Promise((oe,ie)=>{setTimeout(()=>{this.detectNetwork().then(se=>{oe(se)},se=>{ie(se)})},0)})),super(ne),ee||(ee=getStatic(this.constructor,"defaultUrl")()),typeof ee=="string"?defineReadOnly(this,"connection",Object.freeze({url:ee})):defineReadOnly(this,"connection",Object.freeze(shallowCopy(ee))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter$1(this,void 0,void 0,function*(){yield timer(0);let ee=null;try{ee=yield this.send("eth_chainId",[])}catch{try{ee=yield this.send("net_version",[])}catch{}}if(ee!=null){const re=getStatic(this.constructor,"getNetwork");try{return re(BigNumber.from(ee).toNumber())}catch(ne){return logger$3.throwError("could not detect network",Logger$2.errors.NETWORK_ERROR,{chainId:ee,event:"invalidNetwork",serverError:ne})}}return logger$3.throwError("could not detect network",Logger$2.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(ee){return new JsonRpcSigner(_constructorGuard,this,ee)}getUncheckedSigner(ee){return this.getSigner(ee).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(ee=>ee.map(re=>this.formatter.address(re)))}send(ee,re){const ne={method:ee,params:re,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(ne),provider:this});const oe=["eth_chainId","eth_blockNumber"].indexOf(ee)>=0;if(oe&&this._cache[ee])return this._cache[ee];const ie=fetchJson(this.connection,JSON.stringify(ne),getResult).then(se=>(this.emit("debug",{action:"response",request:ne,response:se,provider:this}),se),se=>{throw this.emit("debug",{action:"response",error:se,request:ne,provider:this}),se});return oe&&(this._cache[ee]=ie,setTimeout(()=>{this._cache[ee]=null},0)),ie}prepareRequest(ee,re){switch(ee){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(re.address),re.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(re.address),re.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(re.address),re.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(re.address),re.position,re.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[re.signedTransaction]];case"getBlock":return re.blockTag?["eth_getBlockByNumber",[re.blockTag,!!re.includeTransactions]]:re.blockHash?["eth_getBlockByHash",[re.blockHash,!!re.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[re.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[re.transactionHash]];case"call":{const ne=getStatic(this.constructor,"hexlifyTransaction");return["eth_call",[ne(re.transaction,{from:!0}),re.blockTag]]}case"estimateGas":{const ne=getStatic(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[ne(re.transaction,{from:!0})]]}case"getLogs":return re.filter&&re.filter.address!=null&&(re.filter.address=getLowerCase(re.filter.address)),["eth_getLogs",[re.filter]]}return null}perform(ee,re){return __awaiter$1(this,void 0,void 0,function*(){if(ee==="call"||ee==="estimateGas"){const oe=re.transaction;if(oe&&oe.type!=null&&BigNumber.from(oe.type).isZero()&&oe.maxFeePerGas==null&&oe.maxPriorityFeePerGas==null){const ie=yield this.getFeeData();ie.maxFeePerGas==null&&ie.maxPriorityFeePerGas==null&&(re=shallowCopy(re),re.transaction=shallowCopy(oe),delete re.transaction.type)}}const ne=this.prepareRequest(ee,re);ne==null&&logger$3.throwError(ee+" not implemented",Logger$2.errors.NOT_IMPLEMENTED,{operation:ee});try{return yield this.send(ne[0],ne[1])}catch(oe){return checkError(ee,oe,re)}})}_startEvent(ee){ee.tag==="pending"&&this._startPending(),super._startEvent(ee)}_startPending(){if(this._pendingFilter!=null)return;const ee=this,re=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=re,re.then(function(ne){function oe(){ee.send("eth_getFilterChanges",[ne]).then(function(ie){if(ee._pendingFilter!=re)return null;let se=Promise.resolve();return ie.forEach(function(ue){ee._emitted["t:"+ue.toLowerCase()]="pending",se=se.then(function(){return ee.getTransaction(ue).then(function(he){return ee.emit("pending",he),null})})}),se.then(function(){return timer(1e3)})}).then(function(){if(ee._pendingFilter!=re){ee.send("eth_uninstallFilter",[ne]);return}return setTimeout(function(){oe()},0),null}).catch(ie=>{})}return oe(),ne}).catch(ne=>{})}_stopEvent(ee){ee.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(ee)}static hexlifyTransaction(ee,re){const ne=shallowCopy(allowedTransactionKeys);if(re)for(const ie in re)re[ie]&&(ne[ie]=!0);checkProperties(ee,ne);const oe={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(ie){if(ee[ie]==null)return;const se=hexValue(BigNumber.from(ee[ie]));ie==="gasLimit"&&(ie="gas"),oe[ie]=se}),["from","to","data"].forEach(function(ie){ee[ie]!=null&&(oe[ie]=hexlify(ee[ie]))}),ee.accessList&&(oe.accessList=accessListify(ee.accessList)),oe}}const logger$2=new Logger$2(version$8);let _nextId=1;function buildWeb3LegacyFetcher(te,ee){const re="Web3LegacyFetcher";return function(ne,oe){const ie={method:ne,params:oe,id:_nextId++,jsonrpc:"2.0"};return new Promise((se,ue)=>{this.emit("debug",{action:"request",fetcher:re,request:deepCopy(ie),provider:this}),ee(ie,(he,ge)=>{if(he)return this.emit("debug",{action:"response",fetcher:re,error:he,request:ie,provider:this}),ue(he);if(this.emit("debug",{action:"response",fetcher:re,request:ie,response:ge,provider:this}),ge.error){const be=new Error(ge.error.message);return be.code=ge.error.code,be.data=ge.error.data,ue(be)}se(ge.result)})})}}function buildEip1193Fetcher(te){return function(ee,re){re==null&&(re=[]);const ne={method:ee,params:re};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(ne),provider:this}),te.request(ne).then(oe=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:ne,response:oe,provider:this}),oe),oe=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:ne,error:oe,provider:this}),oe})}}class Web3Provider extends JsonRpcProvider{constructor(ee,re){ee==null&&logger$2.throwArgumentError("missing provider","provider",ee);let ne=null,oe=null,ie=null;typeof ee=="function"?(ne="unknown:",oe=ee):(ne=ee.host||ee.path||"",!ne&&ee.isMetaMask&&(ne="metamask"),ie=ee,ee.request?(ne===""&&(ne="eip-1193:"),oe=buildEip1193Fetcher(ee)):ee.sendAsync?oe=buildWeb3LegacyFetcher(ee,ee.sendAsync.bind(ee)):ee.send?oe=buildWeb3LegacyFetcher(ee,ee.send.bind(ee)):logger$2.throwArgumentError("unsupported provider","provider",ee),ne||(ne="unknown:")),super(ne,re),defineReadOnly(this,"jsonRpcFetchFunc",oe),defineReadOnly(this,"provider",ie)}send(ee,re){return this.jsonRpcFetchFunc(ee,re)}}const version$7="units/5.6.0",logger$1=new Logger$2(version$7),names$1=["wei","kwei","mwei","gwei","szabo","finney","ether"];function formatUnits(te,ee){if(typeof ee=="string"){const re=names$1.indexOf(ee);re!==-1&&(ee=3*re)}return formatFixed(te,ee!=null?ee:18)}function parseUnits(te,ee){if(typeof te!="string"&&logger$1.throwArgumentError("value must be a string","value",te),typeof ee=="string"){const re=names$1.indexOf(ee);re!==-1&&(ee=3*re)}return parseFixed(te,ee!=null?ee:18)}const version$6="ethers/5.6.6";new Logger$2(version$6);const useSelectStore=defineStore("select",{state:()=>({options:[{label:"Solana",img:"solana"},{label:"Binance Smart Chain",img:"binance"},{label:"Ethereum",img:"ethereum"}],from:{label:"Binance Smart Chain",img:"binance"},to:{label:"Solana",img:"solana"}}),getters:{getOptions(te){return te.options},getFrom(te){return te.from},getTo(te){return te.to}},actions:{async fromHandler({value:te,img:ee}){const re=useStore();(this.from.label!=="Solana"&&te==="Solana"||this.from.label==="Solana"&&te!=="Solana")&&(re.walletAddressTo=null),this.from.label=te,this.from.img=ee,this.validateSelect(this.from,this.to),te==="Ethereum"?re.ethereum=!0:re.ethereum=!1,te==="Solana"||(re.BeProvider!=null||re.solana!=null)&&(await re.connectHandler(re.ethereum),re.ethereum?(this.from.label="Ethereum",this.from.img="ethereum"):(this.from.label="Binance Smart Chain",this.from.img="binance")),this.from.label=="Solana"&&re.oldLock.sol.isOldLock?(re.inputAmount=re.oldLock.sol.amount,console.log(re.oldLock.sol.address),re.walletAddressTo=re.oldLock.sol.address):this.from.label=="Ethereum"&&re.oldLock.eth.isOldLock?(re.inputAmount=re.oldLock.eth.amount.div(BigNumber.from(10).pow(12)),re.walletAddressTo=re.oldLock.eth.address):this.from.label=="Binance Smart Chain"&&re.oldLock.bsc.isOldLock?(re.inputAmount=re.oldLock.bsc.amount.div(BigNumber.from(10).pow(12)),re.walletAddressTo=re.oldLock.bsc.address):re.walletAddressTo=""},async toHandler({value:te,img:ee}){const re=useStore();(this.to.label!=="Solana"&&te==="Solana"||this.to.label==="Solana"&&te!=="Solana")&&(re.walletAddressTo=null),this.to.label=te,this.to.img=ee,this.validateSelect(this.to,this.from),te==="Ethereum"&&this.from.label==="Solana"?re.ethereum=!0:re.ethereum=!1,this.from.label!=="Solana"&&await re.connectHandler(re.ethereum),re.isError&&re.ethereum&&(this.from.label="Solana",this.from.img="solana",this.to.label="Ethereum",this.to.img="ethereum")},validateSelect(te,ee){te.label==="Binance Smart Chain"||te.label==="Ethereum"?(ee.label="Solana",ee.img="solana"):te.label==="Solana"?(ee.label="Binance Smart Chain",ee.img="binance"):ee.label==="Binance Smart Chain"||ee.label==="Ethereum"?te.label:ee.label==="Solana"&&(te.label="Binance Smart Chain",te.img="binance")}}}),BSC_RPC$1="https://speedy-nodes-nyc.moralis.io/0791e0f5e3d84ce8fa3a0855/bsc/testnet",ETH_RPC$1="https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161",mintAddress="8xqCQ9cjhzvy7kz83WvGzjfdKT7Zemcr8ivMGgXA4rGv",bridgeTokenAddress="6FGPT2gyhiha2dBEXiS1TTYbWhpXenv5g2RR2UAC3gNe",programId="A4JjHbnMWXcR3qkPbZfrcE2Mf7ntYkRx37iMeUp4sjRp",address$3="0x21D301B4A86d5063e704aED7e8Fe6b4012a792Ad",abi$3=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"uint8",name:"_decimals",type:"uint8"},{internalType:"uint256",name:"_totalSupply",type:"uint256"},{internalType:"address",name:"_owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],address$2="0x4a26f1f5CF00C07b02b1b828Aa8D0511121e963E",abi$2=[{inputs:[{internalType:"contract IERC20",name:"_erc20",type:"address"},{internalType:"address",name:"_feeAddress",type:"address"},{internalType:"address",name:"_mainBackend",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"fee",type:"uint256"}],name:"Dispense",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"string",name:"target",type:"string"}],name:"Upload",type:"event"},{inputs:[{internalType:"address[]",name:"_backend",type:"address[]"}],name:"addBackend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeAddress",type:"address"}],name:"changeFeeAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"checkUserLock",outputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"targetAddr",type:"string"}],internalType:"struct BridgeAssist.Lock",name:"userLock",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"clearLock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_fee",type:"uint256"}],name:"dispense",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc20",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isBackend",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"mainBackend",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_backend",type:"address[]"}],name:"removeBackend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"string",name:"_target",type:"string"}],name:"upload",outputs:[],stateMutability:"nonpayable",type:"function"}],address$1="0xe85b6c5C0A1AD8620955c110CF4cfFfb89Bc6f40",abi$1=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"uint8",name:"_decimals",type:"uint8"},{internalType:"uint256",name:"_totalSupply",type:"uint256"},{internalType:"address",name:"_owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],address="0x3a9B074BAB48c74E3dFf43FF6e5b55b6B6D2dF05",abi=[{inputs:[{internalType:"contract IERC20",name:"_erc20",type:"address"},{internalType:"address",name:"_feeAddress",type:"address"},{internalType:"address",name:"_mainBackend",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"fee",type:"uint256"}],name:"Dispense",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"string",name:"target",type:"string"}],name:"Upload",type:"event"},{inputs:[{internalType:"address[]",name:"_backend",type:"address[]"}],name:"addBackend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeAddress",type:"address"}],name:"changeFeeAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"checkUserLock",outputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"targetAddr",type:"string"}],internalType:"struct BridgeAssist.Lock",name:"userLock",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"clearLock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_fee",type:"uint256"}],name:"dispense",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc20",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isBackend",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"mainBackend",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_backend",type:"address[]"}],name:"removeBackend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"string",name:"_target",type:"string"}],name:"upload",outputs:[],stateMutability:"nonpayable",type:"function"}],bscProvider=new JsonRpcProvider(BSC_RPC$1),bscTokenContract=new Contract(address$3,abi$3,bscProvider),bscBridgeContract=new Contract(address$2,abi$2,bscProvider),ethProvider=new JsonRpcProvider(ETH_RPC$1),ethTokenContract=new Contract(address$1,abi$1,ethProvider),ethBridgeContract=new Contract(address,abi,ethProvider),getEthTokenSigner=te=>new Contract(address$1,abi$1,te),getEthBridgeSigner=te=>new Contract(address,abi,te),getBscTokenSigner=te=>new Contract(address$3,abi$3,te),getBscBridgeSigner=te=>new Contract(address$2,abi$2,te);var naclFast={exports:{}},assert$k={},__viteBrowserExternal=Object.freeze(Object.defineProperty({__proto__:null,default:assert$k},Symbol.toStringTag,{value:"Module"})),require$$3$1=getAugmentedNamespace(__viteBrowserExternal);(function(te){(function(ee){var re=function(Ye){var rt,it=new Float64Array(16);if(Ye)for(rt=0;rt<Ye.length;rt++)it[rt]=Ye[rt];return it},ne=function(){throw new Error("no PRNG")},oe=new Uint8Array(16),ie=new Uint8Array(32);ie[0]=9;var se=re(),ue=re([1]),he=re([56129,1]),ge=re([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),be=re([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Se=re([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Te=re([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ke=re([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Re(Ye,rt,it,Fe){Ye[rt]=it>>24&255,Ye[rt+1]=it>>16&255,Ye[rt+2]=it>>8&255,Ye[rt+3]=it&255,Ye[rt+4]=Fe>>24&255,Ye[rt+5]=Fe>>16&255,Ye[rt+6]=Fe>>8&255,Ye[rt+7]=Fe&255}function Ce(Ye,rt,it,Fe,ot){var wt,Pt=0;for(wt=0;wt<ot;wt++)Pt|=Ye[rt+wt]^it[Fe+wt];return(1&Pt-1>>>8)-1}function Pe(Ye,rt,it,Fe){return Ce(Ye,rt,it,Fe,16)}function Ie(Ye,rt,it,Fe){return Ce(Ye,rt,it,Fe,32)}function Ne(Ye,rt,it,Fe){for(var ot=Fe[0]&255|(Fe[1]&255)<<8|(Fe[2]&255)<<16|(Fe[3]&255)<<24,wt=it[0]&255|(it[1]&255)<<8|(it[2]&255)<<16|(it[3]&255)<<24,Pt=it[4]&255|(it[5]&255)<<8|(it[6]&255)<<16|(it[7]&255)<<24,Et=it[8]&255|(it[9]&255)<<8|(it[10]&255)<<16|(it[11]&255)<<24,Ct=it[12]&255|(it[13]&255)<<8|(it[14]&255)<<16|(it[15]&255)<<24,or=Fe[4]&255|(Fe[5]&255)<<8|(Fe[6]&255)<<16|(Fe[7]&255)<<24,Yt=rt[0]&255|(rt[1]&255)<<8|(rt[2]&255)<<16|(rt[3]&255)<<24,Rr=rt[4]&255|(rt[5]&255)<<8|(rt[6]&255)<<16|(rt[7]&255)<<24,cr=rt[8]&255|(rt[9]&255)<<8|(rt[10]&255)<<16|(rt[11]&255)<<24,wr=rt[12]&255|(rt[13]&255)<<8|(rt[14]&255)<<16|(rt[15]&255)<<24,xr=Fe[8]&255|(Fe[9]&255)<<8|(Fe[10]&255)<<16|(Fe[11]&255)<<24,Er=it[16]&255|(it[17]&255)<<8|(it[18]&255)<<16|(it[19]&255)<<24,Mr=it[20]&255|(it[21]&255)<<8|(it[22]&255)<<16|(it[23]&255)<<24,Sr=it[24]&255|(it[25]&255)<<8|(it[26]&255)<<16|(it[27]&255)<<24,Ar=it[28]&255|(it[29]&255)<<8|(it[30]&255)<<16|(it[31]&255)<<24,Tr=Fe[12]&255|(Fe[13]&255)<<8|(Fe[14]&255)<<16|(Fe[15]&255)<<24,pr=ot,_r=wt,lr=Pt,gr=Et,mr=Ct,dr=or,Ut=Yt,Dt=Rr,ur=cr,nr=wr,ar=xr,yr=Er,Or=Mr,Ur=Sr,Dr=Ar,Fr=Tr,kt,Wr=0;Wr<20;Wr+=2)kt=pr+Or|0,mr^=kt<<7|kt>>>32-7,kt=mr+pr|0,ur^=kt<<9|kt>>>32-9,kt=ur+mr|0,Or^=kt<<13|kt>>>32-13,kt=Or+ur|0,pr^=kt<<18|kt>>>32-18,kt=dr+_r|0,nr^=kt<<7|kt>>>32-7,kt=nr+dr|0,Ur^=kt<<9|kt>>>32-9,kt=Ur+nr|0,_r^=kt<<13|kt>>>32-13,kt=_r+Ur|0,dr^=kt<<18|kt>>>32-18,kt=ar+Ut|0,Dr^=kt<<7|kt>>>32-7,kt=Dr+ar|0,lr^=kt<<9|kt>>>32-9,kt=lr+Dr|0,Ut^=kt<<13|kt>>>32-13,kt=Ut+lr|0,ar^=kt<<18|kt>>>32-18,kt=Fr+yr|0,gr^=kt<<7|kt>>>32-7,kt=gr+Fr|0,Dt^=kt<<9|kt>>>32-9,kt=Dt+gr|0,yr^=kt<<13|kt>>>32-13,kt=yr+Dt|0,Fr^=kt<<18|kt>>>32-18,kt=pr+gr|0,_r^=kt<<7|kt>>>32-7,kt=_r+pr|0,lr^=kt<<9|kt>>>32-9,kt=lr+_r|0,gr^=kt<<13|kt>>>32-13,kt=gr+lr|0,pr^=kt<<18|kt>>>32-18,kt=dr+mr|0,Ut^=kt<<7|kt>>>32-7,kt=Ut+dr|0,Dt^=kt<<9|kt>>>32-9,kt=Dt+Ut|0,mr^=kt<<13|kt>>>32-13,kt=mr+Dt|0,dr^=kt<<18|kt>>>32-18,kt=ar+nr|0,yr^=kt<<7|kt>>>32-7,kt=yr+ar|0,ur^=kt<<9|kt>>>32-9,kt=ur+yr|0,nr^=kt<<13|kt>>>32-13,kt=nr+ur|0,ar^=kt<<18|kt>>>32-18,kt=Fr+Dr|0,Or^=kt<<7|kt>>>32-7,kt=Or+Fr|0,Ur^=kt<<9|kt>>>32-9,kt=Ur+Or|0,Dr^=kt<<13|kt>>>32-13,kt=Dr+Ur|0,Fr^=kt<<18|kt>>>32-18;pr=pr+ot|0,_r=_r+wt|0,lr=lr+Pt|0,gr=gr+Et|0,mr=mr+Ct|0,dr=dr+or|0,Ut=Ut+Yt|0,Dt=Dt+Rr|0,ur=ur+cr|0,nr=nr+wr|0,ar=ar+xr|0,yr=yr+Er|0,Or=Or+Mr|0,Ur=Ur+Sr|0,Dr=Dr+Ar|0,Fr=Fr+Tr|0,Ye[0]=pr>>>0&255,Ye[1]=pr>>>8&255,Ye[2]=pr>>>16&255,Ye[3]=pr>>>24&255,Ye[4]=_r>>>0&255,Ye[5]=_r>>>8&255,Ye[6]=_r>>>16&255,Ye[7]=_r>>>24&255,Ye[8]=lr>>>0&255,Ye[9]=lr>>>8&255,Ye[10]=lr>>>16&255,Ye[11]=lr>>>24&255,Ye[12]=gr>>>0&255,Ye[13]=gr>>>8&255,Ye[14]=gr>>>16&255,Ye[15]=gr>>>24&255,Ye[16]=mr>>>0&255,Ye[17]=mr>>>8&255,Ye[18]=mr>>>16&255,Ye[19]=mr>>>24&255,Ye[20]=dr>>>0&255,Ye[21]=dr>>>8&255,Ye[22]=dr>>>16&255,Ye[23]=dr>>>24&255,Ye[24]=Ut>>>0&255,Ye[25]=Ut>>>8&255,Ye[26]=Ut>>>16&255,Ye[27]=Ut>>>24&255,Ye[28]=Dt>>>0&255,Ye[29]=Dt>>>8&255,Ye[30]=Dt>>>16&255,Ye[31]=Dt>>>24&255,Ye[32]=ur>>>0&255,Ye[33]=ur>>>8&255,Ye[34]=ur>>>16&255,Ye[35]=ur>>>24&255,Ye[36]=nr>>>0&255,Ye[37]=nr>>>8&255,Ye[38]=nr>>>16&255,Ye[39]=nr>>>24&255,Ye[40]=ar>>>0&255,Ye[41]=ar>>>8&255,Ye[42]=ar>>>16&255,Ye[43]=ar>>>24&255,Ye[44]=yr>>>0&255,Ye[45]=yr>>>8&255,Ye[46]=yr>>>16&255,Ye[47]=yr>>>24&255,Ye[48]=Or>>>0&255,Ye[49]=Or>>>8&255,Ye[50]=Or>>>16&255,Ye[51]=Or>>>24&255,Ye[52]=Ur>>>0&255,Ye[53]=Ur>>>8&255,Ye[54]=Ur>>>16&255,Ye[55]=Ur>>>24&255,Ye[56]=Dr>>>0&255,Ye[57]=Dr>>>8&255,Ye[58]=Dr>>>16&255,Ye[59]=Dr>>>24&255,Ye[60]=Fr>>>0&255,Ye[61]=Fr>>>8&255,Ye[62]=Fr>>>16&255,Ye[63]=Fr>>>24&255}function He(Ye,rt,it,Fe){for(var ot=Fe[0]&255|(Fe[1]&255)<<8|(Fe[2]&255)<<16|(Fe[3]&255)<<24,wt=it[0]&255|(it[1]&255)<<8|(it[2]&255)<<16|(it[3]&255)<<24,Pt=it[4]&255|(it[5]&255)<<8|(it[6]&255)<<16|(it[7]&255)<<24,Et=it[8]&255|(it[9]&255)<<8|(it[10]&255)<<16|(it[11]&255)<<24,Ct=it[12]&255|(it[13]&255)<<8|(it[14]&255)<<16|(it[15]&255)<<24,or=Fe[4]&255|(Fe[5]&255)<<8|(Fe[6]&255)<<16|(Fe[7]&255)<<24,Yt=rt[0]&255|(rt[1]&255)<<8|(rt[2]&255)<<16|(rt[3]&255)<<24,Rr=rt[4]&255|(rt[5]&255)<<8|(rt[6]&255)<<16|(rt[7]&255)<<24,cr=rt[8]&255|(rt[9]&255)<<8|(rt[10]&255)<<16|(rt[11]&255)<<24,wr=rt[12]&255|(rt[13]&255)<<8|(rt[14]&255)<<16|(rt[15]&255)<<24,xr=Fe[8]&255|(Fe[9]&255)<<8|(Fe[10]&255)<<16|(Fe[11]&255)<<24,Er=it[16]&255|(it[17]&255)<<8|(it[18]&255)<<16|(it[19]&255)<<24,Mr=it[20]&255|(it[21]&255)<<8|(it[22]&255)<<16|(it[23]&255)<<24,Sr=it[24]&255|(it[25]&255)<<8|(it[26]&255)<<16|(it[27]&255)<<24,Ar=it[28]&255|(it[29]&255)<<8|(it[30]&255)<<16|(it[31]&255)<<24,Tr=Fe[12]&255|(Fe[13]&255)<<8|(Fe[14]&255)<<16|(Fe[15]&255)<<24,pr=ot,_r=wt,lr=Pt,gr=Et,mr=Ct,dr=or,Ut=Yt,Dt=Rr,ur=cr,nr=wr,ar=xr,yr=Er,Or=Mr,Ur=Sr,Dr=Ar,Fr=Tr,kt,Wr=0;Wr<20;Wr+=2)kt=pr+Or|0,mr^=kt<<7|kt>>>32-7,kt=mr+pr|0,ur^=kt<<9|kt>>>32-9,kt=ur+mr|0,Or^=kt<<13|kt>>>32-13,kt=Or+ur|0,pr^=kt<<18|kt>>>32-18,kt=dr+_r|0,nr^=kt<<7|kt>>>32-7,kt=nr+dr|0,Ur^=kt<<9|kt>>>32-9,kt=Ur+nr|0,_r^=kt<<13|kt>>>32-13,kt=_r+Ur|0,dr^=kt<<18|kt>>>32-18,kt=ar+Ut|0,Dr^=kt<<7|kt>>>32-7,kt=Dr+ar|0,lr^=kt<<9|kt>>>32-9,kt=lr+Dr|0,Ut^=kt<<13|kt>>>32-13,kt=Ut+lr|0,ar^=kt<<18|kt>>>32-18,kt=Fr+yr|0,gr^=kt<<7|kt>>>32-7,kt=gr+Fr|0,Dt^=kt<<9|kt>>>32-9,kt=Dt+gr|0,yr^=kt<<13|kt>>>32-13,kt=yr+Dt|0,Fr^=kt<<18|kt>>>32-18,kt=pr+gr|0,_r^=kt<<7|kt>>>32-7,kt=_r+pr|0,lr^=kt<<9|kt>>>32-9,kt=lr+_r|0,gr^=kt<<13|kt>>>32-13,kt=gr+lr|0,pr^=kt<<18|kt>>>32-18,kt=dr+mr|0,Ut^=kt<<7|kt>>>32-7,kt=Ut+dr|0,Dt^=kt<<9|kt>>>32-9,kt=Dt+Ut|0,mr^=kt<<13|kt>>>32-13,kt=mr+Dt|0,dr^=kt<<18|kt>>>32-18,kt=ar+nr|0,yr^=kt<<7|kt>>>32-7,kt=yr+ar|0,ur^=kt<<9|kt>>>32-9,kt=ur+yr|0,nr^=kt<<13|kt>>>32-13,kt=nr+ur|0,ar^=kt<<18|kt>>>32-18,kt=Fr+Dr|0,Or^=kt<<7|kt>>>32-7,kt=Or+Fr|0,Ur^=kt<<9|kt>>>32-9,kt=Ur+Or|0,Dr^=kt<<13|kt>>>32-13,kt=Dr+Ur|0,Fr^=kt<<18|kt>>>32-18;Ye[0]=pr>>>0&255,Ye[1]=pr>>>8&255,Ye[2]=pr>>>16&255,Ye[3]=pr>>>24&255,Ye[4]=dr>>>0&255,Ye[5]=dr>>>8&255,Ye[6]=dr>>>16&255,Ye[7]=dr>>>24&255,Ye[8]=ar>>>0&255,Ye[9]=ar>>>8&255,Ye[10]=ar>>>16&255,Ye[11]=ar>>>24&255,Ye[12]=Fr>>>0&255,Ye[13]=Fr>>>8&255,Ye[14]=Fr>>>16&255,Ye[15]=Fr>>>24&255,Ye[16]=Ut>>>0&255,Ye[17]=Ut>>>8&255,Ye[18]=Ut>>>16&255,Ye[19]=Ut>>>24&255,Ye[20]=Dt>>>0&255,Ye[21]=Dt>>>8&255,Ye[22]=Dt>>>16&255,Ye[23]=Dt>>>24&255,Ye[24]=ur>>>0&255,Ye[25]=ur>>>8&255,Ye[26]=ur>>>16&255,Ye[27]=ur>>>24&255,Ye[28]=nr>>>0&255,Ye[29]=nr>>>8&255,Ye[30]=nr>>>16&255,Ye[31]=nr>>>24&255}function Ke(Ye,rt,it,Fe){Ne(Ye,rt,it,Fe)}function Ge(Ye,rt,it,Fe){He(Ye,rt,it,Fe)}var ut=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Ve(Ye,rt,it,Fe,ot,wt,Pt){var Et=new Uint8Array(16),Ct=new Uint8Array(64),or,Yt;for(Yt=0;Yt<16;Yt++)Et[Yt]=0;for(Yt=0;Yt<8;Yt++)Et[Yt]=wt[Yt];for(;ot>=64;){for(Ke(Ct,Et,Pt,ut),Yt=0;Yt<64;Yt++)Ye[rt+Yt]=it[Fe+Yt]^Ct[Yt];for(or=1,Yt=8;Yt<16;Yt++)or=or+(Et[Yt]&255)|0,Et[Yt]=or&255,or>>>=8;ot-=64,rt+=64,Fe+=64}if(ot>0)for(Ke(Ct,Et,Pt,ut),Yt=0;Yt<ot;Yt++)Ye[rt+Yt]=it[Fe+Yt]^Ct[Yt];return 0}function nt(Ye,rt,it,Fe,ot){var wt=new Uint8Array(16),Pt=new Uint8Array(64),Et,Ct;for(Ct=0;Ct<16;Ct++)wt[Ct]=0;for(Ct=0;Ct<8;Ct++)wt[Ct]=Fe[Ct];for(;it>=64;){for(Ke(Pt,wt,ot,ut),Ct=0;Ct<64;Ct++)Ye[rt+Ct]=Pt[Ct];for(Et=1,Ct=8;Ct<16;Ct++)Et=Et+(wt[Ct]&255)|0,wt[Ct]=Et&255,Et>>>=8;it-=64,rt+=64}if(it>0)for(Ke(Pt,wt,ot,ut),Ct=0;Ct<it;Ct++)Ye[rt+Ct]=Pt[Ct];return 0}function st(Ye,rt,it,Fe,ot){var wt=new Uint8Array(32);Ge(wt,Fe,ot,ut);for(var Pt=new Uint8Array(8),Et=0;Et<8;Et++)Pt[Et]=Fe[Et+16];return nt(Ye,rt,it,Pt,wt)}function qe(Ye,rt,it,Fe,ot,wt,Pt){var Et=new Uint8Array(32);Ge(Et,wt,Pt,ut);for(var Ct=new Uint8Array(8),or=0;or<8;or++)Ct[or]=wt[or+16];return Ve(Ye,rt,it,Fe,ot,Ct,Et)}var ye=function(Ye){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var rt,it,Fe,ot,wt,Pt,Et,Ct;rt=Ye[0]&255|(Ye[1]&255)<<8,this.r[0]=rt&8191,it=Ye[2]&255|(Ye[3]&255)<<8,this.r[1]=(rt>>>13|it<<3)&8191,Fe=Ye[4]&255|(Ye[5]&255)<<8,this.r[2]=(it>>>10|Fe<<6)&7939,ot=Ye[6]&255|(Ye[7]&255)<<8,this.r[3]=(Fe>>>7|ot<<9)&8191,wt=Ye[8]&255|(Ye[9]&255)<<8,this.r[4]=(ot>>>4|wt<<12)&255,this.r[5]=wt>>>1&8190,Pt=Ye[10]&255|(Ye[11]&255)<<8,this.r[6]=(wt>>>14|Pt<<2)&8191,Et=Ye[12]&255|(Ye[13]&255)<<8,this.r[7]=(Pt>>>11|Et<<5)&8065,Ct=Ye[14]&255|(Ye[15]&255)<<8,this.r[8]=(Et>>>8|Ct<<8)&8191,this.r[9]=Ct>>>5&127,this.pad[0]=Ye[16]&255|(Ye[17]&255)<<8,this.pad[1]=Ye[18]&255|(Ye[19]&255)<<8,this.pad[2]=Ye[20]&255|(Ye[21]&255)<<8,this.pad[3]=Ye[22]&255|(Ye[23]&255)<<8,this.pad[4]=Ye[24]&255|(Ye[25]&255)<<8,this.pad[5]=Ye[26]&255|(Ye[27]&255)<<8,this.pad[6]=Ye[28]&255|(Ye[29]&255)<<8,this.pad[7]=Ye[30]&255|(Ye[31]&255)<<8};ye.prototype.blocks=function(Ye,rt,it){for(var Fe=this.fin?0:2048,ot,wt,Pt,Et,Ct,or,Yt,Rr,cr,wr,xr,Er,Mr,Sr,Ar,Tr,pr,_r,lr,gr=this.h[0],mr=this.h[1],dr=this.h[2],Ut=this.h[3],Dt=this.h[4],ur=this.h[5],nr=this.h[6],ar=this.h[7],yr=this.h[8],Or=this.h[9],Ur=this.r[0],Dr=this.r[1],Fr=this.r[2],kt=this.r[3],Wr=this.r[4],Kr=this.r[5],qr=this.r[6],Hr=this.r[7],je=this.r[8],vr=this.r[9];it>=16;)ot=Ye[rt+0]&255|(Ye[rt+1]&255)<<8,gr+=ot&8191,wt=Ye[rt+2]&255|(Ye[rt+3]&255)<<8,mr+=(ot>>>13|wt<<3)&8191,Pt=Ye[rt+4]&255|(Ye[rt+5]&255)<<8,dr+=(wt>>>10|Pt<<6)&8191,Et=Ye[rt+6]&255|(Ye[rt+7]&255)<<8,Ut+=(Pt>>>7|Et<<9)&8191,Ct=Ye[rt+8]&255|(Ye[rt+9]&255)<<8,Dt+=(Et>>>4|Ct<<12)&8191,ur+=Ct>>>1&8191,or=Ye[rt+10]&255|(Ye[rt+11]&255)<<8,nr+=(Ct>>>14|or<<2)&8191,Yt=Ye[rt+12]&255|(Ye[rt+13]&255)<<8,ar+=(or>>>11|Yt<<5)&8191,Rr=Ye[rt+14]&255|(Ye[rt+15]&255)<<8,yr+=(Yt>>>8|Rr<<8)&8191,Or+=Rr>>>5|Fe,cr=0,wr=cr,wr+=gr*Ur,wr+=mr*(5*vr),wr+=dr*(5*je),wr+=Ut*(5*Hr),wr+=Dt*(5*qr),cr=wr>>>13,wr&=8191,wr+=ur*(5*Kr),wr+=nr*(5*Wr),wr+=ar*(5*kt),wr+=yr*(5*Fr),wr+=Or*(5*Dr),cr+=wr>>>13,wr&=8191,xr=cr,xr+=gr*Dr,xr+=mr*Ur,xr+=dr*(5*vr),xr+=Ut*(5*je),xr+=Dt*(5*Hr),cr=xr>>>13,xr&=8191,xr+=ur*(5*qr),xr+=nr*(5*Kr),xr+=ar*(5*Wr),xr+=yr*(5*kt),xr+=Or*(5*Fr),cr+=xr>>>13,xr&=8191,Er=cr,Er+=gr*Fr,Er+=mr*Dr,Er+=dr*Ur,Er+=Ut*(5*vr),Er+=Dt*(5*je),cr=Er>>>13,Er&=8191,Er+=ur*(5*Hr),Er+=nr*(5*qr),Er+=ar*(5*Kr),Er+=yr*(5*Wr),Er+=Or*(5*kt),cr+=Er>>>13,Er&=8191,Mr=cr,Mr+=gr*kt,Mr+=mr*Fr,Mr+=dr*Dr,Mr+=Ut*Ur,Mr+=Dt*(5*vr),cr=Mr>>>13,Mr&=8191,Mr+=ur*(5*je),Mr+=nr*(5*Hr),Mr+=ar*(5*qr),Mr+=yr*(5*Kr),Mr+=Or*(5*Wr),cr+=Mr>>>13,Mr&=8191,Sr=cr,Sr+=gr*Wr,Sr+=mr*kt,Sr+=dr*Fr,Sr+=Ut*Dr,Sr+=Dt*Ur,cr=Sr>>>13,Sr&=8191,Sr+=ur*(5*vr),Sr+=nr*(5*je),Sr+=ar*(5*Hr),Sr+=yr*(5*qr),Sr+=Or*(5*Kr),cr+=Sr>>>13,Sr&=8191,Ar=cr,Ar+=gr*Kr,Ar+=mr*Wr,Ar+=dr*kt,Ar+=Ut*Fr,Ar+=Dt*Dr,cr=Ar>>>13,Ar&=8191,Ar+=ur*Ur,Ar+=nr*(5*vr),Ar+=ar*(5*je),Ar+=yr*(5*Hr),Ar+=Or*(5*qr),cr+=Ar>>>13,Ar&=8191,Tr=cr,Tr+=gr*qr,Tr+=mr*Kr,Tr+=dr*Wr,Tr+=Ut*kt,Tr+=Dt*Fr,cr=Tr>>>13,Tr&=8191,Tr+=ur*Dr,Tr+=nr*Ur,Tr+=ar*(5*vr),Tr+=yr*(5*je),Tr+=Or*(5*Hr),cr+=Tr>>>13,Tr&=8191,pr=cr,pr+=gr*Hr,pr+=mr*qr,pr+=dr*Kr,pr+=Ut*Wr,pr+=Dt*kt,cr=pr>>>13,pr&=8191,pr+=ur*Fr,pr+=nr*Dr,pr+=ar*Ur,pr+=yr*(5*vr),pr+=Or*(5*je),cr+=pr>>>13,pr&=8191,_r=cr,_r+=gr*je,_r+=mr*Hr,_r+=dr*qr,_r+=Ut*Kr,_r+=Dt*Wr,cr=_r>>>13,_r&=8191,_r+=ur*kt,_r+=nr*Fr,_r+=ar*Dr,_r+=yr*Ur,_r+=Or*(5*vr),cr+=_r>>>13,_r&=8191,lr=cr,lr+=gr*vr,lr+=mr*je,lr+=dr*Hr,lr+=Ut*qr,lr+=Dt*Kr,cr=lr>>>13,lr&=8191,lr+=ur*Wr,lr+=nr*kt,lr+=ar*Fr,lr+=yr*Dr,lr+=Or*Ur,cr+=lr>>>13,lr&=8191,cr=(cr<<2)+cr|0,cr=cr+wr|0,wr=cr&8191,cr=cr>>>13,xr+=cr,gr=wr,mr=xr,dr=Er,Ut=Mr,Dt=Sr,ur=Ar,nr=Tr,ar=pr,yr=_r,Or=lr,rt+=16,it-=16;this.h[0]=gr,this.h[1]=mr,this.h[2]=dr,this.h[3]=Ut,this.h[4]=Dt,this.h[5]=ur,this.h[6]=nr,this.h[7]=ar,this.h[8]=yr,this.h[9]=Or},ye.prototype.finish=function(Ye,rt){var it=new Uint16Array(10),Fe,ot,wt,Pt;if(this.leftover){for(Pt=this.leftover,this.buffer[Pt++]=1;Pt<16;Pt++)this.buffer[Pt]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Fe=this.h[1]>>>13,this.h[1]&=8191,Pt=2;Pt<10;Pt++)this.h[Pt]+=Fe,Fe=this.h[Pt]>>>13,this.h[Pt]&=8191;for(this.h[0]+=Fe*5,Fe=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Fe,Fe=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Fe,it[0]=this.h[0]+5,Fe=it[0]>>>13,it[0]&=8191,Pt=1;Pt<10;Pt++)it[Pt]=this.h[Pt]+Fe,Fe=it[Pt]>>>13,it[Pt]&=8191;for(it[9]-=1<<13,ot=(Fe^1)-1,Pt=0;Pt<10;Pt++)it[Pt]&=ot;for(ot=~ot,Pt=0;Pt<10;Pt++)this.h[Pt]=this.h[Pt]&ot|it[Pt];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,wt=this.h[0]+this.pad[0],this.h[0]=wt&65535,Pt=1;Pt<8;Pt++)wt=(this.h[Pt]+this.pad[Pt]|0)+(wt>>>16)|0,this.h[Pt]=wt&65535;Ye[rt+0]=this.h[0]>>>0&255,Ye[rt+1]=this.h[0]>>>8&255,Ye[rt+2]=this.h[1]>>>0&255,Ye[rt+3]=this.h[1]>>>8&255,Ye[rt+4]=this.h[2]>>>0&255,Ye[rt+5]=this.h[2]>>>8&255,Ye[rt+6]=this.h[3]>>>0&255,Ye[rt+7]=this.h[3]>>>8&255,Ye[rt+8]=this.h[4]>>>0&255,Ye[rt+9]=this.h[4]>>>8&255,Ye[rt+10]=this.h[5]>>>0&255,Ye[rt+11]=this.h[5]>>>8&255,Ye[rt+12]=this.h[6]>>>0&255,Ye[rt+13]=this.h[6]>>>8&255,Ye[rt+14]=this.h[7]>>>0&255,Ye[rt+15]=this.h[7]>>>8&255},ye.prototype.update=function(Ye,rt,it){var Fe,ot;if(this.leftover){for(ot=16-this.leftover,ot>it&&(ot=it),Fe=0;Fe<ot;Fe++)this.buffer[this.leftover+Fe]=Ye[rt+Fe];if(it-=ot,rt+=ot,this.leftover+=ot,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(it>=16&&(ot=it-it%16,this.blocks(Ye,rt,ot),rt+=ot,it-=ot),it){for(Fe=0;Fe<it;Fe++)this.buffer[this.leftover+Fe]=Ye[rt+Fe];this.leftover+=it}};function ae(Ye,rt,it,Fe,ot,wt){var Pt=new ye(wt);return Pt.update(it,Fe,ot),Pt.finish(Ye,rt),0}function ce(Ye,rt,it,Fe,ot,wt){var Pt=new Uint8Array(16);return ae(Pt,0,it,Fe,ot,wt),Pe(Ye,rt,Pt,0)}function le(Ye,rt,it,Fe,ot){var wt;if(it<32)return-1;for(qe(Ye,0,rt,0,it,Fe,ot),ae(Ye,16,Ye,32,it-32,Ye),wt=0;wt<16;wt++)Ye[wt]=0;return 0}function pe(Ye,rt,it,Fe,ot){var wt,Pt=new Uint8Array(32);if(it<32||(st(Pt,0,32,Fe,ot),ce(rt,16,rt,32,it-32,Pt)!==0))return-1;for(qe(Ye,0,rt,0,it,Fe,ot),wt=0;wt<32;wt++)Ye[wt]=0;return 0}function _e(Ye,rt){var it;for(it=0;it<16;it++)Ye[it]=rt[it]|0}function $e(Ye){var rt,it,Fe=1;for(rt=0;rt<16;rt++)it=Ye[rt]+Fe+65535,Fe=Math.floor(it/65536),Ye[rt]=it-Fe*65536;Ye[0]+=Fe-1+37*(Fe-1)}function Ee(Ye,rt,it){for(var Fe,ot=~(it-1),wt=0;wt<16;wt++)Fe=ot&(Ye[wt]^rt[wt]),Ye[wt]^=Fe,rt[wt]^=Fe}function me(Ye,rt){var it,Fe,ot,wt=re(),Pt=re();for(it=0;it<16;it++)Pt[it]=rt[it];for($e(Pt),$e(Pt),$e(Pt),Fe=0;Fe<2;Fe++){for(wt[0]=Pt[0]-65517,it=1;it<15;it++)wt[it]=Pt[it]-65535-(wt[it-1]>>16&1),wt[it-1]&=65535;wt[15]=Pt[15]-32767-(wt[14]>>16&1),ot=wt[15]>>16&1,wt[14]&=65535,Ee(Pt,wt,1-ot)}for(it=0;it<16;it++)Ye[2*it]=Pt[it]&255,Ye[2*it+1]=Pt[it]>>8}function fe(Ye,rt){var it=new Uint8Array(32),Fe=new Uint8Array(32);return me(it,Ye),me(Fe,rt),Ie(it,0,Fe,0)}function we(Ye){var rt=new Uint8Array(32);return me(rt,Ye),rt[0]&1}function Me(Ye,rt){var it;for(it=0;it<16;it++)Ye[it]=rt[2*it]+(rt[2*it+1]<<8);Ye[15]&=32767}function Le(Ye,rt,it){for(var Fe=0;Fe<16;Fe++)Ye[Fe]=rt[Fe]+it[Fe]}function Je(Ye,rt,it){for(var Fe=0;Fe<16;Fe++)Ye[Fe]=rt[Fe]-it[Fe]}function Ue(Ye,rt,it){var Fe,ot,wt=0,Pt=0,Et=0,Ct=0,or=0,Yt=0,Rr=0,cr=0,wr=0,xr=0,Er=0,Mr=0,Sr=0,Ar=0,Tr=0,pr=0,_r=0,lr=0,gr=0,mr=0,dr=0,Ut=0,Dt=0,ur=0,nr=0,ar=0,yr=0,Or=0,Ur=0,Dr=0,Fr=0,kt=it[0],Wr=it[1],Kr=it[2],qr=it[3],Hr=it[4],je=it[5],vr=it[6],Qr=it[7],Zr=it[8],tn=it[9],rn=it[10],Jt=it[11],ir=it[12],on=it[13],Vr=it[14],Gr=it[15];Fe=rt[0],wt+=Fe*kt,Pt+=Fe*Wr,Et+=Fe*Kr,Ct+=Fe*qr,or+=Fe*Hr,Yt+=Fe*je,Rr+=Fe*vr,cr+=Fe*Qr,wr+=Fe*Zr,xr+=Fe*tn,Er+=Fe*rn,Mr+=Fe*Jt,Sr+=Fe*ir,Ar+=Fe*on,Tr+=Fe*Vr,pr+=Fe*Gr,Fe=rt[1],Pt+=Fe*kt,Et+=Fe*Wr,Ct+=Fe*Kr,or+=Fe*qr,Yt+=Fe*Hr,Rr+=Fe*je,cr+=Fe*vr,wr+=Fe*Qr,xr+=Fe*Zr,Er+=Fe*tn,Mr+=Fe*rn,Sr+=Fe*Jt,Ar+=Fe*ir,Tr+=Fe*on,pr+=Fe*Vr,_r+=Fe*Gr,Fe=rt[2],Et+=Fe*kt,Ct+=Fe*Wr,or+=Fe*Kr,Yt+=Fe*qr,Rr+=Fe*Hr,cr+=Fe*je,wr+=Fe*vr,xr+=Fe*Qr,Er+=Fe*Zr,Mr+=Fe*tn,Sr+=Fe*rn,Ar+=Fe*Jt,Tr+=Fe*ir,pr+=Fe*on,_r+=Fe*Vr,lr+=Fe*Gr,Fe=rt[3],Ct+=Fe*kt,or+=Fe*Wr,Yt+=Fe*Kr,Rr+=Fe*qr,cr+=Fe*Hr,wr+=Fe*je,xr+=Fe*vr,Er+=Fe*Qr,Mr+=Fe*Zr,Sr+=Fe*tn,Ar+=Fe*rn,Tr+=Fe*Jt,pr+=Fe*ir,_r+=Fe*on,lr+=Fe*Vr,gr+=Fe*Gr,Fe=rt[4],or+=Fe*kt,Yt+=Fe*Wr,Rr+=Fe*Kr,cr+=Fe*qr,wr+=Fe*Hr,xr+=Fe*je,Er+=Fe*vr,Mr+=Fe*Qr,Sr+=Fe*Zr,Ar+=Fe*tn,Tr+=Fe*rn,pr+=Fe*Jt,_r+=Fe*ir,lr+=Fe*on,gr+=Fe*Vr,mr+=Fe*Gr,Fe=rt[5],Yt+=Fe*kt,Rr+=Fe*Wr,cr+=Fe*Kr,wr+=Fe*qr,xr+=Fe*Hr,Er+=Fe*je,Mr+=Fe*vr,Sr+=Fe*Qr,Ar+=Fe*Zr,Tr+=Fe*tn,pr+=Fe*rn,_r+=Fe*Jt,lr+=Fe*ir,gr+=Fe*on,mr+=Fe*Vr,dr+=Fe*Gr,Fe=rt[6],Rr+=Fe*kt,cr+=Fe*Wr,wr+=Fe*Kr,xr+=Fe*qr,Er+=Fe*Hr,Mr+=Fe*je,Sr+=Fe*vr,Ar+=Fe*Qr,Tr+=Fe*Zr,pr+=Fe*tn,_r+=Fe*rn,lr+=Fe*Jt,gr+=Fe*ir,mr+=Fe*on,dr+=Fe*Vr,Ut+=Fe*Gr,Fe=rt[7],cr+=Fe*kt,wr+=Fe*Wr,xr+=Fe*Kr,Er+=Fe*qr,Mr+=Fe*Hr,Sr+=Fe*je,Ar+=Fe*vr,Tr+=Fe*Qr,pr+=Fe*Zr,_r+=Fe*tn,lr+=Fe*rn,gr+=Fe*Jt,mr+=Fe*ir,dr+=Fe*on,Ut+=Fe*Vr,Dt+=Fe*Gr,Fe=rt[8],wr+=Fe*kt,xr+=Fe*Wr,Er+=Fe*Kr,Mr+=Fe*qr,Sr+=Fe*Hr,Ar+=Fe*je,Tr+=Fe*vr,pr+=Fe*Qr,_r+=Fe*Zr,lr+=Fe*tn,gr+=Fe*rn,mr+=Fe*Jt,dr+=Fe*ir,Ut+=Fe*on,Dt+=Fe*Vr,ur+=Fe*Gr,Fe=rt[9],xr+=Fe*kt,Er+=Fe*Wr,Mr+=Fe*Kr,Sr+=Fe*qr,Ar+=Fe*Hr,Tr+=Fe*je,pr+=Fe*vr,_r+=Fe*Qr,lr+=Fe*Zr,gr+=Fe*tn,mr+=Fe*rn,dr+=Fe*Jt,Ut+=Fe*ir,Dt+=Fe*on,ur+=Fe*Vr,nr+=Fe*Gr,Fe=rt[10],Er+=Fe*kt,Mr+=Fe*Wr,Sr+=Fe*Kr,Ar+=Fe*qr,Tr+=Fe*Hr,pr+=Fe*je,_r+=Fe*vr,lr+=Fe*Qr,gr+=Fe*Zr,mr+=Fe*tn,dr+=Fe*rn,Ut+=Fe*Jt,Dt+=Fe*ir,ur+=Fe*on,nr+=Fe*Vr,ar+=Fe*Gr,Fe=rt[11],Mr+=Fe*kt,Sr+=Fe*Wr,Ar+=Fe*Kr,Tr+=Fe*qr,pr+=Fe*Hr,_r+=Fe*je,lr+=Fe*vr,gr+=Fe*Qr,mr+=Fe*Zr,dr+=Fe*tn,Ut+=Fe*rn,Dt+=Fe*Jt,ur+=Fe*ir,nr+=Fe*on,ar+=Fe*Vr,yr+=Fe*Gr,Fe=rt[12],Sr+=Fe*kt,Ar+=Fe*Wr,Tr+=Fe*Kr,pr+=Fe*qr,_r+=Fe*Hr,lr+=Fe*je,gr+=Fe*vr,mr+=Fe*Qr,dr+=Fe*Zr,Ut+=Fe*tn,Dt+=Fe*rn,ur+=Fe*Jt,nr+=Fe*ir,ar+=Fe*on,yr+=Fe*Vr,Or+=Fe*Gr,Fe=rt[13],Ar+=Fe*kt,Tr+=Fe*Wr,pr+=Fe*Kr,_r+=Fe*qr,lr+=Fe*Hr,gr+=Fe*je,mr+=Fe*vr,dr+=Fe*Qr,Ut+=Fe*Zr,Dt+=Fe*tn,ur+=Fe*rn,nr+=Fe*Jt,ar+=Fe*ir,yr+=Fe*on,Or+=Fe*Vr,Ur+=Fe*Gr,Fe=rt[14],Tr+=Fe*kt,pr+=Fe*Wr,_r+=Fe*Kr,lr+=Fe*qr,gr+=Fe*Hr,mr+=Fe*je,dr+=Fe*vr,Ut+=Fe*Qr,Dt+=Fe*Zr,ur+=Fe*tn,nr+=Fe*rn,ar+=Fe*Jt,yr+=Fe*ir,Or+=Fe*on,Ur+=Fe*Vr,Dr+=Fe*Gr,Fe=rt[15],pr+=Fe*kt,_r+=Fe*Wr,lr+=Fe*Kr,gr+=Fe*qr,mr+=Fe*Hr,dr+=Fe*je,Ut+=Fe*vr,Dt+=Fe*Qr,ur+=Fe*Zr,nr+=Fe*tn,ar+=Fe*rn,yr+=Fe*Jt,Or+=Fe*ir,Ur+=Fe*on,Dr+=Fe*Vr,Fr+=Fe*Gr,wt+=38*_r,Pt+=38*lr,Et+=38*gr,Ct+=38*mr,or+=38*dr,Yt+=38*Ut,Rr+=38*Dt,cr+=38*ur,wr+=38*nr,xr+=38*ar,Er+=38*yr,Mr+=38*Or,Sr+=38*Ur,Ar+=38*Dr,Tr+=38*Fr,ot=1,Fe=wt+ot+65535,ot=Math.floor(Fe/65536),wt=Fe-ot*65536,Fe=Pt+ot+65535,ot=Math.floor(Fe/65536),Pt=Fe-ot*65536,Fe=Et+ot+65535,ot=Math.floor(Fe/65536),Et=Fe-ot*65536,Fe=Ct+ot+65535,ot=Math.floor(Fe/65536),Ct=Fe-ot*65536,Fe=or+ot+65535,ot=Math.floor(Fe/65536),or=Fe-ot*65536,Fe=Yt+ot+65535,ot=Math.floor(Fe/65536),Yt=Fe-ot*65536,Fe=Rr+ot+65535,ot=Math.floor(Fe/65536),Rr=Fe-ot*65536,Fe=cr+ot+65535,ot=Math.floor(Fe/65536),cr=Fe-ot*65536,Fe=wr+ot+65535,ot=Math.floor(Fe/65536),wr=Fe-ot*65536,Fe=xr+ot+65535,ot=Math.floor(Fe/65536),xr=Fe-ot*65536,Fe=Er+ot+65535,ot=Math.floor(Fe/65536),Er=Fe-ot*65536,Fe=Mr+ot+65535,ot=Math.floor(Fe/65536),Mr=Fe-ot*65536,Fe=Sr+ot+65535,ot=Math.floor(Fe/65536),Sr=Fe-ot*65536,Fe=Ar+ot+65535,ot=Math.floor(Fe/65536),Ar=Fe-ot*65536,Fe=Tr+ot+65535,ot=Math.floor(Fe/65536),Tr=Fe-ot*65536,Fe=pr+ot+65535,ot=Math.floor(Fe/65536),pr=Fe-ot*65536,wt+=ot-1+37*(ot-1),ot=1,Fe=wt+ot+65535,ot=Math.floor(Fe/65536),wt=Fe-ot*65536,Fe=Pt+ot+65535,ot=Math.floor(Fe/65536),Pt=Fe-ot*65536,Fe=Et+ot+65535,ot=Math.floor(Fe/65536),Et=Fe-ot*65536,Fe=Ct+ot+65535,ot=Math.floor(Fe/65536),Ct=Fe-ot*65536,Fe=or+ot+65535,ot=Math.floor(Fe/65536),or=Fe-ot*65536,Fe=Yt+ot+65535,ot=Math.floor(Fe/65536),Yt=Fe-ot*65536,Fe=Rr+ot+65535,ot=Math.floor(Fe/65536),Rr=Fe-ot*65536,Fe=cr+ot+65535,ot=Math.floor(Fe/65536),cr=Fe-ot*65536,Fe=wr+ot+65535,ot=Math.floor(Fe/65536),wr=Fe-ot*65536,Fe=xr+ot+65535,ot=Math.floor(Fe/65536),xr=Fe-ot*65536,Fe=Er+ot+65535,ot=Math.floor(Fe/65536),Er=Fe-ot*65536,Fe=Mr+ot+65535,ot=Math.floor(Fe/65536),Mr=Fe-ot*65536,Fe=Sr+ot+65535,ot=Math.floor(Fe/65536),Sr=Fe-ot*65536,Fe=Ar+ot+65535,ot=Math.floor(Fe/65536),Ar=Fe-ot*65536,Fe=Tr+ot+65535,ot=Math.floor(Fe/65536),Tr=Fe-ot*65536,Fe=pr+ot+65535,ot=Math.floor(Fe/65536),pr=Fe-ot*65536,wt+=ot-1+37*(ot-1),Ye[0]=wt,Ye[1]=Pt,Ye[2]=Et,Ye[3]=Ct,Ye[4]=or,Ye[5]=Yt,Ye[6]=Rr,Ye[7]=cr,Ye[8]=wr,Ye[9]=xr,Ye[10]=Er,Ye[11]=Mr,Ye[12]=Sr,Ye[13]=Ar,Ye[14]=Tr,Ye[15]=pr}function ct(Ye,rt){Ue(Ye,rt,rt)}function gt(Ye,rt){var it=re(),Fe;for(Fe=0;Fe<16;Fe++)it[Fe]=rt[Fe];for(Fe=253;Fe>=0;Fe--)ct(it,it),Fe!==2&&Fe!==4&&Ue(it,it,rt);for(Fe=0;Fe<16;Fe++)Ye[Fe]=it[Fe]}function $t(Ye,rt){var it=re(),Fe;for(Fe=0;Fe<16;Fe++)it[Fe]=rt[Fe];for(Fe=250;Fe>=0;Fe--)ct(it,it),Fe!==1&&Ue(it,it,rt);for(Fe=0;Fe<16;Fe++)Ye[Fe]=it[Fe]}function vt(Ye,rt,it){var Fe=new Uint8Array(32),ot=new Float64Array(80),wt,Pt,Et=re(),Ct=re(),or=re(),Yt=re(),Rr=re(),cr=re();for(Pt=0;Pt<31;Pt++)Fe[Pt]=rt[Pt];for(Fe[31]=rt[31]&127|64,Fe[0]&=248,Me(ot,it),Pt=0;Pt<16;Pt++)Ct[Pt]=ot[Pt],Yt[Pt]=Et[Pt]=or[Pt]=0;for(Et[0]=Yt[0]=1,Pt=254;Pt>=0;--Pt)wt=Fe[Pt>>>3]>>>(Pt&7)&1,Ee(Et,Ct,wt),Ee(or,Yt,wt),Le(Rr,Et,or),Je(Et,Et,or),Le(or,Ct,Yt),Je(Ct,Ct,Yt),ct(Yt,Rr),ct(cr,Et),Ue(Et,or,Et),Ue(or,Ct,Rr),Le(Rr,Et,or),Je(Et,Et,or),ct(Ct,Et),Je(or,Yt,cr),Ue(Et,or,he),Le(Et,Et,Yt),Ue(or,or,Et),Ue(Et,Yt,cr),Ue(Yt,Ct,ot),ct(Ct,Rr),Ee(Et,Ct,wt),Ee(or,Yt,wt);for(Pt=0;Pt<16;Pt++)ot[Pt+16]=Et[Pt],ot[Pt+32]=or[Pt],ot[Pt+48]=Ct[Pt],ot[Pt+64]=Yt[Pt];var wr=ot.subarray(32),xr=ot.subarray(16);return gt(wr,wr),Ue(xr,xr,wr),me(Ye,xr),0}function Tt(Ye,rt){return vt(Ye,rt,ie)}function qt(Ye,rt){return ne(rt,32),Tt(Ye,rt)}function Rt(Ye,rt,it){var Fe=new Uint8Array(32);return vt(Fe,it,rt),Ge(Ye,oe,Fe,ut)}var lt=le,_t=pe;function bt(Ye,rt,it,Fe,ot,wt){var Pt=new Uint8Array(32);return Rt(Pt,ot,wt),lt(Ye,rt,it,Fe,Pt)}function Qe(Ye,rt,it,Fe,ot,wt){var Pt=new Uint8Array(32);return Rt(Pt,ot,wt),_t(Ye,rt,it,Fe,Pt)}var ze=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function De(Ye,rt,it,Fe){for(var ot=new Int32Array(16),wt=new Int32Array(16),Pt,Et,Ct,or,Yt,Rr,cr,wr,xr,Er,Mr,Sr,Ar,Tr,pr,_r,lr,gr,mr,dr,Ut,Dt,ur,nr,ar,yr,Or=Ye[0],Ur=Ye[1],Dr=Ye[2],Fr=Ye[3],kt=Ye[4],Wr=Ye[5],Kr=Ye[6],qr=Ye[7],Hr=rt[0],je=rt[1],vr=rt[2],Qr=rt[3],Zr=rt[4],tn=rt[5],rn=rt[6],Jt=rt[7],ir=0;Fe>=128;){for(mr=0;mr<16;mr++)dr=8*mr+ir,ot[mr]=it[dr+0]<<24|it[dr+1]<<16|it[dr+2]<<8|it[dr+3],wt[mr]=it[dr+4]<<24|it[dr+5]<<16|it[dr+6]<<8|it[dr+7];for(mr=0;mr<80;mr++)if(Pt=Or,Et=Ur,Ct=Dr,or=Fr,Yt=kt,Rr=Wr,cr=Kr,wr=qr,xr=Hr,Er=je,Mr=vr,Sr=Qr,Ar=Zr,Tr=tn,pr=rn,_r=Jt,Ut=qr,Dt=Jt,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=(kt>>>14|Zr<<32-14)^(kt>>>18|Zr<<32-18)^(Zr>>>41-32|kt<<32-(41-32)),Dt=(Zr>>>14|kt<<32-14)^(Zr>>>18|kt<<32-18)^(kt>>>41-32|Zr<<32-(41-32)),ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,Ut=kt&Wr^~kt&Kr,Dt=Zr&tn^~Zr&rn,ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,Ut=ze[mr*2],Dt=ze[mr*2+1],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,Ut=ot[mr%16],Dt=wt[mr%16],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,lr=ar&65535|yr<<16,gr=ur&65535|nr<<16,Ut=lr,Dt=gr,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=(Or>>>28|Hr<<32-28)^(Hr>>>34-32|Or<<32-(34-32))^(Hr>>>39-32|Or<<32-(39-32)),Dt=(Hr>>>28|Or<<32-28)^(Or>>>34-32|Hr<<32-(34-32))^(Or>>>39-32|Hr<<32-(39-32)),ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,Ut=Or&Ur^Or&Dr^Ur&Dr,Dt=Hr&je^Hr&vr^je&vr,ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,wr=ar&65535|yr<<16,_r=ur&65535|nr<<16,Ut=or,Dt=Sr,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=lr,Dt=gr,ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,or=ar&65535|yr<<16,Sr=ur&65535|nr<<16,Ur=Pt,Dr=Et,Fr=Ct,kt=or,Wr=Yt,Kr=Rr,qr=cr,Or=wr,je=xr,vr=Er,Qr=Mr,Zr=Sr,tn=Ar,rn=Tr,Jt=pr,Hr=_r,mr%16===15)for(dr=0;dr<16;dr++)Ut=ot[dr],Dt=wt[dr],ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=ot[(dr+9)%16],Dt=wt[(dr+9)%16],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,lr=ot[(dr+1)%16],gr=wt[(dr+1)%16],Ut=(lr>>>1|gr<<32-1)^(lr>>>8|gr<<32-8)^lr>>>7,Dt=(gr>>>1|lr<<32-1)^(gr>>>8|lr<<32-8)^(gr>>>7|lr<<32-7),ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,lr=ot[(dr+14)%16],gr=wt[(dr+14)%16],Ut=(lr>>>19|gr<<32-19)^(gr>>>61-32|lr<<32-(61-32))^lr>>>6,Dt=(gr>>>19|lr<<32-19)^(lr>>>61-32|gr<<32-(61-32))^(gr>>>6|lr<<32-6),ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,ot[dr]=ar&65535|yr<<16,wt[dr]=ur&65535|nr<<16;Ut=Or,Dt=Hr,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=Ye[0],Dt=rt[0],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,Ye[0]=Or=ar&65535|yr<<16,rt[0]=Hr=ur&65535|nr<<16,Ut=Ur,Dt=je,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=Ye[1],Dt=rt[1],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,Ye[1]=Ur=ar&65535|yr<<16,rt[1]=je=ur&65535|nr<<16,Ut=Dr,Dt=vr,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=Ye[2],Dt=rt[2],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,Ye[2]=Dr=ar&65535|yr<<16,rt[2]=vr=ur&65535|nr<<16,Ut=Fr,Dt=Qr,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=Ye[3],Dt=rt[3],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,Ye[3]=Fr=ar&65535|yr<<16,rt[3]=Qr=ur&65535|nr<<16,Ut=kt,Dt=Zr,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=Ye[4],Dt=rt[4],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,Ye[4]=kt=ar&65535|yr<<16,rt[4]=Zr=ur&65535|nr<<16,Ut=Wr,Dt=tn,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=Ye[5],Dt=rt[5],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,Ye[5]=Wr=ar&65535|yr<<16,rt[5]=tn=ur&65535|nr<<16,Ut=Kr,Dt=rn,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=Ye[6],Dt=rt[6],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,Ye[6]=Kr=ar&65535|yr<<16,rt[6]=rn=ur&65535|nr<<16,Ut=qr,Dt=Jt,ur=Dt&65535,nr=Dt>>>16,ar=Ut&65535,yr=Ut>>>16,Ut=Ye[7],Dt=rt[7],ur+=Dt&65535,nr+=Dt>>>16,ar+=Ut&65535,yr+=Ut>>>16,nr+=ur>>>16,ar+=nr>>>16,yr+=ar>>>16,Ye[7]=qr=ar&65535|yr<<16,rt[7]=Jt=ur&65535|nr<<16,ir+=128,Fe-=128}return Fe}function Ze(Ye,rt,it){var Fe=new Int32Array(8),ot=new Int32Array(8),wt=new Uint8Array(256),Pt,Et=it;for(Fe[0]=1779033703,Fe[1]=3144134277,Fe[2]=1013904242,Fe[3]=2773480762,Fe[4]=1359893119,Fe[5]=2600822924,Fe[6]=528734635,Fe[7]=1541459225,ot[0]=4089235720,ot[1]=2227873595,ot[2]=4271175723,ot[3]=1595750129,ot[4]=2917565137,ot[5]=725511199,ot[6]=4215389547,ot[7]=327033209,De(Fe,ot,rt,it),it%=128,Pt=0;Pt<it;Pt++)wt[Pt]=rt[Et-it+Pt];for(wt[it]=128,it=256-128*(it<112?1:0),wt[it-9]=0,Re(wt,it-8,Et/536870912|0,Et<<3),De(Fe,ot,wt,it),Pt=0;Pt<8;Pt++)Re(Ye,8*Pt,Fe[Pt],ot[Pt]);return 0}function yt(Ye,rt){var it=re(),Fe=re(),ot=re(),wt=re(),Pt=re(),Et=re(),Ct=re(),or=re(),Yt=re();Je(it,Ye[1],Ye[0]),Je(Yt,rt[1],rt[0]),Ue(it,it,Yt),Le(Fe,Ye[0],Ye[1]),Le(Yt,rt[0],rt[1]),Ue(Fe,Fe,Yt),Ue(ot,Ye[3],rt[3]),Ue(ot,ot,be),Ue(wt,Ye[2],rt[2]),Le(wt,wt,wt),Je(Pt,Fe,it),Je(Et,wt,ot),Le(Ct,wt,ot),Le(or,Fe,it),Ue(Ye[0],Pt,Et),Ue(Ye[1],or,Ct),Ue(Ye[2],Ct,Et),Ue(Ye[3],Pt,or)}function dt(Ye,rt,it){var Fe;for(Fe=0;Fe<4;Fe++)Ee(Ye[Fe],rt[Fe],it)}function mt(Ye,rt){var it=re(),Fe=re(),ot=re();gt(ot,rt[2]),Ue(it,rt[0],ot),Ue(Fe,rt[1],ot),me(Ye,Fe),Ye[31]^=we(it)<<7}function Lt(Ye,rt,it){var Fe,ot;for(_e(Ye[0],se),_e(Ye[1],ue),_e(Ye[2],ue),_e(Ye[3],se),ot=255;ot>=0;--ot)Fe=it[ot/8|0]>>(ot&7)&1,dt(Ye,rt,Fe),yt(rt,Ye),yt(Ye,Ye),dt(Ye,rt,Fe)}function St(Ye,rt){var it=[re(),re(),re(),re()];_e(it[0],Se),_e(it[1],Te),_e(it[2],ue),Ue(it[3],Se,Te),Lt(Ye,it,rt)}function Bt(Ye,rt,it){var Fe=new Uint8Array(64),ot=[re(),re(),re(),re()],wt;for(it||ne(rt,32),Ze(Fe,rt,32),Fe[0]&=248,Fe[31]&=127,Fe[31]|=64,St(ot,Fe),mt(Ye,ot),wt=0;wt<32;wt++)rt[wt+32]=Ye[wt];return 0}var Gt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ae(Ye,rt){var it,Fe,ot,wt;for(Fe=63;Fe>=32;--Fe){for(it=0,ot=Fe-32,wt=Fe-12;ot<wt;++ot)rt[ot]+=it-16*rt[Fe]*Gt[ot-(Fe-32)],it=Math.floor((rt[ot]+128)/256),rt[ot]-=it*256;rt[ot]+=it,rt[Fe]=0}for(it=0,ot=0;ot<32;ot++)rt[ot]+=it-(rt[31]>>4)*Gt[ot],it=rt[ot]>>8,rt[ot]&=255;for(ot=0;ot<32;ot++)rt[ot]-=it*Gt[ot];for(Fe=0;Fe<32;Fe++)rt[Fe+1]+=rt[Fe]>>8,Ye[Fe]=rt[Fe]&255}function ve(Ye){var rt=new Float64Array(64),it;for(it=0;it<64;it++)rt[it]=Ye[it];for(it=0;it<64;it++)Ye[it]=0;Ae(Ye,rt)}function xe(Ye,rt,it,Fe){var ot=new Uint8Array(64),wt=new Uint8Array(64),Pt=new Uint8Array(64),Et,Ct,or=new Float64Array(64),Yt=[re(),re(),re(),re()];Ze(ot,Fe,32),ot[0]&=248,ot[31]&=127,ot[31]|=64;var Rr=it+64;for(Et=0;Et<it;Et++)Ye[64+Et]=rt[Et];for(Et=0;Et<32;Et++)Ye[32+Et]=ot[32+Et];for(Ze(Pt,Ye.subarray(32),it+32),ve(Pt),St(Yt,Pt),mt(Ye,Yt),Et=32;Et<64;Et++)Ye[Et]=Fe[Et];for(Ze(wt,Ye,it+64),ve(wt),Et=0;Et<64;Et++)or[Et]=0;for(Et=0;Et<32;Et++)or[Et]=Pt[Et];for(Et=0;Et<32;Et++)for(Ct=0;Ct<32;Ct++)or[Et+Ct]+=wt[Et]*ot[Ct];return Ae(Ye.subarray(32),or),Rr}function Be(Ye,rt){var it=re(),Fe=re(),ot=re(),wt=re(),Pt=re(),Et=re(),Ct=re();return _e(Ye[2],ue),Me(Ye[1],rt),ct(ot,Ye[1]),Ue(wt,ot,ge),Je(ot,ot,Ye[2]),Le(wt,Ye[2],wt),ct(Pt,wt),ct(Et,Pt),Ue(Ct,Et,Pt),Ue(it,Ct,ot),Ue(it,it,wt),$t(it,it),Ue(it,it,ot),Ue(it,it,wt),Ue(it,it,wt),Ue(Ye[0],it,wt),ct(Fe,Ye[0]),Ue(Fe,Fe,wt),fe(Fe,ot)&&Ue(Ye[0],Ye[0],ke),ct(Fe,Ye[0]),Ue(Fe,Fe,wt),fe(Fe,ot)?-1:(we(Ye[0])===rt[31]>>7&&Je(Ye[0],se,Ye[0]),Ue(Ye[3],Ye[0],Ye[1]),0)}function We(Ye,rt,it,Fe){var ot,wt=new Uint8Array(32),Pt=new Uint8Array(64),Et=[re(),re(),re(),re()],Ct=[re(),re(),re(),re()];if(it<64||Be(Ct,Fe))return-1;for(ot=0;ot<it;ot++)Ye[ot]=rt[ot];for(ot=0;ot<32;ot++)Ye[ot+32]=Fe[ot];if(Ze(Pt,Ye,it),ve(Pt),Lt(Et,Ct,Pt),St(Ct,rt.subarray(32)),yt(Et,Ct),mt(wt,Et),it-=64,Ie(rt,0,wt,0)){for(ot=0;ot<it;ot++)Ye[ot]=0;return-1}for(ot=0;ot<it;ot++)Ye[ot]=rt[ot+64];return it}var et=32,Xe=24,Mt=32,Vt=16,At=32,Nt=32,zt=32,Ht=32,Qt=32,Ir=Xe,jt=Mt,Xt=Vt,$r=64,Ft=32,Zt=64,kr=32,Wt=64;ee.lowlevel={crypto_core_hsalsa20:Ge,crypto_stream_xor:qe,crypto_stream:st,crypto_stream_salsa20_xor:Ve,crypto_stream_salsa20:nt,crypto_onetimeauth:ae,crypto_onetimeauth_verify:ce,crypto_verify_16:Pe,crypto_verify_32:Ie,crypto_secretbox:le,crypto_secretbox_open:pe,crypto_scalarmult:vt,crypto_scalarmult_base:Tt,crypto_box_beforenm:Rt,crypto_box_afternm:lt,crypto_box:bt,crypto_box_open:Qe,crypto_box_keypair:qt,crypto_hash:Ze,crypto_sign:xe,crypto_sign_keypair:Bt,crypto_sign_open:We,crypto_secretbox_KEYBYTES:et,crypto_secretbox_NONCEBYTES:Xe,crypto_secretbox_ZEROBYTES:Mt,crypto_secretbox_BOXZEROBYTES:Vt,crypto_scalarmult_BYTES:At,crypto_scalarmult_SCALARBYTES:Nt,crypto_box_PUBLICKEYBYTES:zt,crypto_box_SECRETKEYBYTES:Ht,crypto_box_BEFORENMBYTES:Qt,crypto_box_NONCEBYTES:Ir,crypto_box_ZEROBYTES:jt,crypto_box_BOXZEROBYTES:Xt,crypto_sign_BYTES:$r,crypto_sign_PUBLICKEYBYTES:Ft,crypto_sign_SECRETKEYBYTES:Zt,crypto_sign_SEEDBYTES:kr,crypto_hash_BYTES:Wt,gf:re,D:ge,L:Gt,pack25519:me,unpack25519:Me,M:Ue,A:Le,S:ct,Z:Je,pow2523:$t,add:yt,set25519:_e,modL:Ae,scalarmult:Lt,scalarbase:St};function er(Ye,rt){if(Ye.length!==et)throw new Error("bad key size");if(rt.length!==Xe)throw new Error("bad nonce size")}function Pr(Ye,rt){if(Ye.length!==zt)throw new Error("bad public key size");if(rt.length!==Ht)throw new Error("bad secret key size")}function Ot(){for(var Ye=0;Ye<arguments.length;Ye++)if(!(arguments[Ye]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function tr(Ye){for(var rt=0;rt<Ye.length;rt++)Ye[rt]=0}ee.randomBytes=function(Ye){var rt=new Uint8Array(Ye);return ne(rt,Ye),rt},ee.secretbox=function(Ye,rt,it){Ot(Ye,rt,it),er(it,rt);for(var Fe=new Uint8Array(Mt+Ye.length),ot=new Uint8Array(Fe.length),wt=0;wt<Ye.length;wt++)Fe[wt+Mt]=Ye[wt];return le(ot,Fe,Fe.length,rt,it),ot.subarray(Vt)},ee.secretbox.open=function(Ye,rt,it){Ot(Ye,rt,it),er(it,rt);for(var Fe=new Uint8Array(Vt+Ye.length),ot=new Uint8Array(Fe.length),wt=0;wt<Ye.length;wt++)Fe[wt+Vt]=Ye[wt];return Fe.length<32||pe(ot,Fe,Fe.length,rt,it)!==0?null:ot.subarray(Mt)},ee.secretbox.keyLength=et,ee.secretbox.nonceLength=Xe,ee.secretbox.overheadLength=Vt,ee.scalarMult=function(Ye,rt){if(Ot(Ye,rt),Ye.length!==Nt)throw new Error("bad n size");if(rt.length!==At)throw new Error("bad p size");var it=new Uint8Array(At);return vt(it,Ye,rt),it},ee.scalarMult.base=function(Ye){if(Ot(Ye),Ye.length!==Nt)throw new Error("bad n size");var rt=new Uint8Array(At);return Tt(rt,Ye),rt},ee.scalarMult.scalarLength=Nt,ee.scalarMult.groupElementLength=At,ee.box=function(Ye,rt,it,Fe){var ot=ee.box.before(it,Fe);return ee.secretbox(Ye,rt,ot)},ee.box.before=function(Ye,rt){Ot(Ye,rt),Pr(Ye,rt);var it=new Uint8Array(Qt);return Rt(it,Ye,rt),it},ee.box.after=ee.secretbox,ee.box.open=function(Ye,rt,it,Fe){var ot=ee.box.before(it,Fe);return ee.secretbox.open(Ye,rt,ot)},ee.box.open.after=ee.secretbox.open,ee.box.keyPair=function(){var Ye=new Uint8Array(zt),rt=new Uint8Array(Ht);return qt(Ye,rt),{publicKey:Ye,secretKey:rt}},ee.box.keyPair.fromSecretKey=function(Ye){if(Ot(Ye),Ye.length!==Ht)throw new Error("bad secret key size");var rt=new Uint8Array(zt);return Tt(rt,Ye),{publicKey:rt,secretKey:new Uint8Array(Ye)}},ee.box.publicKeyLength=zt,ee.box.secretKeyLength=Ht,ee.box.sharedKeyLength=Qt,ee.box.nonceLength=Ir,ee.box.overheadLength=ee.secretbox.overheadLength,ee.sign=function(Ye,rt){if(Ot(Ye,rt),rt.length!==Zt)throw new Error("bad secret key size");var it=new Uint8Array($r+Ye.length);return xe(it,Ye,Ye.length,rt),it},ee.sign.open=function(Ye,rt){if(Ot(Ye,rt),rt.length!==Ft)throw new Error("bad public key size");var it=new Uint8Array(Ye.length),Fe=We(it,Ye,Ye.length,rt);if(Fe<0)return null;for(var ot=new Uint8Array(Fe),wt=0;wt<ot.length;wt++)ot[wt]=it[wt];return ot},ee.sign.detached=function(Ye,rt){for(var it=ee.sign(Ye,rt),Fe=new Uint8Array($r),ot=0;ot<Fe.length;ot++)Fe[ot]=it[ot];return Fe},ee.sign.detached.verify=function(Ye,rt,it){if(Ot(Ye,rt,it),rt.length!==$r)throw new Error("bad signature size");if(it.length!==Ft)throw new Error("bad public key size");var Fe=new Uint8Array($r+Ye.length),ot=new Uint8Array($r+Ye.length),wt;for(wt=0;wt<$r;wt++)Fe[wt]=rt[wt];for(wt=0;wt<Ye.length;wt++)Fe[wt+$r]=Ye[wt];return We(ot,Fe,Fe.length,it)>=0},ee.sign.keyPair=function(){var Ye=new Uint8Array(Ft),rt=new Uint8Array(Zt);return Bt(Ye,rt),{publicKey:Ye,secretKey:rt}},ee.sign.keyPair.fromSecretKey=function(Ye){if(Ot(Ye),Ye.length!==Zt)throw new Error("bad secret key size");for(var rt=new Uint8Array(Ft),it=0;it<rt.length;it++)rt[it]=Ye[32+it];return{publicKey:rt,secretKey:new Uint8Array(Ye)}},ee.sign.keyPair.fromSeed=function(Ye){if(Ot(Ye),Ye.length!==kr)throw new Error("bad seed size");for(var rt=new Uint8Array(Ft),it=new Uint8Array(Zt),Fe=0;Fe<32;Fe++)it[Fe]=Ye[Fe];return Bt(rt,it,!0),{publicKey:rt,secretKey:it}},ee.sign.publicKeyLength=Ft,ee.sign.secretKeyLength=Zt,ee.sign.seedLength=kr,ee.sign.signatureLength=$r,ee.hash=function(Ye){Ot(Ye);var rt=new Uint8Array(Wt);return Ze(rt,Ye,Ye.length),rt},ee.hash.hashLength=Wt,ee.verify=function(Ye,rt){return Ot(Ye,rt),Ye.length===0||rt.length===0||Ye.length!==rt.length?!1:Ce(Ye,0,rt,0,Ye.length)===0},ee.setPRNG=function(Ye){ne=Ye},function(){var Ye=typeof self!="undefined"?self.crypto||self.msCrypto:null;if(Ye&&Ye.getRandomValues){var rt=65536;ee.setPRNG(function(it,Fe){var ot,wt=new Uint8Array(Fe);for(ot=0;ot<Fe;ot+=rt)Ye.getRandomValues(wt.subarray(ot,ot+Math.min(Fe-ot,rt)));for(ot=0;ot<Fe;ot++)it[ot]=wt[ot];tr(wt)})}else typeof commonjsRequire$1!="undefined"&&(Ye=require$$3$1,Ye&&Ye.randomBytes&&ee.setPRNG(function(it,Fe){var ot,wt=Ye.randomBytes(Fe);for(ot=0;ot<Fe;ot++)it[ot]=wt[ot];tr(wt)}))}()})(te.exports?te.exports:self.nacl=self.nacl||{})})(naclFast);var nacl=naclFast.exports,buffer$3={},base64Js$1={};base64Js$1.byteLength=byteLength$2;var toByteArray_1=base64Js$1.toByteArray=toByteArray$1,fromByteArray_1=base64Js$1.fromByteArray=fromByteArray$1,lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array!="undefined"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$4=0,len$1=code$1.length;i$4<len$1;++i$4)lookup$1[i$4]=code$1[i$4],revLookup$1[code$1.charCodeAt(i$4)]=i$4;revLookup$1["-".charCodeAt(0)]=62;revLookup$1["_".charCodeAt(0)]=63;function getLens$1(te){var ee=te.length;if(ee%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=te.indexOf("=");re===-1&&(re=ee);var ne=re===ee?0:4-re%4;return[re,ne]}function byteLength$2(te){var ee=getLens$1(te),re=ee[0],ne=ee[1];return(re+ne)*3/4-ne}function _byteLength$1(te,ee,re){return(ee+re)*3/4-re}function toByteArray$1(te){var ee,re=getLens$1(te),ne=re[0],oe=re[1],ie=new Arr$1(_byteLength$1(te,ne,oe)),se=0,ue=oe>0?ne-4:ne,he;for(he=0;he<ue;he+=4)ee=revLookup$1[te.charCodeAt(he)]<<18|revLookup$1[te.charCodeAt(he+1)]<<12|revLookup$1[te.charCodeAt(he+2)]<<6|revLookup$1[te.charCodeAt(he+3)],ie[se++]=ee>>16&255,ie[se++]=ee>>8&255,ie[se++]=ee&255;return oe===2&&(ee=revLookup$1[te.charCodeAt(he)]<<2|revLookup$1[te.charCodeAt(he+1)]>>4,ie[se++]=ee&255),oe===1&&(ee=revLookup$1[te.charCodeAt(he)]<<10|revLookup$1[te.charCodeAt(he+1)]<<4|revLookup$1[te.charCodeAt(he+2)]>>2,ie[se++]=ee>>8&255,ie[se++]=ee&255),ie}function tripletToBase64$1(te){return lookup$1[te>>18&63]+lookup$1[te>>12&63]+lookup$1[te>>6&63]+lookup$1[te&63]}function encodeChunk$1(te,ee,re){for(var ne,oe=[],ie=ee;ie<re;ie+=3)ne=(te[ie]<<16&16711680)+(te[ie+1]<<8&65280)+(te[ie+2]&255),oe.push(tripletToBase64$1(ne));return oe.join("")}function fromByteArray$1(te){for(var ee,re=te.length,ne=re%3,oe=[],ie=16383,se=0,ue=re-ne;se<ue;se+=ie)oe.push(encodeChunk$1(te,se,se+ie>ue?ue:se+ie));return ne===1?(ee=te[re-1],oe.push(lookup$1[ee>>2]+lookup$1[ee<<4&63]+"==")):ne===2&&(ee=(te[re-2]<<8)+te[re-1],oe.push(lookup$1[ee>>10]+lookup$1[ee>>4&63]+lookup$1[ee<<2&63]+"=")),oe.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(te,ee,re,ne,oe){var ie,se,ue=oe*8-ne-1,he=(1<<ue)-1,ge=he>>1,be=-7,Se=re?oe-1:0,Te=re?-1:1,ke=te[ee+Se];for(Se+=Te,ie=ke&(1<<-be)-1,ke>>=-be,be+=ue;be>0;ie=ie*256+te[ee+Se],Se+=Te,be-=8);for(se=ie&(1<<-be)-1,ie>>=-be,be+=ne;be>0;se=se*256+te[ee+Se],Se+=Te,be-=8);if(ie===0)ie=1-ge;else{if(ie===he)return se?NaN:(ke?-1:1)*(1/0);se=se+Math.pow(2,ne),ie=ie-ge}return(ke?-1:1)*se*Math.pow(2,ie-ne)};ieee754$1.write=function(te,ee,re,ne,oe,ie){var se,ue,he,ge=ie*8-oe-1,be=(1<<ge)-1,Se=be>>1,Te=oe===23?Math.pow(2,-24)-Math.pow(2,-77):0,ke=ne?0:ie-1,Re=ne?1:-1,Ce=ee<0||ee===0&&1/ee<0?1:0;for(ee=Math.abs(ee),isNaN(ee)||ee===1/0?(ue=isNaN(ee)?1:0,se=be):(se=Math.floor(Math.log(ee)/Math.LN2),ee*(he=Math.pow(2,-se))<1&&(se--,he*=2),se+Se>=1?ee+=Te/he:ee+=Te*Math.pow(2,1-Se),ee*he>=2&&(se++,he/=2),se+Se>=be?(ue=0,se=be):se+Se>=1?(ue=(ee*he-1)*Math.pow(2,oe),se=se+Se):(ue=ee*Math.pow(2,Se-1)*Math.pow(2,oe),se=0));oe>=8;te[re+ke]=ue&255,ke+=Re,ue/=256,oe-=8);for(se=se<<oe|ue,ge+=oe;ge>0;te[re+ke]=se&255,ke+=Re,se/=256,ge-=8);te[re+ke-Re]|=Ce*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(te){const ee=base64Js$1,re=ieee754$1,ne=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;te.Buffer=ue,te.SlowBuffer=Ne,te.INSPECT_MAX_BYTES=50;const oe=2147483647;te.kMaxLength=oe,ue.TYPED_ARRAY_SUPPORT=ie(),!ue.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ie(){try{const Ae=new Uint8Array(1),ve={foo:function(){return 42}};return Object.setPrototypeOf(ve,Uint8Array.prototype),Object.setPrototypeOf(Ae,ve),Ae.foo()===42}catch{return!1}}Object.defineProperty(ue.prototype,"parent",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.buffer}}),Object.defineProperty(ue.prototype,"offset",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.byteOffset}});function se(Ae){if(Ae>oe)throw new RangeError('The value "'+Ae+'" is invalid for option "size"');const ve=new Uint8Array(Ae);return Object.setPrototypeOf(ve,ue.prototype),ve}function ue(Ae,ve,xe){if(typeof Ae=="number"){if(typeof ve=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Se(Ae)}return he(Ae,ve,xe)}ue.poolSize=8192;function he(Ae,ve,xe){if(typeof Ae=="string")return Te(Ae,ve);if(ArrayBuffer.isView(Ae))return Re(Ae);if(Ae==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ae);if(mt(Ae,ArrayBuffer)||Ae&&mt(Ae.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(mt(Ae,SharedArrayBuffer)||Ae&&mt(Ae.buffer,SharedArrayBuffer)))return Ce(Ae,ve,xe);if(typeof Ae=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Be=Ae.valueOf&&Ae.valueOf();if(Be!=null&&Be!==Ae)return ue.from(Be,ve,xe);const We=Pe(Ae);if(We)return We;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof Ae[Symbol.toPrimitive]=="function")return ue.from(Ae[Symbol.toPrimitive]("string"),ve,xe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ae)}ue.from=function(Ae,ve,xe){return he(Ae,ve,xe)},Object.setPrototypeOf(ue.prototype,Uint8Array.prototype),Object.setPrototypeOf(ue,Uint8Array);function ge(Ae){if(typeof Ae!="number")throw new TypeError('"size" argument must be of type number');if(Ae<0)throw new RangeError('The value "'+Ae+'" is invalid for option "size"')}function be(Ae,ve,xe){return ge(Ae),Ae<=0?se(Ae):ve!==void 0?typeof xe=="string"?se(Ae).fill(ve,xe):se(Ae).fill(ve):se(Ae)}ue.alloc=function(Ae,ve,xe){return be(Ae,ve,xe)};function Se(Ae){return ge(Ae),se(Ae<0?0:Ie(Ae)|0)}ue.allocUnsafe=function(Ae){return Se(Ae)},ue.allocUnsafeSlow=function(Ae){return Se(Ae)};function Te(Ae,ve){if((typeof ve!="string"||ve==="")&&(ve="utf8"),!ue.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);const xe=He(Ae,ve)|0;let Be=se(xe);const We=Be.write(Ae,ve);return We!==xe&&(Be=Be.slice(0,We)),Be}function ke(Ae){const ve=Ae.length<0?0:Ie(Ae.length)|0,xe=se(ve);for(let Be=0;Be<ve;Be+=1)xe[Be]=Ae[Be]&255;return xe}function Re(Ae){if(mt(Ae,Uint8Array)){const ve=new Uint8Array(Ae);return Ce(ve.buffer,ve.byteOffset,ve.byteLength)}return ke(Ae)}function Ce(Ae,ve,xe){if(ve<0||Ae.byteLength<ve)throw new RangeError('"offset" is outside of buffer bounds');if(Ae.byteLength<ve+(xe||0))throw new RangeError('"length" is outside of buffer bounds');let Be;return ve===void 0&&xe===void 0?Be=new Uint8Array(Ae):xe===void 0?Be=new Uint8Array(Ae,ve):Be=new Uint8Array(Ae,ve,xe),Object.setPrototypeOf(Be,ue.prototype),Be}function Pe(Ae){if(ue.isBuffer(Ae)){const ve=Ie(Ae.length)|0,xe=se(ve);return xe.length===0||Ae.copy(xe,0,0,ve),xe}if(Ae.length!==void 0)return typeof Ae.length!="number"||Lt(Ae.length)?se(0):ke(Ae);if(Ae.type==="Buffer"&&Array.isArray(Ae.data))return ke(Ae.data)}function Ie(Ae){if(Ae>=oe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+oe.toString(16)+" bytes");return Ae|0}function Ne(Ae){return+Ae!=Ae&&(Ae=0),ue.alloc(+Ae)}ue.isBuffer=function(ve){return ve!=null&&ve._isBuffer===!0&&ve!==ue.prototype},ue.compare=function(ve,xe){if(mt(ve,Uint8Array)&&(ve=ue.from(ve,ve.offset,ve.byteLength)),mt(xe,Uint8Array)&&(xe=ue.from(xe,xe.offset,xe.byteLength)),!ue.isBuffer(ve)||!ue.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ve===xe)return 0;let Be=ve.length,We=xe.length;for(let et=0,Xe=Math.min(Be,We);et<Xe;++et)if(ve[et]!==xe[et]){Be=ve[et],We=xe[et];break}return Be<We?-1:We<Be?1:0},ue.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ue.concat=function(ve,xe){if(!Array.isArray(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(ve.length===0)return ue.alloc(0);let Be;if(xe===void 0)for(xe=0,Be=0;Be<ve.length;++Be)xe+=ve[Be].length;const We=ue.allocUnsafe(xe);let et=0;for(Be=0;Be<ve.length;++Be){let Xe=ve[Be];if(mt(Xe,Uint8Array))et+Xe.length>We.length?(ue.isBuffer(Xe)||(Xe=ue.from(Xe)),Xe.copy(We,et)):Uint8Array.prototype.set.call(We,Xe,et);else if(ue.isBuffer(Xe))Xe.copy(We,et);else throw new TypeError('"list" argument must be an Array of Buffers');et+=Xe.length}return We};function He(Ae,ve){if(ue.isBuffer(Ae))return Ae.length;if(ArrayBuffer.isView(Ae)||mt(Ae,ArrayBuffer))return Ae.byteLength;if(typeof Ae!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ae);const xe=Ae.length,Be=arguments.length>2&&arguments[2]===!0;if(!Be&&xe===0)return 0;let We=!1;for(;;)switch(ve){case"ascii":case"latin1":case"binary":return xe;case"utf8":case"utf-8":return ze(Ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe*2;case"hex":return xe>>>1;case"base64":return yt(Ae).length;default:if(We)return Be?-1:ze(Ae).length;ve=(""+ve).toLowerCase(),We=!0}}ue.byteLength=He;function Ke(Ae,ve,xe){let Be=!1;if((ve===void 0||ve<0)&&(ve=0),ve>this.length||((xe===void 0||xe>this.length)&&(xe=this.length),xe<=0)||(xe>>>=0,ve>>>=0,xe<=ve))return"";for(Ae||(Ae="utf8");;)switch(Ae){case"hex":return me(this,ve,xe);case"utf8":case"utf-8":return le(this,ve,xe);case"ascii":return $e(this,ve,xe);case"latin1":case"binary":return Ee(this,ve,xe);case"base64":return ce(this,ve,xe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,ve,xe);default:if(Be)throw new TypeError("Unknown encoding: "+Ae);Ae=(Ae+"").toLowerCase(),Be=!0}}ue.prototype._isBuffer=!0;function Ge(Ae,ve,xe){const Be=Ae[ve];Ae[ve]=Ae[xe],Ae[xe]=Be}ue.prototype.swap16=function(){const ve=this.length;if(ve%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let xe=0;xe<ve;xe+=2)Ge(this,xe,xe+1);return this},ue.prototype.swap32=function(){const ve=this.length;if(ve%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let xe=0;xe<ve;xe+=4)Ge(this,xe,xe+3),Ge(this,xe+1,xe+2);return this},ue.prototype.swap64=function(){const ve=this.length;if(ve%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let xe=0;xe<ve;xe+=8)Ge(this,xe,xe+7),Ge(this,xe+1,xe+6),Ge(this,xe+2,xe+5),Ge(this,xe+3,xe+4);return this},ue.prototype.toString=function(){const ve=this.length;return ve===0?"":arguments.length===0?le(this,0,ve):Ke.apply(this,arguments)},ue.prototype.toLocaleString=ue.prototype.toString,ue.prototype.equals=function(ve){if(!ue.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve?!0:ue.compare(this,ve)===0},ue.prototype.inspect=function(){let ve="";const xe=te.INSPECT_MAX_BYTES;return ve=this.toString("hex",0,xe).replace(/(.{2})/g,"$1 ").trim(),this.length>xe&&(ve+=" ... "),"<Buffer "+ve+">"},ne&&(ue.prototype[ne]=ue.prototype.inspect),ue.prototype.compare=function(ve,xe,Be,We,et){if(mt(ve,Uint8Array)&&(ve=ue.from(ve,ve.offset,ve.byteLength)),!ue.isBuffer(ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ve);if(xe===void 0&&(xe=0),Be===void 0&&(Be=ve?ve.length:0),We===void 0&&(We=0),et===void 0&&(et=this.length),xe<0||Be>ve.length||We<0||et>this.length)throw new RangeError("out of range index");if(We>=et&&xe>=Be)return 0;if(We>=et)return-1;if(xe>=Be)return 1;if(xe>>>=0,Be>>>=0,We>>>=0,et>>>=0,this===ve)return 0;let Xe=et-We,Mt=Be-xe;const Vt=Math.min(Xe,Mt),At=this.slice(We,et),Nt=ve.slice(xe,Be);for(let zt=0;zt<Vt;++zt)if(At[zt]!==Nt[zt]){Xe=At[zt],Mt=Nt[zt];break}return Xe<Mt?-1:Mt<Xe?1:0};function ut(Ae,ve,xe,Be,We){if(Ae.length===0)return-1;if(typeof xe=="string"?(Be=xe,xe=0):xe>2147483647?xe=2147483647:xe<-2147483648&&(xe=-2147483648),xe=+xe,Lt(xe)&&(xe=We?0:Ae.length-1),xe<0&&(xe=Ae.length+xe),xe>=Ae.length){if(We)return-1;xe=Ae.length-1}else if(xe<0)if(We)xe=0;else return-1;if(typeof ve=="string"&&(ve=ue.from(ve,Be)),ue.isBuffer(ve))return ve.length===0?-1:Ve(Ae,ve,xe,Be,We);if(typeof ve=="number")return ve=ve&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(Ae,ve,xe):Uint8Array.prototype.lastIndexOf.call(Ae,ve,xe):Ve(Ae,[ve],xe,Be,We);throw new TypeError("val must be string, number or Buffer")}function Ve(Ae,ve,xe,Be,We){let et=1,Xe=Ae.length,Mt=ve.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(Ae.length<2||ve.length<2)return-1;et=2,Xe/=2,Mt/=2,xe/=2}function Vt(Nt,zt){return et===1?Nt[zt]:Nt.readUInt16BE(zt*et)}let At;if(We){let Nt=-1;for(At=xe;At<Xe;At++)if(Vt(Ae,At)===Vt(ve,Nt===-1?0:At-Nt)){if(Nt===-1&&(Nt=At),At-Nt+1===Mt)return Nt*et}else Nt!==-1&&(At-=At-Nt),Nt=-1}else for(xe+Mt>Xe&&(xe=Xe-Mt),At=xe;At>=0;At--){let Nt=!0;for(let zt=0;zt<Mt;zt++)if(Vt(Ae,At+zt)!==Vt(ve,zt)){Nt=!1;break}if(Nt)return At}return-1}ue.prototype.includes=function(ve,xe,Be){return this.indexOf(ve,xe,Be)!==-1},ue.prototype.indexOf=function(ve,xe,Be){return ut(this,ve,xe,Be,!0)},ue.prototype.lastIndexOf=function(ve,xe,Be){return ut(this,ve,xe,Be,!1)};function nt(Ae,ve,xe,Be){xe=Number(xe)||0;const We=Ae.length-xe;Be?(Be=Number(Be),Be>We&&(Be=We)):Be=We;const et=ve.length;Be>et/2&&(Be=et/2);let Xe;for(Xe=0;Xe<Be;++Xe){const Mt=parseInt(ve.substr(Xe*2,2),16);if(Lt(Mt))return Xe;Ae[xe+Xe]=Mt}return Xe}function st(Ae,ve,xe,Be){return dt(ze(ve,Ae.length-xe),Ae,xe,Be)}function qe(Ae,ve,xe,Be){return dt(De(ve),Ae,xe,Be)}function ye(Ae,ve,xe,Be){return dt(yt(ve),Ae,xe,Be)}function ae(Ae,ve,xe,Be){return dt(Ze(ve,Ae.length-xe),Ae,xe,Be)}ue.prototype.write=function(ve,xe,Be,We){if(xe===void 0)We="utf8",Be=this.length,xe=0;else if(Be===void 0&&typeof xe=="string")We=xe,Be=this.length,xe=0;else if(isFinite(xe))xe=xe>>>0,isFinite(Be)?(Be=Be>>>0,We===void 0&&(We="utf8")):(We=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const et=this.length-xe;if((Be===void 0||Be>et)&&(Be=et),ve.length>0&&(Be<0||xe<0)||xe>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");let Xe=!1;for(;;)switch(We){case"hex":return nt(this,ve,xe,Be);case"utf8":case"utf-8":return st(this,ve,xe,Be);case"ascii":case"latin1":case"binary":return qe(this,ve,xe,Be);case"base64":return ye(this,ve,xe,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,ve,xe,Be);default:if(Xe)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),Xe=!0}},ue.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(Ae,ve,xe){return ve===0&&xe===Ae.length?ee.fromByteArray(Ae):ee.fromByteArray(Ae.slice(ve,xe))}function le(Ae,ve,xe){xe=Math.min(Ae.length,xe);const Be=[];let We=ve;for(;We<xe;){const et=Ae[We];let Xe=null,Mt=et>239?4:et>223?3:et>191?2:1;if(We+Mt<=xe){let Vt,At,Nt,zt;switch(Mt){case 1:et<128&&(Xe=et);break;case 2:Vt=Ae[We+1],(Vt&192)===128&&(zt=(et&31)<<6|Vt&63,zt>127&&(Xe=zt));break;case 3:Vt=Ae[We+1],At=Ae[We+2],(Vt&192)===128&&(At&192)===128&&(zt=(et&15)<<12|(Vt&63)<<6|At&63,zt>2047&&(zt<55296||zt>57343)&&(Xe=zt));break;case 4:Vt=Ae[We+1],At=Ae[We+2],Nt=Ae[We+3],(Vt&192)===128&&(At&192)===128&&(Nt&192)===128&&(zt=(et&15)<<18|(Vt&63)<<12|(At&63)<<6|Nt&63,zt>65535&&zt<1114112&&(Xe=zt))}}Xe===null?(Xe=65533,Mt=1):Xe>65535&&(Xe-=65536,Be.push(Xe>>>10&1023|55296),Xe=56320|Xe&1023),Be.push(Xe),We+=Mt}return _e(Be)}const pe=4096;function _e(Ae){const ve=Ae.length;if(ve<=pe)return String.fromCharCode.apply(String,Ae);let xe="",Be=0;for(;Be<ve;)xe+=String.fromCharCode.apply(String,Ae.slice(Be,Be+=pe));return xe}function $e(Ae,ve,xe){let Be="";xe=Math.min(Ae.length,xe);for(let We=ve;We<xe;++We)Be+=String.fromCharCode(Ae[We]&127);return Be}function Ee(Ae,ve,xe){let Be="";xe=Math.min(Ae.length,xe);for(let We=ve;We<xe;++We)Be+=String.fromCharCode(Ae[We]);return Be}function me(Ae,ve,xe){const Be=Ae.length;(!ve||ve<0)&&(ve=0),(!xe||xe<0||xe>Be)&&(xe=Be);let We="";for(let et=ve;et<xe;++et)We+=St[Ae[et]];return We}function fe(Ae,ve,xe){const Be=Ae.slice(ve,xe);let We="";for(let et=0;et<Be.length-1;et+=2)We+=String.fromCharCode(Be[et]+Be[et+1]*256);return We}ue.prototype.slice=function(ve,xe){const Be=this.length;ve=~~ve,xe=xe===void 0?Be:~~xe,ve<0?(ve+=Be,ve<0&&(ve=0)):ve>Be&&(ve=Be),xe<0?(xe+=Be,xe<0&&(xe=0)):xe>Be&&(xe=Be),xe<ve&&(xe=ve);const We=this.subarray(ve,xe);return Object.setPrototypeOf(We,ue.prototype),We};function we(Ae,ve,xe){if(Ae%1!==0||Ae<0)throw new RangeError("offset is not uint");if(Ae+ve>xe)throw new RangeError("Trying to access beyond buffer length")}ue.prototype.readUintLE=ue.prototype.readUIntLE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=this[ve],et=1,Xe=0;for(;++Xe<xe&&(et*=256);)We+=this[ve+Xe]*et;return We},ue.prototype.readUintBE=ue.prototype.readUIntBE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=this[ve+--xe],et=1;for(;xe>0&&(et*=256);)We+=this[ve+--xe]*et;return We},ue.prototype.readUint8=ue.prototype.readUInt8=function(ve,xe){return ve=ve>>>0,xe||we(ve,1,this.length),this[ve]},ue.prototype.readUint16LE=ue.prototype.readUInt16LE=function(ve,xe){return ve=ve>>>0,xe||we(ve,2,this.length),this[ve]|this[ve+1]<<8},ue.prototype.readUint16BE=ue.prototype.readUInt16BE=function(ve,xe){return ve=ve>>>0,xe||we(ve,2,this.length),this[ve]<<8|this[ve+1]},ue.prototype.readUint32LE=ue.prototype.readUInt32LE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+this[ve+3]*16777216},ue.prototype.readUint32BE=ue.prototype.readUInt32BE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),this[ve]*16777216+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},ue.prototype.readBigUInt64LE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=xe+this[++ve]*2**8+this[++ve]*2**16+this[++ve]*2**24,et=this[++ve]+this[++ve]*2**8+this[++ve]*2**16+Be*2**24;return BigInt(We)+(BigInt(et)<<BigInt(32))}),ue.prototype.readBigUInt64BE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=xe*2**24+this[++ve]*2**16+this[++ve]*2**8+this[++ve],et=this[++ve]*2**24+this[++ve]*2**16+this[++ve]*2**8+Be;return(BigInt(We)<<BigInt(32))+BigInt(et)}),ue.prototype.readIntLE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=this[ve],et=1,Xe=0;for(;++Xe<xe&&(et*=256);)We+=this[ve+Xe]*et;return et*=128,We>=et&&(We-=Math.pow(2,8*xe)),We},ue.prototype.readIntBE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=xe,et=1,Xe=this[ve+--We];for(;We>0&&(et*=256);)Xe+=this[ve+--We]*et;return et*=128,Xe>=et&&(Xe-=Math.pow(2,8*xe)),Xe},ue.prototype.readInt8=function(ve,xe){return ve=ve>>>0,xe||we(ve,1,this.length),this[ve]&128?(255-this[ve]+1)*-1:this[ve]},ue.prototype.readInt16LE=function(ve,xe){ve=ve>>>0,xe||we(ve,2,this.length);const Be=this[ve]|this[ve+1]<<8;return Be&32768?Be|4294901760:Be},ue.prototype.readInt16BE=function(ve,xe){ve=ve>>>0,xe||we(ve,2,this.length);const Be=this[ve+1]|this[ve]<<8;return Be&32768?Be|4294901760:Be},ue.prototype.readInt32LE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},ue.prototype.readInt32BE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},ue.prototype.readBigInt64LE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=this[ve+4]+this[ve+5]*2**8+this[ve+6]*2**16+(Be<<24);return(BigInt(We)<<BigInt(32))+BigInt(xe+this[++ve]*2**8+this[++ve]*2**16+this[++ve]*2**24)}),ue.prototype.readBigInt64BE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=(xe<<24)+this[++ve]*2**16+this[++ve]*2**8+this[++ve];return(BigInt(We)<<BigInt(32))+BigInt(this[++ve]*2**24+this[++ve]*2**16+this[++ve]*2**8+Be)}),ue.prototype.readFloatLE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),re.read(this,ve,!0,23,4)},ue.prototype.readFloatBE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),re.read(this,ve,!1,23,4)},ue.prototype.readDoubleLE=function(ve,xe){return ve=ve>>>0,xe||we(ve,8,this.length),re.read(this,ve,!0,52,8)},ue.prototype.readDoubleBE=function(ve,xe){return ve=ve>>>0,xe||we(ve,8,this.length),re.read(this,ve,!1,52,8)};function Me(Ae,ve,xe,Be,We,et){if(!ue.isBuffer(Ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(ve>We||ve<et)throw new RangeError('"value" argument is out of bounds');if(xe+Be>Ae.length)throw new RangeError("Index out of range")}ue.prototype.writeUintLE=ue.prototype.writeUIntLE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,Be=Be>>>0,!We){const Mt=Math.pow(2,8*Be)-1;Me(this,ve,xe,Be,Mt,0)}let et=1,Xe=0;for(this[xe]=ve&255;++Xe<Be&&(et*=256);)this[xe+Xe]=ve/et&255;return xe+Be},ue.prototype.writeUintBE=ue.prototype.writeUIntBE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,Be=Be>>>0,!We){const Mt=Math.pow(2,8*Be)-1;Me(this,ve,xe,Be,Mt,0)}let et=Be-1,Xe=1;for(this[xe+et]=ve&255;--et>=0&&(Xe*=256);)this[xe+et]=ve/Xe&255;return xe+Be},ue.prototype.writeUint8=ue.prototype.writeUInt8=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,1,255,0),this[xe]=ve&255,xe+1},ue.prototype.writeUint16LE=ue.prototype.writeUInt16LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,65535,0),this[xe]=ve&255,this[xe+1]=ve>>>8,xe+2},ue.prototype.writeUint16BE=ue.prototype.writeUInt16BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,65535,0),this[xe]=ve>>>8,this[xe+1]=ve&255,xe+2},ue.prototype.writeUint32LE=ue.prototype.writeUInt32LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,4294967295,0),this[xe+3]=ve>>>24,this[xe+2]=ve>>>16,this[xe+1]=ve>>>8,this[xe]=ve&255,xe+4},ue.prototype.writeUint32BE=ue.prototype.writeUInt32BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,4294967295,0),this[xe]=ve>>>24,this[xe+1]=ve>>>16,this[xe+2]=ve>>>8,this[xe+3]=ve&255,xe+4};function Le(Ae,ve,xe,Be,We){Rt(ve,Be,We,Ae,xe,7);let et=Number(ve&BigInt(4294967295));Ae[xe++]=et,et=et>>8,Ae[xe++]=et,et=et>>8,Ae[xe++]=et,et=et>>8,Ae[xe++]=et;let Xe=Number(ve>>BigInt(32)&BigInt(4294967295));return Ae[xe++]=Xe,Xe=Xe>>8,Ae[xe++]=Xe,Xe=Xe>>8,Ae[xe++]=Xe,Xe=Xe>>8,Ae[xe++]=Xe,xe}function Je(Ae,ve,xe,Be,We){Rt(ve,Be,We,Ae,xe,7);let et=Number(ve&BigInt(4294967295));Ae[xe+7]=et,et=et>>8,Ae[xe+6]=et,et=et>>8,Ae[xe+5]=et,et=et>>8,Ae[xe+4]=et;let Xe=Number(ve>>BigInt(32)&BigInt(4294967295));return Ae[xe+3]=Xe,Xe=Xe>>8,Ae[xe+2]=Xe,Xe=Xe>>8,Ae[xe+1]=Xe,Xe=Xe>>8,Ae[xe]=Xe,xe+8}ue.prototype.writeBigUInt64LE=Bt(function(ve,xe=0){return Le(this,ve,xe,BigInt(0),BigInt("0xffffffffffffffff"))}),ue.prototype.writeBigUInt64BE=Bt(function(ve,xe=0){return Je(this,ve,xe,BigInt(0),BigInt("0xffffffffffffffff"))}),ue.prototype.writeIntLE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,!We){const Vt=Math.pow(2,8*Be-1);Me(this,ve,xe,Be,Vt-1,-Vt)}let et=0,Xe=1,Mt=0;for(this[xe]=ve&255;++et<Be&&(Xe*=256);)ve<0&&Mt===0&&this[xe+et-1]!==0&&(Mt=1),this[xe+et]=(ve/Xe>>0)-Mt&255;return xe+Be},ue.prototype.writeIntBE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,!We){const Vt=Math.pow(2,8*Be-1);Me(this,ve,xe,Be,Vt-1,-Vt)}let et=Be-1,Xe=1,Mt=0;for(this[xe+et]=ve&255;--et>=0&&(Xe*=256);)ve<0&&Mt===0&&this[xe+et+1]!==0&&(Mt=1),this[xe+et]=(ve/Xe>>0)-Mt&255;return xe+Be},ue.prototype.writeInt8=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,1,127,-128),ve<0&&(ve=255+ve+1),this[xe]=ve&255,xe+1},ue.prototype.writeInt16LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,32767,-32768),this[xe]=ve&255,this[xe+1]=ve>>>8,xe+2},ue.prototype.writeInt16BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,32767,-32768),this[xe]=ve>>>8,this[xe+1]=ve&255,xe+2},ue.prototype.writeInt32LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,2147483647,-2147483648),this[xe]=ve&255,this[xe+1]=ve>>>8,this[xe+2]=ve>>>16,this[xe+3]=ve>>>24,xe+4},ue.prototype.writeInt32BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),this[xe]=ve>>>24,this[xe+1]=ve>>>16,this[xe+2]=ve>>>8,this[xe+3]=ve&255,xe+4},ue.prototype.writeBigInt64LE=Bt(function(ve,xe=0){return Le(this,ve,xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ue.prototype.writeBigInt64BE=Bt(function(ve,xe=0){return Je(this,ve,xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ue(Ae,ve,xe,Be,We,et){if(xe+Be>Ae.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("Index out of range")}function ct(Ae,ve,xe,Be,We){return ve=+ve,xe=xe>>>0,We||Ue(Ae,ve,xe,4),re.write(Ae,ve,xe,Be,23,4),xe+4}ue.prototype.writeFloatLE=function(ve,xe,Be){return ct(this,ve,xe,!0,Be)},ue.prototype.writeFloatBE=function(ve,xe,Be){return ct(this,ve,xe,!1,Be)};function gt(Ae,ve,xe,Be,We){return ve=+ve,xe=xe>>>0,We||Ue(Ae,ve,xe,8),re.write(Ae,ve,xe,Be,52,8),xe+8}ue.prototype.writeDoubleLE=function(ve,xe,Be){return gt(this,ve,xe,!0,Be)},ue.prototype.writeDoubleBE=function(ve,xe,Be){return gt(this,ve,xe,!1,Be)},ue.prototype.copy=function(ve,xe,Be,We){if(!ue.isBuffer(ve))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!We&&We!==0&&(We=this.length),xe>=ve.length&&(xe=ve.length),xe||(xe=0),We>0&&We<Be&&(We=Be),We===Be||ve.length===0||this.length===0)return 0;if(xe<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),ve.length-xe<We-Be&&(We=ve.length-xe+Be);const et=We-Be;return this===ve&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(xe,Be,We):Uint8Array.prototype.set.call(ve,this.subarray(Be,We),xe),et},ue.prototype.fill=function(ve,xe,Be,We){if(typeof ve=="string"){if(typeof xe=="string"?(We=xe,xe=0,Be=this.length):typeof Be=="string"&&(We=Be,Be=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!ue.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(ve.length===1){const Xe=ve.charCodeAt(0);(We==="utf8"&&Xe<128||We==="latin1")&&(ve=Xe)}}else typeof ve=="number"?ve=ve&255:typeof ve=="boolean"&&(ve=Number(ve));if(xe<0||this.length<xe||this.length<Be)throw new RangeError("Out of range index");if(Be<=xe)return this;xe=xe>>>0,Be=Be===void 0?this.length:Be>>>0,ve||(ve=0);let et;if(typeof ve=="number")for(et=xe;et<Be;++et)this[et]=ve;else{const Xe=ue.isBuffer(ve)?ve:ue.from(ve,We),Mt=Xe.length;if(Mt===0)throw new TypeError('The value "'+ve+'" is invalid for argument "value"');for(et=0;et<Be-xe;++et)this[et+xe]=Xe[et%Mt]}return this};const $t={};function vt(Ae,ve,xe){$t[Ae]=class extends xe{constructor(){super(),Object.defineProperty(this,"message",{value:ve.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ae}]`,this.stack,delete this.name}get code(){return Ae}set code(We){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:We,writable:!0})}toString(){return`${this.name} [${Ae}]: ${this.message}`}}}vt("ERR_BUFFER_OUT_OF_BOUNDS",function(Ae){return Ae?`${Ae} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),vt("ERR_INVALID_ARG_TYPE",function(Ae,ve){return`The "${Ae}" argument must be of type number. Received type ${typeof ve}`},TypeError),vt("ERR_OUT_OF_RANGE",function(Ae,ve,xe){let Be=`The value of "${Ae}" is out of range.`,We=xe;return Number.isInteger(xe)&&Math.abs(xe)>2**32?We=Tt(String(xe)):typeof xe=="bigint"&&(We=String(xe),(xe>BigInt(2)**BigInt(32)||xe<-(BigInt(2)**BigInt(32)))&&(We=Tt(We)),We+="n"),Be+=` It must be ${ve}. Received ${We}`,Be},RangeError);function Tt(Ae){let ve="",xe=Ae.length;const Be=Ae[0]==="-"?1:0;for(;xe>=Be+4;xe-=3)ve=`_${Ae.slice(xe-3,xe)}${ve}`;return`${Ae.slice(0,xe)}${ve}`}function qt(Ae,ve,xe){lt(ve,"offset"),(Ae[ve]===void 0||Ae[ve+xe]===void 0)&&_t(ve,Ae.length-(xe+1))}function Rt(Ae,ve,xe,Be,We,et){if(Ae>xe||Ae<ve){const Xe=typeof ve=="bigint"?"n":"";let Mt;throw et>3?ve===0||ve===BigInt(0)?Mt=`>= 0${Xe} and < 2${Xe} ** ${(et+1)*8}${Xe}`:Mt=`>= -(2${Xe} ** ${(et+1)*8-1}${Xe}) and < 2 ** ${(et+1)*8-1}${Xe}`:Mt=`>= ${ve}${Xe} and <= ${xe}${Xe}`,new $t.ERR_OUT_OF_RANGE("value",Mt,Ae)}qt(Be,We,et)}function lt(Ae,ve){if(typeof Ae!="number")throw new $t.ERR_INVALID_ARG_TYPE(ve,"number",Ae)}function _t(Ae,ve,xe){throw Math.floor(Ae)!==Ae?(lt(Ae,xe),new $t.ERR_OUT_OF_RANGE(xe||"offset","an integer",Ae)):ve<0?new $t.ERR_BUFFER_OUT_OF_BOUNDS:new $t.ERR_OUT_OF_RANGE(xe||"offset",`>= ${xe?1:0} and <= ${ve}`,Ae)}const bt=/[^+/0-9A-Za-z-_]/g;function Qe(Ae){if(Ae=Ae.split("=")[0],Ae=Ae.trim().replace(bt,""),Ae.length<2)return"";for(;Ae.length%4!==0;)Ae=Ae+"=";return Ae}function ze(Ae,ve){ve=ve||1/0;let xe;const Be=Ae.length;let We=null;const et=[];for(let Xe=0;Xe<Be;++Xe){if(xe=Ae.charCodeAt(Xe),xe>55295&&xe<57344){if(!We){if(xe>56319){(ve-=3)>-1&&et.push(239,191,189);continue}else if(Xe+1===Be){(ve-=3)>-1&&et.push(239,191,189);continue}We=xe;continue}if(xe<56320){(ve-=3)>-1&&et.push(239,191,189),We=xe;continue}xe=(We-55296<<10|xe-56320)+65536}else We&&(ve-=3)>-1&&et.push(239,191,189);if(We=null,xe<128){if((ve-=1)<0)break;et.push(xe)}else if(xe<2048){if((ve-=2)<0)break;et.push(xe>>6|192,xe&63|128)}else if(xe<65536){if((ve-=3)<0)break;et.push(xe>>12|224,xe>>6&63|128,xe&63|128)}else if(xe<1114112){if((ve-=4)<0)break;et.push(xe>>18|240,xe>>12&63|128,xe>>6&63|128,xe&63|128)}else throw new Error("Invalid code point")}return et}function De(Ae){const ve=[];for(let xe=0;xe<Ae.length;++xe)ve.push(Ae.charCodeAt(xe)&255);return ve}function Ze(Ae,ve){let xe,Be,We;const et=[];for(let Xe=0;Xe<Ae.length&&!((ve-=2)<0);++Xe)xe=Ae.charCodeAt(Xe),Be=xe>>8,We=xe%256,et.push(We),et.push(Be);return et}function yt(Ae){return ee.toByteArray(Qe(Ae))}function dt(Ae,ve,xe,Be){let We;for(We=0;We<Be&&!(We+xe>=ve.length||We>=Ae.length);++We)ve[We+xe]=Ae[We];return We}function mt(Ae,ve){return Ae instanceof ve||Ae!=null&&Ae.constructor!=null&&Ae.constructor.name!=null&&Ae.constructor.name===ve.name}function Lt(Ae){return Ae!==Ae}const St=function(){const Ae="0123456789abcdef",ve=new Array(256);for(let xe=0;xe<16;++xe){const Be=xe*16;for(let We=0;We<16;++We)ve[Be+We]=Ae[xe]+Ae[We]}return ve}();function Bt(Ae){return typeof BigInt=="undefined"?Gt:Ae}function Gt(){throw new Error("BigInt not supported")}})(buffer$3);var bn$4={exports:{}};(function(te){(function(ee,re){function ne(ce,le){if(!ce)throw new Error(le||"Assertion failed")}function oe(ce,le){ce.super_=le;var pe=function(){};pe.prototype=le.prototype,ce.prototype=new pe,ce.prototype.constructor=ce}function ie(ce,le,pe){if(ie.isBN(ce))return ce;this.negative=0,this.words=null,this.length=0,this.red=null,ce!==null&&((le==="le"||le==="be")&&(pe=le,le=10),this._init(ce||0,le||10,pe||"be"))}typeof ee=="object"?ee.exports=ie:re.BN=ie,ie.BN=ie,ie.wordSize=26;var se;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?se=window.Buffer:se=require("buffer").Buffer}catch{}ie.isBN=function(le){return le instanceof ie?!0:le!==null&&typeof le=="object"&&le.constructor.wordSize===ie.wordSize&&Array.isArray(le.words)},ie.max=function(le,pe){return le.cmp(pe)>0?le:pe},ie.min=function(le,pe){return le.cmp(pe)<0?le:pe},ie.prototype._init=function(le,pe,_e){if(typeof le=="number")return this._initNumber(le,pe,_e);if(typeof le=="object")return this._initArray(le,pe,_e);pe==="hex"&&(pe=16),ne(pe===(pe|0)&&pe>=2&&pe<=36),le=le.toString().replace(/\s+/g,"");var $e=0;le[0]==="-"&&($e++,this.negative=1),$e<le.length&&(pe===16?this._parseHex(le,$e,_e):(this._parseBase(le,pe,$e),_e==="le"&&this._initArray(this.toArray(),pe,_e)))},ie.prototype._initNumber=function(le,pe,_e){le<0&&(this.negative=1,le=-le),le<67108864?(this.words=[le&67108863],this.length=1):le<4503599627370496?(this.words=[le&67108863,le/67108864&67108863],this.length=2):(ne(le<9007199254740992),this.words=[le&67108863,le/67108864&67108863,1],this.length=3),_e==="le"&&this._initArray(this.toArray(),pe,_e)},ie.prototype._initArray=function(le,pe,_e){if(ne(typeof le.length=="number"),le.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(le.length/3),this.words=new Array(this.length);for(var $e=0;$e<this.length;$e++)this.words[$e]=0;var Ee,me,fe=0;if(_e==="be")for($e=le.length-1,Ee=0;$e>=0;$e-=3)me=le[$e]|le[$e-1]<<8|le[$e-2]<<16,this.words[Ee]|=me<<fe&67108863,this.words[Ee+1]=me>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,Ee++);else if(_e==="le")for($e=0,Ee=0;$e<le.length;$e+=3)me=le[$e]|le[$e+1]<<8|le[$e+2]<<16,this.words[Ee]|=me<<fe&67108863,this.words[Ee+1]=me>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,Ee++);return this._strip()};function ue(ce,le){var pe=ce.charCodeAt(le);if(pe>=48&&pe<=57)return pe-48;if(pe>=65&&pe<=70)return pe-55;if(pe>=97&&pe<=102)return pe-87;ne(!1,"Invalid character in "+ce)}function he(ce,le,pe){var _e=ue(ce,pe);return pe-1>=le&&(_e|=ue(ce,pe-1)<<4),_e}ie.prototype._parseHex=function(le,pe,_e){this.length=Math.ceil((le.length-pe)/6),this.words=new Array(this.length);for(var $e=0;$e<this.length;$e++)this.words[$e]=0;var Ee=0,me=0,fe;if(_e==="be")for($e=le.length-1;$e>=pe;$e-=2)fe=he(le,pe,$e)<<Ee,this.words[me]|=fe&67108863,Ee>=18?(Ee-=18,me+=1,this.words[me]|=fe>>>26):Ee+=8;else{var we=le.length-pe;for($e=we%2===0?pe+1:pe;$e<le.length;$e+=2)fe=he(le,pe,$e)<<Ee,this.words[me]|=fe&67108863,Ee>=18?(Ee-=18,me+=1,this.words[me]|=fe>>>26):Ee+=8}this._strip()};function ge(ce,le,pe,_e){for(var $e=0,Ee=0,me=Math.min(ce.length,pe),fe=le;fe<me;fe++){var we=ce.charCodeAt(fe)-48;$e*=_e,we>=49?Ee=we-49+10:we>=17?Ee=we-17+10:Ee=we,ne(we>=0&&Ee<_e,"Invalid character"),$e+=Ee}return $e}ie.prototype._parseBase=function(le,pe,_e){this.words=[0],this.length=1;for(var $e=0,Ee=1;Ee<=67108863;Ee*=pe)$e++;$e--,Ee=Ee/pe|0;for(var me=le.length-_e,fe=me%$e,we=Math.min(me,me-fe)+_e,Me=0,Le=_e;Le<we;Le+=$e)Me=ge(le,Le,Le+$e,pe),this.imuln(Ee),this.words[0]+Me<67108864?this.words[0]+=Me:this._iaddn(Me);if(fe!==0){var Je=1;for(Me=ge(le,Le,le.length,pe),Le=0;Le<fe;Le++)Je*=pe;this.imuln(Je),this.words[0]+Me<67108864?this.words[0]+=Me:this._iaddn(Me)}this._strip()},ie.prototype.copy=function(le){le.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)le.words[pe]=this.words[pe];le.length=this.length,le.negative=this.negative,le.red=this.red};function be(ce,le){ce.words=le.words,ce.length=le.length,ce.negative=le.negative,ce.red=le.red}if(ie.prototype._move=function(le){be(le,this)},ie.prototype.clone=function(){var le=new ie(null);return this.copy(le),le},ie.prototype._expand=function(le){for(;this.length<le;)this.words[this.length++]=0;return this},ie.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{ie.prototype[Symbol.for("nodejs.util.inspect.custom")]=Se}catch{ie.prototype.inspect=Se}else ie.prototype.inspect=Se;function Se(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Te=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ke=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Re=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(le,pe){le=le||10,pe=pe|0||1;var _e;if(le===16||le==="hex"){_e="";for(var $e=0,Ee=0,me=0;me<this.length;me++){var fe=this.words[me],we=((fe<<$e|Ee)&16777215).toString(16);Ee=fe>>>24-$e&16777215,Ee!==0||me!==this.length-1?_e=Te[6-we.length]+we+_e:_e=we+_e,$e+=2,$e>=26&&($e-=26,me--)}for(Ee!==0&&(_e=Ee.toString(16)+_e);_e.length%pe!==0;)_e="0"+_e;return this.negative!==0&&(_e="-"+_e),_e}if(le===(le|0)&&le>=2&&le<=36){var Me=ke[le],Le=Re[le];_e="";var Je=this.clone();for(Je.negative=0;!Je.isZero();){var Ue=Je.modrn(Le).toString(le);Je=Je.idivn(Le),Je.isZero()?_e=Ue+_e:_e=Te[Me-Ue.length]+Ue+_e}for(this.isZero()&&(_e="0"+_e);_e.length%pe!==0;)_e="0"+_e;return this.negative!==0&&(_e="-"+_e),_e}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var le=this.words[0];return this.length===2?le+=this.words[1]*67108864:this.length===3&&this.words[2]===1?le+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-le:le},ie.prototype.toJSON=function(){return this.toString(16,2)},se&&(ie.prototype.toBuffer=function(le,pe){return this.toArrayLike(se,le,pe)}),ie.prototype.toArray=function(le,pe){return this.toArrayLike(Array,le,pe)};var Ce=function(le,pe){return le.allocUnsafe?le.allocUnsafe(pe):new le(pe)};ie.prototype.toArrayLike=function(le,pe,_e){this._strip();var $e=this.byteLength(),Ee=_e||Math.max(1,$e);ne($e<=Ee,"byte array longer than desired length"),ne(Ee>0,"Requested array length <= 0");var me=Ce(le,Ee),fe=pe==="le"?"LE":"BE";return this["_toArrayLike"+fe](me,$e),me},ie.prototype._toArrayLikeLE=function(le,pe){for(var _e=0,$e=0,Ee=0,me=0;Ee<this.length;Ee++){var fe=this.words[Ee]<<me|$e;le[_e++]=fe&255,_e<le.length&&(le[_e++]=fe>>8&255),_e<le.length&&(le[_e++]=fe>>16&255),me===6?(_e<le.length&&(le[_e++]=fe>>24&255),$e=0,me=0):($e=fe>>>24,me+=2)}if(_e<le.length)for(le[_e++]=$e;_e<le.length;)le[_e++]=0},ie.prototype._toArrayLikeBE=function(le,pe){for(var _e=le.length-1,$e=0,Ee=0,me=0;Ee<this.length;Ee++){var fe=this.words[Ee]<<me|$e;le[_e--]=fe&255,_e>=0&&(le[_e--]=fe>>8&255),_e>=0&&(le[_e--]=fe>>16&255),me===6?(_e>=0&&(le[_e--]=fe>>24&255),$e=0,me=0):($e=fe>>>24,me+=2)}if(_e>=0)for(le[_e--]=$e;_e>=0;)le[_e--]=0},Math.clz32?ie.prototype._countBits=function(le){return 32-Math.clz32(le)}:ie.prototype._countBits=function(le){var pe=le,_e=0;return pe>=4096&&(_e+=13,pe>>>=13),pe>=64&&(_e+=7,pe>>>=7),pe>=8&&(_e+=4,pe>>>=4),pe>=2&&(_e+=2,pe>>>=2),_e+pe},ie.prototype._zeroBits=function(le){if(le===0)return 26;var pe=le,_e=0;return(pe&8191)===0&&(_e+=13,pe>>>=13),(pe&127)===0&&(_e+=7,pe>>>=7),(pe&15)===0&&(_e+=4,pe>>>=4),(pe&3)===0&&(_e+=2,pe>>>=2),(pe&1)===0&&_e++,_e},ie.prototype.bitLength=function(){var le=this.words[this.length-1],pe=this._countBits(le);return(this.length-1)*26+pe};function Pe(ce){for(var le=new Array(ce.bitLength()),pe=0;pe<le.length;pe++){var _e=pe/26|0,$e=pe%26;le[pe]=ce.words[_e]>>>$e&1}return le}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var le=0,pe=0;pe<this.length;pe++){var _e=this._zeroBits(this.words[pe]);if(le+=_e,_e!==26)break}return le},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(le){return this.negative!==0?this.abs().inotn(le).iaddn(1):this.clone()},ie.prototype.fromTwos=function(le){return this.testn(le-1)?this.notn(le).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(le){for(;this.length<le.length;)this.words[this.length++]=0;for(var pe=0;pe<le.length;pe++)this.words[pe]=this.words[pe]|le.words[pe];return this._strip()},ie.prototype.ior=function(le){return ne((this.negative|le.negative)===0),this.iuor(le)},ie.prototype.or=function(le){return this.length>le.length?this.clone().ior(le):le.clone().ior(this)},ie.prototype.uor=function(le){return this.length>le.length?this.clone().iuor(le):le.clone().iuor(this)},ie.prototype.iuand=function(le){var pe;this.length>le.length?pe=le:pe=this;for(var _e=0;_e<pe.length;_e++)this.words[_e]=this.words[_e]&le.words[_e];return this.length=pe.length,this._strip()},ie.prototype.iand=function(le){return ne((this.negative|le.negative)===0),this.iuand(le)},ie.prototype.and=function(le){return this.length>le.length?this.clone().iand(le):le.clone().iand(this)},ie.prototype.uand=function(le){return this.length>le.length?this.clone().iuand(le):le.clone().iuand(this)},ie.prototype.iuxor=function(le){var pe,_e;this.length>le.length?(pe=this,_e=le):(pe=le,_e=this);for(var $e=0;$e<_e.length;$e++)this.words[$e]=pe.words[$e]^_e.words[$e];if(this!==pe)for(;$e<pe.length;$e++)this.words[$e]=pe.words[$e];return this.length=pe.length,this._strip()},ie.prototype.ixor=function(le){return ne((this.negative|le.negative)===0),this.iuxor(le)},ie.prototype.xor=function(le){return this.length>le.length?this.clone().ixor(le):le.clone().ixor(this)},ie.prototype.uxor=function(le){return this.length>le.length?this.clone().iuxor(le):le.clone().iuxor(this)},ie.prototype.inotn=function(le){ne(typeof le=="number"&&le>=0);var pe=Math.ceil(le/26)|0,_e=le%26;this._expand(pe),_e>0&&pe--;for(var $e=0;$e<pe;$e++)this.words[$e]=~this.words[$e]&67108863;return _e>0&&(this.words[$e]=~this.words[$e]&67108863>>26-_e),this._strip()},ie.prototype.notn=function(le){return this.clone().inotn(le)},ie.prototype.setn=function(le,pe){ne(typeof le=="number"&&le>=0);var _e=le/26|0,$e=le%26;return this._expand(_e+1),pe?this.words[_e]=this.words[_e]|1<<$e:this.words[_e]=this.words[_e]&~(1<<$e),this._strip()},ie.prototype.iadd=function(le){var pe;if(this.negative!==0&&le.negative===0)return this.negative=0,pe=this.isub(le),this.negative^=1,this._normSign();if(this.negative===0&&le.negative!==0)return le.negative=0,pe=this.isub(le),le.negative=1,pe._normSign();var _e,$e;this.length>le.length?(_e=this,$e=le):(_e=le,$e=this);for(var Ee=0,me=0;me<$e.length;me++)pe=(_e.words[me]|0)+($e.words[me]|0)+Ee,this.words[me]=pe&67108863,Ee=pe>>>26;for(;Ee!==0&&me<_e.length;me++)pe=(_e.words[me]|0)+Ee,this.words[me]=pe&67108863,Ee=pe>>>26;if(this.length=_e.length,Ee!==0)this.words[this.length]=Ee,this.length++;else if(_e!==this)for(;me<_e.length;me++)this.words[me]=_e.words[me];return this},ie.prototype.add=function(le){var pe;return le.negative!==0&&this.negative===0?(le.negative=0,pe=this.sub(le),le.negative^=1,pe):le.negative===0&&this.negative!==0?(this.negative=0,pe=le.sub(this),this.negative=1,pe):this.length>le.length?this.clone().iadd(le):le.clone().iadd(this)},ie.prototype.isub=function(le){if(le.negative!==0){le.negative=0;var pe=this.iadd(le);return le.negative=1,pe._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(le),this.negative=1,this._normSign();var _e=this.cmp(le);if(_e===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $e,Ee;_e>0?($e=this,Ee=le):($e=le,Ee=this);for(var me=0,fe=0;fe<Ee.length;fe++)pe=($e.words[fe]|0)-(Ee.words[fe]|0)+me,me=pe>>26,this.words[fe]=pe&67108863;for(;me!==0&&fe<$e.length;fe++)pe=($e.words[fe]|0)+me,me=pe>>26,this.words[fe]=pe&67108863;if(me===0&&fe<$e.length&&$e!==this)for(;fe<$e.length;fe++)this.words[fe]=$e.words[fe];return this.length=Math.max(this.length,fe),$e!==this&&(this.negative=1),this._strip()},ie.prototype.sub=function(le){return this.clone().isub(le)};function Ie(ce,le,pe){pe.negative=le.negative^ce.negative;var _e=ce.length+le.length|0;pe.length=_e,_e=_e-1|0;var $e=ce.words[0]|0,Ee=le.words[0]|0,me=$e*Ee,fe=me&67108863,we=me/67108864|0;pe.words[0]=fe;for(var Me=1;Me<_e;Me++){for(var Le=we>>>26,Je=we&67108863,Ue=Math.min(Me,le.length-1),ct=Math.max(0,Me-ce.length+1);ct<=Ue;ct++){var gt=Me-ct|0;$e=ce.words[gt]|0,Ee=le.words[ct]|0,me=$e*Ee+Je,Le+=me/67108864|0,Je=me&67108863}pe.words[Me]=Je|0,we=Le|0}return we!==0?pe.words[Me]=we|0:pe.length--,pe._strip()}var Ne=function(le,pe,_e){var $e=le.words,Ee=pe.words,me=_e.words,fe=0,we,Me,Le,Je=$e[0]|0,Ue=Je&8191,ct=Je>>>13,gt=$e[1]|0,$t=gt&8191,vt=gt>>>13,Tt=$e[2]|0,qt=Tt&8191,Rt=Tt>>>13,lt=$e[3]|0,_t=lt&8191,bt=lt>>>13,Qe=$e[4]|0,ze=Qe&8191,De=Qe>>>13,Ze=$e[5]|0,yt=Ze&8191,dt=Ze>>>13,mt=$e[6]|0,Lt=mt&8191,St=mt>>>13,Bt=$e[7]|0,Gt=Bt&8191,Ae=Bt>>>13,ve=$e[8]|0,xe=ve&8191,Be=ve>>>13,We=$e[9]|0,et=We&8191,Xe=We>>>13,Mt=Ee[0]|0,Vt=Mt&8191,At=Mt>>>13,Nt=Ee[1]|0,zt=Nt&8191,Ht=Nt>>>13,Qt=Ee[2]|0,Ir=Qt&8191,jt=Qt>>>13,Xt=Ee[3]|0,$r=Xt&8191,Ft=Xt>>>13,Zt=Ee[4]|0,kr=Zt&8191,Wt=Zt>>>13,er=Ee[5]|0,Pr=er&8191,Ot=er>>>13,tr=Ee[6]|0,Ye=tr&8191,rt=tr>>>13,it=Ee[7]|0,Fe=it&8191,ot=it>>>13,wt=Ee[8]|0,Pt=wt&8191,Et=wt>>>13,Ct=Ee[9]|0,or=Ct&8191,Yt=Ct>>>13;_e.negative=le.negative^pe.negative,_e.length=19,we=Math.imul(Ue,Vt),Me=Math.imul(Ue,At),Me=Me+Math.imul(ct,Vt)|0,Le=Math.imul(ct,At);var Rr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,we=Math.imul($t,Vt),Me=Math.imul($t,At),Me=Me+Math.imul(vt,Vt)|0,Le=Math.imul(vt,At),we=we+Math.imul(Ue,zt)|0,Me=Me+Math.imul(Ue,Ht)|0,Me=Me+Math.imul(ct,zt)|0,Le=Le+Math.imul(ct,Ht)|0;var cr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(cr>>>26)|0,cr&=67108863,we=Math.imul(qt,Vt),Me=Math.imul(qt,At),Me=Me+Math.imul(Rt,Vt)|0,Le=Math.imul(Rt,At),we=we+Math.imul($t,zt)|0,Me=Me+Math.imul($t,Ht)|0,Me=Me+Math.imul(vt,zt)|0,Le=Le+Math.imul(vt,Ht)|0,we=we+Math.imul(Ue,Ir)|0,Me=Me+Math.imul(Ue,jt)|0,Me=Me+Math.imul(ct,Ir)|0,Le=Le+Math.imul(ct,jt)|0;var wr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(wr>>>26)|0,wr&=67108863,we=Math.imul(_t,Vt),Me=Math.imul(_t,At),Me=Me+Math.imul(bt,Vt)|0,Le=Math.imul(bt,At),we=we+Math.imul(qt,zt)|0,Me=Me+Math.imul(qt,Ht)|0,Me=Me+Math.imul(Rt,zt)|0,Le=Le+Math.imul(Rt,Ht)|0,we=we+Math.imul($t,Ir)|0,Me=Me+Math.imul($t,jt)|0,Me=Me+Math.imul(vt,Ir)|0,Le=Le+Math.imul(vt,jt)|0,we=we+Math.imul(Ue,$r)|0,Me=Me+Math.imul(Ue,Ft)|0,Me=Me+Math.imul(ct,$r)|0,Le=Le+Math.imul(ct,Ft)|0;var xr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(xr>>>26)|0,xr&=67108863,we=Math.imul(ze,Vt),Me=Math.imul(ze,At),Me=Me+Math.imul(De,Vt)|0,Le=Math.imul(De,At),we=we+Math.imul(_t,zt)|0,Me=Me+Math.imul(_t,Ht)|0,Me=Me+Math.imul(bt,zt)|0,Le=Le+Math.imul(bt,Ht)|0,we=we+Math.imul(qt,Ir)|0,Me=Me+Math.imul(qt,jt)|0,Me=Me+Math.imul(Rt,Ir)|0,Le=Le+Math.imul(Rt,jt)|0,we=we+Math.imul($t,$r)|0,Me=Me+Math.imul($t,Ft)|0,Me=Me+Math.imul(vt,$r)|0,Le=Le+Math.imul(vt,Ft)|0,we=we+Math.imul(Ue,kr)|0,Me=Me+Math.imul(Ue,Wt)|0,Me=Me+Math.imul(ct,kr)|0,Le=Le+Math.imul(ct,Wt)|0;var Er=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(Er>>>26)|0,Er&=67108863,we=Math.imul(yt,Vt),Me=Math.imul(yt,At),Me=Me+Math.imul(dt,Vt)|0,Le=Math.imul(dt,At),we=we+Math.imul(ze,zt)|0,Me=Me+Math.imul(ze,Ht)|0,Me=Me+Math.imul(De,zt)|0,Le=Le+Math.imul(De,Ht)|0,we=we+Math.imul(_t,Ir)|0,Me=Me+Math.imul(_t,jt)|0,Me=Me+Math.imul(bt,Ir)|0,Le=Le+Math.imul(bt,jt)|0,we=we+Math.imul(qt,$r)|0,Me=Me+Math.imul(qt,Ft)|0,Me=Me+Math.imul(Rt,$r)|0,Le=Le+Math.imul(Rt,Ft)|0,we=we+Math.imul($t,kr)|0,Me=Me+Math.imul($t,Wt)|0,Me=Me+Math.imul(vt,kr)|0,Le=Le+Math.imul(vt,Wt)|0,we=we+Math.imul(Ue,Pr)|0,Me=Me+Math.imul(Ue,Ot)|0,Me=Me+Math.imul(ct,Pr)|0,Le=Le+Math.imul(ct,Ot)|0;var Mr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,we=Math.imul(Lt,Vt),Me=Math.imul(Lt,At),Me=Me+Math.imul(St,Vt)|0,Le=Math.imul(St,At),we=we+Math.imul(yt,zt)|0,Me=Me+Math.imul(yt,Ht)|0,Me=Me+Math.imul(dt,zt)|0,Le=Le+Math.imul(dt,Ht)|0,we=we+Math.imul(ze,Ir)|0,Me=Me+Math.imul(ze,jt)|0,Me=Me+Math.imul(De,Ir)|0,Le=Le+Math.imul(De,jt)|0,we=we+Math.imul(_t,$r)|0,Me=Me+Math.imul(_t,Ft)|0,Me=Me+Math.imul(bt,$r)|0,Le=Le+Math.imul(bt,Ft)|0,we=we+Math.imul(qt,kr)|0,Me=Me+Math.imul(qt,Wt)|0,Me=Me+Math.imul(Rt,kr)|0,Le=Le+Math.imul(Rt,Wt)|0,we=we+Math.imul($t,Pr)|0,Me=Me+Math.imul($t,Ot)|0,Me=Me+Math.imul(vt,Pr)|0,Le=Le+Math.imul(vt,Ot)|0,we=we+Math.imul(Ue,Ye)|0,Me=Me+Math.imul(Ue,rt)|0,Me=Me+Math.imul(ct,Ye)|0,Le=Le+Math.imul(ct,rt)|0;var Sr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,we=Math.imul(Gt,Vt),Me=Math.imul(Gt,At),Me=Me+Math.imul(Ae,Vt)|0,Le=Math.imul(Ae,At),we=we+Math.imul(Lt,zt)|0,Me=Me+Math.imul(Lt,Ht)|0,Me=Me+Math.imul(St,zt)|0,Le=Le+Math.imul(St,Ht)|0,we=we+Math.imul(yt,Ir)|0,Me=Me+Math.imul(yt,jt)|0,Me=Me+Math.imul(dt,Ir)|0,Le=Le+Math.imul(dt,jt)|0,we=we+Math.imul(ze,$r)|0,Me=Me+Math.imul(ze,Ft)|0,Me=Me+Math.imul(De,$r)|0,Le=Le+Math.imul(De,Ft)|0,we=we+Math.imul(_t,kr)|0,Me=Me+Math.imul(_t,Wt)|0,Me=Me+Math.imul(bt,kr)|0,Le=Le+Math.imul(bt,Wt)|0,we=we+Math.imul(qt,Pr)|0,Me=Me+Math.imul(qt,Ot)|0,Me=Me+Math.imul(Rt,Pr)|0,Le=Le+Math.imul(Rt,Ot)|0,we=we+Math.imul($t,Ye)|0,Me=Me+Math.imul($t,rt)|0,Me=Me+Math.imul(vt,Ye)|0,Le=Le+Math.imul(vt,rt)|0,we=we+Math.imul(Ue,Fe)|0,Me=Me+Math.imul(Ue,ot)|0,Me=Me+Math.imul(ct,Fe)|0,Le=Le+Math.imul(ct,ot)|0;var Ar=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,we=Math.imul(xe,Vt),Me=Math.imul(xe,At),Me=Me+Math.imul(Be,Vt)|0,Le=Math.imul(Be,At),we=we+Math.imul(Gt,zt)|0,Me=Me+Math.imul(Gt,Ht)|0,Me=Me+Math.imul(Ae,zt)|0,Le=Le+Math.imul(Ae,Ht)|0,we=we+Math.imul(Lt,Ir)|0,Me=Me+Math.imul(Lt,jt)|0,Me=Me+Math.imul(St,Ir)|0,Le=Le+Math.imul(St,jt)|0,we=we+Math.imul(yt,$r)|0,Me=Me+Math.imul(yt,Ft)|0,Me=Me+Math.imul(dt,$r)|0,Le=Le+Math.imul(dt,Ft)|0,we=we+Math.imul(ze,kr)|0,Me=Me+Math.imul(ze,Wt)|0,Me=Me+Math.imul(De,kr)|0,Le=Le+Math.imul(De,Wt)|0,we=we+Math.imul(_t,Pr)|0,Me=Me+Math.imul(_t,Ot)|0,Me=Me+Math.imul(bt,Pr)|0,Le=Le+Math.imul(bt,Ot)|0,we=we+Math.imul(qt,Ye)|0,Me=Me+Math.imul(qt,rt)|0,Me=Me+Math.imul(Rt,Ye)|0,Le=Le+Math.imul(Rt,rt)|0,we=we+Math.imul($t,Fe)|0,Me=Me+Math.imul($t,ot)|0,Me=Me+Math.imul(vt,Fe)|0,Le=Le+Math.imul(vt,ot)|0,we=we+Math.imul(Ue,Pt)|0,Me=Me+Math.imul(Ue,Et)|0,Me=Me+Math.imul(ct,Pt)|0,Le=Le+Math.imul(ct,Et)|0;var Tr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,we=Math.imul(et,Vt),Me=Math.imul(et,At),Me=Me+Math.imul(Xe,Vt)|0,Le=Math.imul(Xe,At),we=we+Math.imul(xe,zt)|0,Me=Me+Math.imul(xe,Ht)|0,Me=Me+Math.imul(Be,zt)|0,Le=Le+Math.imul(Be,Ht)|0,we=we+Math.imul(Gt,Ir)|0,Me=Me+Math.imul(Gt,jt)|0,Me=Me+Math.imul(Ae,Ir)|0,Le=Le+Math.imul(Ae,jt)|0,we=we+Math.imul(Lt,$r)|0,Me=Me+Math.imul(Lt,Ft)|0,Me=Me+Math.imul(St,$r)|0,Le=Le+Math.imul(St,Ft)|0,we=we+Math.imul(yt,kr)|0,Me=Me+Math.imul(yt,Wt)|0,Me=Me+Math.imul(dt,kr)|0,Le=Le+Math.imul(dt,Wt)|0,we=we+Math.imul(ze,Pr)|0,Me=Me+Math.imul(ze,Ot)|0,Me=Me+Math.imul(De,Pr)|0,Le=Le+Math.imul(De,Ot)|0,we=we+Math.imul(_t,Ye)|0,Me=Me+Math.imul(_t,rt)|0,Me=Me+Math.imul(bt,Ye)|0,Le=Le+Math.imul(bt,rt)|0,we=we+Math.imul(qt,Fe)|0,Me=Me+Math.imul(qt,ot)|0,Me=Me+Math.imul(Rt,Fe)|0,Le=Le+Math.imul(Rt,ot)|0,we=we+Math.imul($t,Pt)|0,Me=Me+Math.imul($t,Et)|0,Me=Me+Math.imul(vt,Pt)|0,Le=Le+Math.imul(vt,Et)|0,we=we+Math.imul(Ue,or)|0,Me=Me+Math.imul(Ue,Yt)|0,Me=Me+Math.imul(ct,or)|0,Le=Le+Math.imul(ct,Yt)|0;var pr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(pr>>>26)|0,pr&=67108863,we=Math.imul(et,zt),Me=Math.imul(et,Ht),Me=Me+Math.imul(Xe,zt)|0,Le=Math.imul(Xe,Ht),we=we+Math.imul(xe,Ir)|0,Me=Me+Math.imul(xe,jt)|0,Me=Me+Math.imul(Be,Ir)|0,Le=Le+Math.imul(Be,jt)|0,we=we+Math.imul(Gt,$r)|0,Me=Me+Math.imul(Gt,Ft)|0,Me=Me+Math.imul(Ae,$r)|0,Le=Le+Math.imul(Ae,Ft)|0,we=we+Math.imul(Lt,kr)|0,Me=Me+Math.imul(Lt,Wt)|0,Me=Me+Math.imul(St,kr)|0,Le=Le+Math.imul(St,Wt)|0,we=we+Math.imul(yt,Pr)|0,Me=Me+Math.imul(yt,Ot)|0,Me=Me+Math.imul(dt,Pr)|0,Le=Le+Math.imul(dt,Ot)|0,we=we+Math.imul(ze,Ye)|0,Me=Me+Math.imul(ze,rt)|0,Me=Me+Math.imul(De,Ye)|0,Le=Le+Math.imul(De,rt)|0,we=we+Math.imul(_t,Fe)|0,Me=Me+Math.imul(_t,ot)|0,Me=Me+Math.imul(bt,Fe)|0,Le=Le+Math.imul(bt,ot)|0,we=we+Math.imul(qt,Pt)|0,Me=Me+Math.imul(qt,Et)|0,Me=Me+Math.imul(Rt,Pt)|0,Le=Le+Math.imul(Rt,Et)|0,we=we+Math.imul($t,or)|0,Me=Me+Math.imul($t,Yt)|0,Me=Me+Math.imul(vt,or)|0,Le=Le+Math.imul(vt,Yt)|0;var _r=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(_r>>>26)|0,_r&=67108863,we=Math.imul(et,Ir),Me=Math.imul(et,jt),Me=Me+Math.imul(Xe,Ir)|0,Le=Math.imul(Xe,jt),we=we+Math.imul(xe,$r)|0,Me=Me+Math.imul(xe,Ft)|0,Me=Me+Math.imul(Be,$r)|0,Le=Le+Math.imul(Be,Ft)|0,we=we+Math.imul(Gt,kr)|0,Me=Me+Math.imul(Gt,Wt)|0,Me=Me+Math.imul(Ae,kr)|0,Le=Le+Math.imul(Ae,Wt)|0,we=we+Math.imul(Lt,Pr)|0,Me=Me+Math.imul(Lt,Ot)|0,Me=Me+Math.imul(St,Pr)|0,Le=Le+Math.imul(St,Ot)|0,we=we+Math.imul(yt,Ye)|0,Me=Me+Math.imul(yt,rt)|0,Me=Me+Math.imul(dt,Ye)|0,Le=Le+Math.imul(dt,rt)|0,we=we+Math.imul(ze,Fe)|0,Me=Me+Math.imul(ze,ot)|0,Me=Me+Math.imul(De,Fe)|0,Le=Le+Math.imul(De,ot)|0,we=we+Math.imul(_t,Pt)|0,Me=Me+Math.imul(_t,Et)|0,Me=Me+Math.imul(bt,Pt)|0,Le=Le+Math.imul(bt,Et)|0,we=we+Math.imul(qt,or)|0,Me=Me+Math.imul(qt,Yt)|0,Me=Me+Math.imul(Rt,or)|0,Le=Le+Math.imul(Rt,Yt)|0;var lr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(lr>>>26)|0,lr&=67108863,we=Math.imul(et,$r),Me=Math.imul(et,Ft),Me=Me+Math.imul(Xe,$r)|0,Le=Math.imul(Xe,Ft),we=we+Math.imul(xe,kr)|0,Me=Me+Math.imul(xe,Wt)|0,Me=Me+Math.imul(Be,kr)|0,Le=Le+Math.imul(Be,Wt)|0,we=we+Math.imul(Gt,Pr)|0,Me=Me+Math.imul(Gt,Ot)|0,Me=Me+Math.imul(Ae,Pr)|0,Le=Le+Math.imul(Ae,Ot)|0,we=we+Math.imul(Lt,Ye)|0,Me=Me+Math.imul(Lt,rt)|0,Me=Me+Math.imul(St,Ye)|0,Le=Le+Math.imul(St,rt)|0,we=we+Math.imul(yt,Fe)|0,Me=Me+Math.imul(yt,ot)|0,Me=Me+Math.imul(dt,Fe)|0,Le=Le+Math.imul(dt,ot)|0,we=we+Math.imul(ze,Pt)|0,Me=Me+Math.imul(ze,Et)|0,Me=Me+Math.imul(De,Pt)|0,Le=Le+Math.imul(De,Et)|0,we=we+Math.imul(_t,or)|0,Me=Me+Math.imul(_t,Yt)|0,Me=Me+Math.imul(bt,or)|0,Le=Le+Math.imul(bt,Yt)|0;var gr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(gr>>>26)|0,gr&=67108863,we=Math.imul(et,kr),Me=Math.imul(et,Wt),Me=Me+Math.imul(Xe,kr)|0,Le=Math.imul(Xe,Wt),we=we+Math.imul(xe,Pr)|0,Me=Me+Math.imul(xe,Ot)|0,Me=Me+Math.imul(Be,Pr)|0,Le=Le+Math.imul(Be,Ot)|0,we=we+Math.imul(Gt,Ye)|0,Me=Me+Math.imul(Gt,rt)|0,Me=Me+Math.imul(Ae,Ye)|0,Le=Le+Math.imul(Ae,rt)|0,we=we+Math.imul(Lt,Fe)|0,Me=Me+Math.imul(Lt,ot)|0,Me=Me+Math.imul(St,Fe)|0,Le=Le+Math.imul(St,ot)|0,we=we+Math.imul(yt,Pt)|0,Me=Me+Math.imul(yt,Et)|0,Me=Me+Math.imul(dt,Pt)|0,Le=Le+Math.imul(dt,Et)|0,we=we+Math.imul(ze,or)|0,Me=Me+Math.imul(ze,Yt)|0,Me=Me+Math.imul(De,or)|0,Le=Le+Math.imul(De,Yt)|0;var mr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(mr>>>26)|0,mr&=67108863,we=Math.imul(et,Pr),Me=Math.imul(et,Ot),Me=Me+Math.imul(Xe,Pr)|0,Le=Math.imul(Xe,Ot),we=we+Math.imul(xe,Ye)|0,Me=Me+Math.imul(xe,rt)|0,Me=Me+Math.imul(Be,Ye)|0,Le=Le+Math.imul(Be,rt)|0,we=we+Math.imul(Gt,Fe)|0,Me=Me+Math.imul(Gt,ot)|0,Me=Me+Math.imul(Ae,Fe)|0,Le=Le+Math.imul(Ae,ot)|0,we=we+Math.imul(Lt,Pt)|0,Me=Me+Math.imul(Lt,Et)|0,Me=Me+Math.imul(St,Pt)|0,Le=Le+Math.imul(St,Et)|0,we=we+Math.imul(yt,or)|0,Me=Me+Math.imul(yt,Yt)|0,Me=Me+Math.imul(dt,or)|0,Le=Le+Math.imul(dt,Yt)|0;var dr=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(dr>>>26)|0,dr&=67108863,we=Math.imul(et,Ye),Me=Math.imul(et,rt),Me=Me+Math.imul(Xe,Ye)|0,Le=Math.imul(Xe,rt),we=we+Math.imul(xe,Fe)|0,Me=Me+Math.imul(xe,ot)|0,Me=Me+Math.imul(Be,Fe)|0,Le=Le+Math.imul(Be,ot)|0,we=we+Math.imul(Gt,Pt)|0,Me=Me+Math.imul(Gt,Et)|0,Me=Me+Math.imul(Ae,Pt)|0,Le=Le+Math.imul(Ae,Et)|0,we=we+Math.imul(Lt,or)|0,Me=Me+Math.imul(Lt,Yt)|0,Me=Me+Math.imul(St,or)|0,Le=Le+Math.imul(St,Yt)|0;var Ut=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,we=Math.imul(et,Fe),Me=Math.imul(et,ot),Me=Me+Math.imul(Xe,Fe)|0,Le=Math.imul(Xe,ot),we=we+Math.imul(xe,Pt)|0,Me=Me+Math.imul(xe,Et)|0,Me=Me+Math.imul(Be,Pt)|0,Le=Le+Math.imul(Be,Et)|0,we=we+Math.imul(Gt,or)|0,Me=Me+Math.imul(Gt,Yt)|0,Me=Me+Math.imul(Ae,or)|0,Le=Le+Math.imul(Ae,Yt)|0;var Dt=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,we=Math.imul(et,Pt),Me=Math.imul(et,Et),Me=Me+Math.imul(Xe,Pt)|0,Le=Math.imul(Xe,Et),we=we+Math.imul(xe,or)|0,Me=Me+Math.imul(xe,Yt)|0,Me=Me+Math.imul(Be,or)|0,Le=Le+Math.imul(Be,Yt)|0;var ur=(fe+we|0)+((Me&8191)<<13)|0;fe=(Le+(Me>>>13)|0)+(ur>>>26)|0,ur&=67108863,we=Math.imul(et,or),Me=Math.imul(et,Yt),Me=Me+Math.imul(Xe,or)|0,Le=Math.imul(Xe,Yt);var nr=(fe+we|0)+((Me&8191)<<13)|0;return fe=(Le+(Me>>>13)|0)+(nr>>>26)|0,nr&=67108863,me[0]=Rr,me[1]=cr,me[2]=wr,me[3]=xr,me[4]=Er,me[5]=Mr,me[6]=Sr,me[7]=Ar,me[8]=Tr,me[9]=pr,me[10]=_r,me[11]=lr,me[12]=gr,me[13]=mr,me[14]=dr,me[15]=Ut,me[16]=Dt,me[17]=ur,me[18]=nr,fe!==0&&(me[19]=fe,_e.length++),_e};Math.imul||(Ne=Ie);function He(ce,le,pe){pe.negative=le.negative^ce.negative,pe.length=ce.length+le.length;for(var _e=0,$e=0,Ee=0;Ee<pe.length-1;Ee++){var me=$e;$e=0;for(var fe=_e&67108863,we=Math.min(Ee,le.length-1),Me=Math.max(0,Ee-ce.length+1);Me<=we;Me++){var Le=Ee-Me,Je=ce.words[Le]|0,Ue=le.words[Me]|0,ct=Je*Ue,gt=ct&67108863;me=me+(ct/67108864|0)|0,gt=gt+fe|0,fe=gt&67108863,me=me+(gt>>>26)|0,$e+=me>>>26,me&=67108863}pe.words[Ee]=fe,_e=me,me=$e}return _e!==0?pe.words[Ee]=_e:pe.length--,pe._strip()}function Ke(ce,le,pe){return He(ce,le,pe)}ie.prototype.mulTo=function(le,pe){var _e,$e=this.length+le.length;return this.length===10&&le.length===10?_e=Ne(this,le,pe):$e<63?_e=Ie(this,le,pe):$e<1024?_e=He(this,le,pe):_e=Ke(this,le,pe),_e},ie.prototype.mul=function(le){var pe=new ie(null);return pe.words=new Array(this.length+le.length),this.mulTo(le,pe)},ie.prototype.mulf=function(le){var pe=new ie(null);return pe.words=new Array(this.length+le.length),Ke(this,le,pe)},ie.prototype.imul=function(le){return this.clone().mulTo(le,this)},ie.prototype.imuln=function(le){var pe=le<0;pe&&(le=-le),ne(typeof le=="number"),ne(le<67108864);for(var _e=0,$e=0;$e<this.length;$e++){var Ee=(this.words[$e]|0)*le,me=(Ee&67108863)+(_e&67108863);_e>>=26,_e+=Ee/67108864|0,_e+=me>>>26,this.words[$e]=me&67108863}return _e!==0&&(this.words[$e]=_e,this.length++),pe?this.ineg():this},ie.prototype.muln=function(le){return this.clone().imuln(le)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(le){var pe=Pe(le);if(pe.length===0)return new ie(1);for(var _e=this,$e=0;$e<pe.length&&pe[$e]===0;$e++,_e=_e.sqr());if(++$e<pe.length)for(var Ee=_e.sqr();$e<pe.length;$e++,Ee=Ee.sqr())pe[$e]!==0&&(_e=_e.mul(Ee));return _e},ie.prototype.iushln=function(le){ne(typeof le=="number"&&le>=0);var pe=le%26,_e=(le-pe)/26,$e=67108863>>>26-pe<<26-pe,Ee;if(pe!==0){var me=0;for(Ee=0;Ee<this.length;Ee++){var fe=this.words[Ee]&$e,we=(this.words[Ee]|0)-fe<<pe;this.words[Ee]=we|me,me=fe>>>26-pe}me&&(this.words[Ee]=me,this.length++)}if(_e!==0){for(Ee=this.length-1;Ee>=0;Ee--)this.words[Ee+_e]=this.words[Ee];for(Ee=0;Ee<_e;Ee++)this.words[Ee]=0;this.length+=_e}return this._strip()},ie.prototype.ishln=function(le){return ne(this.negative===0),this.iushln(le)},ie.prototype.iushrn=function(le,pe,_e){ne(typeof le=="number"&&le>=0);var $e;pe?$e=(pe-pe%26)/26:$e=0;var Ee=le%26,me=Math.min((le-Ee)/26,this.length),fe=67108863^67108863>>>Ee<<Ee,we=_e;if($e-=me,$e=Math.max(0,$e),we){for(var Me=0;Me<me;Me++)we.words[Me]=this.words[Me];we.length=me}if(me!==0)if(this.length>me)for(this.length-=me,Me=0;Me<this.length;Me++)this.words[Me]=this.words[Me+me];else this.words[0]=0,this.length=1;var Le=0;for(Me=this.length-1;Me>=0&&(Le!==0||Me>=$e);Me--){var Je=this.words[Me]|0;this.words[Me]=Le<<26-Ee|Je>>>Ee,Le=Je&fe}return we&&Le!==0&&(we.words[we.length++]=Le),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ie.prototype.ishrn=function(le,pe,_e){return ne(this.negative===0),this.iushrn(le,pe,_e)},ie.prototype.shln=function(le){return this.clone().ishln(le)},ie.prototype.ushln=function(le){return this.clone().iushln(le)},ie.prototype.shrn=function(le){return this.clone().ishrn(le)},ie.prototype.ushrn=function(le){return this.clone().iushrn(le)},ie.prototype.testn=function(le){ne(typeof le=="number"&&le>=0);var pe=le%26,_e=(le-pe)/26,$e=1<<pe;if(this.length<=_e)return!1;var Ee=this.words[_e];return!!(Ee&$e)},ie.prototype.imaskn=function(le){ne(typeof le=="number"&&le>=0);var pe=le%26,_e=(le-pe)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=_e)return this;if(pe!==0&&_e++,this.length=Math.min(_e,this.length),pe!==0){var $e=67108863^67108863>>>pe<<pe;this.words[this.length-1]&=$e}return this._strip()},ie.prototype.maskn=function(le){return this.clone().imaskn(le)},ie.prototype.iaddn=function(le){return ne(typeof le=="number"),ne(le<67108864),le<0?this.isubn(-le):this.negative!==0?this.length===1&&(this.words[0]|0)<=le?(this.words[0]=le-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(le),this.negative=1,this):this._iaddn(le)},ie.prototype._iaddn=function(le){this.words[0]+=le;for(var pe=0;pe<this.length&&this.words[pe]>=67108864;pe++)this.words[pe]-=67108864,pe===this.length-1?this.words[pe+1]=1:this.words[pe+1]++;return this.length=Math.max(this.length,pe+1),this},ie.prototype.isubn=function(le){if(ne(typeof le=="number"),ne(le<67108864),le<0)return this.iaddn(-le);if(this.negative!==0)return this.negative=0,this.iaddn(le),this.negative=1,this;if(this.words[0]-=le,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var pe=0;pe<this.length&&this.words[pe]<0;pe++)this.words[pe]+=67108864,this.words[pe+1]-=1;return this._strip()},ie.prototype.addn=function(le){return this.clone().iaddn(le)},ie.prototype.subn=function(le){return this.clone().isubn(le)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(le,pe,_e){var $e=le.length+_e,Ee;this._expand($e);var me,fe=0;for(Ee=0;Ee<le.length;Ee++){me=(this.words[Ee+_e]|0)+fe;var we=(le.words[Ee]|0)*pe;me-=we&67108863,fe=(me>>26)-(we/67108864|0),this.words[Ee+_e]=me&67108863}for(;Ee<this.length-_e;Ee++)me=(this.words[Ee+_e]|0)+fe,fe=me>>26,this.words[Ee+_e]=me&67108863;if(fe===0)return this._strip();for(ne(fe===-1),fe=0,Ee=0;Ee<this.length;Ee++)me=-(this.words[Ee]|0)+fe,fe=me>>26,this.words[Ee]=me&67108863;return this.negative=1,this._strip()},ie.prototype._wordDiv=function(le,pe){var _e=this.length-le.length,$e=this.clone(),Ee=le,me=Ee.words[Ee.length-1]|0,fe=this._countBits(me);_e=26-fe,_e!==0&&(Ee=Ee.ushln(_e),$e.iushln(_e),me=Ee.words[Ee.length-1]|0);var we=$e.length-Ee.length,Me;if(pe!=="mod"){Me=new ie(null),Me.length=we+1,Me.words=new Array(Me.length);for(var Le=0;Le<Me.length;Le++)Me.words[Le]=0}var Je=$e.clone()._ishlnsubmul(Ee,1,we);Je.negative===0&&($e=Je,Me&&(Me.words[we]=1));for(var Ue=we-1;Ue>=0;Ue--){var ct=($e.words[Ee.length+Ue]|0)*67108864+($e.words[Ee.length+Ue-1]|0);for(ct=Math.min(ct/me|0,67108863),$e._ishlnsubmul(Ee,ct,Ue);$e.negative!==0;)ct--,$e.negative=0,$e._ishlnsubmul(Ee,1,Ue),$e.isZero()||($e.negative^=1);Me&&(Me.words[Ue]=ct)}return Me&&Me._strip(),$e._strip(),pe!=="div"&&_e!==0&&$e.iushrn(_e),{div:Me||null,mod:$e}},ie.prototype.divmod=function(le,pe,_e){if(ne(!le.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var $e,Ee,me;return this.negative!==0&&le.negative===0?(me=this.neg().divmod(le,pe),pe!=="mod"&&($e=me.div.neg()),pe!=="div"&&(Ee=me.mod.neg(),_e&&Ee.negative!==0&&Ee.iadd(le)),{div:$e,mod:Ee}):this.negative===0&&le.negative!==0?(me=this.divmod(le.neg(),pe),pe!=="mod"&&($e=me.div.neg()),{div:$e,mod:me.mod}):(this.negative&le.negative)!==0?(me=this.neg().divmod(le.neg(),pe),pe!=="div"&&(Ee=me.mod.neg(),_e&&Ee.negative!==0&&Ee.isub(le)),{div:me.div,mod:Ee}):le.length>this.length||this.cmp(le)<0?{div:new ie(0),mod:this}:le.length===1?pe==="div"?{div:this.divn(le.words[0]),mod:null}:pe==="mod"?{div:null,mod:new ie(this.modrn(le.words[0]))}:{div:this.divn(le.words[0]),mod:new ie(this.modrn(le.words[0]))}:this._wordDiv(le,pe)},ie.prototype.div=function(le){return this.divmod(le,"div",!1).div},ie.prototype.mod=function(le){return this.divmod(le,"mod",!1).mod},ie.prototype.umod=function(le){return this.divmod(le,"mod",!0).mod},ie.prototype.divRound=function(le){var pe=this.divmod(le);if(pe.mod.isZero())return pe.div;var _e=pe.div.negative!==0?pe.mod.isub(le):pe.mod,$e=le.ushrn(1),Ee=le.andln(1),me=_e.cmp($e);return me<0||Ee===1&&me===0?pe.div:pe.div.negative!==0?pe.div.isubn(1):pe.div.iaddn(1)},ie.prototype.modrn=function(le){var pe=le<0;pe&&(le=-le),ne(le<=67108863);for(var _e=(1<<26)%le,$e=0,Ee=this.length-1;Ee>=0;Ee--)$e=(_e*$e+(this.words[Ee]|0))%le;return pe?-$e:$e},ie.prototype.modn=function(le){return this.modrn(le)},ie.prototype.idivn=function(le){var pe=le<0;pe&&(le=-le),ne(le<=67108863);for(var _e=0,$e=this.length-1;$e>=0;$e--){var Ee=(this.words[$e]|0)+_e*67108864;this.words[$e]=Ee/le|0,_e=Ee%le}return this._strip(),pe?this.ineg():this},ie.prototype.divn=function(le){return this.clone().idivn(le)},ie.prototype.egcd=function(le){ne(le.negative===0),ne(!le.isZero());var pe=this,_e=le.clone();pe.negative!==0?pe=pe.umod(le):pe=pe.clone();for(var $e=new ie(1),Ee=new ie(0),me=new ie(0),fe=new ie(1),we=0;pe.isEven()&&_e.isEven();)pe.iushrn(1),_e.iushrn(1),++we;for(var Me=_e.clone(),Le=pe.clone();!pe.isZero();){for(var Je=0,Ue=1;(pe.words[0]&Ue)===0&&Je<26;++Je,Ue<<=1);if(Je>0)for(pe.iushrn(Je);Je-- >0;)($e.isOdd()||Ee.isOdd())&&($e.iadd(Me),Ee.isub(Le)),$e.iushrn(1),Ee.iushrn(1);for(var ct=0,gt=1;(_e.words[0]&gt)===0&&ct<26;++ct,gt<<=1);if(ct>0)for(_e.iushrn(ct);ct-- >0;)(me.isOdd()||fe.isOdd())&&(me.iadd(Me),fe.isub(Le)),me.iushrn(1),fe.iushrn(1);pe.cmp(_e)>=0?(pe.isub(_e),$e.isub(me),Ee.isub(fe)):(_e.isub(pe),me.isub($e),fe.isub(Ee))}return{a:me,b:fe,gcd:_e.iushln(we)}},ie.prototype._invmp=function(le){ne(le.negative===0),ne(!le.isZero());var pe=this,_e=le.clone();pe.negative!==0?pe=pe.umod(le):pe=pe.clone();for(var $e=new ie(1),Ee=new ie(0),me=_e.clone();pe.cmpn(1)>0&&_e.cmpn(1)>0;){for(var fe=0,we=1;(pe.words[0]&we)===0&&fe<26;++fe,we<<=1);if(fe>0)for(pe.iushrn(fe);fe-- >0;)$e.isOdd()&&$e.iadd(me),$e.iushrn(1);for(var Me=0,Le=1;(_e.words[0]&Le)===0&&Me<26;++Me,Le<<=1);if(Me>0)for(_e.iushrn(Me);Me-- >0;)Ee.isOdd()&&Ee.iadd(me),Ee.iushrn(1);pe.cmp(_e)>=0?(pe.isub(_e),$e.isub(Ee)):(_e.isub(pe),Ee.isub($e))}var Je;return pe.cmpn(1)===0?Je=$e:Je=Ee,Je.cmpn(0)<0&&Je.iadd(le),Je},ie.prototype.gcd=function(le){if(this.isZero())return le.abs();if(le.isZero())return this.abs();var pe=this.clone(),_e=le.clone();pe.negative=0,_e.negative=0;for(var $e=0;pe.isEven()&&_e.isEven();$e++)pe.iushrn(1),_e.iushrn(1);do{for(;pe.isEven();)pe.iushrn(1);for(;_e.isEven();)_e.iushrn(1);var Ee=pe.cmp(_e);if(Ee<0){var me=pe;pe=_e,_e=me}else if(Ee===0||_e.cmpn(1)===0)break;pe.isub(_e)}while(!0);return _e.iushln($e)},ie.prototype.invm=function(le){return this.egcd(le).a.umod(le)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(le){return this.words[0]&le},ie.prototype.bincn=function(le){ne(typeof le=="number");var pe=le%26,_e=(le-pe)/26,$e=1<<pe;if(this.length<=_e)return this._expand(_e+1),this.words[_e]|=$e,this;for(var Ee=$e,me=_e;Ee!==0&&me<this.length;me++){var fe=this.words[me]|0;fe+=Ee,Ee=fe>>>26,fe&=67108863,this.words[me]=fe}return Ee!==0&&(this.words[me]=Ee,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(le){var pe=le<0;if(this.negative!==0&&!pe)return-1;if(this.negative===0&&pe)return 1;this._strip();var _e;if(this.length>1)_e=1;else{pe&&(le=-le),ne(le<=67108863,"Number is too big");var $e=this.words[0]|0;_e=$e===le?0:$e<le?-1:1}return this.negative!==0?-_e|0:_e},ie.prototype.cmp=function(le){if(this.negative!==0&&le.negative===0)return-1;if(this.negative===0&&le.negative!==0)return 1;var pe=this.ucmp(le);return this.negative!==0?-pe|0:pe},ie.prototype.ucmp=function(le){if(this.length>le.length)return 1;if(this.length<le.length)return-1;for(var pe=0,_e=this.length-1;_e>=0;_e--){var $e=this.words[_e]|0,Ee=le.words[_e]|0;if($e!==Ee){$e<Ee?pe=-1:$e>Ee&&(pe=1);break}}return pe},ie.prototype.gtn=function(le){return this.cmpn(le)===1},ie.prototype.gt=function(le){return this.cmp(le)===1},ie.prototype.gten=function(le){return this.cmpn(le)>=0},ie.prototype.gte=function(le){return this.cmp(le)>=0},ie.prototype.ltn=function(le){return this.cmpn(le)===-1},ie.prototype.lt=function(le){return this.cmp(le)===-1},ie.prototype.lten=function(le){return this.cmpn(le)<=0},ie.prototype.lte=function(le){return this.cmp(le)<=0},ie.prototype.eqn=function(le){return this.cmpn(le)===0},ie.prototype.eq=function(le){return this.cmp(le)===0},ie.red=function(le){return new ye(le)},ie.prototype.toRed=function(le){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),le.convertTo(this)._forceRed(le)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(le){return this.red=le,this},ie.prototype.forceRed=function(le){return ne(!this.red,"Already a number in reduction context"),this._forceRed(le)},ie.prototype.redAdd=function(le){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,le)},ie.prototype.redIAdd=function(le){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,le)},ie.prototype.redSub=function(le){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,le)},ie.prototype.redISub=function(le){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,le)},ie.prototype.redShl=function(le){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,le)},ie.prototype.redMul=function(le){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,le),this.red.mul(this,le)},ie.prototype.redIMul=function(le){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,le),this.red.imul(this,le)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(le){return ne(this.red&&!le.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,le)};var Ge={k256:null,p224:null,p192:null,p25519:null};function ut(ce,le){this.name=ce,this.p=new ie(le,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ut.prototype._tmp=function(){var le=new ie(null);return le.words=new Array(Math.ceil(this.n/13)),le},ut.prototype.ireduce=function(le){var pe=le,_e;do this.split(pe,this.tmp),pe=this.imulK(pe),pe=pe.iadd(this.tmp),_e=pe.bitLength();while(_e>this.n);var $e=_e<this.n?-1:pe.ucmp(this.p);return $e===0?(pe.words[0]=0,pe.length=1):$e>0?pe.isub(this.p):pe.strip!==void 0?pe.strip():pe._strip(),pe},ut.prototype.split=function(le,pe){le.iushrn(this.n,0,pe)},ut.prototype.imulK=function(le){return le.imul(this.k)};function Ve(){ut.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}oe(Ve,ut),Ve.prototype.split=function(le,pe){for(var _e=4194303,$e=Math.min(le.length,9),Ee=0;Ee<$e;Ee++)pe.words[Ee]=le.words[Ee];if(pe.length=$e,le.length<=9){le.words[0]=0,le.length=1;return}var me=le.words[9];for(pe.words[pe.length++]=me&_e,Ee=10;Ee<le.length;Ee++){var fe=le.words[Ee]|0;le.words[Ee-10]=(fe&_e)<<4|me>>>22,me=fe}me>>>=22,le.words[Ee-10]=me,me===0&&le.length>10?le.length-=10:le.length-=9},Ve.prototype.imulK=function(le){le.words[le.length]=0,le.words[le.length+1]=0,le.length+=2;for(var pe=0,_e=0;_e<le.length;_e++){var $e=le.words[_e]|0;pe+=$e*977,le.words[_e]=pe&67108863,pe=$e*64+(pe/67108864|0)}return le.words[le.length-1]===0&&(le.length--,le.words[le.length-1]===0&&le.length--),le};function nt(){ut.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}oe(nt,ut);function st(){ut.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}oe(st,ut);function qe(){ut.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}oe(qe,ut),qe.prototype.imulK=function(le){for(var pe=0,_e=0;_e<le.length;_e++){var $e=(le.words[_e]|0)*19+pe,Ee=$e&67108863;$e>>>=26,le.words[_e]=Ee,pe=$e}return pe!==0&&(le.words[le.length++]=pe),le},ie._prime=function(le){if(Ge[le])return Ge[le];var pe;if(le==="k256")pe=new Ve;else if(le==="p224")pe=new nt;else if(le==="p192")pe=new st;else if(le==="p25519")pe=new qe;else throw new Error("Unknown prime "+le);return Ge[le]=pe,pe};function ye(ce){if(typeof ce=="string"){var le=ie._prime(ce);this.m=le.p,this.prime=le}else ne(ce.gtn(1),"modulus must be greater than 1"),this.m=ce,this.prime=null}ye.prototype._verify1=function(le){ne(le.negative===0,"red works only with positives"),ne(le.red,"red works only with red numbers")},ye.prototype._verify2=function(le,pe){ne((le.negative|pe.negative)===0,"red works only with positives"),ne(le.red&&le.red===pe.red,"red works only with red numbers")},ye.prototype.imod=function(le){return this.prime?this.prime.ireduce(le)._forceRed(this):(be(le,le.umod(this.m)._forceRed(this)),le)},ye.prototype.neg=function(le){return le.isZero()?le.clone():this.m.sub(le)._forceRed(this)},ye.prototype.add=function(le,pe){this._verify2(le,pe);var _e=le.add(pe);return _e.cmp(this.m)>=0&&_e.isub(this.m),_e._forceRed(this)},ye.prototype.iadd=function(le,pe){this._verify2(le,pe);var _e=le.iadd(pe);return _e.cmp(this.m)>=0&&_e.isub(this.m),_e},ye.prototype.sub=function(le,pe){this._verify2(le,pe);var _e=le.sub(pe);return _e.cmpn(0)<0&&_e.iadd(this.m),_e._forceRed(this)},ye.prototype.isub=function(le,pe){this._verify2(le,pe);var _e=le.isub(pe);return _e.cmpn(0)<0&&_e.iadd(this.m),_e},ye.prototype.shl=function(le,pe){return this._verify1(le),this.imod(le.ushln(pe))},ye.prototype.imul=function(le,pe){return this._verify2(le,pe),this.imod(le.imul(pe))},ye.prototype.mul=function(le,pe){return this._verify2(le,pe),this.imod(le.mul(pe))},ye.prototype.isqr=function(le){return this.imul(le,le.clone())},ye.prototype.sqr=function(le){return this.mul(le,le)},ye.prototype.sqrt=function(le){if(le.isZero())return le.clone();var pe=this.m.andln(3);if(ne(pe%2===1),pe===3){var _e=this.m.add(new ie(1)).iushrn(2);return this.pow(le,_e)}for(var $e=this.m.subn(1),Ee=0;!$e.isZero()&&$e.andln(1)===0;)Ee++,$e.iushrn(1);ne(!$e.isZero());var me=new ie(1).toRed(this),fe=me.redNeg(),we=this.m.subn(1).iushrn(1),Me=this.m.bitLength();for(Me=new ie(2*Me*Me).toRed(this);this.pow(Me,we).cmp(fe)!==0;)Me.redIAdd(fe);for(var Le=this.pow(Me,$e),Je=this.pow(le,$e.addn(1).iushrn(1)),Ue=this.pow(le,$e),ct=Ee;Ue.cmp(me)!==0;){for(var gt=Ue,$t=0;gt.cmp(me)!==0;$t++)gt=gt.redSqr();ne($t<ct);var vt=this.pow(Le,new ie(1).iushln(ct-$t-1));Je=Je.redMul(vt),Le=vt.redSqr(),Ue=Ue.redMul(Le),ct=$t}return Je},ye.prototype.invm=function(le){var pe=le._invmp(this.m);return pe.negative!==0?(pe.negative=0,this.imod(pe).redNeg()):this.imod(pe)},ye.prototype.pow=function(le,pe){if(pe.isZero())return new ie(1).toRed(this);if(pe.cmpn(1)===0)return le.clone();var _e=4,$e=new Array(1<<_e);$e[0]=new ie(1).toRed(this),$e[1]=le;for(var Ee=2;Ee<$e.length;Ee++)$e[Ee]=this.mul($e[Ee-1],le);var me=$e[0],fe=0,we=0,Me=pe.bitLength()%26;for(Me===0&&(Me=26),Ee=pe.length-1;Ee>=0;Ee--){for(var Le=pe.words[Ee],Je=Me-1;Je>=0;Je--){var Ue=Le>>Je&1;if(me!==$e[0]&&(me=this.sqr(me)),Ue===0&&fe===0){we=0;continue}fe<<=1,fe|=Ue,we++,!(we!==_e&&(Ee!==0||Je!==0))&&(me=this.mul(me,$e[fe]),we=0,fe=0)}Me=26}return me},ye.prototype.convertTo=function(le){var pe=le.umod(this.m);return pe===le?pe.clone():pe},ye.prototype.convertFrom=function(le){var pe=le.clone();return pe.red=null,pe},ie.mont=function(le){return new ae(le)};function ae(ce){ye.call(this,ce),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}oe(ae,ye),ae.prototype.convertTo=function(le){return this.imod(le.ushln(this.shift))},ae.prototype.convertFrom=function(le){var pe=this.imod(le.mul(this.rinv));return pe.red=null,pe},ae.prototype.imul=function(le,pe){if(le.isZero()||pe.isZero())return le.words[0]=0,le.length=1,le;var _e=le.imul(pe),$e=_e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ee=_e.isub($e).iushrn(this.shift),me=Ee;return Ee.cmp(this.m)>=0?me=Ee.isub(this.m):Ee.cmpn(0)<0&&(me=Ee.iadd(this.m)),me._forceRed(this)},ae.prototype.mul=function(le,pe){if(le.isZero()||pe.isZero())return new ie(0)._forceRed(this);var _e=le.mul(pe),$e=_e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ee=_e.isub($e).iushrn(this.shift),me=Ee;return Ee.cmp(this.m)>=0?me=Ee.isub(this.m):Ee.cmpn(0)<0&&(me=Ee.iadd(this.m)),me._forceRed(this)},ae.prototype.invm=function(le){var pe=this.imod(le._invmp(this.m).mul(this.r2));return pe._forceRed(this)}})(te,commonjsGlobal)})(bn$4);var BN$f=bn$4.exports,safeBuffer={exports:{}},buffer$2={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(te){const ee=base64Js$1,re=ieee754$1,ne=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;te.Buffer=ue,te.SlowBuffer=Ne,te.INSPECT_MAX_BYTES=50;const oe=2147483647;te.kMaxLength=oe,ue.TYPED_ARRAY_SUPPORT=ie(),!ue.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ie(){try{const Ae=new Uint8Array(1),ve={foo:function(){return 42}};return Object.setPrototypeOf(ve,Uint8Array.prototype),Object.setPrototypeOf(Ae,ve),Ae.foo()===42}catch{return!1}}Object.defineProperty(ue.prototype,"parent",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.buffer}}),Object.defineProperty(ue.prototype,"offset",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.byteOffset}});function se(Ae){if(Ae>oe)throw new RangeError('The value "'+Ae+'" is invalid for option "size"');const ve=new Uint8Array(Ae);return Object.setPrototypeOf(ve,ue.prototype),ve}function ue(Ae,ve,xe){if(typeof Ae=="number"){if(typeof ve=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Se(Ae)}return he(Ae,ve,xe)}ue.poolSize=8192;function he(Ae,ve,xe){if(typeof Ae=="string")return Te(Ae,ve);if(ArrayBuffer.isView(Ae))return Re(Ae);if(Ae==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ae);if(mt(Ae,ArrayBuffer)||Ae&&mt(Ae.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(mt(Ae,SharedArrayBuffer)||Ae&&mt(Ae.buffer,SharedArrayBuffer)))return Ce(Ae,ve,xe);if(typeof Ae=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Be=Ae.valueOf&&Ae.valueOf();if(Be!=null&&Be!==Ae)return ue.from(Be,ve,xe);const We=Pe(Ae);if(We)return We;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof Ae[Symbol.toPrimitive]=="function")return ue.from(Ae[Symbol.toPrimitive]("string"),ve,xe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ae)}ue.from=function(Ae,ve,xe){return he(Ae,ve,xe)},Object.setPrototypeOf(ue.prototype,Uint8Array.prototype),Object.setPrototypeOf(ue,Uint8Array);function ge(Ae){if(typeof Ae!="number")throw new TypeError('"size" argument must be of type number');if(Ae<0)throw new RangeError('The value "'+Ae+'" is invalid for option "size"')}function be(Ae,ve,xe){return ge(Ae),Ae<=0?se(Ae):ve!==void 0?typeof xe=="string"?se(Ae).fill(ve,xe):se(Ae).fill(ve):se(Ae)}ue.alloc=function(Ae,ve,xe){return be(Ae,ve,xe)};function Se(Ae){return ge(Ae),se(Ae<0?0:Ie(Ae)|0)}ue.allocUnsafe=function(Ae){return Se(Ae)},ue.allocUnsafeSlow=function(Ae){return Se(Ae)};function Te(Ae,ve){if((typeof ve!="string"||ve==="")&&(ve="utf8"),!ue.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);const xe=He(Ae,ve)|0;let Be=se(xe);const We=Be.write(Ae,ve);return We!==xe&&(Be=Be.slice(0,We)),Be}function ke(Ae){const ve=Ae.length<0?0:Ie(Ae.length)|0,xe=se(ve);for(let Be=0;Be<ve;Be+=1)xe[Be]=Ae[Be]&255;return xe}function Re(Ae){if(mt(Ae,Uint8Array)){const ve=new Uint8Array(Ae);return Ce(ve.buffer,ve.byteOffset,ve.byteLength)}return ke(Ae)}function Ce(Ae,ve,xe){if(ve<0||Ae.byteLength<ve)throw new RangeError('"offset" is outside of buffer bounds');if(Ae.byteLength<ve+(xe||0))throw new RangeError('"length" is outside of buffer bounds');let Be;return ve===void 0&&xe===void 0?Be=new Uint8Array(Ae):xe===void 0?Be=new Uint8Array(Ae,ve):Be=new Uint8Array(Ae,ve,xe),Object.setPrototypeOf(Be,ue.prototype),Be}function Pe(Ae){if(ue.isBuffer(Ae)){const ve=Ie(Ae.length)|0,xe=se(ve);return xe.length===0||Ae.copy(xe,0,0,ve),xe}if(Ae.length!==void 0)return typeof Ae.length!="number"||Lt(Ae.length)?se(0):ke(Ae);if(Ae.type==="Buffer"&&Array.isArray(Ae.data))return ke(Ae.data)}function Ie(Ae){if(Ae>=oe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+oe.toString(16)+" bytes");return Ae|0}function Ne(Ae){return+Ae!=Ae&&(Ae=0),ue.alloc(+Ae)}ue.isBuffer=function(ve){return ve!=null&&ve._isBuffer===!0&&ve!==ue.prototype},ue.compare=function(ve,xe){if(mt(ve,Uint8Array)&&(ve=ue.from(ve,ve.offset,ve.byteLength)),mt(xe,Uint8Array)&&(xe=ue.from(xe,xe.offset,xe.byteLength)),!ue.isBuffer(ve)||!ue.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ve===xe)return 0;let Be=ve.length,We=xe.length;for(let et=0,Xe=Math.min(Be,We);et<Xe;++et)if(ve[et]!==xe[et]){Be=ve[et],We=xe[et];break}return Be<We?-1:We<Be?1:0},ue.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ue.concat=function(ve,xe){if(!Array.isArray(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(ve.length===0)return ue.alloc(0);let Be;if(xe===void 0)for(xe=0,Be=0;Be<ve.length;++Be)xe+=ve[Be].length;const We=ue.allocUnsafe(xe);let et=0;for(Be=0;Be<ve.length;++Be){let Xe=ve[Be];if(mt(Xe,Uint8Array))et+Xe.length>We.length?(ue.isBuffer(Xe)||(Xe=ue.from(Xe)),Xe.copy(We,et)):Uint8Array.prototype.set.call(We,Xe,et);else if(ue.isBuffer(Xe))Xe.copy(We,et);else throw new TypeError('"list" argument must be an Array of Buffers');et+=Xe.length}return We};function He(Ae,ve){if(ue.isBuffer(Ae))return Ae.length;if(ArrayBuffer.isView(Ae)||mt(Ae,ArrayBuffer))return Ae.byteLength;if(typeof Ae!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ae);const xe=Ae.length,Be=arguments.length>2&&arguments[2]===!0;if(!Be&&xe===0)return 0;let We=!1;for(;;)switch(ve){case"ascii":case"latin1":case"binary":return xe;case"utf8":case"utf-8":return ze(Ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe*2;case"hex":return xe>>>1;case"base64":return yt(Ae).length;default:if(We)return Be?-1:ze(Ae).length;ve=(""+ve).toLowerCase(),We=!0}}ue.byteLength=He;function Ke(Ae,ve,xe){let Be=!1;if((ve===void 0||ve<0)&&(ve=0),ve>this.length||((xe===void 0||xe>this.length)&&(xe=this.length),xe<=0)||(xe>>>=0,ve>>>=0,xe<=ve))return"";for(Ae||(Ae="utf8");;)switch(Ae){case"hex":return me(this,ve,xe);case"utf8":case"utf-8":return le(this,ve,xe);case"ascii":return $e(this,ve,xe);case"latin1":case"binary":return Ee(this,ve,xe);case"base64":return ce(this,ve,xe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,ve,xe);default:if(Be)throw new TypeError("Unknown encoding: "+Ae);Ae=(Ae+"").toLowerCase(),Be=!0}}ue.prototype._isBuffer=!0;function Ge(Ae,ve,xe){const Be=Ae[ve];Ae[ve]=Ae[xe],Ae[xe]=Be}ue.prototype.swap16=function(){const ve=this.length;if(ve%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let xe=0;xe<ve;xe+=2)Ge(this,xe,xe+1);return this},ue.prototype.swap32=function(){const ve=this.length;if(ve%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let xe=0;xe<ve;xe+=4)Ge(this,xe,xe+3),Ge(this,xe+1,xe+2);return this},ue.prototype.swap64=function(){const ve=this.length;if(ve%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let xe=0;xe<ve;xe+=8)Ge(this,xe,xe+7),Ge(this,xe+1,xe+6),Ge(this,xe+2,xe+5),Ge(this,xe+3,xe+4);return this},ue.prototype.toString=function(){const ve=this.length;return ve===0?"":arguments.length===0?le(this,0,ve):Ke.apply(this,arguments)},ue.prototype.toLocaleString=ue.prototype.toString,ue.prototype.equals=function(ve){if(!ue.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve?!0:ue.compare(this,ve)===0},ue.prototype.inspect=function(){let ve="";const xe=te.INSPECT_MAX_BYTES;return ve=this.toString("hex",0,xe).replace(/(.{2})/g,"$1 ").trim(),this.length>xe&&(ve+=" ... "),"<Buffer "+ve+">"},ne&&(ue.prototype[ne]=ue.prototype.inspect),ue.prototype.compare=function(ve,xe,Be,We,et){if(mt(ve,Uint8Array)&&(ve=ue.from(ve,ve.offset,ve.byteLength)),!ue.isBuffer(ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ve);if(xe===void 0&&(xe=0),Be===void 0&&(Be=ve?ve.length:0),We===void 0&&(We=0),et===void 0&&(et=this.length),xe<0||Be>ve.length||We<0||et>this.length)throw new RangeError("out of range index");if(We>=et&&xe>=Be)return 0;if(We>=et)return-1;if(xe>=Be)return 1;if(xe>>>=0,Be>>>=0,We>>>=0,et>>>=0,this===ve)return 0;let Xe=et-We,Mt=Be-xe;const Vt=Math.min(Xe,Mt),At=this.slice(We,et),Nt=ve.slice(xe,Be);for(let zt=0;zt<Vt;++zt)if(At[zt]!==Nt[zt]){Xe=At[zt],Mt=Nt[zt];break}return Xe<Mt?-1:Mt<Xe?1:0};function ut(Ae,ve,xe,Be,We){if(Ae.length===0)return-1;if(typeof xe=="string"?(Be=xe,xe=0):xe>2147483647?xe=2147483647:xe<-2147483648&&(xe=-2147483648),xe=+xe,Lt(xe)&&(xe=We?0:Ae.length-1),xe<0&&(xe=Ae.length+xe),xe>=Ae.length){if(We)return-1;xe=Ae.length-1}else if(xe<0)if(We)xe=0;else return-1;if(typeof ve=="string"&&(ve=ue.from(ve,Be)),ue.isBuffer(ve))return ve.length===0?-1:Ve(Ae,ve,xe,Be,We);if(typeof ve=="number")return ve=ve&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(Ae,ve,xe):Uint8Array.prototype.lastIndexOf.call(Ae,ve,xe):Ve(Ae,[ve],xe,Be,We);throw new TypeError("val must be string, number or Buffer")}function Ve(Ae,ve,xe,Be,We){let et=1,Xe=Ae.length,Mt=ve.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(Ae.length<2||ve.length<2)return-1;et=2,Xe/=2,Mt/=2,xe/=2}function Vt(Nt,zt){return et===1?Nt[zt]:Nt.readUInt16BE(zt*et)}let At;if(We){let Nt=-1;for(At=xe;At<Xe;At++)if(Vt(Ae,At)===Vt(ve,Nt===-1?0:At-Nt)){if(Nt===-1&&(Nt=At),At-Nt+1===Mt)return Nt*et}else Nt!==-1&&(At-=At-Nt),Nt=-1}else for(xe+Mt>Xe&&(xe=Xe-Mt),At=xe;At>=0;At--){let Nt=!0;for(let zt=0;zt<Mt;zt++)if(Vt(Ae,At+zt)!==Vt(ve,zt)){Nt=!1;break}if(Nt)return At}return-1}ue.prototype.includes=function(ve,xe,Be){return this.indexOf(ve,xe,Be)!==-1},ue.prototype.indexOf=function(ve,xe,Be){return ut(this,ve,xe,Be,!0)},ue.prototype.lastIndexOf=function(ve,xe,Be){return ut(this,ve,xe,Be,!1)};function nt(Ae,ve,xe,Be){xe=Number(xe)||0;const We=Ae.length-xe;Be?(Be=Number(Be),Be>We&&(Be=We)):Be=We;const et=ve.length;Be>et/2&&(Be=et/2);let Xe;for(Xe=0;Xe<Be;++Xe){const Mt=parseInt(ve.substr(Xe*2,2),16);if(Lt(Mt))return Xe;Ae[xe+Xe]=Mt}return Xe}function st(Ae,ve,xe,Be){return dt(ze(ve,Ae.length-xe),Ae,xe,Be)}function qe(Ae,ve,xe,Be){return dt(De(ve),Ae,xe,Be)}function ye(Ae,ve,xe,Be){return dt(yt(ve),Ae,xe,Be)}function ae(Ae,ve,xe,Be){return dt(Ze(ve,Ae.length-xe),Ae,xe,Be)}ue.prototype.write=function(ve,xe,Be,We){if(xe===void 0)We="utf8",Be=this.length,xe=0;else if(Be===void 0&&typeof xe=="string")We=xe,Be=this.length,xe=0;else if(isFinite(xe))xe=xe>>>0,isFinite(Be)?(Be=Be>>>0,We===void 0&&(We="utf8")):(We=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const et=this.length-xe;if((Be===void 0||Be>et)&&(Be=et),ve.length>0&&(Be<0||xe<0)||xe>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");let Xe=!1;for(;;)switch(We){case"hex":return nt(this,ve,xe,Be);case"utf8":case"utf-8":return st(this,ve,xe,Be);case"ascii":case"latin1":case"binary":return qe(this,ve,xe,Be);case"base64":return ye(this,ve,xe,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,ve,xe,Be);default:if(Xe)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),Xe=!0}},ue.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(Ae,ve,xe){return ve===0&&xe===Ae.length?ee.fromByteArray(Ae):ee.fromByteArray(Ae.slice(ve,xe))}function le(Ae,ve,xe){xe=Math.min(Ae.length,xe);const Be=[];let We=ve;for(;We<xe;){const et=Ae[We];let Xe=null,Mt=et>239?4:et>223?3:et>191?2:1;if(We+Mt<=xe){let Vt,At,Nt,zt;switch(Mt){case 1:et<128&&(Xe=et);break;case 2:Vt=Ae[We+1],(Vt&192)===128&&(zt=(et&31)<<6|Vt&63,zt>127&&(Xe=zt));break;case 3:Vt=Ae[We+1],At=Ae[We+2],(Vt&192)===128&&(At&192)===128&&(zt=(et&15)<<12|(Vt&63)<<6|At&63,zt>2047&&(zt<55296||zt>57343)&&(Xe=zt));break;case 4:Vt=Ae[We+1],At=Ae[We+2],Nt=Ae[We+3],(Vt&192)===128&&(At&192)===128&&(Nt&192)===128&&(zt=(et&15)<<18|(Vt&63)<<12|(At&63)<<6|Nt&63,zt>65535&&zt<1114112&&(Xe=zt))}}Xe===null?(Xe=65533,Mt=1):Xe>65535&&(Xe-=65536,Be.push(Xe>>>10&1023|55296),Xe=56320|Xe&1023),Be.push(Xe),We+=Mt}return _e(Be)}const pe=4096;function _e(Ae){const ve=Ae.length;if(ve<=pe)return String.fromCharCode.apply(String,Ae);let xe="",Be=0;for(;Be<ve;)xe+=String.fromCharCode.apply(String,Ae.slice(Be,Be+=pe));return xe}function $e(Ae,ve,xe){let Be="";xe=Math.min(Ae.length,xe);for(let We=ve;We<xe;++We)Be+=String.fromCharCode(Ae[We]&127);return Be}function Ee(Ae,ve,xe){let Be="";xe=Math.min(Ae.length,xe);for(let We=ve;We<xe;++We)Be+=String.fromCharCode(Ae[We]);return Be}function me(Ae,ve,xe){const Be=Ae.length;(!ve||ve<0)&&(ve=0),(!xe||xe<0||xe>Be)&&(xe=Be);let We="";for(let et=ve;et<xe;++et)We+=St[Ae[et]];return We}function fe(Ae,ve,xe){const Be=Ae.slice(ve,xe);let We="";for(let et=0;et<Be.length-1;et+=2)We+=String.fromCharCode(Be[et]+Be[et+1]*256);return We}ue.prototype.slice=function(ve,xe){const Be=this.length;ve=~~ve,xe=xe===void 0?Be:~~xe,ve<0?(ve+=Be,ve<0&&(ve=0)):ve>Be&&(ve=Be),xe<0?(xe+=Be,xe<0&&(xe=0)):xe>Be&&(xe=Be),xe<ve&&(xe=ve);const We=this.subarray(ve,xe);return Object.setPrototypeOf(We,ue.prototype),We};function we(Ae,ve,xe){if(Ae%1!==0||Ae<0)throw new RangeError("offset is not uint");if(Ae+ve>xe)throw new RangeError("Trying to access beyond buffer length")}ue.prototype.readUintLE=ue.prototype.readUIntLE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=this[ve],et=1,Xe=0;for(;++Xe<xe&&(et*=256);)We+=this[ve+Xe]*et;return We},ue.prototype.readUintBE=ue.prototype.readUIntBE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=this[ve+--xe],et=1;for(;xe>0&&(et*=256);)We+=this[ve+--xe]*et;return We},ue.prototype.readUint8=ue.prototype.readUInt8=function(ve,xe){return ve=ve>>>0,xe||we(ve,1,this.length),this[ve]},ue.prototype.readUint16LE=ue.prototype.readUInt16LE=function(ve,xe){return ve=ve>>>0,xe||we(ve,2,this.length),this[ve]|this[ve+1]<<8},ue.prototype.readUint16BE=ue.prototype.readUInt16BE=function(ve,xe){return ve=ve>>>0,xe||we(ve,2,this.length),this[ve]<<8|this[ve+1]},ue.prototype.readUint32LE=ue.prototype.readUInt32LE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+this[ve+3]*16777216},ue.prototype.readUint32BE=ue.prototype.readUInt32BE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),this[ve]*16777216+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},ue.prototype.readBigUInt64LE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=xe+this[++ve]*2**8+this[++ve]*2**16+this[++ve]*2**24,et=this[++ve]+this[++ve]*2**8+this[++ve]*2**16+Be*2**24;return BigInt(We)+(BigInt(et)<<BigInt(32))}),ue.prototype.readBigUInt64BE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=xe*2**24+this[++ve]*2**16+this[++ve]*2**8+this[++ve],et=this[++ve]*2**24+this[++ve]*2**16+this[++ve]*2**8+Be;return(BigInt(We)<<BigInt(32))+BigInt(et)}),ue.prototype.readIntLE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=this[ve],et=1,Xe=0;for(;++Xe<xe&&(et*=256);)We+=this[ve+Xe]*et;return et*=128,We>=et&&(We-=Math.pow(2,8*xe)),We},ue.prototype.readIntBE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=xe,et=1,Xe=this[ve+--We];for(;We>0&&(et*=256);)Xe+=this[ve+--We]*et;return et*=128,Xe>=et&&(Xe-=Math.pow(2,8*xe)),Xe},ue.prototype.readInt8=function(ve,xe){return ve=ve>>>0,xe||we(ve,1,this.length),this[ve]&128?(255-this[ve]+1)*-1:this[ve]},ue.prototype.readInt16LE=function(ve,xe){ve=ve>>>0,xe||we(ve,2,this.length);const Be=this[ve]|this[ve+1]<<8;return Be&32768?Be|4294901760:Be},ue.prototype.readInt16BE=function(ve,xe){ve=ve>>>0,xe||we(ve,2,this.length);const Be=this[ve+1]|this[ve]<<8;return Be&32768?Be|4294901760:Be},ue.prototype.readInt32LE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},ue.prototype.readInt32BE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},ue.prototype.readBigInt64LE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=this[ve+4]+this[ve+5]*2**8+this[ve+6]*2**16+(Be<<24);return(BigInt(We)<<BigInt(32))+BigInt(xe+this[++ve]*2**8+this[++ve]*2**16+this[++ve]*2**24)}),ue.prototype.readBigInt64BE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=(xe<<24)+this[++ve]*2**16+this[++ve]*2**8+this[++ve];return(BigInt(We)<<BigInt(32))+BigInt(this[++ve]*2**24+this[++ve]*2**16+this[++ve]*2**8+Be)}),ue.prototype.readFloatLE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),re.read(this,ve,!0,23,4)},ue.prototype.readFloatBE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),re.read(this,ve,!1,23,4)},ue.prototype.readDoubleLE=function(ve,xe){return ve=ve>>>0,xe||we(ve,8,this.length),re.read(this,ve,!0,52,8)},ue.prototype.readDoubleBE=function(ve,xe){return ve=ve>>>0,xe||we(ve,8,this.length),re.read(this,ve,!1,52,8)};function Me(Ae,ve,xe,Be,We,et){if(!ue.isBuffer(Ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(ve>We||ve<et)throw new RangeError('"value" argument is out of bounds');if(xe+Be>Ae.length)throw new RangeError("Index out of range")}ue.prototype.writeUintLE=ue.prototype.writeUIntLE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,Be=Be>>>0,!We){const Mt=Math.pow(2,8*Be)-1;Me(this,ve,xe,Be,Mt,0)}let et=1,Xe=0;for(this[xe]=ve&255;++Xe<Be&&(et*=256);)this[xe+Xe]=ve/et&255;return xe+Be},ue.prototype.writeUintBE=ue.prototype.writeUIntBE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,Be=Be>>>0,!We){const Mt=Math.pow(2,8*Be)-1;Me(this,ve,xe,Be,Mt,0)}let et=Be-1,Xe=1;for(this[xe+et]=ve&255;--et>=0&&(Xe*=256);)this[xe+et]=ve/Xe&255;return xe+Be},ue.prototype.writeUint8=ue.prototype.writeUInt8=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,1,255,0),this[xe]=ve&255,xe+1},ue.prototype.writeUint16LE=ue.prototype.writeUInt16LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,65535,0),this[xe]=ve&255,this[xe+1]=ve>>>8,xe+2},ue.prototype.writeUint16BE=ue.prototype.writeUInt16BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,65535,0),this[xe]=ve>>>8,this[xe+1]=ve&255,xe+2},ue.prototype.writeUint32LE=ue.prototype.writeUInt32LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,4294967295,0),this[xe+3]=ve>>>24,this[xe+2]=ve>>>16,this[xe+1]=ve>>>8,this[xe]=ve&255,xe+4},ue.prototype.writeUint32BE=ue.prototype.writeUInt32BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,4294967295,0),this[xe]=ve>>>24,this[xe+1]=ve>>>16,this[xe+2]=ve>>>8,this[xe+3]=ve&255,xe+4};function Le(Ae,ve,xe,Be,We){Rt(ve,Be,We,Ae,xe,7);let et=Number(ve&BigInt(4294967295));Ae[xe++]=et,et=et>>8,Ae[xe++]=et,et=et>>8,Ae[xe++]=et,et=et>>8,Ae[xe++]=et;let Xe=Number(ve>>BigInt(32)&BigInt(4294967295));return Ae[xe++]=Xe,Xe=Xe>>8,Ae[xe++]=Xe,Xe=Xe>>8,Ae[xe++]=Xe,Xe=Xe>>8,Ae[xe++]=Xe,xe}function Je(Ae,ve,xe,Be,We){Rt(ve,Be,We,Ae,xe,7);let et=Number(ve&BigInt(4294967295));Ae[xe+7]=et,et=et>>8,Ae[xe+6]=et,et=et>>8,Ae[xe+5]=et,et=et>>8,Ae[xe+4]=et;let Xe=Number(ve>>BigInt(32)&BigInt(4294967295));return Ae[xe+3]=Xe,Xe=Xe>>8,Ae[xe+2]=Xe,Xe=Xe>>8,Ae[xe+1]=Xe,Xe=Xe>>8,Ae[xe]=Xe,xe+8}ue.prototype.writeBigUInt64LE=Bt(function(ve,xe=0){return Le(this,ve,xe,BigInt(0),BigInt("0xffffffffffffffff"))}),ue.prototype.writeBigUInt64BE=Bt(function(ve,xe=0){return Je(this,ve,xe,BigInt(0),BigInt("0xffffffffffffffff"))}),ue.prototype.writeIntLE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,!We){const Vt=Math.pow(2,8*Be-1);Me(this,ve,xe,Be,Vt-1,-Vt)}let et=0,Xe=1,Mt=0;for(this[xe]=ve&255;++et<Be&&(Xe*=256);)ve<0&&Mt===0&&this[xe+et-1]!==0&&(Mt=1),this[xe+et]=(ve/Xe>>0)-Mt&255;return xe+Be},ue.prototype.writeIntBE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,!We){const Vt=Math.pow(2,8*Be-1);Me(this,ve,xe,Be,Vt-1,-Vt)}let et=Be-1,Xe=1,Mt=0;for(this[xe+et]=ve&255;--et>=0&&(Xe*=256);)ve<0&&Mt===0&&this[xe+et+1]!==0&&(Mt=1),this[xe+et]=(ve/Xe>>0)-Mt&255;return xe+Be},ue.prototype.writeInt8=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,1,127,-128),ve<0&&(ve=255+ve+1),this[xe]=ve&255,xe+1},ue.prototype.writeInt16LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,32767,-32768),this[xe]=ve&255,this[xe+1]=ve>>>8,xe+2},ue.prototype.writeInt16BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,32767,-32768),this[xe]=ve>>>8,this[xe+1]=ve&255,xe+2},ue.prototype.writeInt32LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,2147483647,-2147483648),this[xe]=ve&255,this[xe+1]=ve>>>8,this[xe+2]=ve>>>16,this[xe+3]=ve>>>24,xe+4},ue.prototype.writeInt32BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),this[xe]=ve>>>24,this[xe+1]=ve>>>16,this[xe+2]=ve>>>8,this[xe+3]=ve&255,xe+4},ue.prototype.writeBigInt64LE=Bt(function(ve,xe=0){return Le(this,ve,xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ue.prototype.writeBigInt64BE=Bt(function(ve,xe=0){return Je(this,ve,xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ue(Ae,ve,xe,Be,We,et){if(xe+Be>Ae.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("Index out of range")}function ct(Ae,ve,xe,Be,We){return ve=+ve,xe=xe>>>0,We||Ue(Ae,ve,xe,4),re.write(Ae,ve,xe,Be,23,4),xe+4}ue.prototype.writeFloatLE=function(ve,xe,Be){return ct(this,ve,xe,!0,Be)},ue.prototype.writeFloatBE=function(ve,xe,Be){return ct(this,ve,xe,!1,Be)};function gt(Ae,ve,xe,Be,We){return ve=+ve,xe=xe>>>0,We||Ue(Ae,ve,xe,8),re.write(Ae,ve,xe,Be,52,8),xe+8}ue.prototype.writeDoubleLE=function(ve,xe,Be){return gt(this,ve,xe,!0,Be)},ue.prototype.writeDoubleBE=function(ve,xe,Be){return gt(this,ve,xe,!1,Be)},ue.prototype.copy=function(ve,xe,Be,We){if(!ue.isBuffer(ve))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!We&&We!==0&&(We=this.length),xe>=ve.length&&(xe=ve.length),xe||(xe=0),We>0&&We<Be&&(We=Be),We===Be||ve.length===0||this.length===0)return 0;if(xe<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),ve.length-xe<We-Be&&(We=ve.length-xe+Be);const et=We-Be;return this===ve&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(xe,Be,We):Uint8Array.prototype.set.call(ve,this.subarray(Be,We),xe),et},ue.prototype.fill=function(ve,xe,Be,We){if(typeof ve=="string"){if(typeof xe=="string"?(We=xe,xe=0,Be=this.length):typeof Be=="string"&&(We=Be,Be=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!ue.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(ve.length===1){const Xe=ve.charCodeAt(0);(We==="utf8"&&Xe<128||We==="latin1")&&(ve=Xe)}}else typeof ve=="number"?ve=ve&255:typeof ve=="boolean"&&(ve=Number(ve));if(xe<0||this.length<xe||this.length<Be)throw new RangeError("Out of range index");if(Be<=xe)return this;xe=xe>>>0,Be=Be===void 0?this.length:Be>>>0,ve||(ve=0);let et;if(typeof ve=="number")for(et=xe;et<Be;++et)this[et]=ve;else{const Xe=ue.isBuffer(ve)?ve:ue.from(ve,We),Mt=Xe.length;if(Mt===0)throw new TypeError('The value "'+ve+'" is invalid for argument "value"');for(et=0;et<Be-xe;++et)this[et+xe]=Xe[et%Mt]}return this};const $t={};function vt(Ae,ve,xe){$t[Ae]=class extends xe{constructor(){super(),Object.defineProperty(this,"message",{value:ve.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ae}]`,this.stack,delete this.name}get code(){return Ae}set code(We){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:We,writable:!0})}toString(){return`${this.name} [${Ae}]: ${this.message}`}}}vt("ERR_BUFFER_OUT_OF_BOUNDS",function(Ae){return Ae?`${Ae} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),vt("ERR_INVALID_ARG_TYPE",function(Ae,ve){return`The "${Ae}" argument must be of type number. Received type ${typeof ve}`},TypeError),vt("ERR_OUT_OF_RANGE",function(Ae,ve,xe){let Be=`The value of "${Ae}" is out of range.`,We=xe;return Number.isInteger(xe)&&Math.abs(xe)>2**32?We=Tt(String(xe)):typeof xe=="bigint"&&(We=String(xe),(xe>BigInt(2)**BigInt(32)||xe<-(BigInt(2)**BigInt(32)))&&(We=Tt(We)),We+="n"),Be+=` It must be ${ve}. Received ${We}`,Be},RangeError);function Tt(Ae){let ve="",xe=Ae.length;const Be=Ae[0]==="-"?1:0;for(;xe>=Be+4;xe-=3)ve=`_${Ae.slice(xe-3,xe)}${ve}`;return`${Ae.slice(0,xe)}${ve}`}function qt(Ae,ve,xe){lt(ve,"offset"),(Ae[ve]===void 0||Ae[ve+xe]===void 0)&&_t(ve,Ae.length-(xe+1))}function Rt(Ae,ve,xe,Be,We,et){if(Ae>xe||Ae<ve){const Xe=typeof ve=="bigint"?"n":"";let Mt;throw et>3?ve===0||ve===BigInt(0)?Mt=`>= 0${Xe} and < 2${Xe} ** ${(et+1)*8}${Xe}`:Mt=`>= -(2${Xe} ** ${(et+1)*8-1}${Xe}) and < 2 ** ${(et+1)*8-1}${Xe}`:Mt=`>= ${ve}${Xe} and <= ${xe}${Xe}`,new $t.ERR_OUT_OF_RANGE("value",Mt,Ae)}qt(Be,We,et)}function lt(Ae,ve){if(typeof Ae!="number")throw new $t.ERR_INVALID_ARG_TYPE(ve,"number",Ae)}function _t(Ae,ve,xe){throw Math.floor(Ae)!==Ae?(lt(Ae,xe),new $t.ERR_OUT_OF_RANGE(xe||"offset","an integer",Ae)):ve<0?new $t.ERR_BUFFER_OUT_OF_BOUNDS:new $t.ERR_OUT_OF_RANGE(xe||"offset",`>= ${xe?1:0} and <= ${ve}`,Ae)}const bt=/[^+/0-9A-Za-z-_]/g;function Qe(Ae){if(Ae=Ae.split("=")[0],Ae=Ae.trim().replace(bt,""),Ae.length<2)return"";for(;Ae.length%4!==0;)Ae=Ae+"=";return Ae}function ze(Ae,ve){ve=ve||1/0;let xe;const Be=Ae.length;let We=null;const et=[];for(let Xe=0;Xe<Be;++Xe){if(xe=Ae.charCodeAt(Xe),xe>55295&&xe<57344){if(!We){if(xe>56319){(ve-=3)>-1&&et.push(239,191,189);continue}else if(Xe+1===Be){(ve-=3)>-1&&et.push(239,191,189);continue}We=xe;continue}if(xe<56320){(ve-=3)>-1&&et.push(239,191,189),We=xe;continue}xe=(We-55296<<10|xe-56320)+65536}else We&&(ve-=3)>-1&&et.push(239,191,189);if(We=null,xe<128){if((ve-=1)<0)break;et.push(xe)}else if(xe<2048){if((ve-=2)<0)break;et.push(xe>>6|192,xe&63|128)}else if(xe<65536){if((ve-=3)<0)break;et.push(xe>>12|224,xe>>6&63|128,xe&63|128)}else if(xe<1114112){if((ve-=4)<0)break;et.push(xe>>18|240,xe>>12&63|128,xe>>6&63|128,xe&63|128)}else throw new Error("Invalid code point")}return et}function De(Ae){const ve=[];for(let xe=0;xe<Ae.length;++xe)ve.push(Ae.charCodeAt(xe)&255);return ve}function Ze(Ae,ve){let xe,Be,We;const et=[];for(let Xe=0;Xe<Ae.length&&!((ve-=2)<0);++Xe)xe=Ae.charCodeAt(Xe),Be=xe>>8,We=xe%256,et.push(We),et.push(Be);return et}function yt(Ae){return ee.toByteArray(Qe(Ae))}function dt(Ae,ve,xe,Be){let We;for(We=0;We<Be&&!(We+xe>=ve.length||We>=Ae.length);++We)ve[We+xe]=Ae[We];return We}function mt(Ae,ve){return Ae instanceof ve||Ae!=null&&Ae.constructor!=null&&Ae.constructor.name!=null&&Ae.constructor.name===ve.name}function Lt(Ae){return Ae!==Ae}const St=function(){const Ae="0123456789abcdef",ve=new Array(256);for(let xe=0;xe<16;++xe){const Be=xe*16;for(let We=0;We<16;++We)ve[Be+We]=Ae[xe]+Ae[We]}return ve}();function Bt(Ae){return typeof BigInt=="undefined"?Gt:Ae}function Gt(){throw new Error("BigInt not supported")}})(buffer$2);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(te,ee){var re=buffer$2,ne=re.Buffer;function oe(se,ue){for(var he in se)ue[he]=se[he]}ne.from&&ne.alloc&&ne.allocUnsafe&&ne.allocUnsafeSlow?te.exports=re:(oe(re,ee),ee.Buffer=ie);function ie(se,ue,he){return ne(se,ue,he)}ie.prototype=Object.create(ne.prototype),oe(ne,ie),ie.from=function(se,ue,he){if(typeof se=="number")throw new TypeError("Argument must not be a number");return ne(se,ue,he)},ie.alloc=function(se,ue,he){if(typeof se!="number")throw new TypeError("Argument must be a number");var ge=ne(se);return ue!==void 0?typeof he=="string"?ge.fill(ue,he):ge.fill(ue):ge.fill(0),ge},ie.allocUnsafe=function(se){if(typeof se!="number")throw new TypeError("Argument must be a number");return ne(se)},ie.allocUnsafeSlow=function(se){if(typeof se!="number")throw new TypeError("Argument must be a number");return re.SlowBuffer(se)}})(safeBuffer,safeBuffer.exports);var _Buffer=safeBuffer.exports.Buffer;function base$2(te){if(te.length>=255)throw new TypeError("Alphabet too long");for(var ee=new Uint8Array(256),re=0;re<ee.length;re++)ee[re]=255;for(var ne=0;ne<te.length;ne++){var oe=te.charAt(ne),ie=oe.charCodeAt(0);if(ee[ie]!==255)throw new TypeError(oe+" is ambiguous");ee[ie]=ne}var se=te.length,ue=te.charAt(0),he=Math.log(se)/Math.log(256),ge=Math.log(256)/Math.log(se);function be(ke){if((Array.isArray(ke)||ke instanceof Uint8Array)&&(ke=_Buffer.from(ke)),!_Buffer.isBuffer(ke))throw new TypeError("Expected Buffer");if(ke.length===0)return"";for(var Re=0,Ce=0,Pe=0,Ie=ke.length;Pe!==Ie&&ke[Pe]===0;)Pe++,Re++;for(var Ne=(Ie-Pe)*ge+1>>>0,He=new Uint8Array(Ne);Pe!==Ie;){for(var Ke=ke[Pe],Ge=0,ut=Ne-1;(Ke!==0||Ge<Ce)&&ut!==-1;ut--,Ge++)Ke+=256*He[ut]>>>0,He[ut]=Ke%se>>>0,Ke=Ke/se>>>0;if(Ke!==0)throw new Error("Non-zero carry");Ce=Ge,Pe++}for(var Ve=Ne-Ce;Ve!==Ne&&He[Ve]===0;)Ve++;for(var nt=ue.repeat(Re);Ve<Ne;++Ve)nt+=te.charAt(He[Ve]);return nt}function Se(ke){if(typeof ke!="string")throw new TypeError("Expected String");if(ke.length===0)return _Buffer.alloc(0);for(var Re=0,Ce=0,Pe=0;ke[Re]===ue;)Ce++,Re++;for(var Ie=(ke.length-Re)*he+1>>>0,Ne=new Uint8Array(Ie);ke[Re];){var He=ee[ke.charCodeAt(Re)];if(He===255)return;for(var Ke=0,Ge=Ie-1;(He!==0||Ke<Pe)&&Ge!==-1;Ge--,Ke++)He+=se*Ne[Ge]>>>0,Ne[Ge]=He%256>>>0,He=He/256>>>0;if(He!==0)throw new Error("Non-zero carry");Pe=Ke,Re++}for(var ut=Ie-Pe;ut!==Ie&&Ne[ut]===0;)ut++;var Ve=_Buffer.allocUnsafe(Ce+(Ie-ut));Ve.fill(0,0,Ce);for(var nt=Ce;ut!==Ie;)Ve[nt++]=Ne[ut++];return Ve}function Te(ke){var Re=Se(ke);if(Re)return Re;throw new Error("Non-base"+se+" character")}return{encode:be,decodeUnsafe:Se,decode:Te}}var src$3=base$2,basex=src$3,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$1=basex(ALPHABET),lib$7={};function inRange(te,ee,re){return ee<=te&&te<=re}function ToDictionary(te){if(te===void 0)return{};if(te===Object(te))return te;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(te){for(var ee=String(te),re=ee.length,ne=0,oe=[];ne<re;){var ie=ee.charCodeAt(ne);if(ie<55296||ie>57343)oe.push(ie);else if(56320<=ie&&ie<=57343)oe.push(65533);else if(55296<=ie&&ie<=56319)if(ne===re-1)oe.push(65533);else{var se=te.charCodeAt(ne+1);if(56320<=se&&se<=57343){var ue=ie&1023,he=se&1023;oe.push(65536+(ue<<10)+he),ne+=1}else oe.push(65533)}ne+=1}return oe}function codePointsToString(te){for(var ee="",re=0;re<te.length;++re){var ne=te[re];ne<=65535?ee+=String.fromCharCode(ne):(ne-=65536,ee+=String.fromCharCode((ne>>10)+55296,(ne&1023)+56320))}return ee}var end_of_stream=-1;function Stream$2(te){this.tokens=[].slice.call(te)}Stream$2.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(te){if(Array.isArray(te))for(var ee=te;ee.length;)this.tokens.unshift(ee.pop());else this.tokens.unshift(te)},push:function(te){if(Array.isArray(te))for(var ee=te;ee.length;)this.tokens.push(ee.shift());else this.tokens.push(te)}};var finished$1=-1;function decoderError(te,ee){if(te)throw TypeError("Decoder error");return ee||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(te,ee){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(te,ee);if(te=te!==void 0?String(te).toLowerCase():DEFAULT_ENCODING,te!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");ee=ToDictionary(ee),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(ee.fatal),this._ignoreBOM=Boolean(ee.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(ee,re){var ne;typeof ee=="object"&&ee instanceof ArrayBuffer?ne=new Uint8Array(ee):typeof ee=="object"&&"buffer"in ee&&ee.buffer instanceof ArrayBuffer?ne=new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength):ne=new Uint8Array(0),re=ToDictionary(re),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(re.stream);for(var oe=new Stream$2(ne),ie=[],se;!oe.endOfStream()&&(se=this._decoder.handler(oe,oe.read()),se!==finished$1);)se!==null&&(Array.isArray(se)?ie.push.apply(ie,se):ie.push(se));if(!this._streaming){do{if(se=this._decoder.handler(oe,oe.read()),se===finished$1)break;se!==null&&(Array.isArray(se)?ie.push.apply(ie,se):ie.push(se))}while(!oe.endOfStream());this._decoder=null}return ie.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(ie[0]===65279?(this._BOMseen=!0,ie.shift()):this._BOMseen=!0),codePointsToString(ie)}};function TextEncoder$1(te,ee){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(te,ee);if(te=te!==void 0?String(te).toLowerCase():DEFAULT_ENCODING,te!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");ee=ToDictionary(ee),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(ee.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(ee,re){ee=ee?String(ee):"",re=ToDictionary(re),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(re.stream);for(var ne=[],oe=new Stream$2(stringToCodePoints(ee)),ie;!oe.endOfStream()&&(ie=this._encoder.handler(oe,oe.read()),ie!==finished$1);)Array.isArray(ie)?ne.push.apply(ne,ie):ne.push(ie);if(!this._streaming){for(;ie=this._encoder.handler(oe,oe.read()),ie!==finished$1;)Array.isArray(ie)?ne.push.apply(ne,ie):ne.push(ie);this._encoder=null}return new Uint8Array(ne)}};function UTF8Decoder(te){var ee=te.fatal,re=0,ne=0,oe=0,ie=128,se=191;this.handler=function(ue,he){if(he===end_of_stream&&oe!==0)return oe=0,decoderError(ee);if(he===end_of_stream)return finished$1;if(oe===0){if(inRange(he,0,127))return he;if(inRange(he,194,223))oe=1,re=he-192;else if(inRange(he,224,239))he===224&&(ie=160),he===237&&(se=159),oe=2,re=he-224;else if(inRange(he,240,244))he===240&&(ie=144),he===244&&(se=143),oe=3,re=he-240;else return decoderError(ee);return re=re<<6*oe,null}if(!inRange(he,ie,se))return re=oe=ne=0,ie=128,se=191,ue.prepend(he),decoderError(ee);if(ie=128,se=191,ne+=1,re+=he-128<<6*(oe-ne),ne!==oe)return null;var ge=re;return re=oe=ne=0,ge}}function UTF8Encoder(te){te.fatal,this.handler=function(ee,re){if(re===end_of_stream)return finished$1;if(inRange(re,0,127))return re;var ne,oe;inRange(re,128,2047)?(ne=1,oe=192):inRange(re,2048,65535)?(ne=2,oe=224):inRange(re,65536,1114111)&&(ne=3,oe=240);for(var ie=[(re>>6*ne)+oe];ne>0;){var se=re>>6*(ne-1);ie.push(128|se&63),ne-=1}return ie}}var encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(encoding$1),__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(te,ee,re,ne){ne===void 0&&(ne=re),Object.defineProperty(te,ne,{enumerable:!0,get:function(){return ee[re]}})}:function(te,ee,re,ne){ne===void 0&&(ne=re),te[ne]=ee[re]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(te,ee){Object.defineProperty(te,"default",{enumerable:!0,value:ee})}:function(te,ee){te.default=ee}),__decorate$1=commonjsGlobal&&commonjsGlobal.__decorate||function(te,ee,re,ne){var oe=arguments.length,ie=oe<3?ee:ne===null?ne=Object.getOwnPropertyDescriptor(ee,re):ne,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(te,ee,re,ne);else for(var ue=te.length-1;ue>=0;ue--)(se=te[ue])&&(ie=(oe<3?se(ie):oe>3?se(ee,re,ie):se(ee,re))||ie);return oe>3&&ie&&Object.defineProperty(ee,re,ie),ie},__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(te){if(te&&te.__esModule)return te;var ee={};if(te!=null)for(var re in te)re!=="default"&&Object.hasOwnProperty.call(te,re)&&__createBinding$1(ee,te,re);return __setModuleDefault$1(ee,te),ee},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(lib$7,"__esModule",{value:!0});var deserializeUnchecked_1=lib$7.deserializeUnchecked=deserialize_1=lib$7.deserialize=serialize_1=lib$7.serialize=lib$7.BinaryReader=lib$7.BinaryWriter=lib$7.BorshError=lib$7.baseDecode=lib$7.baseEncode=void 0;const bn_js_1$2=__importDefault$4(bn$4.exports),bs58_1=__importDefault$4(bs58$1),encoding=__importStar$1(require$$2$1),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(te){return typeof te=="string"&&(te=buffer$2.Buffer.from(te,"utf8")),bs58_1.default.encode(buffer$2.Buffer.from(te))}lib$7.baseEncode=baseEncode;function baseDecode(te){return buffer$2.Buffer.from(bs58_1.default.decode(te))}lib$7.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(ee){super(ee),this.fieldPath=[],this.originalMessage=ee}addToFieldPath(ee){this.fieldPath.splice(0,0,ee),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$7.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=buffer$2.Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=buffer$2.Buffer.concat([this.buf,buffer$2.Buffer.alloc(INITIAL_LENGTH)]))}writeU8(ee){this.maybeResize(),this.buf.writeUInt8(ee,this.length),this.length+=1}writeU16(ee){this.maybeResize(),this.buf.writeUInt16LE(ee,this.length),this.length+=2}writeU32(ee){this.maybeResize(),this.buf.writeUInt32LE(ee,this.length),this.length+=4}writeU64(ee){this.maybeResize(),this.writeBuffer(buffer$2.Buffer.from(new bn_js_1$2.default(ee).toArray("le",8)))}writeU128(ee){this.maybeResize(),this.writeBuffer(buffer$2.Buffer.from(new bn_js_1$2.default(ee).toArray("le",16)))}writeU256(ee){this.maybeResize(),this.writeBuffer(buffer$2.Buffer.from(new bn_js_1$2.default(ee).toArray("le",32)))}writeU512(ee){this.maybeResize(),this.writeBuffer(buffer$2.Buffer.from(new bn_js_1$2.default(ee).toArray("le",64)))}writeBuffer(ee){this.buf=buffer$2.Buffer.concat([buffer$2.Buffer.from(this.buf.subarray(0,this.length)),ee,buffer$2.Buffer.alloc(INITIAL_LENGTH)]),this.length+=ee.length}writeString(ee){this.maybeResize();const re=buffer$2.Buffer.from(ee,"utf8");this.writeU32(re.length),this.writeBuffer(re)}writeFixedArray(ee){this.writeBuffer(buffer$2.Buffer.from(ee))}writeArray(ee,re){this.maybeResize(),this.writeU32(ee.length);for(const ne of ee)this.maybeResize(),re(ne)}toArray(){return this.buf.subarray(0,this.length)}}lib$7.BinaryWriter=BinaryWriter;function handlingRangeError(te,ee,re){const ne=re.value;re.value=function(...oe){try{return ne.apply(this,oe)}catch(ie){if(ie instanceof RangeError){const se=ie.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(se)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw ie}}}class BinaryReader{constructor(ee){this.buf=ee,this.offset=0}readU8(){const ee=this.buf.readUInt8(this.offset);return this.offset+=1,ee}readU16(){const ee=this.buf.readUInt16LE(this.offset);return this.offset+=2,ee}readU32(){const ee=this.buf.readUInt32LE(this.offset);return this.offset+=4,ee}readU64(){const ee=this.readBuffer(8);return new bn_js_1$2.default(ee,"le")}readU128(){const ee=this.readBuffer(16);return new bn_js_1$2.default(ee,"le")}readU256(){const ee=this.readBuffer(32);return new bn_js_1$2.default(ee,"le")}readU512(){const ee=this.readBuffer(64);return new bn_js_1$2.default(ee,"le")}readBuffer(ee){if(this.offset+ee>this.buf.length)throw new BorshError(`Expected buffer length ${ee} isn't within bounds`);const re=this.buf.slice(this.offset,this.offset+ee);return this.offset+=ee,re}readString(){const ee=this.readU32(),re=this.readBuffer(ee);try{return textDecoder.decode(re)}catch(ne){throw new BorshError(`Error decoding UTF-8 string: ${ne}`)}}readFixedArray(ee){return new Uint8Array(this.readBuffer(ee))}readArray(ee){const re=this.readU32(),ne=Array();for(let oe=0;oe<re;++oe)ne.push(ee());return ne}}__decorate$1([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate$1([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate$1([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate$1([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate$1([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate$1([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate$1([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate$1([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate$1([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate$1([handlingRangeError],BinaryReader.prototype,"readArray",null);lib$7.BinaryReader=BinaryReader;function capitalizeFirstLetter(te){return te.charAt(0).toUpperCase()+te.slice(1)}function serializeField(te,ee,re,ne,oe){try{if(typeof ne=="string")oe[`write${capitalizeFirstLetter(ne)}`](re);else if(ne instanceof Array)if(typeof ne[0]=="number"){if(re.length!==ne[0])throw new BorshError(`Expecting byte array of length ${ne[0]}, but got ${re.length} bytes`);oe.writeFixedArray(re)}else if(ne.length===2&&typeof ne[1]=="number"){if(re.length!==ne[1])throw new BorshError(`Expecting byte array of length ${ne[1]}, but got ${re.length} bytes`);for(let ie=0;ie<ne[1];ie++)serializeField(te,null,re[ie],ne[0],oe)}else oe.writeArray(re,ie=>{serializeField(te,ee,ie,ne[0],oe)});else if(ne.kind!==void 0)switch(ne.kind){case"option":{re==null?oe.writeU8(0):(oe.writeU8(1),serializeField(te,ee,re,ne.type,oe));break}case"map":{oe.writeU32(re.size),re.forEach((ie,se)=>{serializeField(te,ee,se,ne.key,oe),serializeField(te,ee,ie,ne.value,oe)});break}default:throw new BorshError(`FieldType ${ne} unrecognized`)}else serializeStruct(te,re,oe)}catch(ie){throw ie instanceof BorshError&&ie.addToFieldPath(ee),ie}}function serializeStruct(te,ee,re){if(typeof ee.borshSerialize=="function"){ee.borshSerialize(re);return}const ne=te.get(ee.constructor);if(!ne)throw new BorshError(`Class ${ee.constructor.name} is missing in schema`);if(ne.kind==="struct")ne.fields.map(([oe,ie])=>{serializeField(te,oe,ee[oe],ie,re)});else if(ne.kind==="enum"){const oe=ee[ne.field];for(let ie=0;ie<ne.values.length;++ie){const[se,ue]=ne.values[ie];if(se===oe){re.writeU8(ie),serializeField(te,se,ee[se],ue,re);break}}}else throw new BorshError(`Unexpected schema kind: ${ne.kind} for ${ee.constructor.name}`)}function serialize(te,ee,re=BinaryWriter){const ne=new re;return serializeStruct(te,ee,ne),ne.toArray()}var serialize_1=lib$7.serialize=serialize;function deserializeField(te,ee,re,ne){try{if(typeof re=="string")return ne[`read${capitalizeFirstLetter(re)}`]();if(re instanceof Array){if(typeof re[0]=="number")return ne.readFixedArray(re[0]);if(typeof re[1]=="number"){const oe=[];for(let ie=0;ie<re[1];ie++)oe.push(deserializeField(te,null,re[0],ne));return oe}else return ne.readArray(()=>deserializeField(te,ee,re[0],ne))}if(re.kind==="option")return ne.readU8()?deserializeField(te,ee,re.type,ne):void 0;if(re.kind==="map"){let oe=new Map;const ie=ne.readU32();for(let se=0;se<ie;se++){const ue=deserializeField(te,ee,re.key,ne),he=deserializeField(te,ee,re.value,ne);oe.set(ue,he)}return oe}return deserializeStruct(te,re,ne)}catch(oe){throw oe instanceof BorshError&&oe.addToFieldPath(ee),oe}}function deserializeStruct(te,ee,re){if(typeof ee.borshDeserialize=="function")return ee.borshDeserialize(re);const ne=te.get(ee);if(!ne)throw new BorshError(`Class ${ee.name} is missing in schema`);if(ne.kind==="struct"){const oe={};for(const[ie,se]of te.get(ee).fields)oe[ie]=deserializeField(te,ie,se,re);return new ee(oe)}if(ne.kind==="enum"){const oe=re.readU8();if(oe>=ne.values.length)throw new BorshError(`Enum index: ${oe} is out of range`);const[ie,se]=ne.values[oe],ue=deserializeField(te,ie,se,re);return new ee({[ie]:ue})}throw new BorshError(`Unexpected schema kind: ${ne.kind} for ${ee.constructor.name}`)}function deserialize(te,ee,re,ne=BinaryReader){const oe=new ne(re),ie=deserializeStruct(te,ee,oe);if(oe.offset<re.length)throw new BorshError(`Unexpected ${re.length-oe.offset} bytes after deserialized data`);return ie}var deserialize_1=lib$7.deserialize=deserialize;function deserializeUnchecked(te,ee,re,ne=BinaryReader){const oe=new ne(re);return deserializeStruct(te,ee,oe)}deserializeUnchecked_1=lib$7.deserializeUnchecked=deserializeUnchecked;var Layout$4={};Object.defineProperty(Layout$4,"__esModule",{value:!0});Layout$4.s16=Layout$4.s8=Layout$4.nu64be=Layout$4.u48be=Layout$4.u40be=Layout$4.u32be=Layout$4.u24be=Layout$4.u16be=nu64$1=Layout$4.nu64=Layout$4.u48=Layout$4.u40=u32$2=Layout$4.u32=Layout$4.u24=u16=Layout$4.u16=u8$2=Layout$4.u8=offset=Layout$4.offset=Layout$4.greedy=Layout$4.Constant=Layout$4.UTF8=Layout$4.CString=Layout$4.Blob=Layout$4.Boolean=Layout$4.BitField=Layout$4.BitStructure=Layout$4.VariantLayout=Layout$4.Union=Layout$4.UnionLayoutDiscriminator=Layout$4.UnionDiscriminator=Layout$4.Structure=Layout$4.Sequence=Layout$4.DoubleBE=Layout$4.Double=Layout$4.FloatBE=Layout$4.Float=Layout$4.NearInt64BE=Layout$4.NearInt64=Layout$4.NearUInt64BE=Layout$4.NearUInt64=Layout$4.IntBE=Layout$4.Int=Layout$4.UIntBE=Layout$4.UInt=Layout$4.OffsetLayout=Layout$4.GreedyCount=Layout$4.ExternalLayout=Layout$4.bindConstructorLayout=Layout$4.nameWithProperty=Layout$4.Layout=Layout$4.uint8ArrayToBuffer=Layout$4.checkUint8Array=void 0;Layout$4.constant=Layout$4.utf8=Layout$4.cstr=blob$2=Layout$4.blob=Layout$4.unionLayoutDiscriminator=Layout$4.union=seq=Layout$4.seq=Layout$4.bits=struct$3=Layout$4.struct=Layout$4.f64be=Layout$4.f64=Layout$4.f32be=Layout$4.f32=Layout$4.ns64be=Layout$4.s48be=Layout$4.s40be=Layout$4.s32be=Layout$4.s24be=Layout$4.s16be=ns64=Layout$4.ns64=Layout$4.s48=Layout$4.s40=Layout$4.s32=Layout$4.s24=void 0;const buffer_1=buffer$2;function checkUint8Array(te){if(!(te instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$4.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(te){return checkUint8Array(te),buffer_1.Buffer.from(te.buffer,te.byteOffset,te.length)}Layout$4.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout$3{constructor(ee,re){if(!Number.isInteger(ee))throw new TypeError("span must be an integer");this.span=ee,this.property=re}makeDestinationObject(){return{}}getSpan(ee,re){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(ee){const re=Object.create(this.constructor.prototype);return Object.assign(re,this),re.property=ee,re}fromArray(ee){}}Layout$4.Layout=Layout$3;function nameWithProperty$2(te,ee){return ee.property?te+"["+ee.property+"]":te}Layout$4.nameWithProperty=nameWithProperty$2;function bindConstructorLayout$1(te,ee){if(typeof te!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(te,"layout_"))throw new Error("Class is already bound to a layout");if(!(ee&&ee instanceof Layout$3))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(ee,"boundConstructor_"))throw new Error("layout is already bound to a constructor");te.layout_=ee,ee.boundConstructor_=te,ee.makeDestinationObject=()=>new te,Object.defineProperty(te.prototype,"encode",{value(re,ne){return ee.encode(this,re,ne)},writable:!0}),Object.defineProperty(te,"decode",{value(re,ne){return ee.decode(re,ne)},writable:!0})}Layout$4.bindConstructorLayout=bindConstructorLayout$1;class ExternalLayout$2 extends Layout$3{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$4.ExternalLayout=ExternalLayout$2;class GreedyCount$1 extends ExternalLayout$2{constructor(ee=1,re){if(!Number.isInteger(ee)||0>=ee)throw new TypeError("elementSpan must be a (positive) integer");super(-1,re),this.elementSpan=ee}isCount(){return!0}decode(ee,re=0){checkUint8Array(ee);const ne=ee.length-re;return Math.floor(ne/this.elementSpan)}encode(ee,re,ne){return 0}}Layout$4.GreedyCount=GreedyCount$1;class OffsetLayout$1 extends ExternalLayout$2{constructor(ee,re=0,ne){if(!(ee instanceof Layout$3))throw new TypeError("layout must be a Layout");if(!Number.isInteger(re))throw new TypeError("offset must be integer or undefined");super(ee.span,ne||ee.property),this.layout=ee,this.offset=re}isCount(){return this.layout instanceof UInt$2||this.layout instanceof UIntBE$1}decode(ee,re=0){return this.layout.decode(ee,re+this.offset)}encode(ee,re,ne=0){return this.layout.encode(ee,re,ne+this.offset)}}Layout$4.OffsetLayout=OffsetLayout$1;class UInt$2 extends Layout$3{constructor(ee,re){if(super(ee,re),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,re=0){return uint8ArrayToBuffer(ee).readUIntLE(re,this.span)}encode(ee,re,ne=0){return uint8ArrayToBuffer(re).writeUIntLE(ee,ne,this.span),this.span}}Layout$4.UInt=UInt$2;class UIntBE$1 extends Layout$3{constructor(ee,re){if(super(ee,re),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,re=0){return uint8ArrayToBuffer(ee).readUIntBE(re,this.span)}encode(ee,re,ne=0){return uint8ArrayToBuffer(re).writeUIntBE(ee,ne,this.span),this.span}}Layout$4.UIntBE=UIntBE$1;class Int$1 extends Layout$3{constructor(ee,re){if(super(ee,re),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,re=0){return uint8ArrayToBuffer(ee).readIntLE(re,this.span)}encode(ee,re,ne=0){return uint8ArrayToBuffer(re).writeIntLE(ee,ne,this.span),this.span}}Layout$4.Int=Int$1;class IntBE$1 extends Layout$3{constructor(ee,re){if(super(ee,re),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,re=0){return uint8ArrayToBuffer(ee).readIntBE(re,this.span)}encode(ee,re,ne=0){return uint8ArrayToBuffer(re).writeIntBE(ee,ne,this.span),this.span}}Layout$4.IntBE=IntBE$1;const V2E32$1=Math.pow(2,32);function divmodInt64$1(te){const ee=Math.floor(te/V2E32$1),re=te-ee*V2E32$1;return{hi32:ee,lo32:re}}function roundedInt64$1(te,ee){return te*V2E32$1+ee}class NearUInt64$1 extends Layout$3{constructor(ee){super(8,ee)}decode(ee,re=0){const ne=uint8ArrayToBuffer(ee),oe=ne.readUInt32LE(re),ie=ne.readUInt32LE(re+4);return roundedInt64$1(ie,oe)}encode(ee,re,ne=0){const oe=divmodInt64$1(ee),ie=uint8ArrayToBuffer(re);return ie.writeUInt32LE(oe.lo32,ne),ie.writeUInt32LE(oe.hi32,ne+4),8}}Layout$4.NearUInt64=NearUInt64$1;class NearUInt64BE$1 extends Layout$3{constructor(ee){super(8,ee)}decode(ee,re=0){const ne=uint8ArrayToBuffer(ee),oe=ne.readUInt32BE(re),ie=ne.readUInt32BE(re+4);return roundedInt64$1(oe,ie)}encode(ee,re,ne=0){const oe=divmodInt64$1(ee),ie=uint8ArrayToBuffer(re);return ie.writeUInt32BE(oe.hi32,ne),ie.writeUInt32BE(oe.lo32,ne+4),8}}Layout$4.NearUInt64BE=NearUInt64BE$1;class NearInt64$1 extends Layout$3{constructor(ee){super(8,ee)}decode(ee,re=0){const ne=uint8ArrayToBuffer(ee),oe=ne.readUInt32LE(re),ie=ne.readInt32LE(re+4);return roundedInt64$1(ie,oe)}encode(ee,re,ne=0){const oe=divmodInt64$1(ee),ie=uint8ArrayToBuffer(re);return ie.writeUInt32LE(oe.lo32,ne),ie.writeInt32LE(oe.hi32,ne+4),8}}Layout$4.NearInt64=NearInt64$1;class NearInt64BE$1 extends Layout$3{constructor(ee){super(8,ee)}decode(ee,re=0){const ne=uint8ArrayToBuffer(ee),oe=ne.readInt32BE(re),ie=ne.readUInt32BE(re+4);return roundedInt64$1(oe,ie)}encode(ee,re,ne=0){const oe=divmodInt64$1(ee),ie=uint8ArrayToBuffer(re);return ie.writeInt32BE(oe.hi32,ne),ie.writeUInt32BE(oe.lo32,ne+4),8}}Layout$4.NearInt64BE=NearInt64BE$1;class Float$1 extends Layout$3{constructor(ee){super(4,ee)}decode(ee,re=0){return uint8ArrayToBuffer(ee).readFloatLE(re)}encode(ee,re,ne=0){return uint8ArrayToBuffer(re).writeFloatLE(ee,ne),4}}Layout$4.Float=Float$1;class FloatBE$1 extends Layout$3{constructor(ee){super(4,ee)}decode(ee,re=0){return uint8ArrayToBuffer(ee).readFloatBE(re)}encode(ee,re,ne=0){return uint8ArrayToBuffer(re).writeFloatBE(ee,ne),4}}Layout$4.FloatBE=FloatBE$1;class Double$1 extends Layout$3{constructor(ee){super(8,ee)}decode(ee,re=0){return uint8ArrayToBuffer(ee).readDoubleLE(re)}encode(ee,re,ne=0){return uint8ArrayToBuffer(re).writeDoubleLE(ee,ne),8}}Layout$4.Double=Double$1;class DoubleBE$1 extends Layout$3{constructor(ee){super(8,ee)}decode(ee,re=0){return uint8ArrayToBuffer(ee).readDoubleBE(re)}encode(ee,re,ne=0){return uint8ArrayToBuffer(re).writeDoubleBE(ee,ne),8}}Layout$4.DoubleBE=DoubleBE$1;class Sequence$1 extends Layout$3{constructor(ee,re,ne){if(!(ee instanceof Layout$3))throw new TypeError("elementLayout must be a Layout");if(!(re instanceof ExternalLayout$2&&re.isCount()||Number.isInteger(re)&&0<=re))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let oe=-1;!(re instanceof ExternalLayout$2)&&0<ee.span&&(oe=re*ee.span),super(oe,ne),this.elementLayout=ee,this.count=re}getSpan(ee,re=0){if(0<=this.span)return this.span;let ne=0,oe=this.count;if(oe instanceof ExternalLayout$2&&(oe=oe.decode(ee,re)),0<this.elementLayout.span)ne=oe*this.elementLayout.span;else{let ie=0;for(;ie<oe;)ne+=this.elementLayout.getSpan(ee,re+ne),++ie}return ne}decode(ee,re=0){const ne=[];let oe=0,ie=this.count;for(ie instanceof ExternalLayout$2&&(ie=ie.decode(ee,re));oe<ie;)ne.push(this.elementLayout.decode(ee,re)),re+=this.elementLayout.getSpan(ee,re),oe+=1;return ne}encode(ee,re,ne=0){const oe=this.elementLayout,ie=ee.reduce((se,ue)=>se+oe.encode(ue,re,ne+se),0);return this.count instanceof ExternalLayout$2&&this.count.encode(ee.length,re,ne),ie}}Layout$4.Sequence=Sequence$1;class Structure$2 extends Layout$3{constructor(ee,re,ne){if(!(Array.isArray(ee)&&ee.reduce((ie,se)=>ie&&se instanceof Layout$3,!0)))throw new TypeError("fields must be array of Layout instances");typeof re=="boolean"&&ne===void 0&&(ne=re,re=void 0);for(const ie of ee)if(0>ie.span&&ie.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let oe=-1;try{oe=ee.reduce((ie,se)=>ie+se.getSpan(),0)}catch{}super(oe,re),this.fields=ee,this.decodePrefixes=!!ne}getSpan(ee,re=0){if(0<=this.span)return this.span;let ne=0;try{ne=this.fields.reduce((oe,ie)=>{const se=ie.getSpan(ee,re);return re+=se,oe+se},0)}catch{throw new RangeError("indeterminate span")}return ne}decode(ee,re=0){checkUint8Array(ee);const ne=this.makeDestinationObject();for(const oe of this.fields)if(oe.property!==void 0&&(ne[oe.property]=oe.decode(ee,re)),re+=oe.getSpan(ee,re),this.decodePrefixes&&ee.length===re)break;return ne}encode(ee,re,ne=0){const oe=ne;let ie=0,se=0;for(const ue of this.fields){let he=ue.span;if(se=0<he?he:0,ue.property!==void 0){const ge=ee[ue.property];ge!==void 0&&(se=ue.encode(ge,re,ne),0>he&&(he=ue.getSpan(re,ne)))}ie=ne,ne+=he}return ie+se-oe}fromArray(ee){const re=this.makeDestinationObject();for(const ne of this.fields)ne.property!==void 0&&0<ee.length&&(re[ne.property]=ee.shift());return re}layoutFor(ee){if(typeof ee!="string")throw new TypeError("property must be string");for(const re of this.fields)if(re.property===ee)return re}offsetOf(ee){if(typeof ee!="string")throw new TypeError("property must be string");let re=0;for(const ne of this.fields){if(ne.property===ee)return re;0>ne.span?re=-1:0<=re&&(re+=ne.span)}}}Layout$4.Structure=Structure$2;class UnionDiscriminator$1{constructor(ee){this.property=ee}decode(ee,re){throw new Error("UnionDiscriminator is abstract")}encode(ee,re,ne){throw new Error("UnionDiscriminator is abstract")}}Layout$4.UnionDiscriminator=UnionDiscriminator$1;class UnionLayoutDiscriminator$1 extends UnionDiscriminator$1{constructor(ee,re){if(!(ee instanceof ExternalLayout$2&&ee.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(re||ee.property||"variant"),this.layout=ee}decode(ee,re){return this.layout.decode(ee,re)}encode(ee,re,ne){return this.layout.encode(ee,re,ne)}}Layout$4.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;class Union$1 extends Layout$3{constructor(ee,re,ne){let oe;if(ee instanceof UInt$2||ee instanceof UIntBE$1)oe=new UnionLayoutDiscriminator$1(new OffsetLayout$1(ee));else if(ee instanceof ExternalLayout$2&&ee.isCount())oe=new UnionLayoutDiscriminator$1(ee);else if(ee instanceof UnionDiscriminator$1)oe=ee;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(re===void 0&&(re=null),!(re===null||re instanceof Layout$3))throw new TypeError("defaultLayout must be null or a Layout");if(re!==null){if(0>re.span)throw new Error("defaultLayout must have constant span");re.property===void 0&&(re=re.replicate("content"))}let ie=-1;re&&(ie=re.span,0<=ie&&(ee instanceof UInt$2||ee instanceof UIntBE$1)&&(ie+=oe.layout.span)),super(ie,ne),this.discriminator=oe,this.usesPrefixDiscriminator=ee instanceof UInt$2||ee instanceof UIntBE$1,this.defaultLayout=re,this.registry={};let se=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ue){return se(ue)},this.configGetSourceVariant=function(ue){se=ue.bind(this)}}getSpan(ee,re=0){if(0<=this.span)return this.span;const ne=this.getVariant(ee,re);if(!ne)throw new Error("unable to determine span for unrecognized variant");return ne.getSpan(ee,re)}defaultGetSourceVariant(ee){if(Object.prototype.hasOwnProperty.call(ee,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(ee,this.defaultLayout.property))return;const re=this.registry[ee[this.discriminator.property]];if(re&&(!re.layout||re.property&&Object.prototype.hasOwnProperty.call(ee,re.property)))return re}else for(const re in this.registry){const ne=this.registry[re];if(ne.property&&Object.prototype.hasOwnProperty.call(ee,ne.property))return ne}throw new Error("unable to infer src variant")}decode(ee,re=0){let ne;const oe=this.discriminator,ie=oe.decode(ee,re),se=this.registry[ie];if(se===void 0){const ue=this.defaultLayout;let he=0;this.usesPrefixDiscriminator&&(he=oe.layout.span),ne=this.makeDestinationObject(),ne[oe.property]=ie,ne[ue.property]=ue.decode(ee,re+he)}else ne=se.decode(ee,re);return ne}encode(ee,re,ne=0){const oe=this.getSourceVariant(ee);if(oe===void 0){const ie=this.discriminator,se=this.defaultLayout;let ue=0;return this.usesPrefixDiscriminator&&(ue=ie.layout.span),ie.encode(ee[ie.property],re,ne),ue+se.encode(ee[se.property],re,ne+ue)}return oe.encode(ee,re,ne)}addVariant(ee,re,ne){const oe=new VariantLayout$1(this,ee,re,ne);return this.registry[ee]=oe,oe}getVariant(ee,re=0){let ne;return ee instanceof Uint8Array?ne=this.discriminator.decode(ee,re):ne=ee,this.registry[ne]}}Layout$4.Union=Union$1;class VariantLayout$1 extends Layout$3{constructor(ee,re,ne,oe){if(!(ee instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(re)||0>re)throw new TypeError("variant must be a (non-negative) integer");if(typeof ne=="string"&&oe===void 0&&(oe=ne,ne=null),ne){if(!(ne instanceof Layout$3))throw new TypeError("layout must be a Layout");if(ee.defaultLayout!==null&&0<=ne.span&&ne.span>ee.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof oe!="string")throw new TypeError("variant must have a String property")}let ie=ee.span;0>ee.span&&(ie=ne?ne.span:0,0<=ie&&ee.usesPrefixDiscriminator&&(ie+=ee.discriminator.layout.span)),super(ie,oe),this.union=ee,this.variant=re,this.layout=ne||null}getSpan(ee,re=0){if(0<=this.span)return this.span;let ne=0;this.union.usesPrefixDiscriminator&&(ne=this.union.discriminator.layout.span);let oe=0;return this.layout&&(oe=this.layout.getSpan(ee,re+ne)),ne+oe}decode(ee,re=0){const ne=this.makeDestinationObject();if(this!==this.union.getVariant(ee,re))throw new Error("variant mismatch");let oe=0;return this.union.usesPrefixDiscriminator&&(oe=this.union.discriminator.layout.span),this.layout?ne[this.property]=this.layout.decode(ee,re+oe):this.property?ne[this.property]=!0:this.union.usesPrefixDiscriminator&&(ne[this.union.discriminator.property]=this.variant),ne}encode(ee,re,ne=0){let oe=0;if(this.union.usesPrefixDiscriminator&&(oe=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(ee,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,re,ne);let ie=oe;if(this.layout&&(this.layout.encode(ee[this.property],re,ne+oe),ie+=this.layout.getSpan(re,ne+oe),0<=this.union.span&&ie>this.union.span))throw new Error("encoded variant overruns containing union");return ie}fromArray(ee){if(this.layout)return this.layout.fromArray(ee)}}Layout$4.VariantLayout=VariantLayout$1;function fixBitwiseResult$1(te){return 0>te&&(te+=4294967296),te}class BitStructure$1 extends Layout$3{constructor(ee,re,ne){if(!(ee instanceof UInt$2||ee instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof re=="string"&&ne===void 0&&(ne=re,re=!1),4<ee.span)throw new RangeError("word cannot exceed 32 bits");super(ee.span,ne),this.word=ee,this.msb=!!re,this.fields=[];let oe=0;this._packedSetValue=function(ie){return oe=fixBitwiseResult$1(ie),this},this._packedGetValue=function(){return oe}}decode(ee,re=0){const ne=this.makeDestinationObject(),oe=this.word.decode(ee,re);this._packedSetValue(oe);for(const ie of this.fields)ie.property!==void 0&&(ne[ie.property]=ie.decode(ee));return ne}encode(ee,re,ne=0){const oe=this.word.decode(re,ne);this._packedSetValue(oe);for(const ie of this.fields)if(ie.property!==void 0){const se=ee[ie.property];se!==void 0&&ie.encode(se)}return this.word.encode(this._packedGetValue(),re,ne)}addField(ee,re){const ne=new BitField$1(this,ee,re);return this.fields.push(ne),ne}addBoolean(ee){const re=new Boolean$2(this,ee);return this.fields.push(re),re}fieldFor(ee){if(typeof ee!="string")throw new TypeError("property must be string");for(const re of this.fields)if(re.property===ee)return re}}Layout$4.BitStructure=BitStructure$1;class BitField$1{constructor(ee,re,ne){if(!(ee instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(re)||0>=re)throw new TypeError("bits must be positive integer");const oe=8*ee.span,ie=ee.fields.reduce((se,ue)=>se+ue.bits,0);if(re+ie>oe)throw new Error("bits too long for span remainder ("+(oe-ie)+" of "+oe+" remain)");this.container=ee,this.bits=re,this.valueMask=(1<<re)-1,re===32&&(this.valueMask=4294967295),this.start=ie,this.container.msb&&(this.start=oe-ie-re),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=ne}decode(ee,re){const ne=this.container._packedGetValue();return fixBitwiseResult$1(ne&this.wordMask)>>>this.start}encode(ee){if(typeof ee!="number"||!Number.isInteger(ee)||ee!==fixBitwiseResult$1(ee&this.valueMask))throw new TypeError(nameWithProperty$2("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const re=this.container._packedGetValue(),ne=fixBitwiseResult$1(ee<<this.start);this.container._packedSetValue(fixBitwiseResult$1(re&~this.wordMask)|ne)}}Layout$4.BitField=BitField$1;class Boolean$2 extends BitField$1{constructor(ee,re){super(ee,1,re)}decode(ee,re){return!!super.decode(ee,re)}encode(ee){typeof ee=="boolean"&&(ee=+ee),super.encode(ee)}}Layout$4.Boolean=Boolean$2;class Blob$3 extends Layout$3{constructor(ee,re){if(!(ee instanceof ExternalLayout$2&&ee.isCount()||Number.isInteger(ee)&&0<=ee))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let ne=-1;ee instanceof ExternalLayout$2||(ne=ee),super(ne,re),this.length=ee}getSpan(ee,re){let ne=this.span;return 0>ne&&(ne=this.length.decode(ee,re)),ne}decode(ee,re=0){let ne=this.span;return 0>ne&&(ne=this.length.decode(ee,re)),uint8ArrayToBuffer(ee).slice(re,re+ne)}encode(ee,re,ne){let oe=this.length;if(this.length instanceof ExternalLayout$2&&(oe=ee.length),!(ee instanceof Uint8Array&&oe===ee.length))throw new TypeError(nameWithProperty$2("Blob.encode",this)+" requires (length "+oe+") Uint8Array as src");if(ne+oe>re.length)throw new RangeError("encoding overruns Uint8Array");const ie=uint8ArrayToBuffer(ee);return uint8ArrayToBuffer(re).write(ie.toString("hex"),ne,oe,"hex"),this.length instanceof ExternalLayout$2&&this.length.encode(oe,re,ne),oe}}Layout$4.Blob=Blob$3;class CString$1 extends Layout$3{constructor(ee){super(-1,ee)}getSpan(ee,re=0){checkUint8Array(ee);let ne=re;for(;ne<ee.length&&ee[ne]!==0;)ne+=1;return 1+ne-re}decode(ee,re=0){const ne=this.getSpan(ee,re);return uint8ArrayToBuffer(ee).slice(re,re+ne-1).toString("utf-8")}encode(ee,re,ne=0){typeof ee!="string"&&(ee=String(ee));const oe=buffer_1.Buffer.from(ee,"utf8"),ie=oe.length;if(ne+ie>re.length)throw new RangeError("encoding overruns Buffer");const se=uint8ArrayToBuffer(re);return oe.copy(se,ne),se[ne+ie]=0,ie+1}}Layout$4.CString=CString$1;class UTF8$1 extends Layout$3{constructor(ee,re){if(typeof ee=="string"&&re===void 0&&(re=ee,ee=void 0),ee===void 0)ee=-1;else if(!Number.isInteger(ee))throw new TypeError("maxSpan must be an integer");super(-1,re),this.maxSpan=ee}getSpan(ee,re=0){return checkUint8Array(ee),ee.length-re}decode(ee,re=0){const ne=this.getSpan(ee,re);if(0<=this.maxSpan&&this.maxSpan<ne)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(ee).slice(re,re+ne).toString("utf-8")}encode(ee,re,ne=0){typeof ee!="string"&&(ee=String(ee));const oe=buffer_1.Buffer.from(ee,"utf8"),ie=oe.length;if(0<=this.maxSpan&&this.maxSpan<ie)throw new RangeError("text length exceeds maxSpan");if(ne+ie>re.length)throw new RangeError("encoding overruns Buffer");return oe.copy(uint8ArrayToBuffer(re),ne),ie}}Layout$4.UTF8=UTF8$1;class Constant$1 extends Layout$3{constructor(ee,re){super(0,re),this.value=ee}decode(ee,re){return this.value}encode(ee,re,ne){return 0}}Layout$4.Constant=Constant$1;Layout$4.greedy=(te,ee)=>new GreedyCount$1(te,ee);var offset=Layout$4.offset=(te,ee,re)=>new OffsetLayout$1(te,ee,re),u8$2=Layout$4.u8=te=>new UInt$2(1,te),u16=Layout$4.u16=te=>new UInt$2(2,te);Layout$4.u24=te=>new UInt$2(3,te);var u32$2=Layout$4.u32=te=>new UInt$2(4,te);Layout$4.u40=te=>new UInt$2(5,te);Layout$4.u48=te=>new UInt$2(6,te);var nu64$1=Layout$4.nu64=te=>new NearUInt64$1(te);Layout$4.u16be=te=>new UIntBE$1(2,te);Layout$4.u24be=te=>new UIntBE$1(3,te);Layout$4.u32be=te=>new UIntBE$1(4,te);Layout$4.u40be=te=>new UIntBE$1(5,te);Layout$4.u48be=te=>new UIntBE$1(6,te);Layout$4.nu64be=te=>new NearUInt64BE$1(te);Layout$4.s8=te=>new Int$1(1,te);Layout$4.s16=te=>new Int$1(2,te);Layout$4.s24=te=>new Int$1(3,te);Layout$4.s32=te=>new Int$1(4,te);Layout$4.s40=te=>new Int$1(5,te);Layout$4.s48=te=>new Int$1(6,te);var ns64=Layout$4.ns64=te=>new NearInt64$1(te);Layout$4.s16be=te=>new IntBE$1(2,te);Layout$4.s24be=te=>new IntBE$1(3,te);Layout$4.s32be=te=>new IntBE$1(4,te);Layout$4.s40be=te=>new IntBE$1(5,te);Layout$4.s48be=te=>new IntBE$1(6,te);Layout$4.ns64be=te=>new NearInt64BE$1(te);Layout$4.f32=te=>new Float$1(te);Layout$4.f32be=te=>new FloatBE$1(te);Layout$4.f64=te=>new Double$1(te);Layout$4.f64be=te=>new DoubleBE$1(te);var struct$3=Layout$4.struct=(te,ee,re)=>new Structure$2(te,ee,re);Layout$4.bits=(te,ee,re)=>new BitStructure$1(te,ee,re);var seq=Layout$4.seq=(te,ee,re)=>new Sequence$1(te,ee,re);Layout$4.union=(te,ee,re)=>new Union$1(te,ee,re);Layout$4.unionLayoutDiscriminator=(te,ee)=>new UnionLayoutDiscriminator$1(te,ee);var blob$2=Layout$4.blob=(te,ee)=>new Blob$3(te,ee);Layout$4.cstr=te=>new CString$1(te);Layout$4.utf8=(te,ee)=>new UTF8$1(te,ee);Layout$4.constant=(te,ee)=>new Constant$1(te,ee);const encodeDecode=te=>{const ee=te.decode.bind(te),re=te.encode.bind(te);return{decode:ee,encode:re}};var browser$6={};Object.defineProperty(browser$6,"__esModule",{value:!0});function toBigIntLE(te){{const ee=buffer$2.Buffer.from(te);ee.reverse();const re=ee.toString("hex");return re.length===0?BigInt(0):BigInt(`0x${re}`)}}var toBigIntLE_1=browser$6.toBigIntLE=toBigIntLE;function toBigIntBE(te){{const ee=te.toString("hex");return ee.length===0?BigInt(0):BigInt(`0x${ee}`)}}browser$6.toBigIntBE=toBigIntBE;function toBufferLE(te,ee){{const re=te.toString(16),ne=buffer$2.Buffer.from(re.padStart(ee*2,"0").slice(0,ee*2),"hex");return ne.reverse(),ne}}var toBufferLE_1=browser$6.toBufferLE=toBufferLE;function toBufferBE(te,ee){{const re=te.toString(16);return buffer$2.Buffer.from(re.padStart(ee*2,"0").slice(0,ee*2),"hex")}}browser$6.toBufferBE=toBufferBE;const bigInt=te=>ee=>{const re=blob$2(te,ee),{encode:ne,decode:oe}=encodeDecode(re),ie=re;return ie.decode=(se,ue)=>{const he=oe(se,ue);return toBigIntLE_1(Buffer.from(he))},ie.encode=(se,ue,he)=>{const ge=toBufferLE_1(se,te);return ne(ge,ue,he)},ie},u64$3=bigInt(8);class StructError$1 extends TypeError{constructor(ee,re){let ne;const he=ee,{message:oe}=he,ie=En(he,["message"]),{path:se}=ee,ue=se.length===0?oe:"At path: "+se.join(".")+" -- "+oe;super(ue),Object.assign(this,ie),this.name=this.constructor.name,this.failures=()=>{var ge;return(ge=ne)!=null?ge:ne=[ee,...re()]}}}function isIterable(te){return isObject$4(te)&&typeof te[Symbol.iterator]=="function"}function isObject$4(te){return typeof te=="object"&&te!=null}function print(te){return typeof te=="string"?JSON.stringify(te):""+te}function shiftIterator(te){const{done:ee,value:re}=te.next();return ee?void 0:re}function toFailure(te,ee,re,ne){if(te===!0)return;te===!1?te={}:typeof te=="string"&&(te={message:te});const{path:oe,branch:ie}=ee,{type:se}=re,{refinement:ue,message:he="Expected a value of type `"+se+"`"+(ue?" with refinement `"+ue+"`":"")+", but received: `"+print(ne)+"`"}=te;return jr(Nr({value:ne,type:se,refinement:ue,key:oe[oe.length-1],path:oe,branch:ie},te),{message:he})}function*toFailures(te,ee,re,ne){isIterable(te)||(te=[te]);for(const oe of te){const ie=toFailure(oe,ee,re,ne);ie&&(yield ie)}}function*run(te,ee,re={}){const{path:ne=[],branch:oe=[te],coerce:ie=!1,mask:se=!1}=re,ue={path:ne,branch:oe};if(ie&&(te=ee.coercer(te,ue),se&&ee.type!=="type"&&isObject$4(ee.schema)&&isObject$4(te)&&!Array.isArray(te)))for(const ge in te)ee.schema[ge]===void 0&&delete te[ge];let he=!0;for(const ge of ee.validator(te,ue))he=!1,yield[ge,void 0];for(let[ge,be,Se]of ee.entries(te,ue)){const Te=run(be,Se,{path:ge===void 0?ne:[...ne,ge],branch:ge===void 0?oe:[...oe,be],coerce:ie,mask:se});for(const ke of Te)ke[0]?(he=!1,yield[ke[0],void 0]):ie&&(be=ke[1],ge===void 0?te=be:te instanceof Map?te.set(ge,be):te instanceof Set?te.add(be):isObject$4(te)&&(te[ge]=be))}if(he)for(const ge of ee.refiner(te,ue))he=!1,yield[ge,void 0];he&&(yield[void 0,te])}class Struct$1{constructor(ee){const{type:re,schema:ne,validator:oe,refiner:ie,coercer:se=he=>he,entries:ue=function*(){}}=ee;this.type=re,this.schema=ne,this.entries=ue,this.coercer=se,oe?this.validator=(he,ge)=>{const be=oe(he,ge);return toFailures(be,ge,this,he)}:this.validator=()=>[],ie?this.refiner=(he,ge)=>{const be=ie(he,ge);return toFailures(be,ge,this,he)}:this.refiner=()=>[]}assert(ee){return assert$j(ee,this)}create(ee){return create(ee,this)}is(ee){return is(ee,this)}mask(ee){return mask(ee,this)}validate(ee,re={}){return validate$1(ee,this,re)}}function assert$j(te,ee){const re=validate$1(te,ee);if(re[0])throw re[0]}function create(te,ee){const re=validate$1(te,ee,{coerce:!0});if(re[0])throw re[0];return re[1]}function mask(te,ee){const re=validate$1(te,ee,{coerce:!0,mask:!0});if(re[0])throw re[0];return re[1]}function is(te,ee){return!validate$1(te,ee)[0]}function validate$1(te,ee,re={}){const ne=run(te,ee,re),oe=shiftIterator(ne);if(oe[0])return[new StructError$1(oe[0],function*(){for(const se of ne)se[0]&&(yield se[0])}),void 0];{const ie=oe[1];return[void 0,ie]}}function define(te,ee){return new Struct$1({type:te,schema:null,validator:ee})}function any(){return define("any",()=>!0)}function array$1(te){return new Struct$1({type:"array",schema:te,*entries(ee){if(te&&Array.isArray(ee))for(const[re,ne]of ee.entries())yield[re,ne,te]},coercer(ee){return Array.isArray(ee)?ee.slice():ee},validator(ee){return Array.isArray(ee)||"Expected an array value, but received: "+print(ee)}})}function boolean(){return define("boolean",te=>typeof te=="boolean")}function instance(te){return define("instance",ee=>ee instanceof te||"Expected a `"+te.name+"` instance, but received: "+print(ee))}function literal(te){const ee=print(te),re=typeof te;return new Struct$1({type:"literal",schema:re==="string"||re==="number"||re==="boolean"?te:null,validator(ne){return ne===te||"Expected the literal `"+ee+"`, but received: "+print(ne)}})}function never(){return define("never",()=>!1)}function nullable(te){return new Struct$1(jr(Nr({},te),{validator:(ee,re)=>ee===null||te.validator(ee,re),refiner:(ee,re)=>ee===null||te.refiner(ee,re)}))}function number$1(){return define("number",te=>typeof te=="number"&&!isNaN(te)||"Expected a number, but received: "+print(te))}function optional(te){return new Struct$1(jr(Nr({},te),{validator:(ee,re)=>ee===void 0||te.validator(ee,re),refiner:(ee,re)=>ee===void 0||te.refiner(ee,re)}))}function record(te,ee){return new Struct$1({type:"record",schema:null,*entries(re){if(isObject$4(re))for(const ne in re){const oe=re[ne];yield[ne,ne,te],yield[ne,oe,ee]}},validator(re){return isObject$4(re)||"Expected an object, but received: "+print(re)}})}function string$1(){return define("string",te=>typeof te=="string"||"Expected a string, but received: "+print(te))}function tuple(te){const ee=never();return new Struct$1({type:"tuple",schema:null,*entries(re){if(Array.isArray(re)){const ne=Math.max(te.length,re.length);for(let oe=0;oe<ne;oe++)yield[oe,re[oe],te[oe]||ee]}},validator(re){return Array.isArray(re)||"Expected an array, but received: "+print(re)}})}function type(te){const ee=Object.keys(te);return new Struct$1({type:"type",schema:te,*entries(re){if(isObject$4(re))for(const ne of ee)yield[ne,re[ne],te[ne]]},validator(re){return isObject$4(re)||"Expected an object, but received: "+print(re)}})}function union$1(te){const ee=te.map(re=>re.type).join(" | ");return new Struct$1({type:"union",schema:null,validator(re,ne){const oe=[];for(const ie of te){const[...se]=run(re,ie,ne),[ue]=se;if(ue[0])for(const[he]of se)he&&oe.push(he);else return[]}return["Expected the value to satisfy a union of `"+ee+"`, but received: "+print(re),...oe]}})}function unknown(){return define("unknown",()=>!0)}function coerce(te,ee,re){return new Struct$1(jr(Nr({},te),{coercer:(ne,oe)=>is(ne,ee)?te.coercer(re(ne,oe),oe):te.coercer(ne,oe)}))}var index_browser={},interopRequireDefault={exports:{}};(function(te){function ee(re){return re&&re.__esModule?re:{default:re}}te.exports=ee,te.exports.__esModule=!0,te.exports.default=te.exports})(interopRequireDefault);var createClass={exports:{}};(function(te){function ee(ne,oe){for(var ie=0;ie<oe.length;ie++){var se=oe[ie];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(ne,se.key,se)}}function re(ne,oe,ie){return oe&&ee(ne.prototype,oe),ie&&ee(ne,ie),Object.defineProperty(ne,"prototype",{writable:!1}),ne}te.exports=re,te.exports.__esModule=!0,te.exports.default=te.exports})(createClass);var classCallCheck={exports:{}};(function(te){function ee(re,ne){if(!(re instanceof ne))throw new TypeError("Cannot call a class as a function")}te.exports=ee,te.exports.__esModule=!0,te.exports.default=te.exports})(classCallCheck);var inherits$m={exports:{}},setPrototypeOf={exports:{}};(function(te){function ee(re,ne){return te.exports=ee=Object.setPrototypeOf||function(ie,se){return ie.__proto__=se,ie},te.exports.__esModule=!0,te.exports.default=te.exports,ee(re,ne)}te.exports=ee,te.exports.__esModule=!0,te.exports.default=te.exports})(setPrototypeOf);(function(te){var ee=setPrototypeOf.exports;function re(ne,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(oe&&oe.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),oe&&ee(ne,oe)}te.exports=re,te.exports.__esModule=!0,te.exports.default=te.exports})(inherits$m);var possibleConstructorReturn={exports:{}},_typeof={exports:{}};(function(te){function ee(re){return te.exports=ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},te.exports.__esModule=!0,te.exports.default=te.exports,ee(re)}te.exports=ee,te.exports.__esModule=!0,te.exports.default=te.exports})(_typeof);var assertThisInitialized={exports:{}};(function(te){function ee(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}te.exports=ee,te.exports.__esModule=!0,te.exports.default=te.exports})(assertThisInitialized);(function(te){var ee=_typeof.exports.default,re=assertThisInitialized.exports;function ne(oe,ie){if(ie&&(ee(ie)==="object"||typeof ie=="function"))return ie;if(ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return re(oe)}te.exports=ne,te.exports.__esModule=!0,te.exports.default=te.exports})(possibleConstructorReturn);var getPrototypeOf$2={exports:{}};(function(te){function ee(re){return te.exports=ee=Object.setPrototypeOf?Object.getPrototypeOf:function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},te.exports.__esModule=!0,te.exports.default=te.exports,ee(re)}te.exports=ee,te.exports.__esModule=!0,te.exports.default=te.exports})(getPrototypeOf$2);var websocket_browser={},eventemitter3={exports:{}};(function(te){var ee=Object.prototype.hasOwnProperty,re="~";function ne(){}Object.create&&(ne.prototype=Object.create(null),new ne().__proto__||(re=!1));function oe(he,ge,be){this.fn=he,this.context=ge,this.once=be||!1}function ie(he,ge,be,Se,Te){if(typeof be!="function")throw new TypeError("The listener must be a function");var ke=new oe(be,Se||he,Te),Re=re?re+ge:ge;return he._events[Re]?he._events[Re].fn?he._events[Re]=[he._events[Re],ke]:he._events[Re].push(ke):(he._events[Re]=ke,he._eventsCount++),he}function se(he,ge){--he._eventsCount===0?he._events=new ne:delete he._events[ge]}function ue(){this._events=new ne,this._eventsCount=0}ue.prototype.eventNames=function(){var ge=[],be,Se;if(this._eventsCount===0)return ge;for(Se in be=this._events)ee.call(be,Se)&&ge.push(re?Se.slice(1):Se);return Object.getOwnPropertySymbols?ge.concat(Object.getOwnPropertySymbols(be)):ge},ue.prototype.listeners=function(ge){var be=re?re+ge:ge,Se=this._events[be];if(!Se)return[];if(Se.fn)return[Se.fn];for(var Te=0,ke=Se.length,Re=new Array(ke);Te<ke;Te++)Re[Te]=Se[Te].fn;return Re},ue.prototype.listenerCount=function(ge){var be=re?re+ge:ge,Se=this._events[be];return Se?Se.fn?1:Se.length:0},ue.prototype.emit=function(ge,be,Se,Te,ke,Re){var Ce=re?re+ge:ge;if(!this._events[Ce])return!1;var Pe=this._events[Ce],Ie=arguments.length,Ne,He;if(Pe.fn){switch(Pe.once&&this.removeListener(ge,Pe.fn,void 0,!0),Ie){case 1:return Pe.fn.call(Pe.context),!0;case 2:return Pe.fn.call(Pe.context,be),!0;case 3:return Pe.fn.call(Pe.context,be,Se),!0;case 4:return Pe.fn.call(Pe.context,be,Se,Te),!0;case 5:return Pe.fn.call(Pe.context,be,Se,Te,ke),!0;case 6:return Pe.fn.call(Pe.context,be,Se,Te,ke,Re),!0}for(He=1,Ne=new Array(Ie-1);He<Ie;He++)Ne[He-1]=arguments[He];Pe.fn.apply(Pe.context,Ne)}else{var Ke=Pe.length,Ge;for(He=0;He<Ke;He++)switch(Pe[He].once&&this.removeListener(ge,Pe[He].fn,void 0,!0),Ie){case 1:Pe[He].fn.call(Pe[He].context);break;case 2:Pe[He].fn.call(Pe[He].context,be);break;case 3:Pe[He].fn.call(Pe[He].context,be,Se);break;case 4:Pe[He].fn.call(Pe[He].context,be,Se,Te);break;default:if(!Ne)for(Ge=1,Ne=new Array(Ie-1);Ge<Ie;Ge++)Ne[Ge-1]=arguments[Ge];Pe[He].fn.apply(Pe[He].context,Ne)}}return!0},ue.prototype.on=function(ge,be,Se){return ie(this,ge,be,Se,!1)},ue.prototype.once=function(ge,be,Se){return ie(this,ge,be,Se,!0)},ue.prototype.removeListener=function(ge,be,Se,Te){var ke=re?re+ge:ge;if(!this._events[ke])return this;if(!be)return se(this,ke),this;var Re=this._events[ke];if(Re.fn)Re.fn===be&&(!Te||Re.once)&&(!Se||Re.context===Se)&&se(this,ke);else{for(var Ce=0,Pe=[],Ie=Re.length;Ce<Ie;Ce++)(Re[Ce].fn!==be||Te&&!Re[Ce].once||Se&&Re[Ce].context!==Se)&&Pe.push(Re[Ce]);Pe.length?this._events[ke]=Pe.length===1?Pe[0]:Pe:se(this,ke)}return this},ue.prototype.removeAllListeners=function(ge){var be;return ge?(be=re?re+ge:ge,this._events[be]&&se(this,be)):(this._events=new ne,this._eventsCount=0),this},ue.prototype.off=ue.prototype.removeListener,ue.prototype.addListener=ue.prototype.on,ue.prefixed=re,ue.EventEmitter=ue,te.exports=ue})(eventemitter3);var EventEmitter$4=eventemitter3.exports;(function(te){var ee=interopRequireDefault.exports;Object.defineProperty(te,"__esModule",{value:!0}),te.default=Se;var re=ee(classCallCheck.exports),ne=ee(createClass.exports),oe=ee(inherits$m.exports),ie=ee(possibleConstructorReturn.exports),se=ee(getPrototypeOf$2.exports),ue=eventemitter3.exports;function he(Te){var ke=ge();return function(){var Ce=(0,se.default)(Te),Pe;if(ke){var Ie=(0,se.default)(this).constructor;Pe=Reflect.construct(Ce,arguments,Ie)}else Pe=Ce.apply(this,arguments);return(0,ie.default)(this,Pe)}}function ge(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var be=function(Te){(0,oe.default)(Re,Te);var ke=he(Re);function Re(Ce,Pe,Ie){var Ne;return(0,re.default)(this,Re),Ne=ke.call(this),Ne.socket=new window.WebSocket(Ce,Ie),Ne.socket.onopen=function(){return Ne.emit("open")},Ne.socket.onmessage=function(He){return Ne.emit("message",He.data)},Ne.socket.onerror=function(He){return Ne.emit("error",He)},Ne.socket.onclose=function(He){Ne.emit("close",He.code,He.reason)},Ne}return(0,ne.default)(Re,[{key:"send",value:function(Pe,Ie,Ne){var He=Ne||Ie;try{this.socket.send(Pe),He()}catch(Ke){He(Ke)}}},{key:"close",value:function(Pe,Ie){this.socket.close(Pe,Ie)}},{key:"addEventListener",value:function(Pe,Ie,Ne){this.socket.addEventListener(Pe,Ie,Ne)}}]),Re}(ue.EventEmitter);function Se(Te,ke){return new be(Te,ke)}})(websocket_browser);var client={},runtime={exports:{}};(function(te){var ee=function(re){var ne=Object.prototype,oe=ne.hasOwnProperty,ie,se=typeof Symbol=="function"?Symbol:{},ue=se.iterator||"@@iterator",he=se.asyncIterator||"@@asyncIterator",ge=se.toStringTag||"@@toStringTag";function be(Ee,me,fe){return Object.defineProperty(Ee,me,{value:fe,enumerable:!0,configurable:!0,writable:!0}),Ee[me]}try{be({},"")}catch{be=function(me,fe,we){return me[fe]=we}}function Se(Ee,me,fe,we){var Me=me&&me.prototype instanceof Ne?me:Ne,Le=Object.create(Me.prototype),Je=new pe(we||[]);return Le._invoke=ye(Ee,fe,Je),Le}re.wrap=Se;function Te(Ee,me,fe){try{return{type:"normal",arg:Ee.call(me,fe)}}catch(we){return{type:"throw",arg:we}}}var ke="suspendedStart",Re="suspendedYield",Ce="executing",Pe="completed",Ie={};function Ne(){}function He(){}function Ke(){}var Ge={};be(Ge,ue,function(){return this});var ut=Object.getPrototypeOf,Ve=ut&&ut(ut(_e([])));Ve&&Ve!==ne&&oe.call(Ve,ue)&&(Ge=Ve);var nt=Ke.prototype=Ne.prototype=Object.create(Ge);He.prototype=Ke,be(nt,"constructor",Ke),be(Ke,"constructor",He),He.displayName=be(Ke,ge,"GeneratorFunction");function st(Ee){["next","throw","return"].forEach(function(me){be(Ee,me,function(fe){return this._invoke(me,fe)})})}re.isGeneratorFunction=function(Ee){var me=typeof Ee=="function"&&Ee.constructor;return me?me===He||(me.displayName||me.name)==="GeneratorFunction":!1},re.mark=function(Ee){return Object.setPrototypeOf?Object.setPrototypeOf(Ee,Ke):(Ee.__proto__=Ke,be(Ee,ge,"GeneratorFunction")),Ee.prototype=Object.create(nt),Ee},re.awrap=function(Ee){return{__await:Ee}};function qe(Ee,me){function fe(Le,Je,Ue,ct){var gt=Te(Ee[Le],Ee,Je);if(gt.type==="throw")ct(gt.arg);else{var $t=gt.arg,vt=$t.value;return vt&&typeof vt=="object"&&oe.call(vt,"__await")?me.resolve(vt.__await).then(function(Tt){fe("next",Tt,Ue,ct)},function(Tt){fe("throw",Tt,Ue,ct)}):me.resolve(vt).then(function(Tt){$t.value=Tt,Ue($t)},function(Tt){return fe("throw",Tt,Ue,ct)})}}var we;function Me(Le,Je){function Ue(){return new me(function(ct,gt){fe(Le,Je,ct,gt)})}return we=we?we.then(Ue,Ue):Ue()}this._invoke=Me}st(qe.prototype),be(qe.prototype,he,function(){return this}),re.AsyncIterator=qe,re.async=function(Ee,me,fe,we,Me){Me===void 0&&(Me=Promise);var Le=new qe(Se(Ee,me,fe,we),Me);return re.isGeneratorFunction(me)?Le:Le.next().then(function(Je){return Je.done?Je.value:Le.next()})};function ye(Ee,me,fe){var we=ke;return function(Le,Je){if(we===Ce)throw new Error("Generator is already running");if(we===Pe){if(Le==="throw")throw Je;return $e()}for(fe.method=Le,fe.arg=Je;;){var Ue=fe.delegate;if(Ue){var ct=ae(Ue,fe);if(ct){if(ct===Ie)continue;return ct}}if(fe.method==="next")fe.sent=fe._sent=fe.arg;else if(fe.method==="throw"){if(we===ke)throw we=Pe,fe.arg;fe.dispatchException(fe.arg)}else fe.method==="return"&&fe.abrupt("return",fe.arg);we=Ce;var gt=Te(Ee,me,fe);if(gt.type==="normal"){if(we=fe.done?Pe:Re,gt.arg===Ie)continue;return{value:gt.arg,done:fe.done}}else gt.type==="throw"&&(we=Pe,fe.method="throw",fe.arg=gt.arg)}}}function ae(Ee,me){var fe=Ee.iterator[me.method];if(fe===ie){if(me.delegate=null,me.method==="throw"){if(Ee.iterator.return&&(me.method="return",me.arg=ie,ae(Ee,me),me.method==="throw"))return Ie;me.method="throw",me.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ie}var we=Te(fe,Ee.iterator,me.arg);if(we.type==="throw")return me.method="throw",me.arg=we.arg,me.delegate=null,Ie;var Me=we.arg;if(!Me)return me.method="throw",me.arg=new TypeError("iterator result is not an object"),me.delegate=null,Ie;if(Me.done)me[Ee.resultName]=Me.value,me.next=Ee.nextLoc,me.method!=="return"&&(me.method="next",me.arg=ie);else return Me;return me.delegate=null,Ie}st(nt),be(nt,ge,"Generator"),be(nt,ue,function(){return this}),be(nt,"toString",function(){return"[object Generator]"});function ce(Ee){var me={tryLoc:Ee[0]};1 in Ee&&(me.catchLoc=Ee[1]),2 in Ee&&(me.finallyLoc=Ee[2],me.afterLoc=Ee[3]),this.tryEntries.push(me)}function le(Ee){var me=Ee.completion||{};me.type="normal",delete me.arg,Ee.completion=me}function pe(Ee){this.tryEntries=[{tryLoc:"root"}],Ee.forEach(ce,this),this.reset(!0)}re.keys=function(Ee){var me=[];for(var fe in Ee)me.push(fe);return me.reverse(),function we(){for(;me.length;){var Me=me.pop();if(Me in Ee)return we.value=Me,we.done=!1,we}return we.done=!0,we}};function _e(Ee){if(Ee){var me=Ee[ue];if(me)return me.call(Ee);if(typeof Ee.next=="function")return Ee;if(!isNaN(Ee.length)){var fe=-1,we=function Me(){for(;++fe<Ee.length;)if(oe.call(Ee,fe))return Me.value=Ee[fe],Me.done=!1,Me;return Me.value=ie,Me.done=!0,Me};return we.next=we}}return{next:$e}}re.values=_e;function $e(){return{value:ie,done:!0}}return pe.prototype={constructor:pe,reset:function(Ee){if(this.prev=0,this.next=0,this.sent=this._sent=ie,this.done=!1,this.delegate=null,this.method="next",this.arg=ie,this.tryEntries.forEach(le),!Ee)for(var me in this)me.charAt(0)==="t"&&oe.call(this,me)&&!isNaN(+me.slice(1))&&(this[me]=ie)},stop:function(){this.done=!0;var Ee=this.tryEntries[0],me=Ee.completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(Ee){if(this.done)throw Ee;var me=this;function fe(ct,gt){return Le.type="throw",Le.arg=Ee,me.next=ct,gt&&(me.method="next",me.arg=ie),!!gt}for(var we=this.tryEntries.length-1;we>=0;--we){var Me=this.tryEntries[we],Le=Me.completion;if(Me.tryLoc==="root")return fe("end");if(Me.tryLoc<=this.prev){var Je=oe.call(Me,"catchLoc"),Ue=oe.call(Me,"finallyLoc");if(Je&&Ue){if(this.prev<Me.catchLoc)return fe(Me.catchLoc,!0);if(this.prev<Me.finallyLoc)return fe(Me.finallyLoc)}else if(Je){if(this.prev<Me.catchLoc)return fe(Me.catchLoc,!0)}else if(Ue){if(this.prev<Me.finallyLoc)return fe(Me.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Ee,me){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var we=this.tryEntries[fe];if(we.tryLoc<=this.prev&&oe.call(we,"finallyLoc")&&this.prev<we.finallyLoc){var Me=we;break}}Me&&(Ee==="break"||Ee==="continue")&&Me.tryLoc<=me&&me<=Me.finallyLoc&&(Me=null);var Le=Me?Me.completion:{};return Le.type=Ee,Le.arg=me,Me?(this.method="next",this.next=Me.finallyLoc,Ie):this.complete(Le)},complete:function(Ee,me){if(Ee.type==="throw")throw Ee.arg;return Ee.type==="break"||Ee.type==="continue"?this.next=Ee.arg:Ee.type==="return"?(this.rval=this.arg=Ee.arg,this.method="return",this.next="end"):Ee.type==="normal"&&me&&(this.next=me),Ie},finish:function(Ee){for(var me=this.tryEntries.length-1;me>=0;--me){var fe=this.tryEntries[me];if(fe.finallyLoc===Ee)return this.complete(fe.completion,fe.afterLoc),le(fe),Ie}},catch:function(Ee){for(var me=this.tryEntries.length-1;me>=0;--me){var fe=this.tryEntries[me];if(fe.tryLoc===Ee){var we=fe.completion;if(we.type==="throw"){var Me=we.arg;le(fe)}return Me}}throw new Error("illegal catch attempt")},delegateYield:function(Ee,me,fe){return this.delegate={iterator:_e(Ee),resultName:me,nextLoc:fe},this.method==="next"&&(this.arg=ie),Ie}},re}(te.exports);try{regeneratorRuntime=ee}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ee:Function("r","regeneratorRuntime = r")(ee)}})(runtime);var regenerator=runtime.exports,asyncToGenerator={exports:{}};(function(te){function ee(ne,oe,ie,se,ue,he,ge){try{var be=ne[he](ge),Se=be.value}catch(Te){ie(Te);return}be.done?oe(Se):Promise.resolve(Se).then(se,ue)}function re(ne){return function(){var oe=this,ie=arguments;return new Promise(function(se,ue){var he=ne.apply(oe,ie);function ge(Se){ee(he,se,ue,ge,be,"next",Se)}function be(Se){ee(he,se,ue,ge,be,"throw",Se)}ge(void 0)})}}te.exports=re,te.exports.__esModule=!0,te.exports.default=te.exports})(asyncToGenerator);(function(te){var ee=interopRequireDefault.exports;Object.defineProperty(te,"__esModule",{value:!0}),te.default=void 0;var re=ee(regenerator),ne=ee(asyncToGenerator.exports),oe=ee(_typeof.exports),ie=ee(classCallCheck.exports),se=ee(createClass.exports),ue=ee(inherits$m.exports),he=ee(possibleConstructorReturn.exports),ge=ee(getPrototypeOf$2.exports),be=eventemitter3.exports;function Se(Ce){var Pe=Te();return function(){var Ne=(0,ge.default)(Ce),He;if(Pe){var Ke=(0,ge.default)(this).constructor;He=Reflect.construct(Ne,arguments,Ke)}else He=Ne.apply(this,arguments);return(0,he.default)(this,He)}}function Te(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ke=function(Ce,Pe){var Ie={};for(var Ne in Ce)Object.prototype.hasOwnProperty.call(Ce,Ne)&&Pe.indexOf(Ne)<0&&(Ie[Ne]=Ce[Ne]);if(Ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var He=0,Ne=Object.getOwnPropertySymbols(Ce);He<Ne.length;He++)Pe.indexOf(Ne[He])<0&&Object.prototype.propertyIsEnumerable.call(Ce,Ne[He])&&(Ie[Ne[He]]=Ce[Ne[He]]);return Ie},Re=function(Ce){(0,ue.default)(Ie,Ce);var Pe=Se(Ie);function Ie(Ne){var He,Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ut=arguments.length>3?arguments[3]:void 0;(0,ie.default)(this,Ie);var Ve=Ge.autoconnect,nt=Ve===void 0?!0:Ve,st=Ge.reconnect,qe=st===void 0?!0:st,ye=Ge.reconnect_interval,ae=ye===void 0?1e3:ye,ce=Ge.max_reconnects,le=ce===void 0?5:ce,pe=ke(Ge,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return He=Pe.call(this),He.webSocketFactory=Ne,He.queue={},He.rpc_id=0,He.address=Ke,He.autoconnect=nt,He.ready=!1,He.reconnect=qe,He.reconnect_interval=ae,He.max_reconnects=le,He.rest_options=pe,He.current_reconnects=0,He.generate_request_id=ut||function(){return++He.rpc_id},He.autoconnect&&He._connect(He.address,Object.assign({autoconnect:He.autoconnect,reconnect:He.reconnect,reconnect_interval:He.reconnect_interval,max_reconnects:He.max_reconnects},He.rest_options)),He}return(0,se.default)(Ie,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(He,Ke,Ge,ut){var Ve=this;return!ut&&(0,oe.default)(Ge)==="object"&&(ut=Ge,Ge=null),new Promise(function(nt,st){if(!Ve.ready)return st(new Error("socket not ready"));var qe=Ve.generate_request_id(He,Ke),ye={jsonrpc:"2.0",method:He,params:Ke||null,id:qe};Ve.socket.send(JSON.stringify(ye),ut,function(ae){if(ae)return st(ae);Ve.queue[qe]={promise:[nt,st]},Ge&&(Ve.queue[qe].timeout=setTimeout(function(){delete Ve.queue[qe],st(new Error("reply timeout"))},Ge))})})}},{key:"login",value:function(){var Ne=(0,ne.default)(re.default.mark(function Ke(Ge){var ut;return re.default.wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.next=2,this.call("rpc.login",Ge);case 2:if(ut=nt.sent,ut){nt.next=5;break}throw new Error("authentication failed");case 5:return nt.abrupt("return",ut);case 6:case"end":return nt.stop()}},Ke,this)}));function He(Ke){return Ne.apply(this,arguments)}return He}()},{key:"listMethods",value:function(){var Ne=(0,ne.default)(re.default.mark(function Ke(){return re.default.wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:return ut.next=2,this.call("__listMethods");case 2:return ut.abrupt("return",ut.sent);case 3:case"end":return ut.stop()}},Ke,this)}));function He(){return Ne.apply(this,arguments)}return He}()},{key:"notify",value:function(He,Ke){var Ge=this;return new Promise(function(ut,Ve){if(!Ge.ready)return Ve(new Error("socket not ready"));var nt={jsonrpc:"2.0",method:He,params:Ke||null};Ge.socket.send(JSON.stringify(nt),function(st){if(st)return Ve(st);ut()})})}},{key:"subscribe",value:function(){var Ne=(0,ne.default)(re.default.mark(function Ke(Ge){var ut;return re.default.wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return typeof Ge=="string"&&(Ge=[Ge]),nt.next=3,this.call("rpc.on",Ge);case 3:if(ut=nt.sent,!(typeof Ge=="string"&&ut[Ge]!=="ok")){nt.next=6;break}throw new Error("Failed subscribing to an event '"+Ge+"' with: "+ut[Ge]);case 6:return nt.abrupt("return",ut);case 7:case"end":return nt.stop()}},Ke,this)}));function He(Ke){return Ne.apply(this,arguments)}return He}()},{key:"unsubscribe",value:function(){var Ne=(0,ne.default)(re.default.mark(function Ke(Ge){var ut;return re.default.wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return typeof Ge=="string"&&(Ge=[Ge]),nt.next=3,this.call("rpc.off",Ge);case 3:if(ut=nt.sent,!(typeof Ge=="string"&&ut[Ge]!=="ok")){nt.next=6;break}throw new Error("Failed unsubscribing from an event with: "+ut);case 6:return nt.abrupt("return",ut);case 7:case"end":return nt.stop()}},Ke,this)}));function He(Ke){return Ne.apply(this,arguments)}return He}()},{key:"close",value:function(He,Ke){this.socket.close(He||1e3,Ke)}},{key:"_connect",value:function(He,Ke){var Ge=this;this.socket=this.webSocketFactory(He,Ke),this.socket.addEventListener("open",function(){Ge.ready=!0,Ge.emit("open"),Ge.current_reconnects=0}),this.socket.addEventListener("message",function(ut){var Ve=ut.data;Ve instanceof ArrayBuffer&&(Ve=buffer$2.Buffer.from(Ve).toString());try{Ve=JSON.parse(Ve)}catch{return}if(Ve.notification&&Ge.listeners(Ve.notification).length){if(!Object.keys(Ve.params).length)return Ge.emit(Ve.notification);var nt=[Ve.notification];if(Ve.params.constructor===Object)nt.push(Ve.params);else for(var st=0;st<Ve.params.length;st++)nt.push(Ve.params[st]);return Promise.resolve().then(function(){Ge.emit.apply(Ge,nt)})}if(!Ge.queue[Ve.id])return Ve.method&&Ve.params?Promise.resolve().then(function(){Ge.emit(Ve.method,Ve.params)}):void 0;"error"in Ve=="result"in Ve&&Ge.queue[Ve.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),Ge.queue[Ve.id].timeout&&clearTimeout(Ge.queue[Ve.id].timeout),Ve.error?Ge.queue[Ve.id].promise[1](Ve.error):Ge.queue[Ve.id].promise[0](Ve.result),delete Ge.queue[Ve.id]}),this.socket.addEventListener("error",function(ut){return Ge.emit("error",ut)}),this.socket.addEventListener("close",function(ut){var Ve=ut.code,nt=ut.reason;Ge.ready&&setTimeout(function(){return Ge.emit("close",Ve,nt)},0),Ge.ready=!1,Ge.socket=void 0,Ve!==1e3&&(Ge.current_reconnects++,Ge.reconnect&&(Ge.max_reconnects>Ge.current_reconnects||Ge.max_reconnects===0)&&setTimeout(function(){return Ge._connect(He,Ke)},Ge.reconnect_interval))})}}]),Ie}(be.EventEmitter);te.default=Re})(client);var _interopRequireDefault$2=interopRequireDefault.exports;Object.defineProperty(index_browser,"__esModule",{value:!0});var Client_1=index_browser.Client=void 0,_createClass2=_interopRequireDefault$2(createClass.exports),_classCallCheck2=_interopRequireDefault$2(classCallCheck.exports),_inherits2=_interopRequireDefault$2(inherits$m.exports),_possibleConstructorReturn2=_interopRequireDefault$2(possibleConstructorReturn.exports),_getPrototypeOf2=_interopRequireDefault$2(getPrototypeOf$2.exports),_websocket=_interopRequireDefault$2(websocket_browser),_client=_interopRequireDefault$2(client);function _createSuper(te){var ee=_isNativeReflectConstruct();return function(){var ne=(0,_getPrototypeOf2.default)(te),oe;if(ee){var ie=(0,_getPrototypeOf2.default)(this).constructor;oe=Reflect.construct(ne,arguments,ie)}else oe=ne.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,oe)}}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Client=function(te){(0,_inherits2.default)(re,te);var ee=_createSuper(re);function re(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=oe.autoconnect,se=ie===void 0?!0:ie,ue=oe.reconnect,he=ue===void 0?!0:ue,ge=oe.reconnect_interval,be=ge===void 0?1e3:ge,Se=oe.max_reconnects,Te=Se===void 0?5:Se,ke=arguments.length>2?arguments[2]:void 0;return(0,_classCallCheck2.default)(this,re),ee.call(this,_websocket.default,ne,{autoconnect:se,reconnect:he,reconnect_interval:be,max_reconnects:Te},ke)}return(0,_createClass2.default)(re)}(_client.default);Client_1=index_browser.Client=Client;var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(te){return typeof te=="string"&&REGEX.test(te)}var byteToHex=[];for(var i$3=0;i$3<256;++i$3)byteToHex.push((i$3+256).toString(16).substr(1));function stringify$6(te){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,re=(byteToHex[te[ee+0]]+byteToHex[te[ee+1]]+byteToHex[te[ee+2]]+byteToHex[te[ee+3]]+"-"+byteToHex[te[ee+4]]+byteToHex[te[ee+5]]+"-"+byteToHex[te[ee+6]]+byteToHex[te[ee+7]]+"-"+byteToHex[te[ee+8]]+byteToHex[te[ee+9]]+"-"+byteToHex[te[ee+10]]+byteToHex[te[ee+11]]+byteToHex[te[ee+12]]+byteToHex[te[ee+13]]+byteToHex[te[ee+14]]+byteToHex[te[ee+15]]).toLowerCase();if(!validate(re))throw TypeError("Stringified UUID is invalid");return re}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(te,ee,re){var ne=ee&&re||0,oe=ee||new Array(16);te=te||{};var ie=te.node||_nodeId,se=te.clockseq!==void 0?te.clockseq:_clockseq;if(ie==null||se==null){var ue=te.random||(te.rng||rng)();ie==null&&(ie=_nodeId=[ue[0]|1,ue[1],ue[2],ue[3],ue[4],ue[5]]),se==null&&(se=_clockseq=(ue[6]<<8|ue[7])&16383)}var he=te.msecs!==void 0?te.msecs:Date.now(),ge=te.nsecs!==void 0?te.nsecs:_lastNSecs+1,be=he-_lastMSecs+(ge-_lastNSecs)/1e4;if(be<0&&te.clockseq===void 0&&(se=se+1&16383),(be<0||he>_lastMSecs)&&te.nsecs===void 0&&(ge=0),ge>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=he,_lastNSecs=ge,_clockseq=se,he+=122192928e5;var Se=((he&268435455)*1e4+ge)%4294967296;oe[ne++]=Se>>>24&255,oe[ne++]=Se>>>16&255,oe[ne++]=Se>>>8&255,oe[ne++]=Se&255;var Te=he/4294967296*1e4&268435455;oe[ne++]=Te>>>8&255,oe[ne++]=Te&255,oe[ne++]=Te>>>24&15|16,oe[ne++]=Te>>>16&255,oe[ne++]=se>>>8|128,oe[ne++]=se&255;for(var ke=0;ke<6;++ke)oe[ne+ke]=ie[ke];return ee||stringify$6(oe)}function parse$1(te){if(!validate(te))throw TypeError("Invalid UUID");var ee,re=new Uint8Array(16);return re[0]=(ee=parseInt(te.slice(0,8),16))>>>24,re[1]=ee>>>16&255,re[2]=ee>>>8&255,re[3]=ee&255,re[4]=(ee=parseInt(te.slice(9,13),16))>>>8,re[5]=ee&255,re[6]=(ee=parseInt(te.slice(14,18),16))>>>8,re[7]=ee&255,re[8]=(ee=parseInt(te.slice(19,23),16))>>>8,re[9]=ee&255,re[10]=(ee=parseInt(te.slice(24,36),16))/1099511627776&255,re[11]=ee/4294967296&255,re[12]=ee>>>24&255,re[13]=ee>>>16&255,re[14]=ee>>>8&255,re[15]=ee&255,re}function stringToBytes(te){te=unescape(encodeURIComponent(te));for(var ee=[],re=0;re<te.length;++re)ee.push(te.charCodeAt(re));return ee}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(te,ee,re){function ne(oe,ie,se,ue){if(typeof oe=="string"&&(oe=stringToBytes(oe)),typeof ie=="string"&&(ie=parse$1(ie)),ie.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var he=new Uint8Array(16+oe.length);if(he.set(ie),he.set(oe,ie.length),he=re(he),he[6]=he[6]&15|ee,he[8]=he[8]&63|128,se){ue=ue||0;for(var ge=0;ge<16;++ge)se[ue+ge]=he[ge];return se}return stringify$6(he)}try{ne.name=te}catch{}return ne.DNS=DNS,ne.URL=URL$1,ne}function md5(te){if(typeof te=="string"){var ee=unescape(encodeURIComponent(te));te=new Uint8Array(ee.length);for(var re=0;re<ee.length;++re)te[re]=ee.charCodeAt(re)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(te),te.length*8))}function md5ToHexEncodedArray(te){for(var ee=[],re=te.length*32,ne="0123456789abcdef",oe=0;oe<re;oe+=8){var ie=te[oe>>5]>>>oe%32&255,se=parseInt(ne.charAt(ie>>>4&15)+ne.charAt(ie&15),16);ee.push(se)}return ee}function getOutputLength(te){return(te+64>>>9<<4)+14+1}function wordsToMd5(te,ee){te[ee>>5]|=128<<ee%32,te[getOutputLength(ee)-1]=ee;for(var re=1732584193,ne=-271733879,oe=-1732584194,ie=271733878,se=0;se<te.length;se+=16){var ue=re,he=ne,ge=oe,be=ie;re=md5ff(re,ne,oe,ie,te[se],7,-680876936),ie=md5ff(ie,re,ne,oe,te[se+1],12,-389564586),oe=md5ff(oe,ie,re,ne,te[se+2],17,606105819),ne=md5ff(ne,oe,ie,re,te[se+3],22,-1044525330),re=md5ff(re,ne,oe,ie,te[se+4],7,-176418897),ie=md5ff(ie,re,ne,oe,te[se+5],12,1200080426),oe=md5ff(oe,ie,re,ne,te[se+6],17,-1473231341),ne=md5ff(ne,oe,ie,re,te[se+7],22,-45705983),re=md5ff(re,ne,oe,ie,te[se+8],7,1770035416),ie=md5ff(ie,re,ne,oe,te[se+9],12,-1958414417),oe=md5ff(oe,ie,re,ne,te[se+10],17,-42063),ne=md5ff(ne,oe,ie,re,te[se+11],22,-1990404162),re=md5ff(re,ne,oe,ie,te[se+12],7,1804603682),ie=md5ff(ie,re,ne,oe,te[se+13],12,-40341101),oe=md5ff(oe,ie,re,ne,te[se+14],17,-1502002290),ne=md5ff(ne,oe,ie,re,te[se+15],22,1236535329),re=md5gg(re,ne,oe,ie,te[se+1],5,-165796510),ie=md5gg(ie,re,ne,oe,te[se+6],9,-1069501632),oe=md5gg(oe,ie,re,ne,te[se+11],14,643717713),ne=md5gg(ne,oe,ie,re,te[se],20,-373897302),re=md5gg(re,ne,oe,ie,te[se+5],5,-701558691),ie=md5gg(ie,re,ne,oe,te[se+10],9,38016083),oe=md5gg(oe,ie,re,ne,te[se+15],14,-660478335),ne=md5gg(ne,oe,ie,re,te[se+4],20,-405537848),re=md5gg(re,ne,oe,ie,te[se+9],5,568446438),ie=md5gg(ie,re,ne,oe,te[se+14],9,-1019803690),oe=md5gg(oe,ie,re,ne,te[se+3],14,-187363961),ne=md5gg(ne,oe,ie,re,te[se+8],20,1163531501),re=md5gg(re,ne,oe,ie,te[se+13],5,-1444681467),ie=md5gg(ie,re,ne,oe,te[se+2],9,-51403784),oe=md5gg(oe,ie,re,ne,te[se+7],14,1735328473),ne=md5gg(ne,oe,ie,re,te[se+12],20,-1926607734),re=md5hh(re,ne,oe,ie,te[se+5],4,-378558),ie=md5hh(ie,re,ne,oe,te[se+8],11,-2022574463),oe=md5hh(oe,ie,re,ne,te[se+11],16,1839030562),ne=md5hh(ne,oe,ie,re,te[se+14],23,-35309556),re=md5hh(re,ne,oe,ie,te[se+1],4,-1530992060),ie=md5hh(ie,re,ne,oe,te[se+4],11,1272893353),oe=md5hh(oe,ie,re,ne,te[se+7],16,-155497632),ne=md5hh(ne,oe,ie,re,te[se+10],23,-1094730640),re=md5hh(re,ne,oe,ie,te[se+13],4,681279174),ie=md5hh(ie,re,ne,oe,te[se],11,-358537222),oe=md5hh(oe,ie,re,ne,te[se+3],16,-722521979),ne=md5hh(ne,oe,ie,re,te[se+6],23,76029189),re=md5hh(re,ne,oe,ie,te[se+9],4,-640364487),ie=md5hh(ie,re,ne,oe,te[se+12],11,-421815835),oe=md5hh(oe,ie,re,ne,te[se+15],16,530742520),ne=md5hh(ne,oe,ie,re,te[se+2],23,-995338651),re=md5ii(re,ne,oe,ie,te[se],6,-198630844),ie=md5ii(ie,re,ne,oe,te[se+7],10,1126891415),oe=md5ii(oe,ie,re,ne,te[se+14],15,-1416354905),ne=md5ii(ne,oe,ie,re,te[se+5],21,-57434055),re=md5ii(re,ne,oe,ie,te[se+12],6,1700485571),ie=md5ii(ie,re,ne,oe,te[se+3],10,-1894986606),oe=md5ii(oe,ie,re,ne,te[se+10],15,-1051523),ne=md5ii(ne,oe,ie,re,te[se+1],21,-2054922799),re=md5ii(re,ne,oe,ie,te[se+8],6,1873313359),ie=md5ii(ie,re,ne,oe,te[se+15],10,-30611744),oe=md5ii(oe,ie,re,ne,te[se+6],15,-1560198380),ne=md5ii(ne,oe,ie,re,te[se+13],21,1309151649),re=md5ii(re,ne,oe,ie,te[se+4],6,-145523070),ie=md5ii(ie,re,ne,oe,te[se+11],10,-1120210379),oe=md5ii(oe,ie,re,ne,te[se+2],15,718787259),ne=md5ii(ne,oe,ie,re,te[se+9],21,-343485551),re=safeAdd(re,ue),ne=safeAdd(ne,he),oe=safeAdd(oe,ge),ie=safeAdd(ie,be)}return[re,ne,oe,ie]}function bytesToWords(te){if(te.length===0)return[];for(var ee=te.length*8,re=new Uint32Array(getOutputLength(ee)),ne=0;ne<ee;ne+=8)re[ne>>5]|=(te[ne/8]&255)<<ne%32;return re}function safeAdd(te,ee){var re=(te&65535)+(ee&65535),ne=(te>>16)+(ee>>16)+(re>>16);return ne<<16|re&65535}function bitRotateLeft(te,ee){return te<<ee|te>>>32-ee}function md5cmn(te,ee,re,ne,oe,ie){return safeAdd(bitRotateLeft(safeAdd(safeAdd(ee,te),safeAdd(ne,ie)),oe),re)}function md5ff(te,ee,re,ne,oe,ie,se){return md5cmn(ee&re|~ee&ne,te,ee,oe,ie,se)}function md5gg(te,ee,re,ne,oe,ie,se){return md5cmn(ee&ne|re&~ne,te,ee,oe,ie,se)}function md5hh(te,ee,re,ne,oe,ie,se){return md5cmn(ee^re^ne,te,ee,oe,ie,se)}function md5ii(te,ee,re,ne,oe,ie,se){return md5cmn(re^(ee|~ne),te,ee,oe,ie,se)}var v3=v35("v3",48,md5),v3$1=v3;function v4(te,ee,re){te=te||{};var ne=te.random||(te.rng||rng)();if(ne[6]=ne[6]&15|64,ne[8]=ne[8]&63|128,ee){re=re||0;for(var oe=0;oe<16;++oe)ee[re+oe]=ne[oe];return ee}return stringify$6(ne)}function f$3(te,ee,re,ne){switch(te){case 0:return ee&re^~ee&ne;case 1:return ee^re^ne;case 2:return ee&re^ee&ne^re&ne;case 3:return ee^re^ne}}function ROTL(te,ee){return te<<ee|te>>>32-ee}function sha1$1(te){var ee=[1518500249,1859775393,2400959708,3395469782],re=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof te=="string"){var ne=unescape(encodeURIComponent(te));te=[];for(var oe=0;oe<ne.length;++oe)te.push(ne.charCodeAt(oe))}else Array.isArray(te)||(te=Array.prototype.slice.call(te));te.push(128);for(var ie=te.length/4+2,se=Math.ceil(ie/16),ue=new Array(se),he=0;he<se;++he){for(var ge=new Uint32Array(16),be=0;be<16;++be)ge[be]=te[he*64+be*4]<<24|te[he*64+be*4+1]<<16|te[he*64+be*4+2]<<8|te[he*64+be*4+3];ue[he]=ge}ue[se-1][14]=(te.length-1)*8/Math.pow(2,32),ue[se-1][14]=Math.floor(ue[se-1][14]),ue[se-1][15]=(te.length-1)*8&4294967295;for(var Se=0;Se<se;++Se){for(var Te=new Uint32Array(80),ke=0;ke<16;++ke)Te[ke]=ue[Se][ke];for(var Re=16;Re<80;++Re)Te[Re]=ROTL(Te[Re-3]^Te[Re-8]^Te[Re-14]^Te[Re-16],1);for(var Ce=re[0],Pe=re[1],Ie=re[2],Ne=re[3],He=re[4],Ke=0;Ke<80;++Ke){var Ge=Math.floor(Ke/20),ut=ROTL(Ce,5)+f$3(Ge,Pe,Ie,Ne)+He+ee[Ge]+Te[Ke]>>>0;He=Ne,Ne=Ie,Ie=ROTL(Pe,30)>>>0,Pe=Ce,Ce=ut}re[0]=re[0]+Ce>>>0,re[1]=re[1]+Pe>>>0,re[2]=re[2]+Ie>>>0,re[3]=re[3]+Ne>>>0,re[4]=re[4]+He>>>0}return[re[0]>>24&255,re[0]>>16&255,re[0]>>8&255,re[0]&255,re[1]>>24&255,re[1]>>16&255,re[1]>>8&255,re[1]&255,re[2]>>24&255,re[2]>>16&255,re[2]>>8&255,re[2]&255,re[3]>>24&255,re[3]>>16&255,re[3]>>8&255,re[3]&255,re[4]>>24&255,re[4]>>16&255,re[4]>>8&255,re[4]&255]}var v5=v35("v5",80,sha1$1),v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version$5(te){if(!validate(te))throw TypeError("Invalid UUID");return parseInt(te.substr(14,1),16)}var esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version:version$5,validate,stringify:stringify$6,parse:parse$1},Symbol.toStringTag,{value:"Module"})),require$$0$6=getAugmentedNamespace(esmBrowser);const uuid$2=require$$0$6.v4,generateRequest$1=function(te,ee,re,ne){if(typeof te!="string")throw new TypeError(te+" must be a string");ne=ne||{};const oe=typeof ne.version=="number"?ne.version:2;if(oe!==1&&oe!==2)throw new TypeError(oe+" must be 1 or 2");const ie={method:te};if(oe===2&&(ie.jsonrpc="2.0"),ee){if(typeof ee!="object"&&!Array.isArray(ee))throw new TypeError(ee+" must be an object, array or omitted");ie.params=ee}if(typeof re=="undefined"){const se=typeof ne.generator=="function"?ne.generator:function(){return uuid$2()};ie.id=se(ie,ne)}else oe===2&&re===null?ne.notificationIdNull&&(ie.id=null):ie.id=re;return ie};var generateRequest_1=generateRequest$1;const uuid$1=require$$0$6.v4,generateRequest=generateRequest_1,ClientBrowser=function(te,ee){if(!(this instanceof ClientBrowser))return new ClientBrowser(te,ee);ee||(ee={}),this.options={reviver:typeof ee.reviver!="undefined"?ee.reviver:null,replacer:typeof ee.replacer!="undefined"?ee.replacer:null,generator:typeof ee.generator!="undefined"?ee.generator:function(){return uuid$1()},version:typeof ee.version!="undefined"?ee.version:2,notificationIdNull:typeof ee.notificationIdNull=="boolean"?ee.notificationIdNull:!1},this.callServer=te};var browser$5=ClientBrowser;ClientBrowser.prototype.request=function(te,ee,re,ne){const oe=this;let ie=null;const se=Array.isArray(te)&&typeof ee=="function";if(this.options.version===1&&se)throw new TypeError("JSON-RPC 1.0 does not support batching");if(se||!se&&te&&typeof te=="object"&&typeof ee=="function")ne=ee,ie=te;else{typeof re=="function"&&(ne=re,re=void 0);const ge=typeof ne=="function";try{ie=generateRequest(te,ee,re,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(be){if(ge)return ne(be);throw be}if(!ge)return ie}let he;try{he=JSON.stringify(ie,this.options.replacer)}catch(ge){return ne(ge)}return this.callServer(he,function(ge,be){oe._parseResponse(ge,be,ne)}),ie};ClientBrowser.prototype._parseResponse=function(te,ee,re){if(te){re(te);return}if(!ee)return re();let ne;try{ne=JSON.parse(ee,this.options.reviver)}catch(oe){return re(oe)}if(re.length===3)if(Array.isArray(ne)){const oe=function(se){return typeof se.error!="undefined"},ie=function(se){return!oe(se)};return re(null,ne.filter(oe),ne.filter(ie))}else return re(null,ne.error,ne.result);re(null,ne)};const errors$3={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function assert$i(te,ee){if(!te)throw new Error(ee)}function isUint8Array(te,ee,re){if(assert$i(ee instanceof Uint8Array,`Expected ${te} to be an Uint8Array`),re!==void 0)if(Array.isArray(re)){const ne=re.join(", "),oe=`Expected ${te} to be an Uint8Array with length [${ne}]`;assert$i(re.includes(ee.length),oe)}else{const ne=`Expected ${te} to be an Uint8Array with length ${re}`;assert$i(ee.length===re,ne)}}function isCompressed(te){assert$i(toTypeString(te)==="Boolean","Expected compressed to be a Boolean")}function getAssertedOutput(te=re=>new Uint8Array(re),ee){return typeof te=="function"&&(te=te(ee)),isUint8Array("output",te,ee),te}function toTypeString(te){return Object.prototype.toString.call(te).slice(8,-1)}var lib$6=te=>({contextRandomize(ee){switch(assert$i(ee===null||ee instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),ee!==null&&isUint8Array("seed",ee,32),te.contextRandomize(ee)){case 1:throw new Error(errors$3.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(ee){return isUint8Array("private key",ee,32),te.privateKeyVerify(ee)===0},privateKeyNegate(ee){switch(isUint8Array("private key",ee,32),te.privateKeyNegate(ee)){case 0:return ee;case 1:throw new Error(errors$3.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(ee,re){switch(isUint8Array("private key",ee,32),isUint8Array("tweak",re,32),te.privateKeyTweakAdd(ee,re)){case 0:return ee;case 1:throw new Error(errors$3.TWEAK_ADD)}},privateKeyTweakMul(ee,re){switch(isUint8Array("private key",ee,32),isUint8Array("tweak",re,32),te.privateKeyTweakMul(ee,re)){case 0:return ee;case 1:throw new Error(errors$3.TWEAK_MUL)}},publicKeyVerify(ee){return isUint8Array("public key",ee,[33,65]),te.publicKeyVerify(ee)===0},publicKeyCreate(ee,re=!0,ne){switch(isUint8Array("private key",ee,32),isCompressed(re),ne=getAssertedOutput(ne,re?33:65),te.publicKeyCreate(ne,ee)){case 0:return ne;case 1:throw new Error(errors$3.SECKEY_INVALID);case 2:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyConvert(ee,re=!0,ne){switch(isUint8Array("public key",ee,[33,65]),isCompressed(re),ne=getAssertedOutput(ne,re?33:65),te.publicKeyConvert(ne,ee)){case 0:return ne;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyNegate(ee,re=!0,ne){switch(isUint8Array("public key",ee,[33,65]),isCompressed(re),ne=getAssertedOutput(ne,re?33:65),te.publicKeyNegate(ne,ee)){case 0:return ne;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE);case 3:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyCombine(ee,re=!0,ne){assert$i(Array.isArray(ee),"Expected public keys to be an Array"),assert$i(ee.length>0,"Expected public keys array will have more than zero items");for(const oe of ee)isUint8Array("public key",oe,[33,65]);switch(isCompressed(re),ne=getAssertedOutput(ne,re?33:65),te.publicKeyCombine(ne,ee)){case 0:return ne;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.PUBKEY_COMBINE);case 3:throw new Error(errors$3.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(ee,re,ne=!0,oe){switch(isUint8Array("public key",ee,[33,65]),isUint8Array("tweak",re,32),isCompressed(ne),oe=getAssertedOutput(oe,ne?33:65),te.publicKeyTweakAdd(oe,ee,re)){case 0:return oe;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.TWEAK_ADD)}},publicKeyTweakMul(ee,re,ne=!0,oe){switch(isUint8Array("public key",ee,[33,65]),isUint8Array("tweak",re,32),isCompressed(ne),oe=getAssertedOutput(oe,ne?33:65),te.publicKeyTweakMul(oe,ee,re)){case 0:return oe;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.TWEAK_MUL)}},signatureNormalize(ee){switch(isUint8Array("signature",ee,64),te.signatureNormalize(ee)){case 0:return ee;case 1:throw new Error(errors$3.SIG_PARSE)}},signatureExport(ee,re){isUint8Array("signature",ee,64),re=getAssertedOutput(re,72);const ne={output:re,outputlen:72};switch(te.signatureExport(ne,ee)){case 0:return re.slice(0,ne.outputlen);case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE)}},signatureImport(ee,re){switch(isUint8Array("signature",ee),re=getAssertedOutput(re,64),te.signatureImport(re,ee)){case 0:return re;case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE)}},ecdsaSign(ee,re,ne={},oe){isUint8Array("message",ee,32),isUint8Array("private key",re,32),assert$i(toTypeString(ne)==="Object","Expected options to be an Object"),ne.data!==void 0&&isUint8Array("options.data",ne.data),ne.noncefn!==void 0&&assert$i(toTypeString(ne.noncefn)==="Function","Expected options.noncefn to be a Function"),oe=getAssertedOutput(oe,64);const ie={signature:oe,recid:null};switch(te.ecdsaSign(ie,ee,re,ne.data,ne.noncefn)){case 0:return ie;case 1:throw new Error(errors$3.SIGN);case 2:throw new Error(errors$3.IMPOSSIBLE_CASE)}},ecdsaVerify(ee,re,ne){switch(isUint8Array("signature",ee,64),isUint8Array("message",re,32),isUint8Array("public key",ne,[33,65]),te.ecdsaVerify(ee,re,ne)){case 0:return!0;case 3:return!1;case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.PUBKEY_PARSE)}},ecdsaRecover(ee,re,ne,oe=!0,ie){switch(isUint8Array("signature",ee,64),assert$i(toTypeString(re)==="Number"&&re>=0&&re<=3,"Expected recovery id to be a Number within interval [0, 3]"),isUint8Array("message",ne,32),isCompressed(oe),ie=getAssertedOutput(ie,oe?33:65),te.ecdsaRecover(ie,ee,re,ne)){case 0:return ie;case 1:throw new Error(errors$3.SIG_PARSE);case 2:throw new Error(errors$3.RECOVER);case 3:throw new Error(errors$3.IMPOSSIBLE_CASE)}},ecdh(ee,re,ne={},oe){switch(isUint8Array("public key",ee,[33,65]),isUint8Array("private key",re,32),assert$i(toTypeString(ne)==="Object","Expected options to be an Object"),ne.data!==void 0&&isUint8Array("options.data",ne.data),ne.hashfn!==void 0?(assert$i(toTypeString(ne.hashfn)==="Function","Expected options.hashfn to be a Function"),ne.xbuf!==void 0&&isUint8Array("options.xbuf",ne.xbuf,32),ne.ybuf!==void 0&&isUint8Array("options.ybuf",ne.ybuf,32),isUint8Array("output",oe)):oe=getAssertedOutput(oe,32),te.ecdh(oe,ee,re,ne.data,ne.hashfn,ne.xbuf,ne.ybuf)){case 0:return oe;case 1:throw new Error(errors$3.PUBKEY_PARSE);case 2:throw new Error(errors$3.ECDH)}}}),elliptic$2={};const name$1="elliptic",version$4="6.5.4",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"};var require$$0$5={name:name$1,version:version$4,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies},utils$z={},bn$3={exports:{}};(function(te){(function(ee,re){function ne(ye,ae){if(!ye)throw new Error(ae||"Assertion failed")}function oe(ye,ae){ye.super_=ae;var ce=function(){};ce.prototype=ae.prototype,ye.prototype=new ce,ye.prototype.constructor=ye}function ie(ye,ae,ce){if(ie.isBN(ye))return ye;this.negative=0,this.words=null,this.length=0,this.red=null,ye!==null&&((ae==="le"||ae==="be")&&(ce=ae,ae=10),this._init(ye||0,ae||10,ce||"be"))}typeof ee=="object"?ee.exports=ie:re.BN=ie,ie.BN=ie,ie.wordSize=26;var se;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?se=window.Buffer:se=require("buffer").Buffer}catch{}ie.isBN=function(ae){return ae instanceof ie?!0:ae!==null&&typeof ae=="object"&&ae.constructor.wordSize===ie.wordSize&&Array.isArray(ae.words)},ie.max=function(ae,ce){return ae.cmp(ce)>0?ae:ce},ie.min=function(ae,ce){return ae.cmp(ce)<0?ae:ce},ie.prototype._init=function(ae,ce,le){if(typeof ae=="number")return this._initNumber(ae,ce,le);if(typeof ae=="object")return this._initArray(ae,ce,le);ce==="hex"&&(ce=16),ne(ce===(ce|0)&&ce>=2&&ce<=36),ae=ae.toString().replace(/\s+/g,"");var pe=0;ae[0]==="-"&&(pe++,this.negative=1),pe<ae.length&&(ce===16?this._parseHex(ae,pe,le):(this._parseBase(ae,ce,pe),le==="le"&&this._initArray(this.toArray(),ce,le)))},ie.prototype._initNumber=function(ae,ce,le){ae<0&&(this.negative=1,ae=-ae),ae<67108864?(this.words=[ae&67108863],this.length=1):ae<4503599627370496?(this.words=[ae&67108863,ae/67108864&67108863],this.length=2):(ne(ae<9007199254740992),this.words=[ae&67108863,ae/67108864&67108863,1],this.length=3),le==="le"&&this._initArray(this.toArray(),ce,le)},ie.prototype._initArray=function(ae,ce,le){if(ne(typeof ae.length=="number"),ae.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ae.length/3),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var _e,$e,Ee=0;if(le==="be")for(pe=ae.length-1,_e=0;pe>=0;pe-=3)$e=ae[pe]|ae[pe-1]<<8|ae[pe-2]<<16,this.words[_e]|=$e<<Ee&67108863,this.words[_e+1]=$e>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,_e++);else if(le==="le")for(pe=0,_e=0;pe<ae.length;pe+=3)$e=ae[pe]|ae[pe+1]<<8|ae[pe+2]<<16,this.words[_e]|=$e<<Ee&67108863,this.words[_e+1]=$e>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,_e++);return this.strip()};function ue(ye,ae){var ce=ye.charCodeAt(ae);return ce>=65&&ce<=70?ce-55:ce>=97&&ce<=102?ce-87:ce-48&15}function he(ye,ae,ce){var le=ue(ye,ce);return ce-1>=ae&&(le|=ue(ye,ce-1)<<4),le}ie.prototype._parseHex=function(ae,ce,le){this.length=Math.ceil((ae.length-ce)/6),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var _e=0,$e=0,Ee;if(le==="be")for(pe=ae.length-1;pe>=ce;pe-=2)Ee=he(ae,ce,pe)<<_e,this.words[$e]|=Ee&67108863,_e>=18?(_e-=18,$e+=1,this.words[$e]|=Ee>>>26):_e+=8;else{var me=ae.length-ce;for(pe=me%2===0?ce+1:ce;pe<ae.length;pe+=2)Ee=he(ae,ce,pe)<<_e,this.words[$e]|=Ee&67108863,_e>=18?(_e-=18,$e+=1,this.words[$e]|=Ee>>>26):_e+=8}this.strip()};function ge(ye,ae,ce,le){for(var pe=0,_e=Math.min(ye.length,ce),$e=ae;$e<_e;$e++){var Ee=ye.charCodeAt($e)-48;pe*=le,Ee>=49?pe+=Ee-49+10:Ee>=17?pe+=Ee-17+10:pe+=Ee}return pe}ie.prototype._parseBase=function(ae,ce,le){this.words=[0],this.length=1;for(var pe=0,_e=1;_e<=67108863;_e*=ce)pe++;pe--,_e=_e/ce|0;for(var $e=ae.length-le,Ee=$e%pe,me=Math.min($e,$e-Ee)+le,fe=0,we=le;we<me;we+=pe)fe=ge(ae,we,we+pe,ce),this.imuln(_e),this.words[0]+fe<67108864?this.words[0]+=fe:this._iaddn(fe);if(Ee!==0){var Me=1;for(fe=ge(ae,we,ae.length,ce),we=0;we<Ee;we++)Me*=ce;this.imuln(Me),this.words[0]+fe<67108864?this.words[0]+=fe:this._iaddn(fe)}this.strip()},ie.prototype.copy=function(ae){ae.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)ae.words[ce]=this.words[ce];ae.length=this.length,ae.negative=this.negative,ae.red=this.red},ie.prototype.clone=function(){var ae=new ie(null);return this.copy(ae),ae},ie.prototype._expand=function(ae){for(;this.length<ae;)this.words[this.length++]=0;return this},ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var be=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Se=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Te=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(ae,ce){ae=ae||10,ce=ce|0||1;var le;if(ae===16||ae==="hex"){le="";for(var pe=0,_e=0,$e=0;$e<this.length;$e++){var Ee=this.words[$e],me=((Ee<<pe|_e)&16777215).toString(16);_e=Ee>>>24-pe&16777215,_e!==0||$e!==this.length-1?le=be[6-me.length]+me+le:le=me+le,pe+=2,pe>=26&&(pe-=26,$e--)}for(_e!==0&&(le=_e.toString(16)+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}if(ae===(ae|0)&&ae>=2&&ae<=36){var fe=Se[ae],we=Te[ae];le="";var Me=this.clone();for(Me.negative=0;!Me.isZero();){var Le=Me.modn(we).toString(ae);Me=Me.idivn(we),Me.isZero()?le=Le+le:le=be[fe-Le.length]+Le+le}for(this.isZero()&&(le="0"+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var ae=this.words[0];return this.length===2?ae+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ae+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ae:ae},ie.prototype.toJSON=function(){return this.toString(16)},ie.prototype.toBuffer=function(ae,ce){return ne(typeof se!="undefined"),this.toArrayLike(se,ae,ce)},ie.prototype.toArray=function(ae,ce){return this.toArrayLike(Array,ae,ce)},ie.prototype.toArrayLike=function(ae,ce,le){var pe=this.byteLength(),_e=le||Math.max(1,pe);ne(pe<=_e,"byte array longer than desired length"),ne(_e>0,"Requested array length <= 0"),this.strip();var $e=ce==="le",Ee=new ae(_e),me,fe,we=this.clone();if($e){for(fe=0;!we.isZero();fe++)me=we.andln(255),we.iushrn(8),Ee[fe]=me;for(;fe<_e;fe++)Ee[fe]=0}else{for(fe=0;fe<_e-pe;fe++)Ee[fe]=0;for(fe=0;!we.isZero();fe++)me=we.andln(255),we.iushrn(8),Ee[_e-fe-1]=me}return Ee},Math.clz32?ie.prototype._countBits=function(ae){return 32-Math.clz32(ae)}:ie.prototype._countBits=function(ae){var ce=ae,le=0;return ce>=4096&&(le+=13,ce>>>=13),ce>=64&&(le+=7,ce>>>=7),ce>=8&&(le+=4,ce>>>=4),ce>=2&&(le+=2,ce>>>=2),le+ce},ie.prototype._zeroBits=function(ae){if(ae===0)return 26;var ce=ae,le=0;return(ce&8191)===0&&(le+=13,ce>>>=13),(ce&127)===0&&(le+=7,ce>>>=7),(ce&15)===0&&(le+=4,ce>>>=4),(ce&3)===0&&(le+=2,ce>>>=2),(ce&1)===0&&le++,le},ie.prototype.bitLength=function(){var ae=this.words[this.length-1],ce=this._countBits(ae);return(this.length-1)*26+ce};function ke(ye){for(var ae=new Array(ye.bitLength()),ce=0;ce<ae.length;ce++){var le=ce/26|0,pe=ce%26;ae[ce]=(ye.words[le]&1<<pe)>>>pe}return ae}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ae=0,ce=0;ce<this.length;ce++){var le=this._zeroBits(this.words[ce]);if(ae+=le,le!==26)break}return ae},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(ae){return this.negative!==0?this.abs().inotn(ae).iaddn(1):this.clone()},ie.prototype.fromTwos=function(ae){return this.testn(ae-1)?this.notn(ae).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(ae){for(;this.length<ae.length;)this.words[this.length++]=0;for(var ce=0;ce<ae.length;ce++)this.words[ce]=this.words[ce]|ae.words[ce];return this.strip()},ie.prototype.ior=function(ae){return ne((this.negative|ae.negative)===0),this.iuor(ae)},ie.prototype.or=function(ae){return this.length>ae.length?this.clone().ior(ae):ae.clone().ior(this)},ie.prototype.uor=function(ae){return this.length>ae.length?this.clone().iuor(ae):ae.clone().iuor(this)},ie.prototype.iuand=function(ae){var ce;this.length>ae.length?ce=ae:ce=this;for(var le=0;le<ce.length;le++)this.words[le]=this.words[le]&ae.words[le];return this.length=ce.length,this.strip()},ie.prototype.iand=function(ae){return ne((this.negative|ae.negative)===0),this.iuand(ae)},ie.prototype.and=function(ae){return this.length>ae.length?this.clone().iand(ae):ae.clone().iand(this)},ie.prototype.uand=function(ae){return this.length>ae.length?this.clone().iuand(ae):ae.clone().iuand(this)},ie.prototype.iuxor=function(ae){var ce,le;this.length>ae.length?(ce=this,le=ae):(ce=ae,le=this);for(var pe=0;pe<le.length;pe++)this.words[pe]=ce.words[pe]^le.words[pe];if(this!==ce)for(;pe<ce.length;pe++)this.words[pe]=ce.words[pe];return this.length=ce.length,this.strip()},ie.prototype.ixor=function(ae){return ne((this.negative|ae.negative)===0),this.iuxor(ae)},ie.prototype.xor=function(ae){return this.length>ae.length?this.clone().ixor(ae):ae.clone().ixor(this)},ie.prototype.uxor=function(ae){return this.length>ae.length?this.clone().iuxor(ae):ae.clone().iuxor(this)},ie.prototype.inotn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=Math.ceil(ae/26)|0,le=ae%26;this._expand(ce),le>0&&ce--;for(var pe=0;pe<ce;pe++)this.words[pe]=~this.words[pe]&67108863;return le>0&&(this.words[pe]=~this.words[pe]&67108863>>26-le),this.strip()},ie.prototype.notn=function(ae){return this.clone().inotn(ae)},ie.prototype.setn=function(ae,ce){ne(typeof ae=="number"&&ae>=0);var le=ae/26|0,pe=ae%26;return this._expand(le+1),ce?this.words[le]=this.words[le]|1<<pe:this.words[le]=this.words[le]&~(1<<pe),this.strip()},ie.prototype.iadd=function(ae){var ce;if(this.negative!==0&&ae.negative===0)return this.negative=0,ce=this.isub(ae),this.negative^=1,this._normSign();if(this.negative===0&&ae.negative!==0)return ae.negative=0,ce=this.isub(ae),ae.negative=1,ce._normSign();var le,pe;this.length>ae.length?(le=this,pe=ae):(le=ae,pe=this);for(var _e=0,$e=0;$e<pe.length;$e++)ce=(le.words[$e]|0)+(pe.words[$e]|0)+_e,this.words[$e]=ce&67108863,_e=ce>>>26;for(;_e!==0&&$e<le.length;$e++)ce=(le.words[$e]|0)+_e,this.words[$e]=ce&67108863,_e=ce>>>26;if(this.length=le.length,_e!==0)this.words[this.length]=_e,this.length++;else if(le!==this)for(;$e<le.length;$e++)this.words[$e]=le.words[$e];return this},ie.prototype.add=function(ae){var ce;return ae.negative!==0&&this.negative===0?(ae.negative=0,ce=this.sub(ae),ae.negative^=1,ce):ae.negative===0&&this.negative!==0?(this.negative=0,ce=ae.sub(this),this.negative=1,ce):this.length>ae.length?this.clone().iadd(ae):ae.clone().iadd(this)},ie.prototype.isub=function(ae){if(ae.negative!==0){ae.negative=0;var ce=this.iadd(ae);return ae.negative=1,ce._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ae),this.negative=1,this._normSign();var le=this.cmp(ae);if(le===0)return this.negative=0,this.length=1,this.words[0]=0,this;var pe,_e;le>0?(pe=this,_e=ae):(pe=ae,_e=this);for(var $e=0,Ee=0;Ee<_e.length;Ee++)ce=(pe.words[Ee]|0)-(_e.words[Ee]|0)+$e,$e=ce>>26,this.words[Ee]=ce&67108863;for(;$e!==0&&Ee<pe.length;Ee++)ce=(pe.words[Ee]|0)+$e,$e=ce>>26,this.words[Ee]=ce&67108863;if($e===0&&Ee<pe.length&&pe!==this)for(;Ee<pe.length;Ee++)this.words[Ee]=pe.words[Ee];return this.length=Math.max(this.length,Ee),pe!==this&&(this.negative=1),this.strip()},ie.prototype.sub=function(ae){return this.clone().isub(ae)};function Re(ye,ae,ce){ce.negative=ae.negative^ye.negative;var le=ye.length+ae.length|0;ce.length=le,le=le-1|0;var pe=ye.words[0]|0,_e=ae.words[0]|0,$e=pe*_e,Ee=$e&67108863,me=$e/67108864|0;ce.words[0]=Ee;for(var fe=1;fe<le;fe++){for(var we=me>>>26,Me=me&67108863,Le=Math.min(fe,ae.length-1),Je=Math.max(0,fe-ye.length+1);Je<=Le;Je++){var Ue=fe-Je|0;pe=ye.words[Ue]|0,_e=ae.words[Je]|0,$e=pe*_e+Me,we+=$e/67108864|0,Me=$e&67108863}ce.words[fe]=Me|0,me=we|0}return me!==0?ce.words[fe]=me|0:ce.length--,ce.strip()}var Ce=function(ae,ce,le){var pe=ae.words,_e=ce.words,$e=le.words,Ee=0,me,fe,we,Me=pe[0]|0,Le=Me&8191,Je=Me>>>13,Ue=pe[1]|0,ct=Ue&8191,gt=Ue>>>13,$t=pe[2]|0,vt=$t&8191,Tt=$t>>>13,qt=pe[3]|0,Rt=qt&8191,lt=qt>>>13,_t=pe[4]|0,bt=_t&8191,Qe=_t>>>13,ze=pe[5]|0,De=ze&8191,Ze=ze>>>13,yt=pe[6]|0,dt=yt&8191,mt=yt>>>13,Lt=pe[7]|0,St=Lt&8191,Bt=Lt>>>13,Gt=pe[8]|0,Ae=Gt&8191,ve=Gt>>>13,xe=pe[9]|0,Be=xe&8191,We=xe>>>13,et=_e[0]|0,Xe=et&8191,Mt=et>>>13,Vt=_e[1]|0,At=Vt&8191,Nt=Vt>>>13,zt=_e[2]|0,Ht=zt&8191,Qt=zt>>>13,Ir=_e[3]|0,jt=Ir&8191,Xt=Ir>>>13,$r=_e[4]|0,Ft=$r&8191,Zt=$r>>>13,kr=_e[5]|0,Wt=kr&8191,er=kr>>>13,Pr=_e[6]|0,Ot=Pr&8191,tr=Pr>>>13,Ye=_e[7]|0,rt=Ye&8191,it=Ye>>>13,Fe=_e[8]|0,ot=Fe&8191,wt=Fe>>>13,Pt=_e[9]|0,Et=Pt&8191,Ct=Pt>>>13;le.negative=ae.negative^ce.negative,le.length=19,me=Math.imul(Le,Xe),fe=Math.imul(Le,Mt),fe=fe+Math.imul(Je,Xe)|0,we=Math.imul(Je,Mt);var or=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(or>>>26)|0,or&=67108863,me=Math.imul(ct,Xe),fe=Math.imul(ct,Mt),fe=fe+Math.imul(gt,Xe)|0,we=Math.imul(gt,Mt),me=me+Math.imul(Le,At)|0,fe=fe+Math.imul(Le,Nt)|0,fe=fe+Math.imul(Je,At)|0,we=we+Math.imul(Je,Nt)|0;var Yt=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,me=Math.imul(vt,Xe),fe=Math.imul(vt,Mt),fe=fe+Math.imul(Tt,Xe)|0,we=Math.imul(Tt,Mt),me=me+Math.imul(ct,At)|0,fe=fe+Math.imul(ct,Nt)|0,fe=fe+Math.imul(gt,At)|0,we=we+Math.imul(gt,Nt)|0,me=me+Math.imul(Le,Ht)|0,fe=fe+Math.imul(Le,Qt)|0,fe=fe+Math.imul(Je,Ht)|0,we=we+Math.imul(Je,Qt)|0;var Rr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,me=Math.imul(Rt,Xe),fe=Math.imul(Rt,Mt),fe=fe+Math.imul(lt,Xe)|0,we=Math.imul(lt,Mt),me=me+Math.imul(vt,At)|0,fe=fe+Math.imul(vt,Nt)|0,fe=fe+Math.imul(Tt,At)|0,we=we+Math.imul(Tt,Nt)|0,me=me+Math.imul(ct,Ht)|0,fe=fe+Math.imul(ct,Qt)|0,fe=fe+Math.imul(gt,Ht)|0,we=we+Math.imul(gt,Qt)|0,me=me+Math.imul(Le,jt)|0,fe=fe+Math.imul(Le,Xt)|0,fe=fe+Math.imul(Je,jt)|0,we=we+Math.imul(Je,Xt)|0;var cr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(cr>>>26)|0,cr&=67108863,me=Math.imul(bt,Xe),fe=Math.imul(bt,Mt),fe=fe+Math.imul(Qe,Xe)|0,we=Math.imul(Qe,Mt),me=me+Math.imul(Rt,At)|0,fe=fe+Math.imul(Rt,Nt)|0,fe=fe+Math.imul(lt,At)|0,we=we+Math.imul(lt,Nt)|0,me=me+Math.imul(vt,Ht)|0,fe=fe+Math.imul(vt,Qt)|0,fe=fe+Math.imul(Tt,Ht)|0,we=we+Math.imul(Tt,Qt)|0,me=me+Math.imul(ct,jt)|0,fe=fe+Math.imul(ct,Xt)|0,fe=fe+Math.imul(gt,jt)|0,we=we+Math.imul(gt,Xt)|0,me=me+Math.imul(Le,Ft)|0,fe=fe+Math.imul(Le,Zt)|0,fe=fe+Math.imul(Je,Ft)|0,we=we+Math.imul(Je,Zt)|0;var wr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(wr>>>26)|0,wr&=67108863,me=Math.imul(De,Xe),fe=Math.imul(De,Mt),fe=fe+Math.imul(Ze,Xe)|0,we=Math.imul(Ze,Mt),me=me+Math.imul(bt,At)|0,fe=fe+Math.imul(bt,Nt)|0,fe=fe+Math.imul(Qe,At)|0,we=we+Math.imul(Qe,Nt)|0,me=me+Math.imul(Rt,Ht)|0,fe=fe+Math.imul(Rt,Qt)|0,fe=fe+Math.imul(lt,Ht)|0,we=we+Math.imul(lt,Qt)|0,me=me+Math.imul(vt,jt)|0,fe=fe+Math.imul(vt,Xt)|0,fe=fe+Math.imul(Tt,jt)|0,we=we+Math.imul(Tt,Xt)|0,me=me+Math.imul(ct,Ft)|0,fe=fe+Math.imul(ct,Zt)|0,fe=fe+Math.imul(gt,Ft)|0,we=we+Math.imul(gt,Zt)|0,me=me+Math.imul(Le,Wt)|0,fe=fe+Math.imul(Le,er)|0,fe=fe+Math.imul(Je,Wt)|0,we=we+Math.imul(Je,er)|0;var xr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(xr>>>26)|0,xr&=67108863,me=Math.imul(dt,Xe),fe=Math.imul(dt,Mt),fe=fe+Math.imul(mt,Xe)|0,we=Math.imul(mt,Mt),me=me+Math.imul(De,At)|0,fe=fe+Math.imul(De,Nt)|0,fe=fe+Math.imul(Ze,At)|0,we=we+Math.imul(Ze,Nt)|0,me=me+Math.imul(bt,Ht)|0,fe=fe+Math.imul(bt,Qt)|0,fe=fe+Math.imul(Qe,Ht)|0,we=we+Math.imul(Qe,Qt)|0,me=me+Math.imul(Rt,jt)|0,fe=fe+Math.imul(Rt,Xt)|0,fe=fe+Math.imul(lt,jt)|0,we=we+Math.imul(lt,Xt)|0,me=me+Math.imul(vt,Ft)|0,fe=fe+Math.imul(vt,Zt)|0,fe=fe+Math.imul(Tt,Ft)|0,we=we+Math.imul(Tt,Zt)|0,me=me+Math.imul(ct,Wt)|0,fe=fe+Math.imul(ct,er)|0,fe=fe+Math.imul(gt,Wt)|0,we=we+Math.imul(gt,er)|0,me=me+Math.imul(Le,Ot)|0,fe=fe+Math.imul(Le,tr)|0,fe=fe+Math.imul(Je,Ot)|0,we=we+Math.imul(Je,tr)|0;var Er=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Er>>>26)|0,Er&=67108863,me=Math.imul(St,Xe),fe=Math.imul(St,Mt),fe=fe+Math.imul(Bt,Xe)|0,we=Math.imul(Bt,Mt),me=me+Math.imul(dt,At)|0,fe=fe+Math.imul(dt,Nt)|0,fe=fe+Math.imul(mt,At)|0,we=we+Math.imul(mt,Nt)|0,me=me+Math.imul(De,Ht)|0,fe=fe+Math.imul(De,Qt)|0,fe=fe+Math.imul(Ze,Ht)|0,we=we+Math.imul(Ze,Qt)|0,me=me+Math.imul(bt,jt)|0,fe=fe+Math.imul(bt,Xt)|0,fe=fe+Math.imul(Qe,jt)|0,we=we+Math.imul(Qe,Xt)|0,me=me+Math.imul(Rt,Ft)|0,fe=fe+Math.imul(Rt,Zt)|0,fe=fe+Math.imul(lt,Ft)|0,we=we+Math.imul(lt,Zt)|0,me=me+Math.imul(vt,Wt)|0,fe=fe+Math.imul(vt,er)|0,fe=fe+Math.imul(Tt,Wt)|0,we=we+Math.imul(Tt,er)|0,me=me+Math.imul(ct,Ot)|0,fe=fe+Math.imul(ct,tr)|0,fe=fe+Math.imul(gt,Ot)|0,we=we+Math.imul(gt,tr)|0,me=me+Math.imul(Le,rt)|0,fe=fe+Math.imul(Le,it)|0,fe=fe+Math.imul(Je,rt)|0,we=we+Math.imul(Je,it)|0;var Mr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,me=Math.imul(Ae,Xe),fe=Math.imul(Ae,Mt),fe=fe+Math.imul(ve,Xe)|0,we=Math.imul(ve,Mt),me=me+Math.imul(St,At)|0,fe=fe+Math.imul(St,Nt)|0,fe=fe+Math.imul(Bt,At)|0,we=we+Math.imul(Bt,Nt)|0,me=me+Math.imul(dt,Ht)|0,fe=fe+Math.imul(dt,Qt)|0,fe=fe+Math.imul(mt,Ht)|0,we=we+Math.imul(mt,Qt)|0,me=me+Math.imul(De,jt)|0,fe=fe+Math.imul(De,Xt)|0,fe=fe+Math.imul(Ze,jt)|0,we=we+Math.imul(Ze,Xt)|0,me=me+Math.imul(bt,Ft)|0,fe=fe+Math.imul(bt,Zt)|0,fe=fe+Math.imul(Qe,Ft)|0,we=we+Math.imul(Qe,Zt)|0,me=me+Math.imul(Rt,Wt)|0,fe=fe+Math.imul(Rt,er)|0,fe=fe+Math.imul(lt,Wt)|0,we=we+Math.imul(lt,er)|0,me=me+Math.imul(vt,Ot)|0,fe=fe+Math.imul(vt,tr)|0,fe=fe+Math.imul(Tt,Ot)|0,we=we+Math.imul(Tt,tr)|0,me=me+Math.imul(ct,rt)|0,fe=fe+Math.imul(ct,it)|0,fe=fe+Math.imul(gt,rt)|0,we=we+Math.imul(gt,it)|0,me=me+Math.imul(Le,ot)|0,fe=fe+Math.imul(Le,wt)|0,fe=fe+Math.imul(Je,ot)|0,we=we+Math.imul(Je,wt)|0;var Sr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,me=Math.imul(Be,Xe),fe=Math.imul(Be,Mt),fe=fe+Math.imul(We,Xe)|0,we=Math.imul(We,Mt),me=me+Math.imul(Ae,At)|0,fe=fe+Math.imul(Ae,Nt)|0,fe=fe+Math.imul(ve,At)|0,we=we+Math.imul(ve,Nt)|0,me=me+Math.imul(St,Ht)|0,fe=fe+Math.imul(St,Qt)|0,fe=fe+Math.imul(Bt,Ht)|0,we=we+Math.imul(Bt,Qt)|0,me=me+Math.imul(dt,jt)|0,fe=fe+Math.imul(dt,Xt)|0,fe=fe+Math.imul(mt,jt)|0,we=we+Math.imul(mt,Xt)|0,me=me+Math.imul(De,Ft)|0,fe=fe+Math.imul(De,Zt)|0,fe=fe+Math.imul(Ze,Ft)|0,we=we+Math.imul(Ze,Zt)|0,me=me+Math.imul(bt,Wt)|0,fe=fe+Math.imul(bt,er)|0,fe=fe+Math.imul(Qe,Wt)|0,we=we+Math.imul(Qe,er)|0,me=me+Math.imul(Rt,Ot)|0,fe=fe+Math.imul(Rt,tr)|0,fe=fe+Math.imul(lt,Ot)|0,we=we+Math.imul(lt,tr)|0,me=me+Math.imul(vt,rt)|0,fe=fe+Math.imul(vt,it)|0,fe=fe+Math.imul(Tt,rt)|0,we=we+Math.imul(Tt,it)|0,me=me+Math.imul(ct,ot)|0,fe=fe+Math.imul(ct,wt)|0,fe=fe+Math.imul(gt,ot)|0,we=we+Math.imul(gt,wt)|0,me=me+Math.imul(Le,Et)|0,fe=fe+Math.imul(Le,Ct)|0,fe=fe+Math.imul(Je,Et)|0,we=we+Math.imul(Je,Ct)|0;var Ar=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,me=Math.imul(Be,At),fe=Math.imul(Be,Nt),fe=fe+Math.imul(We,At)|0,we=Math.imul(We,Nt),me=me+Math.imul(Ae,Ht)|0,fe=fe+Math.imul(Ae,Qt)|0,fe=fe+Math.imul(ve,Ht)|0,we=we+Math.imul(ve,Qt)|0,me=me+Math.imul(St,jt)|0,fe=fe+Math.imul(St,Xt)|0,fe=fe+Math.imul(Bt,jt)|0,we=we+Math.imul(Bt,Xt)|0,me=me+Math.imul(dt,Ft)|0,fe=fe+Math.imul(dt,Zt)|0,fe=fe+Math.imul(mt,Ft)|0,we=we+Math.imul(mt,Zt)|0,me=me+Math.imul(De,Wt)|0,fe=fe+Math.imul(De,er)|0,fe=fe+Math.imul(Ze,Wt)|0,we=we+Math.imul(Ze,er)|0,me=me+Math.imul(bt,Ot)|0,fe=fe+Math.imul(bt,tr)|0,fe=fe+Math.imul(Qe,Ot)|0,we=we+Math.imul(Qe,tr)|0,me=me+Math.imul(Rt,rt)|0,fe=fe+Math.imul(Rt,it)|0,fe=fe+Math.imul(lt,rt)|0,we=we+Math.imul(lt,it)|0,me=me+Math.imul(vt,ot)|0,fe=fe+Math.imul(vt,wt)|0,fe=fe+Math.imul(Tt,ot)|0,we=we+Math.imul(Tt,wt)|0,me=me+Math.imul(ct,Et)|0,fe=fe+Math.imul(ct,Ct)|0,fe=fe+Math.imul(gt,Et)|0,we=we+Math.imul(gt,Ct)|0;var Tr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,me=Math.imul(Be,Ht),fe=Math.imul(Be,Qt),fe=fe+Math.imul(We,Ht)|0,we=Math.imul(We,Qt),me=me+Math.imul(Ae,jt)|0,fe=fe+Math.imul(Ae,Xt)|0,fe=fe+Math.imul(ve,jt)|0,we=we+Math.imul(ve,Xt)|0,me=me+Math.imul(St,Ft)|0,fe=fe+Math.imul(St,Zt)|0,fe=fe+Math.imul(Bt,Ft)|0,we=we+Math.imul(Bt,Zt)|0,me=me+Math.imul(dt,Wt)|0,fe=fe+Math.imul(dt,er)|0,fe=fe+Math.imul(mt,Wt)|0,we=we+Math.imul(mt,er)|0,me=me+Math.imul(De,Ot)|0,fe=fe+Math.imul(De,tr)|0,fe=fe+Math.imul(Ze,Ot)|0,we=we+Math.imul(Ze,tr)|0,me=me+Math.imul(bt,rt)|0,fe=fe+Math.imul(bt,it)|0,fe=fe+Math.imul(Qe,rt)|0,we=we+Math.imul(Qe,it)|0,me=me+Math.imul(Rt,ot)|0,fe=fe+Math.imul(Rt,wt)|0,fe=fe+Math.imul(lt,ot)|0,we=we+Math.imul(lt,wt)|0,me=me+Math.imul(vt,Et)|0,fe=fe+Math.imul(vt,Ct)|0,fe=fe+Math.imul(Tt,Et)|0,we=we+Math.imul(Tt,Ct)|0;var pr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(pr>>>26)|0,pr&=67108863,me=Math.imul(Be,jt),fe=Math.imul(Be,Xt),fe=fe+Math.imul(We,jt)|0,we=Math.imul(We,Xt),me=me+Math.imul(Ae,Ft)|0,fe=fe+Math.imul(Ae,Zt)|0,fe=fe+Math.imul(ve,Ft)|0,we=we+Math.imul(ve,Zt)|0,me=me+Math.imul(St,Wt)|0,fe=fe+Math.imul(St,er)|0,fe=fe+Math.imul(Bt,Wt)|0,we=we+Math.imul(Bt,er)|0,me=me+Math.imul(dt,Ot)|0,fe=fe+Math.imul(dt,tr)|0,fe=fe+Math.imul(mt,Ot)|0,we=we+Math.imul(mt,tr)|0,me=me+Math.imul(De,rt)|0,fe=fe+Math.imul(De,it)|0,fe=fe+Math.imul(Ze,rt)|0,we=we+Math.imul(Ze,it)|0,me=me+Math.imul(bt,ot)|0,fe=fe+Math.imul(bt,wt)|0,fe=fe+Math.imul(Qe,ot)|0,we=we+Math.imul(Qe,wt)|0,me=me+Math.imul(Rt,Et)|0,fe=fe+Math.imul(Rt,Ct)|0,fe=fe+Math.imul(lt,Et)|0,we=we+Math.imul(lt,Ct)|0;var _r=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(_r>>>26)|0,_r&=67108863,me=Math.imul(Be,Ft),fe=Math.imul(Be,Zt),fe=fe+Math.imul(We,Ft)|0,we=Math.imul(We,Zt),me=me+Math.imul(Ae,Wt)|0,fe=fe+Math.imul(Ae,er)|0,fe=fe+Math.imul(ve,Wt)|0,we=we+Math.imul(ve,er)|0,me=me+Math.imul(St,Ot)|0,fe=fe+Math.imul(St,tr)|0,fe=fe+Math.imul(Bt,Ot)|0,we=we+Math.imul(Bt,tr)|0,me=me+Math.imul(dt,rt)|0,fe=fe+Math.imul(dt,it)|0,fe=fe+Math.imul(mt,rt)|0,we=we+Math.imul(mt,it)|0,me=me+Math.imul(De,ot)|0,fe=fe+Math.imul(De,wt)|0,fe=fe+Math.imul(Ze,ot)|0,we=we+Math.imul(Ze,wt)|0,me=me+Math.imul(bt,Et)|0,fe=fe+Math.imul(bt,Ct)|0,fe=fe+Math.imul(Qe,Et)|0,we=we+Math.imul(Qe,Ct)|0;var lr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(lr>>>26)|0,lr&=67108863,me=Math.imul(Be,Wt),fe=Math.imul(Be,er),fe=fe+Math.imul(We,Wt)|0,we=Math.imul(We,er),me=me+Math.imul(Ae,Ot)|0,fe=fe+Math.imul(Ae,tr)|0,fe=fe+Math.imul(ve,Ot)|0,we=we+Math.imul(ve,tr)|0,me=me+Math.imul(St,rt)|0,fe=fe+Math.imul(St,it)|0,fe=fe+Math.imul(Bt,rt)|0,we=we+Math.imul(Bt,it)|0,me=me+Math.imul(dt,ot)|0,fe=fe+Math.imul(dt,wt)|0,fe=fe+Math.imul(mt,ot)|0,we=we+Math.imul(mt,wt)|0,me=me+Math.imul(De,Et)|0,fe=fe+Math.imul(De,Ct)|0,fe=fe+Math.imul(Ze,Et)|0,we=we+Math.imul(Ze,Ct)|0;var gr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(gr>>>26)|0,gr&=67108863,me=Math.imul(Be,Ot),fe=Math.imul(Be,tr),fe=fe+Math.imul(We,Ot)|0,we=Math.imul(We,tr),me=me+Math.imul(Ae,rt)|0,fe=fe+Math.imul(Ae,it)|0,fe=fe+Math.imul(ve,rt)|0,we=we+Math.imul(ve,it)|0,me=me+Math.imul(St,ot)|0,fe=fe+Math.imul(St,wt)|0,fe=fe+Math.imul(Bt,ot)|0,we=we+Math.imul(Bt,wt)|0,me=me+Math.imul(dt,Et)|0,fe=fe+Math.imul(dt,Ct)|0,fe=fe+Math.imul(mt,Et)|0,we=we+Math.imul(mt,Ct)|0;var mr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(mr>>>26)|0,mr&=67108863,me=Math.imul(Be,rt),fe=Math.imul(Be,it),fe=fe+Math.imul(We,rt)|0,we=Math.imul(We,it),me=me+Math.imul(Ae,ot)|0,fe=fe+Math.imul(Ae,wt)|0,fe=fe+Math.imul(ve,ot)|0,we=we+Math.imul(ve,wt)|0,me=me+Math.imul(St,Et)|0,fe=fe+Math.imul(St,Ct)|0,fe=fe+Math.imul(Bt,Et)|0,we=we+Math.imul(Bt,Ct)|0;var dr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(dr>>>26)|0,dr&=67108863,me=Math.imul(Be,ot),fe=Math.imul(Be,wt),fe=fe+Math.imul(We,ot)|0,we=Math.imul(We,wt),me=me+Math.imul(Ae,Et)|0,fe=fe+Math.imul(Ae,Ct)|0,fe=fe+Math.imul(ve,Et)|0,we=we+Math.imul(ve,Ct)|0;var Ut=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,me=Math.imul(Be,Et),fe=Math.imul(Be,Ct),fe=fe+Math.imul(We,Et)|0,we=Math.imul(We,Ct);var Dt=(Ee+me|0)+((fe&8191)<<13)|0;return Ee=(we+(fe>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,$e[0]=or,$e[1]=Yt,$e[2]=Rr,$e[3]=cr,$e[4]=wr,$e[5]=xr,$e[6]=Er,$e[7]=Mr,$e[8]=Sr,$e[9]=Ar,$e[10]=Tr,$e[11]=pr,$e[12]=_r,$e[13]=lr,$e[14]=gr,$e[15]=mr,$e[16]=dr,$e[17]=Ut,$e[18]=Dt,Ee!==0&&($e[19]=Ee,le.length++),le};Math.imul||(Ce=Re);function Pe(ye,ae,ce){ce.negative=ae.negative^ye.negative,ce.length=ye.length+ae.length;for(var le=0,pe=0,_e=0;_e<ce.length-1;_e++){var $e=pe;pe=0;for(var Ee=le&67108863,me=Math.min(_e,ae.length-1),fe=Math.max(0,_e-ye.length+1);fe<=me;fe++){var we=_e-fe,Me=ye.words[we]|0,Le=ae.words[fe]|0,Je=Me*Le,Ue=Je&67108863;$e=$e+(Je/67108864|0)|0,Ue=Ue+Ee|0,Ee=Ue&67108863,$e=$e+(Ue>>>26)|0,pe+=$e>>>26,$e&=67108863}ce.words[_e]=Ee,le=$e,$e=pe}return le!==0?ce.words[_e]=le:ce.length--,ce.strip()}function Ie(ye,ae,ce){var le=new Ne;return le.mulp(ye,ae,ce)}ie.prototype.mulTo=function(ae,ce){var le,pe=this.length+ae.length;return this.length===10&&ae.length===10?le=Ce(this,ae,ce):pe<63?le=Re(this,ae,ce):pe<1024?le=Pe(this,ae,ce):le=Ie(this,ae,ce),le};function Ne(ye,ae){this.x=ye,this.y=ae}Ne.prototype.makeRBT=function(ae){for(var ce=new Array(ae),le=ie.prototype._countBits(ae)-1,pe=0;pe<ae;pe++)ce[pe]=this.revBin(pe,le,ae);return ce},Ne.prototype.revBin=function(ae,ce,le){if(ae===0||ae===le-1)return ae;for(var pe=0,_e=0;_e<ce;_e++)pe|=(ae&1)<<ce-_e-1,ae>>=1;return pe},Ne.prototype.permute=function(ae,ce,le,pe,_e,$e){for(var Ee=0;Ee<$e;Ee++)pe[Ee]=ce[ae[Ee]],_e[Ee]=le[ae[Ee]]},Ne.prototype.transform=function(ae,ce,le,pe,_e,$e){this.permute($e,ae,ce,le,pe,_e);for(var Ee=1;Ee<_e;Ee<<=1)for(var me=Ee<<1,fe=Math.cos(2*Math.PI/me),we=Math.sin(2*Math.PI/me),Me=0;Me<_e;Me+=me)for(var Le=fe,Je=we,Ue=0;Ue<Ee;Ue++){var ct=le[Me+Ue],gt=pe[Me+Ue],$t=le[Me+Ue+Ee],vt=pe[Me+Ue+Ee],Tt=Le*$t-Je*vt;vt=Le*vt+Je*$t,$t=Tt,le[Me+Ue]=ct+$t,pe[Me+Ue]=gt+vt,le[Me+Ue+Ee]=ct-$t,pe[Me+Ue+Ee]=gt-vt,Ue!==me&&(Tt=fe*Le-we*Je,Je=fe*Je+we*Le,Le=Tt)}},Ne.prototype.guessLen13b=function(ae,ce){var le=Math.max(ce,ae)|1,pe=le&1,_e=0;for(le=le/2|0;le;le=le>>>1)_e++;return 1<<_e+1+pe},Ne.prototype.conjugate=function(ae,ce,le){if(!(le<=1))for(var pe=0;pe<le/2;pe++){var _e=ae[pe];ae[pe]=ae[le-pe-1],ae[le-pe-1]=_e,_e=ce[pe],ce[pe]=-ce[le-pe-1],ce[le-pe-1]=-_e}},Ne.prototype.normalize13b=function(ae,ce){for(var le=0,pe=0;pe<ce/2;pe++){var _e=Math.round(ae[2*pe+1]/ce)*8192+Math.round(ae[2*pe]/ce)+le;ae[pe]=_e&67108863,_e<67108864?le=0:le=_e/67108864|0}return ae},Ne.prototype.convert13b=function(ae,ce,le,pe){for(var _e=0,$e=0;$e<ce;$e++)_e=_e+(ae[$e]|0),le[2*$e]=_e&8191,_e=_e>>>13,le[2*$e+1]=_e&8191,_e=_e>>>13;for($e=2*ce;$e<pe;++$e)le[$e]=0;ne(_e===0),ne((_e&-8192)===0)},Ne.prototype.stub=function(ae){for(var ce=new Array(ae),le=0;le<ae;le++)ce[le]=0;return ce},Ne.prototype.mulp=function(ae,ce,le){var pe=2*this.guessLen13b(ae.length,ce.length),_e=this.makeRBT(pe),$e=this.stub(pe),Ee=new Array(pe),me=new Array(pe),fe=new Array(pe),we=new Array(pe),Me=new Array(pe),Le=new Array(pe),Je=le.words;Je.length=pe,this.convert13b(ae.words,ae.length,Ee,pe),this.convert13b(ce.words,ce.length,we,pe),this.transform(Ee,$e,me,fe,pe,_e),this.transform(we,$e,Me,Le,pe,_e);for(var Ue=0;Ue<pe;Ue++){var ct=me[Ue]*Me[Ue]-fe[Ue]*Le[Ue];fe[Ue]=me[Ue]*Le[Ue]+fe[Ue]*Me[Ue],me[Ue]=ct}return this.conjugate(me,fe,pe),this.transform(me,fe,Je,$e,pe,_e),this.conjugate(Je,$e,pe),this.normalize13b(Je,pe),le.negative=ae.negative^ce.negative,le.length=ae.length+ce.length,le.strip()},ie.prototype.mul=function(ae){var ce=new ie(null);return ce.words=new Array(this.length+ae.length),this.mulTo(ae,ce)},ie.prototype.mulf=function(ae){var ce=new ie(null);return ce.words=new Array(this.length+ae.length),Ie(this,ae,ce)},ie.prototype.imul=function(ae){return this.clone().mulTo(ae,this)},ie.prototype.imuln=function(ae){ne(typeof ae=="number"),ne(ae<67108864);for(var ce=0,le=0;le<this.length;le++){var pe=(this.words[le]|0)*ae,_e=(pe&67108863)+(ce&67108863);ce>>=26,ce+=pe/67108864|0,ce+=_e>>>26,this.words[le]=_e&67108863}return ce!==0&&(this.words[le]=ce,this.length++),this},ie.prototype.muln=function(ae){return this.clone().imuln(ae)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(ae){var ce=ke(ae);if(ce.length===0)return new ie(1);for(var le=this,pe=0;pe<ce.length&&ce[pe]===0;pe++,le=le.sqr());if(++pe<ce.length)for(var _e=le.sqr();pe<ce.length;pe++,_e=_e.sqr())ce[pe]!==0&&(le=le.mul(_e));return le},ie.prototype.iushln=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26,pe=67108863>>>26-ce<<26-ce,_e;if(ce!==0){var $e=0;for(_e=0;_e<this.length;_e++){var Ee=this.words[_e]&pe,me=(this.words[_e]|0)-Ee<<ce;this.words[_e]=me|$e,$e=Ee>>>26-ce}$e&&(this.words[_e]=$e,this.length++)}if(le!==0){for(_e=this.length-1;_e>=0;_e--)this.words[_e+le]=this.words[_e];for(_e=0;_e<le;_e++)this.words[_e]=0;this.length+=le}return this.strip()},ie.prototype.ishln=function(ae){return ne(this.negative===0),this.iushln(ae)},ie.prototype.iushrn=function(ae,ce,le){ne(typeof ae=="number"&&ae>=0);var pe;ce?pe=(ce-ce%26)/26:pe=0;var _e=ae%26,$e=Math.min((ae-_e)/26,this.length),Ee=67108863^67108863>>>_e<<_e,me=le;if(pe-=$e,pe=Math.max(0,pe),me){for(var fe=0;fe<$e;fe++)me.words[fe]=this.words[fe];me.length=$e}if($e!==0)if(this.length>$e)for(this.length-=$e,fe=0;fe<this.length;fe++)this.words[fe]=this.words[fe+$e];else this.words[0]=0,this.length=1;var we=0;for(fe=this.length-1;fe>=0&&(we!==0||fe>=pe);fe--){var Me=this.words[fe]|0;this.words[fe]=we<<26-_e|Me>>>_e,we=Me&Ee}return me&&we!==0&&(me.words[me.length++]=we),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ie.prototype.ishrn=function(ae,ce,le){return ne(this.negative===0),this.iushrn(ae,ce,le)},ie.prototype.shln=function(ae){return this.clone().ishln(ae)},ie.prototype.ushln=function(ae){return this.clone().iushln(ae)},ie.prototype.shrn=function(ae){return this.clone().ishrn(ae)},ie.prototype.ushrn=function(ae){return this.clone().iushrn(ae)},ie.prototype.testn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26,pe=1<<ce;if(this.length<=le)return!1;var _e=this.words[le];return!!(_e&pe)},ie.prototype.imaskn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=le)return this;if(ce!==0&&le++,this.length=Math.min(le,this.length),ce!==0){var pe=67108863^67108863>>>ce<<ce;this.words[this.length-1]&=pe}return this.strip()},ie.prototype.maskn=function(ae){return this.clone().imaskn(ae)},ie.prototype.iaddn=function(ae){return ne(typeof ae=="number"),ne(ae<67108864),ae<0?this.isubn(-ae):this.negative!==0?this.length===1&&(this.words[0]|0)<ae?(this.words[0]=ae-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ae),this.negative=1,this):this._iaddn(ae)},ie.prototype._iaddn=function(ae){this.words[0]+=ae;for(var ce=0;ce<this.length&&this.words[ce]>=67108864;ce++)this.words[ce]-=67108864,ce===this.length-1?this.words[ce+1]=1:this.words[ce+1]++;return this.length=Math.max(this.length,ce+1),this},ie.prototype.isubn=function(ae){if(ne(typeof ae=="number"),ne(ae<67108864),ae<0)return this.iaddn(-ae);if(this.negative!==0)return this.negative=0,this.iaddn(ae),this.negative=1,this;if(this.words[0]-=ae,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ce=0;ce<this.length&&this.words[ce]<0;ce++)this.words[ce]+=67108864,this.words[ce+1]-=1;return this.strip()},ie.prototype.addn=function(ae){return this.clone().iaddn(ae)},ie.prototype.subn=function(ae){return this.clone().isubn(ae)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(ae,ce,le){var pe=ae.length+le,_e;this._expand(pe);var $e,Ee=0;for(_e=0;_e<ae.length;_e++){$e=(this.words[_e+le]|0)+Ee;var me=(ae.words[_e]|0)*ce;$e-=me&67108863,Ee=($e>>26)-(me/67108864|0),this.words[_e+le]=$e&67108863}for(;_e<this.length-le;_e++)$e=(this.words[_e+le]|0)+Ee,Ee=$e>>26,this.words[_e+le]=$e&67108863;if(Ee===0)return this.strip();for(ne(Ee===-1),Ee=0,_e=0;_e<this.length;_e++)$e=-(this.words[_e]|0)+Ee,Ee=$e>>26,this.words[_e]=$e&67108863;return this.negative=1,this.strip()},ie.prototype._wordDiv=function(ae,ce){var le=this.length-ae.length,pe=this.clone(),_e=ae,$e=_e.words[_e.length-1]|0,Ee=this._countBits($e);le=26-Ee,le!==0&&(_e=_e.ushln(le),pe.iushln(le),$e=_e.words[_e.length-1]|0);var me=pe.length-_e.length,fe;if(ce!=="mod"){fe=new ie(null),fe.length=me+1,fe.words=new Array(fe.length);for(var we=0;we<fe.length;we++)fe.words[we]=0}var Me=pe.clone()._ishlnsubmul(_e,1,me);Me.negative===0&&(pe=Me,fe&&(fe.words[me]=1));for(var Le=me-1;Le>=0;Le--){var Je=(pe.words[_e.length+Le]|0)*67108864+(pe.words[_e.length+Le-1]|0);for(Je=Math.min(Je/$e|0,67108863),pe._ishlnsubmul(_e,Je,Le);pe.negative!==0;)Je--,pe.negative=0,pe._ishlnsubmul(_e,1,Le),pe.isZero()||(pe.negative^=1);fe&&(fe.words[Le]=Je)}return fe&&fe.strip(),pe.strip(),ce!=="div"&&le!==0&&pe.iushrn(le),{div:fe||null,mod:pe}},ie.prototype.divmod=function(ae,ce,le){if(ne(!ae.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var pe,_e,$e;return this.negative!==0&&ae.negative===0?($e=this.neg().divmod(ae,ce),ce!=="mod"&&(pe=$e.div.neg()),ce!=="div"&&(_e=$e.mod.neg(),le&&_e.negative!==0&&_e.iadd(ae)),{div:pe,mod:_e}):this.negative===0&&ae.negative!==0?($e=this.divmod(ae.neg(),ce),ce!=="mod"&&(pe=$e.div.neg()),{div:pe,mod:$e.mod}):(this.negative&ae.negative)!==0?($e=this.neg().divmod(ae.neg(),ce),ce!=="div"&&(_e=$e.mod.neg(),le&&_e.negative!==0&&_e.isub(ae)),{div:$e.div,mod:_e}):ae.length>this.length||this.cmp(ae)<0?{div:new ie(0),mod:this}:ae.length===1?ce==="div"?{div:this.divn(ae.words[0]),mod:null}:ce==="mod"?{div:null,mod:new ie(this.modn(ae.words[0]))}:{div:this.divn(ae.words[0]),mod:new ie(this.modn(ae.words[0]))}:this._wordDiv(ae,ce)},ie.prototype.div=function(ae){return this.divmod(ae,"div",!1).div},ie.prototype.mod=function(ae){return this.divmod(ae,"mod",!1).mod},ie.prototype.umod=function(ae){return this.divmod(ae,"mod",!0).mod},ie.prototype.divRound=function(ae){var ce=this.divmod(ae);if(ce.mod.isZero())return ce.div;var le=ce.div.negative!==0?ce.mod.isub(ae):ce.mod,pe=ae.ushrn(1),_e=ae.andln(1),$e=le.cmp(pe);return $e<0||_e===1&&$e===0?ce.div:ce.div.negative!==0?ce.div.isubn(1):ce.div.iaddn(1)},ie.prototype.modn=function(ae){ne(ae<=67108863);for(var ce=(1<<26)%ae,le=0,pe=this.length-1;pe>=0;pe--)le=(ce*le+(this.words[pe]|0))%ae;return le},ie.prototype.idivn=function(ae){ne(ae<=67108863);for(var ce=0,le=this.length-1;le>=0;le--){var pe=(this.words[le]|0)+ce*67108864;this.words[le]=pe/ae|0,ce=pe%ae}return this.strip()},ie.prototype.divn=function(ae){return this.clone().idivn(ae)},ie.prototype.egcd=function(ae){ne(ae.negative===0),ne(!ae.isZero());var ce=this,le=ae.clone();ce.negative!==0?ce=ce.umod(ae):ce=ce.clone();for(var pe=new ie(1),_e=new ie(0),$e=new ie(0),Ee=new ie(1),me=0;ce.isEven()&&le.isEven();)ce.iushrn(1),le.iushrn(1),++me;for(var fe=le.clone(),we=ce.clone();!ce.isZero();){for(var Me=0,Le=1;(ce.words[0]&Le)===0&&Me<26;++Me,Le<<=1);if(Me>0)for(ce.iushrn(Me);Me-- >0;)(pe.isOdd()||_e.isOdd())&&(pe.iadd(fe),_e.isub(we)),pe.iushrn(1),_e.iushrn(1);for(var Je=0,Ue=1;(le.words[0]&Ue)===0&&Je<26;++Je,Ue<<=1);if(Je>0)for(le.iushrn(Je);Je-- >0;)($e.isOdd()||Ee.isOdd())&&($e.iadd(fe),Ee.isub(we)),$e.iushrn(1),Ee.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),pe.isub($e),_e.isub(Ee)):(le.isub(ce),$e.isub(pe),Ee.isub(_e))}return{a:$e,b:Ee,gcd:le.iushln(me)}},ie.prototype._invmp=function(ae){ne(ae.negative===0),ne(!ae.isZero());var ce=this,le=ae.clone();ce.negative!==0?ce=ce.umod(ae):ce=ce.clone();for(var pe=new ie(1),_e=new ie(0),$e=le.clone();ce.cmpn(1)>0&&le.cmpn(1)>0;){for(var Ee=0,me=1;(ce.words[0]&me)===0&&Ee<26;++Ee,me<<=1);if(Ee>0)for(ce.iushrn(Ee);Ee-- >0;)pe.isOdd()&&pe.iadd($e),pe.iushrn(1);for(var fe=0,we=1;(le.words[0]&we)===0&&fe<26;++fe,we<<=1);if(fe>0)for(le.iushrn(fe);fe-- >0;)_e.isOdd()&&_e.iadd($e),_e.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),pe.isub(_e)):(le.isub(ce),_e.isub(pe))}var Me;return ce.cmpn(1)===0?Me=pe:Me=_e,Me.cmpn(0)<0&&Me.iadd(ae),Me},ie.prototype.gcd=function(ae){if(this.isZero())return ae.abs();if(ae.isZero())return this.abs();var ce=this.clone(),le=ae.clone();ce.negative=0,le.negative=0;for(var pe=0;ce.isEven()&&le.isEven();pe++)ce.iushrn(1),le.iushrn(1);do{for(;ce.isEven();)ce.iushrn(1);for(;le.isEven();)le.iushrn(1);var _e=ce.cmp(le);if(_e<0){var $e=ce;ce=le,le=$e}else if(_e===0||le.cmpn(1)===0)break;ce.isub(le)}while(!0);return le.iushln(pe)},ie.prototype.invm=function(ae){return this.egcd(ae).a.umod(ae)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(ae){return this.words[0]&ae},ie.prototype.bincn=function(ae){ne(typeof ae=="number");var ce=ae%26,le=(ae-ce)/26,pe=1<<ce;if(this.length<=le)return this._expand(le+1),this.words[le]|=pe,this;for(var _e=pe,$e=le;_e!==0&&$e<this.length;$e++){var Ee=this.words[$e]|0;Ee+=_e,_e=Ee>>>26,Ee&=67108863,this.words[$e]=Ee}return _e!==0&&(this.words[$e]=_e,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(ae){var ce=ae<0;if(this.negative!==0&&!ce)return-1;if(this.negative===0&&ce)return 1;this.strip();var le;if(this.length>1)le=1;else{ce&&(ae=-ae),ne(ae<=67108863,"Number is too big");var pe=this.words[0]|0;le=pe===ae?0:pe<ae?-1:1}return this.negative!==0?-le|0:le},ie.prototype.cmp=function(ae){if(this.negative!==0&&ae.negative===0)return-1;if(this.negative===0&&ae.negative!==0)return 1;var ce=this.ucmp(ae);return this.negative!==0?-ce|0:ce},ie.prototype.ucmp=function(ae){if(this.length>ae.length)return 1;if(this.length<ae.length)return-1;for(var ce=0,le=this.length-1;le>=0;le--){var pe=this.words[le]|0,_e=ae.words[le]|0;if(pe!==_e){pe<_e?ce=-1:pe>_e&&(ce=1);break}}return ce},ie.prototype.gtn=function(ae){return this.cmpn(ae)===1},ie.prototype.gt=function(ae){return this.cmp(ae)===1},ie.prototype.gten=function(ae){return this.cmpn(ae)>=0},ie.prototype.gte=function(ae){return this.cmp(ae)>=0},ie.prototype.ltn=function(ae){return this.cmpn(ae)===-1},ie.prototype.lt=function(ae){return this.cmp(ae)===-1},ie.prototype.lten=function(ae){return this.cmpn(ae)<=0},ie.prototype.lte=function(ae){return this.cmp(ae)<=0},ie.prototype.eqn=function(ae){return this.cmpn(ae)===0},ie.prototype.eq=function(ae){return this.cmp(ae)===0},ie.red=function(ae){return new st(ae)},ie.prototype.toRed=function(ae){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),ae.convertTo(this)._forceRed(ae)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(ae){return this.red=ae,this},ie.prototype.forceRed=function(ae){return ne(!this.red,"Already a number in reduction context"),this._forceRed(ae)},ie.prototype.redAdd=function(ae){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,ae)},ie.prototype.redIAdd=function(ae){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ae)},ie.prototype.redSub=function(ae){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,ae)},ie.prototype.redISub=function(ae){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,ae)},ie.prototype.redShl=function(ae){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,ae)},ie.prototype.redMul=function(ae){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.mul(this,ae)},ie.prototype.redIMul=function(ae){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.imul(this,ae)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(ae){return ne(this.red&&!ae.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ae)};var He={k256:null,p224:null,p192:null,p25519:null};function Ke(ye,ae){this.name=ye,this.p=new ie(ae,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ke.prototype._tmp=function(){var ae=new ie(null);return ae.words=new Array(Math.ceil(this.n/13)),ae},Ke.prototype.ireduce=function(ae){var ce=ae,le;do this.split(ce,this.tmp),ce=this.imulK(ce),ce=ce.iadd(this.tmp),le=ce.bitLength();while(le>this.n);var pe=le<this.n?-1:ce.ucmp(this.p);return pe===0?(ce.words[0]=0,ce.length=1):pe>0?ce.isub(this.p):ce.strip!==void 0?ce.strip():ce._strip(),ce},Ke.prototype.split=function(ae,ce){ae.iushrn(this.n,0,ce)},Ke.prototype.imulK=function(ae){return ae.imul(this.k)};function Ge(){Ke.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}oe(Ge,Ke),Ge.prototype.split=function(ae,ce){for(var le=4194303,pe=Math.min(ae.length,9),_e=0;_e<pe;_e++)ce.words[_e]=ae.words[_e];if(ce.length=pe,ae.length<=9){ae.words[0]=0,ae.length=1;return}var $e=ae.words[9];for(ce.words[ce.length++]=$e&le,_e=10;_e<ae.length;_e++){var Ee=ae.words[_e]|0;ae.words[_e-10]=(Ee&le)<<4|$e>>>22,$e=Ee}$e>>>=22,ae.words[_e-10]=$e,$e===0&&ae.length>10?ae.length-=10:ae.length-=9},Ge.prototype.imulK=function(ae){ae.words[ae.length]=0,ae.words[ae.length+1]=0,ae.length+=2;for(var ce=0,le=0;le<ae.length;le++){var pe=ae.words[le]|0;ce+=pe*977,ae.words[le]=ce&67108863,ce=pe*64+(ce/67108864|0)}return ae.words[ae.length-1]===0&&(ae.length--,ae.words[ae.length-1]===0&&ae.length--),ae};function ut(){Ke.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}oe(ut,Ke);function Ve(){Ke.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}oe(Ve,Ke);function nt(){Ke.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}oe(nt,Ke),nt.prototype.imulK=function(ae){for(var ce=0,le=0;le<ae.length;le++){var pe=(ae.words[le]|0)*19+ce,_e=pe&67108863;pe>>>=26,ae.words[le]=_e,ce=pe}return ce!==0&&(ae.words[ae.length++]=ce),ae},ie._prime=function(ae){if(He[ae])return He[ae];var ce;if(ae==="k256")ce=new Ge;else if(ae==="p224")ce=new ut;else if(ae==="p192")ce=new Ve;else if(ae==="p25519")ce=new nt;else throw new Error("Unknown prime "+ae);return He[ae]=ce,ce};function st(ye){if(typeof ye=="string"){var ae=ie._prime(ye);this.m=ae.p,this.prime=ae}else ne(ye.gtn(1),"modulus must be greater than 1"),this.m=ye,this.prime=null}st.prototype._verify1=function(ae){ne(ae.negative===0,"red works only with positives"),ne(ae.red,"red works only with red numbers")},st.prototype._verify2=function(ae,ce){ne((ae.negative|ce.negative)===0,"red works only with positives"),ne(ae.red&&ae.red===ce.red,"red works only with red numbers")},st.prototype.imod=function(ae){return this.prime?this.prime.ireduce(ae)._forceRed(this):ae.umod(this.m)._forceRed(this)},st.prototype.neg=function(ae){return ae.isZero()?ae.clone():this.m.sub(ae)._forceRed(this)},st.prototype.add=function(ae,ce){this._verify2(ae,ce);var le=ae.add(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le._forceRed(this)},st.prototype.iadd=function(ae,ce){this._verify2(ae,ce);var le=ae.iadd(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le},st.prototype.sub=function(ae,ce){this._verify2(ae,ce);var le=ae.sub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le._forceRed(this)},st.prototype.isub=function(ae,ce){this._verify2(ae,ce);var le=ae.isub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le},st.prototype.shl=function(ae,ce){return this._verify1(ae),this.imod(ae.ushln(ce))},st.prototype.imul=function(ae,ce){return this._verify2(ae,ce),this.imod(ae.imul(ce))},st.prototype.mul=function(ae,ce){return this._verify2(ae,ce),this.imod(ae.mul(ce))},st.prototype.isqr=function(ae){return this.imul(ae,ae.clone())},st.prototype.sqr=function(ae){return this.mul(ae,ae)},st.prototype.sqrt=function(ae){if(ae.isZero())return ae.clone();var ce=this.m.andln(3);if(ne(ce%2===1),ce===3){var le=this.m.add(new ie(1)).iushrn(2);return this.pow(ae,le)}for(var pe=this.m.subn(1),_e=0;!pe.isZero()&&pe.andln(1)===0;)_e++,pe.iushrn(1);ne(!pe.isZero());var $e=new ie(1).toRed(this),Ee=$e.redNeg(),me=this.m.subn(1).iushrn(1),fe=this.m.bitLength();for(fe=new ie(2*fe*fe).toRed(this);this.pow(fe,me).cmp(Ee)!==0;)fe.redIAdd(Ee);for(var we=this.pow(fe,pe),Me=this.pow(ae,pe.addn(1).iushrn(1)),Le=this.pow(ae,pe),Je=_e;Le.cmp($e)!==0;){for(var Ue=Le,ct=0;Ue.cmp($e)!==0;ct++)Ue=Ue.redSqr();ne(ct<Je);var gt=this.pow(we,new ie(1).iushln(Je-ct-1));Me=Me.redMul(gt),we=gt.redSqr(),Le=Le.redMul(we),Je=ct}return Me},st.prototype.invm=function(ae){var ce=ae._invmp(this.m);return ce.negative!==0?(ce.negative=0,this.imod(ce).redNeg()):this.imod(ce)},st.prototype.pow=function(ae,ce){if(ce.isZero())return new ie(1).toRed(this);if(ce.cmpn(1)===0)return ae.clone();var le=4,pe=new Array(1<<le);pe[0]=new ie(1).toRed(this),pe[1]=ae;for(var _e=2;_e<pe.length;_e++)pe[_e]=this.mul(pe[_e-1],ae);var $e=pe[0],Ee=0,me=0,fe=ce.bitLength()%26;for(fe===0&&(fe=26),_e=ce.length-1;_e>=0;_e--){for(var we=ce.words[_e],Me=fe-1;Me>=0;Me--){var Le=we>>Me&1;if($e!==pe[0]&&($e=this.sqr($e)),Le===0&&Ee===0){me=0;continue}Ee<<=1,Ee|=Le,me++,!(me!==le&&(_e!==0||Me!==0))&&($e=this.mul($e,pe[Ee]),me=0,Ee=0)}fe=26}return $e},st.prototype.convertTo=function(ae){var ce=ae.umod(this.m);return ce===ae?ce.clone():ce},st.prototype.convertFrom=function(ae){var ce=ae.clone();return ce.red=null,ce},ie.mont=function(ae){return new qe(ae)};function qe(ye){st.call(this,ye),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}oe(qe,st),qe.prototype.convertTo=function(ae){return this.imod(ae.ushln(this.shift))},qe.prototype.convertFrom=function(ae){var ce=this.imod(ae.mul(this.rinv));return ce.red=null,ce},qe.prototype.imul=function(ae,ce){if(ae.isZero()||ce.isZero())return ae.words[0]=0,ae.length=1,ae;var le=ae.imul(ce),pe=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_e=le.isub(pe).iushrn(this.shift),$e=_e;return _e.cmp(this.m)>=0?$e=_e.isub(this.m):_e.cmpn(0)<0&&($e=_e.iadd(this.m)),$e._forceRed(this)},qe.prototype.mul=function(ae,ce){if(ae.isZero()||ce.isZero())return new ie(0)._forceRed(this);var le=ae.mul(ce),pe=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_e=le.isub(pe).iushrn(this.shift),$e=_e;return _e.cmp(this.m)>=0?$e=_e.isub(this.m):_e.cmpn(0)<0&&($e=_e.iadd(this.m)),$e._forceRed(this)},qe.prototype.invm=function(ae){var ce=this.imod(ae._invmp(this.m).mul(this.r2));return ce._forceRed(this)}})(te,commonjsGlobal)})(bn$3);var utils$y={};(function(te){var ee=te;function re(ie,se){if(Array.isArray(ie))return ie.slice();if(!ie)return[];var ue=[];if(typeof ie!="string"){for(var he=0;he<ie.length;he++)ue[he]=ie[he]|0;return ue}if(se==="hex"){ie=ie.replace(/[^a-z0-9]+/ig,""),ie.length%2!==0&&(ie="0"+ie);for(var he=0;he<ie.length;he+=2)ue.push(parseInt(ie[he]+ie[he+1],16))}else for(var he=0;he<ie.length;he++){var ge=ie.charCodeAt(he),be=ge>>8,Se=ge&255;be?ue.push(be,Se):ue.push(Se)}return ue}ee.toArray=re;function ne(ie){return ie.length===1?"0"+ie:ie}ee.zero2=ne;function oe(ie){for(var se="",ue=0;ue<ie.length;ue++)se+=ne(ie[ue].toString(16));return se}ee.toHex=oe,ee.encode=function(se,ue){return ue==="hex"?oe(se):se}})(utils$y);(function(te){var ee=te,re=bn$3.exports,ne=minimalisticAssert$2,oe=utils$y;ee.assert=ne,ee.toArray=oe.toArray,ee.zero2=oe.zero2,ee.toHex=oe.toHex,ee.encode=oe.encode;function ie(be,Se,Te){var ke=new Array(Math.max(be.bitLength(),Te)+1);ke.fill(0);for(var Re=1<<Se+1,Ce=be.clone(),Pe=0;Pe<ke.length;Pe++){var Ie,Ne=Ce.andln(Re-1);Ce.isOdd()?(Ne>(Re>>1)-1?Ie=(Re>>1)-Ne:Ie=Ne,Ce.isubn(Ie)):Ie=0,ke[Pe]=Ie,Ce.iushrn(1)}return ke}ee.getNAF=ie;function se(be,Se){var Te=[[],[]];be=be.clone(),Se=Se.clone();for(var ke=0,Re=0,Ce;be.cmpn(-ke)>0||Se.cmpn(-Re)>0;){var Pe=be.andln(3)+ke&3,Ie=Se.andln(3)+Re&3;Pe===3&&(Pe=-1),Ie===3&&(Ie=-1);var Ne;(Pe&1)===0?Ne=0:(Ce=be.andln(7)+ke&7,(Ce===3||Ce===5)&&Ie===2?Ne=-Pe:Ne=Pe),Te[0].push(Ne);var He;(Ie&1)===0?He=0:(Ce=Se.andln(7)+Re&7,(Ce===3||Ce===5)&&Pe===2?He=-Ie:He=Ie),Te[1].push(He),2*ke===Ne+1&&(ke=1-ke),2*Re===He+1&&(Re=1-Re),be.iushrn(1),Se.iushrn(1)}return Te}ee.getJSF=se;function ue(be,Se,Te){var ke="_"+Se;be.prototype[Se]=function(){return this[ke]!==void 0?this[ke]:this[ke]=Te.call(this)}}ee.cachedProperty=ue;function he(be){return typeof be=="string"?ee.toArray(be,"hex"):be}ee.parseBytes=he;function ge(be){return new re(be,"hex","le")}ee.intFromLE=ge})(utils$z);var brorand={exports:{}},r$3;brorand.exports=function(ee){return r$3||(r$3=new Rand(null)),r$3.generate(ee)};function Rand(te){this.rand=te}brorand.exports.Rand=Rand;Rand.prototype.generate=function(ee){return this._rand(ee)};Rand.prototype._rand=function(ee){if(this.rand.getBytes)return this.rand.getBytes(ee);for(var re=new Uint8Array(ee),ne=0;ne<re.length;ne++)re[ne]=this.rand.getByte();return re};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(ee){var re=new Uint8Array(ee);return self.crypto.getRandomValues(re),re}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(ee){var re=new Uint8Array(ee);return self.msCrypto.getRandomValues(re),re}:typeof window=="object"&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto$3=require("crypto");if(typeof crypto$3.randomBytes!="function")throw new Error("Not supported");Rand.prototype._rand=function(ee){return crypto$3.randomBytes(ee)}}catch{}var curve={},BN$e=bn$3.exports,utils$x=utils$z,getNAF=utils$x.getNAF,getJSF=utils$x.getJSF,assert$h=utils$x.assert;function BaseCurve(te,ee){this.type=te,this.p=new BN$e(ee.p,16),this.red=ee.prime?BN$e.red(ee.prime):BN$e.mont(this.p),this.zero=new BN$e(0).toRed(this.red),this.one=new BN$e(1).toRed(this.red),this.two=new BN$e(2).toRed(this.red),this.n=ee.n&&new BN$e(ee.n,16),this.g=ee.g&&this.pointFromJSON(ee.g,ee.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var re=this.n&&this.p.div(this.n);!re||re.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(ee,re){assert$h(ee.precomputed);var ne=ee._getDoubles(),oe=getNAF(re,1,this._bitLength),ie=(1<<ne.step+1)-(ne.step%2===0?2:1);ie/=3;var se=[],ue,he;for(ue=0;ue<oe.length;ue+=ne.step){he=0;for(var ge=ue+ne.step-1;ge>=ue;ge--)he=(he<<1)+oe[ge];se.push(he)}for(var be=this.jpoint(null,null,null),Se=this.jpoint(null,null,null),Te=ie;Te>0;Te--){for(ue=0;ue<se.length;ue++)he=se[ue],he===Te?Se=Se.mixedAdd(ne.points[ue]):he===-Te&&(Se=Se.mixedAdd(ne.points[ue].neg()));be=be.add(Se)}return be.toP()};BaseCurve.prototype._wnafMul=function(ee,re){var ne=4,oe=ee._getNAFPoints(ne);ne=oe.wnd;for(var ie=oe.points,se=getNAF(re,ne,this._bitLength),ue=this.jpoint(null,null,null),he=se.length-1;he>=0;he--){for(var ge=0;he>=0&&se[he]===0;he--)ge++;if(he>=0&&ge++,ue=ue.dblp(ge),he<0)break;var be=se[he];assert$h(be!==0),ee.type==="affine"?be>0?ue=ue.mixedAdd(ie[be-1>>1]):ue=ue.mixedAdd(ie[-be-1>>1].neg()):be>0?ue=ue.add(ie[be-1>>1]):ue=ue.add(ie[-be-1>>1].neg())}return ee.type==="affine"?ue.toP():ue};BaseCurve.prototype._wnafMulAdd=function(ee,re,ne,oe,ie){var se=this._wnafT1,ue=this._wnafT2,he=this._wnafT3,ge=0,be,Se,Te;for(be=0;be<oe;be++){Te=re[be];var ke=Te._getNAFPoints(ee);se[be]=ke.wnd,ue[be]=ke.points}for(be=oe-1;be>=1;be-=2){var Re=be-1,Ce=be;if(se[Re]!==1||se[Ce]!==1){he[Re]=getNAF(ne[Re],se[Re],this._bitLength),he[Ce]=getNAF(ne[Ce],se[Ce],this._bitLength),ge=Math.max(he[Re].length,ge),ge=Math.max(he[Ce].length,ge);continue}var Pe=[re[Re],null,null,re[Ce]];re[Re].y.cmp(re[Ce].y)===0?(Pe[1]=re[Re].add(re[Ce]),Pe[2]=re[Re].toJ().mixedAdd(re[Ce].neg())):re[Re].y.cmp(re[Ce].y.redNeg())===0?(Pe[1]=re[Re].toJ().mixedAdd(re[Ce]),Pe[2]=re[Re].add(re[Ce].neg())):(Pe[1]=re[Re].toJ().mixedAdd(re[Ce]),Pe[2]=re[Re].toJ().mixedAdd(re[Ce].neg()));var Ie=[-3,-1,-5,-7,0,7,5,1,3],Ne=getJSF(ne[Re],ne[Ce]);for(ge=Math.max(Ne[0].length,ge),he[Re]=new Array(ge),he[Ce]=new Array(ge),Se=0;Se<ge;Se++){var He=Ne[0][Se]|0,Ke=Ne[1][Se]|0;he[Re][Se]=Ie[(He+1)*3+(Ke+1)],he[Ce][Se]=0,ue[Re]=Pe}}var Ge=this.jpoint(null,null,null),ut=this._wnafT4;for(be=ge;be>=0;be--){for(var Ve=0;be>=0;){var nt=!0;for(Se=0;Se<oe;Se++)ut[Se]=he[Se][be]|0,ut[Se]!==0&&(nt=!1);if(!nt)break;Ve++,be--}if(be>=0&&Ve++,Ge=Ge.dblp(Ve),be<0)break;for(Se=0;Se<oe;Se++){var st=ut[Se];st!==0&&(st>0?Te=ue[Se][st-1>>1]:st<0&&(Te=ue[Se][-st-1>>1].neg()),Te.type==="affine"?Ge=Ge.mixedAdd(Te):Ge=Ge.add(Te))}}for(be=0;be<oe;be++)ue[be]=null;return ie?Ge:Ge.toP()};function BasePoint(te,ee){this.curve=te,this.type=ee,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(ee,re){ee=utils$x.toArray(ee,re);var ne=this.p.byteLength();if((ee[0]===4||ee[0]===6||ee[0]===7)&&ee.length-1===2*ne){ee[0]===6?assert$h(ee[ee.length-1]%2===0):ee[0]===7&&assert$h(ee[ee.length-1]%2===1);var oe=this.point(ee.slice(1,1+ne),ee.slice(1+ne,1+2*ne));return oe}else if((ee[0]===2||ee[0]===3)&&ee.length-1===ne)return this.pointFromX(ee.slice(1,1+ne),ee[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(ee){return this.encode(ee,!0)};BasePoint.prototype._encode=function(ee){var re=this.curve.p.byteLength(),ne=this.getX().toArray("be",re);return ee?[this.getY().isEven()?2:3].concat(ne):[4].concat(ne,this.getY().toArray("be",re))};BasePoint.prototype.encode=function(ee,re){return utils$x.encode(this._encode(re),ee)};BasePoint.prototype.precompute=function(ee){if(this.precomputed)return this;var re={doubles:null,naf:null,beta:null};return re.naf=this._getNAFPoints(8),re.doubles=this._getDoubles(4,ee),re.beta=this._getBeta(),this.precomputed=re,this};BasePoint.prototype._hasDoubles=function(ee){if(!this.precomputed)return!1;var re=this.precomputed.doubles;return re?re.points.length>=Math.ceil((ee.bitLength()+1)/re.step):!1};BasePoint.prototype._getDoubles=function(ee,re){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ne=[this],oe=this,ie=0;ie<re;ie+=ee){for(var se=0;se<ee;se++)oe=oe.dbl();ne.push(oe)}return{step:ee,points:ne}};BasePoint.prototype._getNAFPoints=function(ee){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var re=[this],ne=(1<<ee)-1,oe=ne===1?null:this.dbl(),ie=1;ie<ne;ie++)re[ie]=re[ie-1].add(oe);return{wnd:ee,points:re}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(ee){for(var re=this,ne=0;ne<ee;ne++)re=re.dbl();return re};var utils$w=utils$z,BN$d=bn$3.exports,inherits$l=inherits_browser$2.exports,Base$3=base$1,assert$g=utils$w.assert;function ShortCurve(te){Base$3.call(this,"short",te),this.a=new BN$d(te.a,16).toRed(this.red),this.b=new BN$d(te.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(te),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$l(ShortCurve,Base$3);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(ee){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var re,ne;if(ee.beta)re=new BN$d(ee.beta,16).toRed(this.red);else{var oe=this._getEndoRoots(this.p);re=oe[0].cmp(oe[1])<0?oe[0]:oe[1],re=re.toRed(this.red)}if(ee.lambda)ne=new BN$d(ee.lambda,16);else{var ie=this._getEndoRoots(this.n);this.g.mul(ie[0]).x.cmp(this.g.x.redMul(re))===0?ne=ie[0]:(ne=ie[1],assert$g(this.g.mul(ne).x.cmp(this.g.x.redMul(re))===0))}var se;return ee.basis?se=ee.basis.map(function(ue){return{a:new BN$d(ue.a,16),b:new BN$d(ue.b,16)}}):se=this._getEndoBasis(ne),{beta:re,lambda:ne,basis:se}}};ShortCurve.prototype._getEndoRoots=function(ee){var re=ee===this.p?this.red:BN$d.mont(ee),ne=new BN$d(2).toRed(re).redInvm(),oe=ne.redNeg(),ie=new BN$d(3).toRed(re).redNeg().redSqrt().redMul(ne),se=oe.redAdd(ie).fromRed(),ue=oe.redSub(ie).fromRed();return[se,ue]};ShortCurve.prototype._getEndoBasis=function(ee){for(var re=this.n.ushrn(Math.floor(this.n.bitLength()/2)),ne=ee,oe=this.n.clone(),ie=new BN$d(1),se=new BN$d(0),ue=new BN$d(0),he=new BN$d(1),ge,be,Se,Te,ke,Re,Ce,Pe=0,Ie,Ne;ne.cmpn(0)!==0;){var He=oe.div(ne);Ie=oe.sub(He.mul(ne)),Ne=ue.sub(He.mul(ie));var Ke=he.sub(He.mul(se));if(!Se&&Ie.cmp(re)<0)ge=Ce.neg(),be=ie,Se=Ie.neg(),Te=Ne;else if(Se&&++Pe===2)break;Ce=Ie,oe=ne,ne=Ie,ue=ie,ie=Ne,he=se,se=Ke}ke=Ie.neg(),Re=Ne;var Ge=Se.sqr().add(Te.sqr()),ut=ke.sqr().add(Re.sqr());return ut.cmp(Ge)>=0&&(ke=ge,Re=be),Se.negative&&(Se=Se.neg(),Te=Te.neg()),ke.negative&&(ke=ke.neg(),Re=Re.neg()),[{a:Se,b:Te},{a:ke,b:Re}]};ShortCurve.prototype._endoSplit=function(ee){var re=this.endo.basis,ne=re[0],oe=re[1],ie=oe.b.mul(ee).divRound(this.n),se=ne.b.neg().mul(ee).divRound(this.n),ue=ie.mul(ne.a),he=se.mul(oe.a),ge=ie.mul(ne.b),be=se.mul(oe.b),Se=ee.sub(ue).sub(he),Te=ge.add(be).neg();return{k1:Se,k2:Te}};ShortCurve.prototype.pointFromX=function(ee,re){ee=new BN$d(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr().redMul(ee).redIAdd(ee.redMul(this.a)).redIAdd(this.b),oe=ne.redSqrt();if(oe.redSqr().redSub(ne).cmp(this.zero)!==0)throw new Error("invalid point");var ie=oe.fromRed().isOdd();return(re&&!ie||!re&&ie)&&(oe=oe.redNeg()),this.point(ee,oe)};ShortCurve.prototype.validate=function(ee){if(ee.inf)return!0;var re=ee.x,ne=ee.y,oe=this.a.redMul(re),ie=re.redSqr().redMul(re).redIAdd(oe).redIAdd(this.b);return ne.redSqr().redISub(ie).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(ee,re,ne){for(var oe=this._endoWnafT1,ie=this._endoWnafT2,se=0;se<ee.length;se++){var ue=this._endoSplit(re[se]),he=ee[se],ge=he._getBeta();ue.k1.negative&&(ue.k1.ineg(),he=he.neg(!0)),ue.k2.negative&&(ue.k2.ineg(),ge=ge.neg(!0)),oe[se*2]=he,oe[se*2+1]=ge,ie[se*2]=ue.k1,ie[se*2+1]=ue.k2}for(var be=this._wnafMulAdd(1,oe,ie,se*2,ne),Se=0;Se<se*2;Se++)oe[Se]=null,ie[Se]=null;return be};function Point$2(te,ee,re,ne){Base$3.BasePoint.call(this,te,"affine"),ee===null&&re===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$d(ee,16),this.y=new BN$d(re,16),ne&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$l(Point$2,Base$3.BasePoint);ShortCurve.prototype.point=function(ee,re,ne){return new Point$2(this,ee,re,ne)};ShortCurve.prototype.pointFromJSON=function(ee,re){return Point$2.fromJSON(this,ee,re)};Point$2.prototype._getBeta=function(){if(!!this.curve.endo){var ee=this.precomputed;if(ee&&ee.beta)return ee.beta;var re=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ee){var ne=this.curve,oe=function(ie){return ne.point(ie.x.redMul(ne.endo.beta),ie.y)};ee.beta=re,re.precomputed={beta:null,naf:ee.naf&&{wnd:ee.naf.wnd,points:ee.naf.points.map(oe)},doubles:ee.doubles&&{step:ee.doubles.step,points:ee.doubles.points.map(oe)}}}return re}};Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function(ee,re,ne){typeof re=="string"&&(re=JSON.parse(re));var oe=ee.point(re[0],re[1],ne);if(!re[2])return oe;function ie(ue){return ee.point(ue[0],ue[1],ne)}var se=re[2];return oe.precomputed={beta:null,doubles:se.doubles&&{step:se.doubles.step,points:[oe].concat(se.doubles.points.map(ie))},naf:se.naf&&{wnd:se.naf.wnd,points:[oe].concat(se.naf.points.map(ie))}},oe};Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function(){return this.inf};Point$2.prototype.add=function(ee){if(this.inf)return ee;if(ee.inf)return this;if(this.eq(ee))return this.dbl();if(this.neg().eq(ee))return this.curve.point(null,null);if(this.x.cmp(ee.x)===0)return this.curve.point(null,null);var re=this.y.redSub(ee.y);re.cmpn(0)!==0&&(re=re.redMul(this.x.redSub(ee.x).redInvm()));var ne=re.redSqr().redISub(this.x).redISub(ee.x),oe=re.redMul(this.x.redSub(ne)).redISub(this.y);return this.curve.point(ne,oe)};Point$2.prototype.dbl=function(){if(this.inf)return this;var ee=this.y.redAdd(this.y);if(ee.cmpn(0)===0)return this.curve.point(null,null);var re=this.curve.a,ne=this.x.redSqr(),oe=ee.redInvm(),ie=ne.redAdd(ne).redIAdd(ne).redIAdd(re).redMul(oe),se=ie.redSqr().redISub(this.x.redAdd(this.x)),ue=ie.redMul(this.x.redSub(se)).redISub(this.y);return this.curve.point(se,ue)};Point$2.prototype.getX=function(){return this.x.fromRed()};Point$2.prototype.getY=function(){return this.y.fromRed()};Point$2.prototype.mul=function(ee){return ee=new BN$d(ee,16),this.isInfinity()?this:this._hasDoubles(ee)?this.curve._fixedNafMul(this,ee):this.curve.endo?this.curve._endoWnafMulAdd([this],[ee]):this.curve._wnafMul(this,ee)};Point$2.prototype.mulAdd=function(ee,re,ne){var oe=[this,re],ie=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(oe,ie):this.curve._wnafMulAdd(1,oe,ie,2)};Point$2.prototype.jmulAdd=function(ee,re,ne){var oe=[this,re],ie=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(oe,ie,!0):this.curve._wnafMulAdd(1,oe,ie,2,!0)};Point$2.prototype.eq=function(ee){return this===ee||this.inf===ee.inf&&(this.inf||this.x.cmp(ee.x)===0&&this.y.cmp(ee.y)===0)};Point$2.prototype.neg=function(ee){if(this.inf)return this;var re=this.curve.point(this.x,this.y.redNeg());if(ee&&this.precomputed){var ne=this.precomputed,oe=function(ie){return ie.neg()};re.precomputed={naf:ne.naf&&{wnd:ne.naf.wnd,points:ne.naf.points.map(oe)},doubles:ne.doubles&&{step:ne.doubles.step,points:ne.doubles.points.map(oe)}}}return re};Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var ee=this.curve.jpoint(this.x,this.y,this.curve.one);return ee};function JPoint(te,ee,re,ne){Base$3.BasePoint.call(this,te,"jacobian"),ee===null&&re===null&&ne===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$d(0)):(this.x=new BN$d(ee,16),this.y=new BN$d(re,16),this.z=new BN$d(ne,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$l(JPoint,Base$3.BasePoint);ShortCurve.prototype.jpoint=function(ee,re,ne){return new JPoint(this,ee,re,ne)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ee=this.z.redInvm(),re=ee.redSqr(),ne=this.x.redMul(re),oe=this.y.redMul(re).redMul(ee);return this.curve.point(ne,oe)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(ee){if(this.isInfinity())return ee;if(ee.isInfinity())return this;var re=ee.z.redSqr(),ne=this.z.redSqr(),oe=this.x.redMul(re),ie=ee.x.redMul(ne),se=this.y.redMul(re.redMul(ee.z)),ue=ee.y.redMul(ne.redMul(this.z)),he=oe.redSub(ie),ge=se.redSub(ue);if(he.cmpn(0)===0)return ge.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var be=he.redSqr(),Se=be.redMul(he),Te=oe.redMul(be),ke=ge.redSqr().redIAdd(Se).redISub(Te).redISub(Te),Re=ge.redMul(Te.redISub(ke)).redISub(se.redMul(Se)),Ce=this.z.redMul(ee.z).redMul(he);return this.curve.jpoint(ke,Re,Ce)};JPoint.prototype.mixedAdd=function(ee){if(this.isInfinity())return ee.toJ();if(ee.isInfinity())return this;var re=this.z.redSqr(),ne=this.x,oe=ee.x.redMul(re),ie=this.y,se=ee.y.redMul(re).redMul(this.z),ue=ne.redSub(oe),he=ie.redSub(se);if(ue.cmpn(0)===0)return he.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ge=ue.redSqr(),be=ge.redMul(ue),Se=ne.redMul(ge),Te=he.redSqr().redIAdd(be).redISub(Se).redISub(Se),ke=he.redMul(Se.redISub(Te)).redISub(ie.redMul(be)),Re=this.z.redMul(ue);return this.curve.jpoint(Te,ke,Re)};JPoint.prototype.dblp=function(ee){if(ee===0)return this;if(this.isInfinity())return this;if(!ee)return this.dbl();var re;if(this.curve.zeroA||this.curve.threeA){var ne=this;for(re=0;re<ee;re++)ne=ne.dbl();return ne}var oe=this.curve.a,ie=this.curve.tinv,se=this.x,ue=this.y,he=this.z,ge=he.redSqr().redSqr(),be=ue.redAdd(ue);for(re=0;re<ee;re++){var Se=se.redSqr(),Te=be.redSqr(),ke=Te.redSqr(),Re=Se.redAdd(Se).redIAdd(Se).redIAdd(oe.redMul(ge)),Ce=se.redMul(Te),Pe=Re.redSqr().redISub(Ce.redAdd(Ce)),Ie=Ce.redISub(Pe),Ne=Re.redMul(Ie);Ne=Ne.redIAdd(Ne).redISub(ke);var He=be.redMul(he);re+1<ee&&(ge=ge.redMul(ke)),se=Pe,he=He,be=Ne}return this.curve.jpoint(se,be.redMul(ie),he)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var ee,re,ne;if(this.zOne){var oe=this.x.redSqr(),ie=this.y.redSqr(),se=ie.redSqr(),ue=this.x.redAdd(ie).redSqr().redISub(oe).redISub(se);ue=ue.redIAdd(ue);var he=oe.redAdd(oe).redIAdd(oe),ge=he.redSqr().redISub(ue).redISub(ue),be=se.redIAdd(se);be=be.redIAdd(be),be=be.redIAdd(be),ee=ge,re=he.redMul(ue.redISub(ge)).redISub(be),ne=this.y.redAdd(this.y)}else{var Se=this.x.redSqr(),Te=this.y.redSqr(),ke=Te.redSqr(),Re=this.x.redAdd(Te).redSqr().redISub(Se).redISub(ke);Re=Re.redIAdd(Re);var Ce=Se.redAdd(Se).redIAdd(Se),Pe=Ce.redSqr(),Ie=ke.redIAdd(ke);Ie=Ie.redIAdd(Ie),Ie=Ie.redIAdd(Ie),ee=Pe.redISub(Re).redISub(Re),re=Ce.redMul(Re.redISub(ee)).redISub(Ie),ne=this.y.redMul(this.z),ne=ne.redIAdd(ne)}return this.curve.jpoint(ee,re,ne)};JPoint.prototype._threeDbl=function(){var ee,re,ne;if(this.zOne){var oe=this.x.redSqr(),ie=this.y.redSqr(),se=ie.redSqr(),ue=this.x.redAdd(ie).redSqr().redISub(oe).redISub(se);ue=ue.redIAdd(ue);var he=oe.redAdd(oe).redIAdd(oe).redIAdd(this.curve.a),ge=he.redSqr().redISub(ue).redISub(ue);ee=ge;var be=se.redIAdd(se);be=be.redIAdd(be),be=be.redIAdd(be),re=he.redMul(ue.redISub(ge)).redISub(be),ne=this.y.redAdd(this.y)}else{var Se=this.z.redSqr(),Te=this.y.redSqr(),ke=this.x.redMul(Te),Re=this.x.redSub(Se).redMul(this.x.redAdd(Se));Re=Re.redAdd(Re).redIAdd(Re);var Ce=ke.redIAdd(ke);Ce=Ce.redIAdd(Ce);var Pe=Ce.redAdd(Ce);ee=Re.redSqr().redISub(Pe),ne=this.y.redAdd(this.z).redSqr().redISub(Te).redISub(Se);var Ie=Te.redSqr();Ie=Ie.redIAdd(Ie),Ie=Ie.redIAdd(Ie),Ie=Ie.redIAdd(Ie),re=Re.redMul(Ce.redISub(ee)).redISub(Ie)}return this.curve.jpoint(ee,re,ne)};JPoint.prototype._dbl=function(){var ee=this.curve.a,re=this.x,ne=this.y,oe=this.z,ie=oe.redSqr().redSqr(),se=re.redSqr(),ue=ne.redSqr(),he=se.redAdd(se).redIAdd(se).redIAdd(ee.redMul(ie)),ge=re.redAdd(re);ge=ge.redIAdd(ge);var be=ge.redMul(ue),Se=he.redSqr().redISub(be.redAdd(be)),Te=be.redISub(Se),ke=ue.redSqr();ke=ke.redIAdd(ke),ke=ke.redIAdd(ke),ke=ke.redIAdd(ke);var Re=he.redMul(Te).redISub(ke),Ce=ne.redAdd(ne).redMul(oe);return this.curve.jpoint(Se,Re,Ce)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ee=this.x.redSqr(),re=this.y.redSqr(),ne=this.z.redSqr(),oe=re.redSqr(),ie=ee.redAdd(ee).redIAdd(ee),se=ie.redSqr(),ue=this.x.redAdd(re).redSqr().redISub(ee).redISub(oe);ue=ue.redIAdd(ue),ue=ue.redAdd(ue).redIAdd(ue),ue=ue.redISub(se);var he=ue.redSqr(),ge=oe.redIAdd(oe);ge=ge.redIAdd(ge),ge=ge.redIAdd(ge),ge=ge.redIAdd(ge);var be=ie.redIAdd(ue).redSqr().redISub(se).redISub(he).redISub(ge),Se=re.redMul(be);Se=Se.redIAdd(Se),Se=Se.redIAdd(Se);var Te=this.x.redMul(he).redISub(Se);Te=Te.redIAdd(Te),Te=Te.redIAdd(Te);var ke=this.y.redMul(be.redMul(ge.redISub(be)).redISub(ue.redMul(he)));ke=ke.redIAdd(ke),ke=ke.redIAdd(ke),ke=ke.redIAdd(ke);var Re=this.z.redAdd(ue).redSqr().redISub(ne).redISub(he);return this.curve.jpoint(Te,ke,Re)};JPoint.prototype.mul=function(ee,re){return ee=new BN$d(ee,re),this.curve._wnafMul(this,ee)};JPoint.prototype.eq=function(ee){if(ee.type==="affine")return this.eq(ee.toJ());if(this===ee)return!0;var re=this.z.redSqr(),ne=ee.z.redSqr();if(this.x.redMul(ne).redISub(ee.x.redMul(re)).cmpn(0)!==0)return!1;var oe=re.redMul(this.z),ie=ne.redMul(ee.z);return this.y.redMul(ie).redISub(ee.y.redMul(oe)).cmpn(0)===0};JPoint.prototype.eqXToP=function(ee){var re=this.z.redSqr(),ne=ee.toRed(this.curve.red).redMul(re);if(this.x.cmp(ne)===0)return!0;for(var oe=ee.clone(),ie=this.curve.redN.redMul(re);;){if(oe.iadd(this.curve.n),oe.cmp(this.curve.p)>=0)return!1;if(ne.redIAdd(ie),this.x.cmp(ne)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$c=bn$3.exports,inherits$k=inherits_browser$2.exports,Base$2=base$1,utils$v=utils$z;function MontCurve(te){Base$2.call(this,"mont",te),this.a=new BN$c(te.a,16).toRed(this.red),this.b=new BN$c(te.b,16).toRed(this.red),this.i4=new BN$c(4).toRed(this.red).redInvm(),this.two=new BN$c(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$k(MontCurve,Base$2);var mont=MontCurve;MontCurve.prototype.validate=function(ee){var re=ee.normalize().x,ne=re.redSqr(),oe=ne.redMul(re).redAdd(ne.redMul(this.a)).redAdd(re),ie=oe.redSqrt();return ie.redSqr().cmp(oe)===0};function Point$1(te,ee,re){Base$2.BasePoint.call(this,te,"projective"),ee===null&&re===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$c(ee,16),this.z=new BN$c(re,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$k(Point$1,Base$2.BasePoint);MontCurve.prototype.decodePoint=function(ee,re){return this.point(utils$v.toArray(ee,re),1)};MontCurve.prototype.point=function(ee,re){return new Point$1(this,ee,re)};MontCurve.prototype.pointFromJSON=function(ee){return Point$1.fromJSON(this,ee)};Point$1.prototype.precompute=function(){};Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function(ee,re){return new Point$1(ee,re[0],re[1]||ee.one)};Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function(){var ee=this.x.redAdd(this.z),re=ee.redSqr(),ne=this.x.redSub(this.z),oe=ne.redSqr(),ie=re.redSub(oe),se=re.redMul(oe),ue=ie.redMul(oe.redAdd(this.curve.a24.redMul(ie)));return this.curve.point(se,ue)};Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function(ee,re){var ne=this.x.redAdd(this.z),oe=this.x.redSub(this.z),ie=ee.x.redAdd(ee.z),se=ee.x.redSub(ee.z),ue=se.redMul(ne),he=ie.redMul(oe),ge=re.z.redMul(ue.redAdd(he).redSqr()),be=re.x.redMul(ue.redISub(he).redSqr());return this.curve.point(ge,be)};Point$1.prototype.mul=function(ee){for(var re=ee.clone(),ne=this,oe=this.curve.point(null,null),ie=this,se=[];re.cmpn(0)!==0;re.iushrn(1))se.push(re.andln(1));for(var ue=se.length-1;ue>=0;ue--)se[ue]===0?(ne=ne.diffAdd(oe,ie),oe=oe.dbl()):(oe=ne.diffAdd(oe,ie),ne=ne.dbl());return oe};Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function(ee){return this.getX().cmp(ee.getX())===0};Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$u=utils$z,BN$b=bn$3.exports,inherits$j=inherits_browser$2.exports,Base$1=base$1,assert$f=utils$u.assert;function EdwardsCurve(te){this.twisted=(te.a|0)!==1,this.mOneA=this.twisted&&(te.a|0)===-1,this.extended=this.mOneA,Base$1.call(this,"edwards",te),this.a=new BN$b(te.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$b(te.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$b(te.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$f(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(te.c|0)===1}inherits$j(EdwardsCurve,Base$1);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function(ee){return this.mOneA?ee.redNeg():this.a.redMul(ee)};EdwardsCurve.prototype._mulC=function(ee){return this.oneC?ee:this.c.redMul(ee)};EdwardsCurve.prototype.jpoint=function(ee,re,ne,oe){return this.point(ee,re,ne,oe)};EdwardsCurve.prototype.pointFromX=function(ee,re){ee=new BN$b(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr(),oe=this.c2.redSub(this.a.redMul(ne)),ie=this.one.redSub(this.c2.redMul(this.d).redMul(ne)),se=oe.redMul(ie.redInvm()),ue=se.redSqrt();if(ue.redSqr().redSub(se).cmp(this.zero)!==0)throw new Error("invalid point");var he=ue.fromRed().isOdd();return(re&&!he||!re&&he)&&(ue=ue.redNeg()),this.point(ee,ue)};EdwardsCurve.prototype.pointFromY=function(ee,re){ee=new BN$b(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr(),oe=ne.redSub(this.c2),ie=ne.redMul(this.d).redMul(this.c2).redSub(this.a),se=oe.redMul(ie.redInvm());if(se.cmp(this.zero)===0){if(re)throw new Error("invalid point");return this.point(this.zero,ee)}var ue=se.redSqrt();if(ue.redSqr().redSub(se).cmp(this.zero)!==0)throw new Error("invalid point");return ue.fromRed().isOdd()!==re&&(ue=ue.redNeg()),this.point(ue,ee)};EdwardsCurve.prototype.validate=function(ee){if(ee.isInfinity())return!0;ee.normalize();var re=ee.x.redSqr(),ne=ee.y.redSqr(),oe=re.redMul(this.a).redAdd(ne),ie=this.c2.redMul(this.one.redAdd(this.d.redMul(re).redMul(ne)));return oe.cmp(ie)===0};function Point(te,ee,re,ne,oe){Base$1.BasePoint.call(this,te,"projective"),ee===null&&re===null&&ne===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$b(ee,16),this.y=new BN$b(re,16),this.z=ne?new BN$b(ne,16):this.curve.one,this.t=oe&&new BN$b(oe,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$j(Point,Base$1.BasePoint);EdwardsCurve.prototype.pointFromJSON=function(ee){return Point.fromJSON(this,ee)};EdwardsCurve.prototype.point=function(ee,re,ne,oe){return new Point(this,ee,re,ne,oe)};Point.fromJSON=function(ee,re){return new Point(ee,re[0],re[1],re[2])};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function(){var ee=this.x.redSqr(),re=this.y.redSqr(),ne=this.z.redSqr();ne=ne.redIAdd(ne);var oe=this.curve._mulA(ee),ie=this.x.redAdd(this.y).redSqr().redISub(ee).redISub(re),se=oe.redAdd(re),ue=se.redSub(ne),he=oe.redSub(re),ge=ie.redMul(ue),be=se.redMul(he),Se=ie.redMul(he),Te=ue.redMul(se);return this.curve.point(ge,be,Te,Se)};Point.prototype._projDbl=function(){var ee=this.x.redAdd(this.y).redSqr(),re=this.x.redSqr(),ne=this.y.redSqr(),oe,ie,se,ue,he,ge;if(this.curve.twisted){ue=this.curve._mulA(re);var be=ue.redAdd(ne);this.zOne?(oe=ee.redSub(re).redSub(ne).redMul(be.redSub(this.curve.two)),ie=be.redMul(ue.redSub(ne)),se=be.redSqr().redSub(be).redSub(be)):(he=this.z.redSqr(),ge=be.redSub(he).redISub(he),oe=ee.redSub(re).redISub(ne).redMul(ge),ie=be.redMul(ue.redSub(ne)),se=be.redMul(ge))}else ue=re.redAdd(ne),he=this.curve._mulC(this.z).redSqr(),ge=ue.redSub(he).redSub(he),oe=this.curve._mulC(ee.redISub(ue)).redMul(ge),ie=this.curve._mulC(ue).redMul(re.redISub(ne)),se=ue.redMul(ge);return this.curve.point(oe,ie,se)};Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function(ee){var re=this.y.redSub(this.x).redMul(ee.y.redSub(ee.x)),ne=this.y.redAdd(this.x).redMul(ee.y.redAdd(ee.x)),oe=this.t.redMul(this.curve.dd).redMul(ee.t),ie=this.z.redMul(ee.z.redAdd(ee.z)),se=ne.redSub(re),ue=ie.redSub(oe),he=ie.redAdd(oe),ge=ne.redAdd(re),be=se.redMul(ue),Se=he.redMul(ge),Te=se.redMul(ge),ke=ue.redMul(he);return this.curve.point(be,Se,ke,Te)};Point.prototype._projAdd=function(ee){var re=this.z.redMul(ee.z),ne=re.redSqr(),oe=this.x.redMul(ee.x),ie=this.y.redMul(ee.y),se=this.curve.d.redMul(oe).redMul(ie),ue=ne.redSub(se),he=ne.redAdd(se),ge=this.x.redAdd(this.y).redMul(ee.x.redAdd(ee.y)).redISub(oe).redISub(ie),be=re.redMul(ue).redMul(ge),Se,Te;return this.curve.twisted?(Se=re.redMul(he).redMul(ie.redSub(this.curve._mulA(oe))),Te=ue.redMul(he)):(Se=re.redMul(he).redMul(ie.redSub(oe)),Te=this.curve._mulC(ue).redMul(he)),this.curve.point(be,Se,Te)};Point.prototype.add=function(ee){return this.isInfinity()?ee:ee.isInfinity()?this:this.curve.extended?this._extAdd(ee):this._projAdd(ee)};Point.prototype.mul=function(ee){return this._hasDoubles(ee)?this.curve._fixedNafMul(this,ee):this.curve._wnafMul(this,ee)};Point.prototype.mulAdd=function(ee,re,ne){return this.curve._wnafMulAdd(1,[this,re],[ee,ne],2,!1)};Point.prototype.jmulAdd=function(ee,re,ne){return this.curve._wnafMulAdd(1,[this,re],[ee,ne],2,!0)};Point.prototype.normalize=function(){if(this.zOne)return this;var ee=this.z.redInvm();return this.x=this.x.redMul(ee),this.y=this.y.redMul(ee),this.t&&(this.t=this.t.redMul(ee)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function(ee){return this===ee||this.getX().cmp(ee.getX())===0&&this.getY().cmp(ee.getY())===0};Point.prototype.eqXToP=function(ee){var re=ee.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(re)===0)return!0;for(var ne=ee.clone(),oe=this.curve.redN.redMul(this.z);;){if(ne.iadd(this.curve.n),ne.cmp(this.curve.p)>=0)return!1;if(re.redIAdd(oe),this.x.cmp(re)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(te){var ee=te;ee.base=base$1,ee.short=short,ee.mont=mont,ee.edwards=edwards})(curve);var curves$2={};(function(te){var ee=te,re=hash$6,ne=curve,oe=utils$z,ie=oe.assert;function se(ge){ge.type==="short"?this.curve=new ne.short(ge):ge.type==="edwards"?this.curve=new ne.edwards(ge):this.curve=new ne.mont(ge),this.g=this.curve.g,this.n=this.curve.n,this.hash=ge.hash,ie(this.g.validate(),"Invalid curve"),ie(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}ee.PresetCurve=se;function ue(ge,be){Object.defineProperty(ee,ge,{configurable:!0,enumerable:!0,get:function(){var Se=new se(be);return Object.defineProperty(ee,ge,{configurable:!0,enumerable:!0,value:Se}),Se}})}ue("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:re.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),ue("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:re.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),ue("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:re.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),ue("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:re.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),ue("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:re.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),ue("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:re.sha256,gRed:!1,g:["9"]}),ue("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:re.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var he;try{he=require("./precomputed/secp256k1")}catch{he=void 0}ue("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:re.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",he]})})(curves$2);var hash$5=hash$6,utils$t=utils$y,assert$e=minimalisticAssert$2;function HmacDRBG$1(te){if(!(this instanceof HmacDRBG$1))return new HmacDRBG$1(te);this.hash=te.hash,this.predResist=!!te.predResist,this.outLen=this.hash.outSize,this.minEntropy=te.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ee=utils$t.toArray(te.entropy,te.entropyEnc||"hex"),re=utils$t.toArray(te.nonce,te.nonceEnc||"hex"),ne=utils$t.toArray(te.pers,te.persEnc||"hex");assert$e(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ee,re,ne)}var hmacDrbg=HmacDRBG$1;HmacDRBG$1.prototype._init=function(ee,re,ne){var oe=ee.concat(re).concat(ne);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var ie=0;ie<this.V.length;ie++)this.K[ie]=0,this.V[ie]=1;this._update(oe),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$1.prototype._hmac=function(){return new hash$5.hmac(this.hash,this.K)};HmacDRBG$1.prototype._update=function(ee){var re=this._hmac().update(this.V).update([0]);ee&&(re=re.update(ee)),this.K=re.digest(),this.V=this._hmac().update(this.V).digest(),ee&&(this.K=this._hmac().update(this.V).update([1]).update(ee).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$1.prototype.reseed=function(ee,re,ne,oe){typeof re!="string"&&(oe=ne,ne=re,re=null),ee=utils$t.toArray(ee,re),ne=utils$t.toArray(ne,oe),assert$e(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ee.concat(ne||[])),this._reseed=1};HmacDRBG$1.prototype.generate=function(ee,re,ne,oe){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof re!="string"&&(oe=ne,ne=re,re=null),ne&&(ne=utils$t.toArray(ne,oe||"hex"),this._update(ne));for(var ie=[];ie.length<ee;)this.V=this._hmac().update(this.V).digest(),ie=ie.concat(this.V);var se=ie.slice(0,ee);return this._update(ne),this._reseed++,utils$t.encode(se,re)};var BN$a=bn$3.exports,utils$s=utils$z,assert$d=utils$s.assert;function KeyPair$3(te,ee){this.ec=te,this.priv=null,this.pub=null,ee.priv&&this._importPrivate(ee.priv,ee.privEnc),ee.pub&&this._importPublic(ee.pub,ee.pubEnc)}var key$1=KeyPair$3;KeyPair$3.fromPublic=function(ee,re,ne){return re instanceof KeyPair$3?re:new KeyPair$3(ee,{pub:re,pubEnc:ne})};KeyPair$3.fromPrivate=function(ee,re,ne){return re instanceof KeyPair$3?re:new KeyPair$3(ee,{priv:re,privEnc:ne})};KeyPair$3.prototype.validate=function(){var ee=this.getPublic();return ee.isInfinity()?{result:!1,reason:"Invalid public key"}:ee.validate()?ee.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$3.prototype.getPublic=function(ee,re){return typeof ee=="string"&&(re=ee,ee=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),re?this.pub.encode(re,ee):this.pub};KeyPair$3.prototype.getPrivate=function(ee){return ee==="hex"?this.priv.toString(16,2):this.priv};KeyPair$3.prototype._importPrivate=function(ee,re){this.priv=new BN$a(ee,re||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$3.prototype._importPublic=function(ee,re){if(ee.x||ee.y){this.ec.curve.type==="mont"?assert$d(ee.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$d(ee.x&&ee.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ee.x,ee.y);return}this.pub=this.ec.curve.decodePoint(ee,re)};KeyPair$3.prototype.derive=function(ee){return ee.validate()||assert$d(ee.validate(),"public point not validated"),ee.mul(this.priv).getX()};KeyPair$3.prototype.sign=function(ee,re,ne){return this.ec.sign(ee,this,re,ne)};KeyPair$3.prototype.verify=function(ee,re){return this.ec.verify(ee,re,this)};KeyPair$3.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$9=bn$3.exports,utils$r=utils$z,assert$c=utils$r.assert;function Signature$3(te,ee){if(te instanceof Signature$3)return te;this._importDER(te,ee)||(assert$c(te.r&&te.s,"Signature without r or s"),this.r=new BN$9(te.r,16),this.s=new BN$9(te.s,16),te.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=te.recoveryParam)}var signature$2=Signature$3;function Position(){this.place=0}function getLength$1(te,ee){var re=te[ee.place++];if(!(re&128))return re;var ne=re&15;if(ne===0||ne>4)return!1;for(var oe=0,ie=0,se=ee.place;ie<ne;ie++,se++)oe<<=8,oe|=te[se],oe>>>=0;return oe<=127?!1:(ee.place=se,oe)}function rmPadding(te){for(var ee=0,re=te.length-1;!te[ee]&&!(te[ee+1]&128)&&ee<re;)ee++;return ee===0?te:te.slice(ee)}Signature$3.prototype._importDER=function(ee,re){ee=utils$r.toArray(ee,re);var ne=new Position;if(ee[ne.place++]!==48)return!1;var oe=getLength$1(ee,ne);if(oe===!1||oe+ne.place!==ee.length||ee[ne.place++]!==2)return!1;var ie=getLength$1(ee,ne);if(ie===!1)return!1;var se=ee.slice(ne.place,ie+ne.place);if(ne.place+=ie,ee[ne.place++]!==2)return!1;var ue=getLength$1(ee,ne);if(ue===!1||ee.length!==ue+ne.place)return!1;var he=ee.slice(ne.place,ue+ne.place);if(se[0]===0)if(se[1]&128)se=se.slice(1);else return!1;if(he[0]===0)if(he[1]&128)he=he.slice(1);else return!1;return this.r=new BN$9(se),this.s=new BN$9(he),this.recoveryParam=null,!0};function constructLength(te,ee){if(ee<128){te.push(ee);return}var re=1+(Math.log(ee)/Math.LN2>>>3);for(te.push(re|128);--re;)te.push(ee>>>(re<<3)&255);te.push(ee)}Signature$3.prototype.toDER=function(ee){var re=this.r.toArray(),ne=this.s.toArray();for(re[0]&128&&(re=[0].concat(re)),ne[0]&128&&(ne=[0].concat(ne)),re=rmPadding(re),ne=rmPadding(ne);!ne[0]&&!(ne[1]&128);)ne=ne.slice(1);var oe=[2];constructLength(oe,re.length),oe=oe.concat(re),oe.push(2),constructLength(oe,ne.length);var ie=oe.concat(ne),se=[48];return constructLength(se,ie.length),se=se.concat(ie),utils$r.encode(se,ee)};var BN$8=bn$3.exports,HmacDRBG=hmacDrbg,utils$q=utils$z,curves$1=curves$2,rand=brorand.exports,assert$b=utils$q.assert,KeyPair$2=key$1,Signature$2=signature$2;function EC$3(te){if(!(this instanceof EC$3))return new EC$3(te);typeof te=="string"&&(assert$b(Object.prototype.hasOwnProperty.call(curves$1,te),"Unknown curve "+te),te=curves$1[te]),te instanceof curves$1.PresetCurve&&(te={curve:te}),this.curve=te.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=te.curve.g,this.g.precompute(te.curve.n.bitLength()+1),this.hash=te.hash||te.curve.hash}var ec$3=EC$3;EC$3.prototype.keyPair=function(ee){return new KeyPair$2(this,ee)};EC$3.prototype.keyFromPrivate=function(ee,re){return KeyPair$2.fromPrivate(this,ee,re)};EC$3.prototype.keyFromPublic=function(ee,re){return KeyPair$2.fromPublic(this,ee,re)};EC$3.prototype.genKeyPair=function(ee){ee||(ee={});for(var re=new HmacDRBG({hash:this.hash,pers:ee.pers,persEnc:ee.persEnc||"utf8",entropy:ee.entropy||rand(this.hash.hmacStrength),entropyEnc:ee.entropy&&ee.entropyEnc||"utf8",nonce:this.n.toArray()}),ne=this.n.byteLength(),oe=this.n.sub(new BN$8(2));;){var ie=new BN$8(re.generate(ne));if(!(ie.cmp(oe)>0))return ie.iaddn(1),this.keyFromPrivate(ie)}};EC$3.prototype._truncateToN=function(ee,re){var ne=ee.byteLength()*8-this.n.bitLength();return ne>0&&(ee=ee.ushrn(ne)),!re&&ee.cmp(this.n)>=0?ee.sub(this.n):ee};EC$3.prototype.sign=function(ee,re,ne,oe){typeof ne=="object"&&(oe=ne,ne=null),oe||(oe={}),re=this.keyFromPrivate(re,ne),ee=this._truncateToN(new BN$8(ee,16));for(var ie=this.n.byteLength(),se=re.getPrivate().toArray("be",ie),ue=ee.toArray("be",ie),he=new HmacDRBG({hash:this.hash,entropy:se,nonce:ue,pers:oe.pers,persEnc:oe.persEnc||"utf8"}),ge=this.n.sub(new BN$8(1)),be=0;;be++){var Se=oe.k?oe.k(be):new BN$8(he.generate(this.n.byteLength()));if(Se=this._truncateToN(Se,!0),!(Se.cmpn(1)<=0||Se.cmp(ge)>=0)){var Te=this.g.mul(Se);if(!Te.isInfinity()){var ke=Te.getX(),Re=ke.umod(this.n);if(Re.cmpn(0)!==0){var Ce=Se.invm(this.n).mul(Re.mul(re.getPrivate()).iadd(ee));if(Ce=Ce.umod(this.n),Ce.cmpn(0)!==0){var Pe=(Te.getY().isOdd()?1:0)|(ke.cmp(Re)!==0?2:0);return oe.canonical&&Ce.cmp(this.nh)>0&&(Ce=this.n.sub(Ce),Pe^=1),new Signature$2({r:Re,s:Ce,recoveryParam:Pe})}}}}}};EC$3.prototype.verify=function(ee,re,ne,oe){ee=this._truncateToN(new BN$8(ee,16)),ne=this.keyFromPublic(ne,oe),re=new Signature$2(re,"hex");var ie=re.r,se=re.s;if(ie.cmpn(1)<0||ie.cmp(this.n)>=0||se.cmpn(1)<0||se.cmp(this.n)>=0)return!1;var ue=se.invm(this.n),he=ue.mul(ee).umod(this.n),ge=ue.mul(ie).umod(this.n),be;return this.curve._maxwellTrick?(be=this.g.jmulAdd(he,ne.getPublic(),ge),be.isInfinity()?!1:be.eqXToP(ie)):(be=this.g.mulAdd(he,ne.getPublic(),ge),be.isInfinity()?!1:be.getX().umod(this.n).cmp(ie)===0)};EC$3.prototype.recoverPubKey=function(te,ee,re,ne){assert$b((3&re)===re,"The recovery param is more than two bits"),ee=new Signature$2(ee,ne);var oe=this.n,ie=new BN$8(te),se=ee.r,ue=ee.s,he=re&1,ge=re>>1;if(se.cmp(this.curve.p.umod(this.curve.n))>=0&&ge)throw new Error("Unable to find sencond key candinate");ge?se=this.curve.pointFromX(se.add(this.curve.n),he):se=this.curve.pointFromX(se,he);var be=ee.r.invm(oe),Se=oe.sub(ie).mul(be).umod(oe),Te=ue.mul(be).umod(oe);return this.g.mulAdd(Se,se,Te)};EC$3.prototype.getKeyRecoveryParam=function(te,ee,re,ne){if(ee=new Signature$2(ee,ne),ee.recoveryParam!==null)return ee.recoveryParam;for(var oe=0;oe<4;oe++){var ie;try{ie=this.recoverPubKey(te,ee,oe)}catch{continue}if(ie.eq(re))return oe}throw new Error("Unable to find valid recovery factor")};var utils$p=utils$z,assert$a=utils$p.assert,parseBytes$2=utils$p.parseBytes,cachedProperty$1=utils$p.cachedProperty;function KeyPair$1(te,ee){this.eddsa=te,this._secret=parseBytes$2(ee.secret),te.isPoint(ee.pub)?this._pub=ee.pub:this._pubBytes=parseBytes$2(ee.pub)}KeyPair$1.fromPublic=function(ee,re){return re instanceof KeyPair$1?re:new KeyPair$1(ee,{pub:re})};KeyPair$1.fromSecret=function(ee,re){return re instanceof KeyPair$1?re:new KeyPair$1(ee,{secret:re})};KeyPair$1.prototype.secret=function(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function(){var ee=this.eddsa,re=this.hash(),ne=ee.encodingLength-1,oe=re.slice(0,ee.encodingLength);return oe[0]&=248,oe[ne]&=127,oe[ne]|=64,oe});cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function(ee){return assert$a(this._secret,"KeyPair can only verify"),this.eddsa.sign(ee,this)};KeyPair$1.prototype.verify=function(ee,re){return this.eddsa.verify(ee,re,this)};KeyPair$1.prototype.getSecret=function(ee){return assert$a(this._secret,"KeyPair is public only"),utils$p.encode(this.secret(),ee)};KeyPair$1.prototype.getPublic=function(ee){return utils$p.encode(this.pubBytes(),ee)};var key=KeyPair$1,BN$7=bn$3.exports,utils$o=utils$z,assert$9=utils$o.assert,cachedProperty=utils$o.cachedProperty,parseBytes$1=utils$o.parseBytes;function Signature$1(te,ee){this.eddsa=te,typeof ee!="object"&&(ee=parseBytes$1(ee)),Array.isArray(ee)&&(ee={R:ee.slice(0,te.encodingLength),S:ee.slice(te.encodingLength)}),assert$9(ee.R&&ee.S,"Signature without R or S"),te.isPoint(ee.R)&&(this._R=ee.R),ee.S instanceof BN$7&&(this._S=ee.S),this._Rencoded=Array.isArray(ee.R)?ee.R:ee.Rencoded,this._Sencoded=Array.isArray(ee.S)?ee.S:ee.Sencoded}cachedProperty(Signature$1,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function(){return utils$o.encode(this.toBytes(),"hex").toUpperCase()};var signature$1=Signature$1,hash$4=hash$6,curves=curves$2,utils$n=utils$z,assert$8=utils$n.assert,parseBytes=utils$n.parseBytes,KeyPair=key,Signature=signature$1;function EDDSA(te){if(assert$8(te==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(te);te=curves[te].curve,this.curve=te,this.g=te.g,this.g.precompute(te.n.bitLength()+1),this.pointClass=te.point().constructor,this.encodingLength=Math.ceil(te.n.bitLength()/8),this.hash=hash$4.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(ee,re){ee=parseBytes(ee);var ne=this.keyFromSecret(re),oe=this.hashInt(ne.messagePrefix(),ee),ie=this.g.mul(oe),se=this.encodePoint(ie),ue=this.hashInt(se,ne.pubBytes(),ee).mul(ne.priv()),he=oe.add(ue).umod(this.curve.n);return this.makeSignature({R:ie,S:he,Rencoded:se})};EDDSA.prototype.verify=function(ee,re,ne){ee=parseBytes(ee),re=this.makeSignature(re);var oe=this.keyFromPublic(ne),ie=this.hashInt(re.Rencoded(),oe.pubBytes(),ee),se=this.g.mul(re.S()),ue=re.R().add(oe.pub().mul(ie));return ue.eq(se)};EDDSA.prototype.hashInt=function(){for(var ee=this.hash(),re=0;re<arguments.length;re++)ee.update(arguments[re]);return utils$n.intFromLE(ee.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function(ee){return KeyPair.fromPublic(this,ee)};EDDSA.prototype.keyFromSecret=function(ee){return KeyPair.fromSecret(this,ee)};EDDSA.prototype.makeSignature=function(ee){return ee instanceof Signature?ee:new Signature(this,ee)};EDDSA.prototype.encodePoint=function(ee){var re=ee.getY().toArray("le",this.encodingLength);return re[this.encodingLength-1]|=ee.getX().isOdd()?128:0,re};EDDSA.prototype.decodePoint=function(ee){ee=utils$n.parseBytes(ee);var re=ee.length-1,ne=ee.slice(0,re).concat(ee[re]&-129),oe=(ee[re]&128)!==0,ie=utils$n.intFromLE(ne);return this.curve.pointFromY(ie,oe)};EDDSA.prototype.encodeInt=function(ee){return ee.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function(ee){return utils$n.intFromLE(ee)};EDDSA.prototype.isPoint=function(ee){return ee instanceof this.pointClass};(function(te){var ee=te;ee.version=require$$0$5.version,ee.utils=utils$z,ee.rand=brorand.exports,ee.curve=curve,ee.curves=curves$2,ee.ec=ec$3,ee.eddsa=eddsa})(elliptic$2);const EC$2=elliptic$2.ec,ec$2=new EC$2("secp256k1"),ecparams$2=ec$2.curve,BN$6=ecparams$2.n.constructor;function loadCompressedPublicKey(te,ee){let re=new BN$6(ee);if(re.cmp(ecparams$2.p)>=0)return null;re=re.toRed(ecparams$2.red);let ne=re.redSqr().redIMul(re).redIAdd(ecparams$2.b).redSqrt();return te===3!==ne.isOdd()&&(ne=ne.redNeg()),ec$2.keyPair({pub:{x:re,y:ne}})}function loadUncompressedPublicKey(te,ee,re){let ne=new BN$6(ee),oe=new BN$6(re);if(ne.cmp(ecparams$2.p)>=0||oe.cmp(ecparams$2.p)>=0||(ne=ne.toRed(ecparams$2.red),oe=oe.toRed(ecparams$2.red),(te===6||te===7)&&oe.isOdd()!==(te===7)))return null;const ie=ne.redSqr().redIMul(ne);return oe.redSqr().redISub(ie.redIAdd(ecparams$2.b)).isZero()?ec$2.keyPair({pub:{x:ne,y:oe}}):null}function loadPublicKey(te){const ee=te[0];switch(ee){case 2:case 3:return te.length!==33?null:loadCompressedPublicKey(ee,te.subarray(1,33));case 4:case 6:case 7:return te.length!==65?null:loadUncompressedPublicKey(ee,te.subarray(1,33),te.subarray(33,65));default:return null}}function savePublicKey(te,ee){const re=ee.encode(null,te.length===33);for(let ne=0;ne<te.length;++ne)te[ne]=re[ne]}var elliptic$1={contextRandomize(){return 0},privateKeyVerify(te){const ee=new BN$6(te);return ee.cmp(ecparams$2.n)<0&&!ee.isZero()?0:1},privateKeyNegate(te){const ee=new BN$6(te),re=ecparams$2.n.sub(ee).umod(ecparams$2.n).toArrayLike(Uint8Array,"be",32);return te.set(re),0},privateKeyTweakAdd(te,ee){const re=new BN$6(ee);if(re.cmp(ecparams$2.n)>=0||(re.iadd(new BN$6(te)),re.cmp(ecparams$2.n)>=0&&re.isub(ecparams$2.n),re.isZero()))return 1;const ne=re.toArrayLike(Uint8Array,"be",32);return te.set(ne),0},privateKeyTweakMul(te,ee){let re=new BN$6(ee);if(re.cmp(ecparams$2.n)>=0||re.isZero())return 1;re.imul(new BN$6(te)),re.cmp(ecparams$2.n)>=0&&(re=re.umod(ecparams$2.n));const ne=re.toArrayLike(Uint8Array,"be",32);return te.set(ne),0},publicKeyVerify(te){return loadPublicKey(te)===null?1:0},publicKeyCreate(te,ee){const re=new BN$6(ee);if(re.cmp(ecparams$2.n)>=0||re.isZero())return 1;const ne=ec$2.keyFromPrivate(ee).getPublic();return savePublicKey(te,ne),0},publicKeyConvert(te,ee){const re=loadPublicKey(ee);if(re===null)return 1;const ne=re.getPublic();return savePublicKey(te,ne),0},publicKeyNegate(te,ee){const re=loadPublicKey(ee);if(re===null)return 1;const ne=re.getPublic();return ne.y=ne.y.redNeg(),savePublicKey(te,ne),0},publicKeyCombine(te,ee){const re=new Array(ee.length);for(let oe=0;oe<ee.length;++oe)if(re[oe]=loadPublicKey(ee[oe]),re[oe]===null)return 1;let ne=re[0].getPublic();for(let oe=1;oe<re.length;++oe)ne=ne.add(re[oe].pub);return ne.isInfinity()?2:(savePublicKey(te,ne),0)},publicKeyTweakAdd(te,ee,re){const ne=loadPublicKey(ee);if(ne===null)return 1;if(re=new BN$6(re),re.cmp(ecparams$2.n)>=0)return 2;const oe=ne.getPublic().add(ecparams$2.g.mul(re));return oe.isInfinity()?2:(savePublicKey(te,oe),0)},publicKeyTweakMul(te,ee,re){const ne=loadPublicKey(ee);if(ne===null)return 1;if(re=new BN$6(re),re.cmp(ecparams$2.n)>=0||re.isZero())return 2;const oe=ne.getPublic().mul(re);return savePublicKey(te,oe),0},signatureNormalize(te){const ee=new BN$6(te.subarray(0,32)),re=new BN$6(te.subarray(32,64));return ee.cmp(ecparams$2.n)>=0||re.cmp(ecparams$2.n)>=0?1:(re.cmp(ec$2.nh)===1&&te.set(ecparams$2.n.sub(re).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(te,ee){const re=ee.subarray(0,32),ne=ee.subarray(32,64);if(new BN$6(re).cmp(ecparams$2.n)>=0||new BN$6(ne).cmp(ecparams$2.n)>=0)return 1;const{output:oe}=te;let ie=oe.subarray(4,4+33);ie[0]=0,ie.set(re,1);let se=33,ue=0;for(;se>1&&ie[ue]===0&&!(ie[ue+1]&128);--se,++ue);if(ie=ie.subarray(ue),ie[0]&128||se>1&&ie[0]===0&&!(ie[1]&128))return 1;let he=oe.subarray(6+33,6+33+33);he[0]=0,he.set(ne,1);let ge=33,be=0;for(;ge>1&&he[be]===0&&!(he[be+1]&128);--ge,++be);return he=he.subarray(be),he[0]&128||ge>1&&he[0]===0&&!(he[1]&128)?1:(te.outputlen=6+se+ge,oe[0]=48,oe[1]=te.outputlen-2,oe[2]=2,oe[3]=ie.length,oe.set(ie,4),oe[4+se]=2,oe[5+se]=he.length,oe.set(he,6+se),0)},signatureImport(te,ee){if(ee.length<8||ee.length>72||ee[0]!==48||ee[1]!==ee.length-2||ee[2]!==2)return 1;const re=ee[3];if(re===0||5+re>=ee.length||ee[4+re]!==2)return 1;const ne=ee[5+re];if(ne===0||6+re+ne!==ee.length||ee[4]&128||re>1&&ee[4]===0&&!(ee[5]&128)||ee[re+6]&128||ne>1&&ee[re+6]===0&&!(ee[re+7]&128))return 1;let oe=ee.subarray(4,4+re);if(oe.length===33&&oe[0]===0&&(oe=oe.subarray(1)),oe.length>32)return 1;let ie=ee.subarray(6+re);if(ie.length===33&&ie[0]===0&&(ie=ie.slice(1)),ie.length>32)throw new Error("S length is too long");let se=new BN$6(oe);se.cmp(ecparams$2.n)>=0&&(se=new BN$6(0));let ue=new BN$6(ee.subarray(6+re));return ue.cmp(ecparams$2.n)>=0&&(ue=new BN$6(0)),te.set(se.toArrayLike(Uint8Array,"be",32),0),te.set(ue.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(te,ee,re,ne,oe){if(oe){const ue=oe;oe=he=>{const ge=ue(ee,re,null,ne,he);if(!(ge instanceof Uint8Array&&ge.length===32))throw new Error("This is the way");return new BN$6(ge)}}const ie=new BN$6(re);if(ie.cmp(ecparams$2.n)>=0||ie.isZero())return 1;let se;try{se=ec$2.sign(ee,re,{canonical:!0,k:oe,pers:ne})}catch{return 1}return te.signature.set(se.r.toArrayLike(Uint8Array,"be",32),0),te.signature.set(se.s.toArrayLike(Uint8Array,"be",32),32),te.recid=se.recoveryParam,0},ecdsaVerify(te,ee,re){const ne={r:te.subarray(0,32),s:te.subarray(32,64)},oe=new BN$6(ne.r),ie=new BN$6(ne.s);if(oe.cmp(ecparams$2.n)>=0||ie.cmp(ecparams$2.n)>=0)return 1;if(ie.cmp(ec$2.nh)===1||oe.isZero()||ie.isZero())return 3;const se=loadPublicKey(re);if(se===null)return 2;const ue=se.getPublic();return ec$2.verify(ee,ne,ue)?0:3},ecdsaRecover(te,ee,re,ne){const oe={r:ee.slice(0,32),s:ee.slice(32,64)},ie=new BN$6(oe.r),se=new BN$6(oe.s);if(ie.cmp(ecparams$2.n)>=0||se.cmp(ecparams$2.n)>=0)return 1;if(ie.isZero()||se.isZero())return 2;let ue;try{ue=ec$2.recoverPubKey(ne,oe,re)}catch{return 2}return savePublicKey(te,ue),0},ecdh(te,ee,re,ne,oe,ie,se){const ue=loadPublicKey(ee);if(ue===null)return 1;const he=new BN$6(re);if(he.cmp(ecparams$2.n)>=0||he.isZero())return 2;const ge=ue.getPublic().mul(he);if(oe===void 0){const be=ge.encode(null,!0),Se=ec$2.hash().update(be).digest();for(let Te=0;Te<32;++Te)te[Te]=Se[Te]}else{ie||(ie=new Uint8Array(32));const be=ge.getX().toArray("be",32);for(let Re=0;Re<32;++Re)ie[Re]=be[Re];se||(se=new Uint8Array(32));const Se=ge.getY().toArray("be",32);for(let Re=0;Re<32;++Re)se[Re]=Se[Re];const Te=oe(ie,se,ne);if(!(Te instanceof Uint8Array&&Te.length===te.length))return 2;te.set(Te)}return 0}},elliptic=lib$6(elliptic$1);const toBuffer$3=te=>buffer$3.Buffer.isBuffer(te)?te:te instanceof Uint8Array?buffer$3.Buffer.from(te.buffer,te.byteOffset,te.byteLength):buffer$3.Buffer.from(te);function getDefaultExportFromCjs(te){return te&&te.__esModule&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te}var hash$1$1={},utils$9$1={},minimalisticAssert=assert$6;function assert$6(te,ee){if(!te)throw new Error(ee||"Assertion failed")}assert$6.equal=function(ee,re,ne){if(ee!=re)throw new Error(ne||"Assertion failed: "+ee+" != "+re)};var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(ee,re){re&&(ee.super_=re,ee.prototype=Object.create(re.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(ee,re){if(re){ee.super_=re;var ne=function(){};ne.prototype=re.prototype,ee.prototype=new ne,ee.prototype.constructor=ee}};var assert$5=minimalisticAssert,inherits$i=inherits_browser.exports;utils$9$1.inherits=inherits$i;function isSurrogatePair(te,ee){return(te.charCodeAt(ee)&64512)!==55296||ee<0||ee+1>=te.length?!1:(te.charCodeAt(ee+1)&64512)===56320}function toArray$1(te,ee){if(Array.isArray(te))return te.slice();if(!te)return[];var re=[];if(typeof te=="string")if(ee){if(ee==="hex")for(te=te.replace(/[^a-z0-9]+/ig,""),te.length%2!==0&&(te="0"+te),oe=0;oe<te.length;oe+=2)re.push(parseInt(te[oe]+te[oe+1],16))}else for(var ne=0,oe=0;oe<te.length;oe++){var ie=te.charCodeAt(oe);ie<128?re[ne++]=ie:ie<2048?(re[ne++]=ie>>6|192,re[ne++]=ie&63|128):isSurrogatePair(te,oe)?(ie=65536+((ie&1023)<<10)+(te.charCodeAt(++oe)&1023),re[ne++]=ie>>18|240,re[ne++]=ie>>12&63|128,re[ne++]=ie>>6&63|128,re[ne++]=ie&63|128):(re[ne++]=ie>>12|224,re[ne++]=ie>>6&63|128,re[ne++]=ie&63|128)}else for(oe=0;oe<te.length;oe++)re[oe]=te[oe]|0;return re}utils$9$1.toArray=toArray$1;function toHex(te){for(var ee="",re=0;re<te.length;re++)ee+=zero2(te[re].toString(16));return ee}utils$9$1.toHex=toHex;function htonl(te){var ee=te>>>24|te>>>8&65280|te<<8&16711680|(te&255)<<24;return ee>>>0}utils$9$1.htonl=htonl;function toHex32(te,ee){for(var re="",ne=0;ne<te.length;ne++){var oe=te[ne];ee==="little"&&(oe=htonl(oe)),re+=zero8(oe.toString(16))}return re}utils$9$1.toHex32=toHex32;function zero2(te){return te.length===1?"0"+te:te}utils$9$1.zero2=zero2;function zero8(te){return te.length===7?"0"+te:te.length===6?"00"+te:te.length===5?"000"+te:te.length===4?"0000"+te:te.length===3?"00000"+te:te.length===2?"000000"+te:te.length===1?"0000000"+te:te}utils$9$1.zero8=zero8;function join32(te,ee,re,ne){var oe=re-ee;assert$5(oe%4===0);for(var ie=new Array(oe/4),se=0,ue=ee;se<ie.length;se++,ue+=4){var he;ne==="big"?he=te[ue]<<24|te[ue+1]<<16|te[ue+2]<<8|te[ue+3]:he=te[ue+3]<<24|te[ue+2]<<16|te[ue+1]<<8|te[ue],ie[se]=he>>>0}return ie}utils$9$1.join32=join32;function split32(te,ee){for(var re=new Array(te.length*4),ne=0,oe=0;ne<te.length;ne++,oe+=4){var ie=te[ne];ee==="big"?(re[oe]=ie>>>24,re[oe+1]=ie>>>16&255,re[oe+2]=ie>>>8&255,re[oe+3]=ie&255):(re[oe+3]=ie>>>24,re[oe+2]=ie>>>16&255,re[oe+1]=ie>>>8&255,re[oe]=ie&255)}return re}utils$9$1.split32=split32;function rotr32$1(te,ee){return te>>>ee|te<<32-ee}utils$9$1.rotr32=rotr32$1;function rotl32$2(te,ee){return te<<ee|te>>>32-ee}utils$9$1.rotl32=rotl32$2;function sum32$3(te,ee){return te+ee>>>0}utils$9$1.sum32=sum32$3;function sum32_3$1(te,ee,re){return te+ee+re>>>0}utils$9$1.sum32_3=sum32_3$1;function sum32_4$2(te,ee,re,ne){return te+ee+re+ne>>>0}utils$9$1.sum32_4=sum32_4$2;function sum32_5$2(te,ee,re,ne,oe){return te+ee+re+ne+oe>>>0}utils$9$1.sum32_5=sum32_5$2;function sum64$1(te,ee,re,ne){var oe=te[ee],ie=te[ee+1],se=ne+ie>>>0,ue=(se<ne?1:0)+re+oe;te[ee]=ue>>>0,te[ee+1]=se}utils$9$1.sum64=sum64$1;function sum64_hi$1(te,ee,re,ne){var oe=ee+ne>>>0,ie=(oe<ee?1:0)+te+re;return ie>>>0}utils$9$1.sum64_hi=sum64_hi$1;function sum64_lo$1(te,ee,re,ne){var oe=ee+ne;return oe>>>0}utils$9$1.sum64_lo=sum64_lo$1;function sum64_4_hi$1(te,ee,re,ne,oe,ie,se,ue){var he=0,ge=ee;ge=ge+ne>>>0,he+=ge<ee?1:0,ge=ge+ie>>>0,he+=ge<ie?1:0,ge=ge+ue>>>0,he+=ge<ue?1:0;var be=te+re+oe+se+he;return be>>>0}utils$9$1.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(te,ee,re,ne,oe,ie,se,ue){var he=ee+ne+ie+ue;return he>>>0}utils$9$1.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(te,ee,re,ne,oe,ie,se,ue,he,ge){var be=0,Se=ee;Se=Se+ne>>>0,be+=Se<ee?1:0,Se=Se+ie>>>0,be+=Se<ie?1:0,Se=Se+ue>>>0,be+=Se<ue?1:0,Se=Se+ge>>>0,be+=Se<ge?1:0;var Te=te+re+oe+se+he+be;return Te>>>0}utils$9$1.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(te,ee,re,ne,oe,ie,se,ue,he,ge){var be=ee+ne+ie+ue+ge;return be>>>0}utils$9$1.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(te,ee,re){var ne=ee<<32-re|te>>>re;return ne>>>0}utils$9$1.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(te,ee,re){var ne=te<<32-re|ee>>>re;return ne>>>0}utils$9$1.rotr64_lo=rotr64_lo$1;function shr64_hi$1(te,ee,re){return te>>>re}utils$9$1.shr64_hi=shr64_hi$1;function shr64_lo$1(te,ee,re){var ne=te<<32-re|ee>>>re;return ne>>>0}utils$9$1.shr64_lo=shr64_lo$1;var common$5={},utils$8$1=utils$9$1,assert$4=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(ee,re){if(ee=utils$8$1.toArray(ee,re),this.pending?this.pending=this.pending.concat(ee):this.pending=ee,this.pendingTotal+=ee.length,this.pending.length>=this._delta8){ee=this.pending;var ne=ee.length%this._delta8;this.pending=ee.slice(ee.length-ne,ee.length),this.pending.length===0&&(this.pending=null),ee=utils$8$1.join32(ee,0,ee.length-ne,this.endian);for(var oe=0;oe<ee.length;oe+=this._delta32)this._update(ee,oe,oe+this._delta32)}return this};BlockHash$4.prototype.digest=function(ee){return this.update(this._pad()),assert$4(this.pending===null),this._digest(ee)};BlockHash$4.prototype._pad=function(){var ee=this.pendingTotal,re=this._delta8,ne=re-(ee+this.padLength)%re,oe=new Array(ne+this.padLength);oe[0]=128;for(var ie=1;ie<ne;ie++)oe[ie]=0;if(ee<<=3,this.endian==="big"){for(var se=8;se<this.padLength;se++)oe[ie++]=0;oe[ie++]=0,oe[ie++]=0,oe[ie++]=0,oe[ie++]=0,oe[ie++]=ee>>>24&255,oe[ie++]=ee>>>16&255,oe[ie++]=ee>>>8&255,oe[ie++]=ee&255}else for(oe[ie++]=ee&255,oe[ie++]=ee>>>8&255,oe[ie++]=ee>>>16&255,oe[ie++]=ee>>>24&255,oe[ie++]=0,oe[ie++]=0,oe[ie++]=0,oe[ie++]=0,se=8;se<this.padLength;se++)oe[ie++]=0;return oe};var sha$2={},common$4={},utils$7$1=utils$9$1,rotr32=utils$7$1.rotr32;function ft_1$1(te,ee,re,ne){if(te===0)return ch32$1(ee,re,ne);if(te===1||te===3)return p32(ee,re,ne);if(te===2)return maj32$1(ee,re,ne)}common$4.ft_1=ft_1$1;function ch32$1(te,ee,re){return te&ee^~te&re}common$4.ch32=ch32$1;function maj32$1(te,ee,re){return te&ee^te&re^ee&re}common$4.maj32=maj32$1;function p32(te,ee,re){return te^ee^re}common$4.p32=p32;function s0_256$1(te){return rotr32(te,2)^rotr32(te,13)^rotr32(te,22)}common$4.s0_256=s0_256$1;function s1_256$1(te){return rotr32(te,6)^rotr32(te,11)^rotr32(te,25)}common$4.s1_256=s1_256$1;function g0_256$1(te){return rotr32(te,7)^rotr32(te,18)^te>>>3}common$4.g0_256=g0_256$1;function g1_256$1(te){return rotr32(te,17)^rotr32(te,19)^te>>>10}common$4.g1_256=g1_256$1;var utils$6$1=utils$9$1,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$6$1.rotl32,sum32$2=utils$6$1.sum32,sum32_5$1=utils$6$1.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$6$1.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(ee,re){for(var ne=this.W,oe=0;oe<16;oe++)ne[oe]=ee[re+oe];for(;oe<ne.length;oe++)ne[oe]=rotl32$1(ne[oe-3]^ne[oe-8]^ne[oe-14]^ne[oe-16],1);var ie=this.h[0],se=this.h[1],ue=this.h[2],he=this.h[3],ge=this.h[4];for(oe=0;oe<ne.length;oe++){var be=~~(oe/20),Se=sum32_5$1(rotl32$1(ie,5),ft_1(be,se,ue,he),ge,ne[oe],sha1_K[be]);ge=he,he=ue,ue=rotl32$1(se,30),se=ie,ie=Se}this.h[0]=sum32$2(this.h[0],ie),this.h[1]=sum32$2(this.h[1],se),this.h[2]=sum32$2(this.h[2],ue),this.h[3]=sum32$2(this.h[3],he),this.h[4]=sum32$2(this.h[4],ge)};SHA1.prototype._digest=function(ee){return ee==="hex"?utils$6$1.toHex32(this.h,"big"):utils$6$1.split32(this.h,"big")};var utils$5$1=utils$9$1,common$2=common$5,shaCommon=common$4,assert$3=minimalisticAssert,sum32$1=utils$5$1.sum32,sum32_4$1=utils$5$1.sum32_4,sum32_5=utils$5$1.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$5$1.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(ee,re){for(var ne=this.W,oe=0;oe<16;oe++)ne[oe]=ee[re+oe];for(;oe<ne.length;oe++)ne[oe]=sum32_4$1(g1_256(ne[oe-2]),ne[oe-7],g0_256(ne[oe-15]),ne[oe-16]);var ie=this.h[0],se=this.h[1],ue=this.h[2],he=this.h[3],ge=this.h[4],be=this.h[5],Se=this.h[6],Te=this.h[7];for(assert$3(this.k.length===ne.length),oe=0;oe<ne.length;oe++){var ke=sum32_5(Te,s1_256(ge),ch32(ge,be,Se),this.k[oe],ne[oe]),Re=sum32$1(s0_256(ie),maj32(ie,se,ue));Te=Se,Se=be,be=ge,ge=sum32$1(he,ke),he=ue,ue=se,se=ie,ie=sum32$1(ke,Re)}this.h[0]=sum32$1(this.h[0],ie),this.h[1]=sum32$1(this.h[1],se),this.h[2]=sum32$1(this.h[2],ue),this.h[3]=sum32$1(this.h[3],he),this.h[4]=sum32$1(this.h[4],ge),this.h[5]=sum32$1(this.h[5],be),this.h[6]=sum32$1(this.h[6],Se),this.h[7]=sum32$1(this.h[7],Te)};SHA256$1.prototype._digest=function(ee){return ee==="hex"?utils$5$1.toHex32(this.h,"big"):utils$5$1.split32(this.h,"big")};var utils$4$1=utils$9$1,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$4$1.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(ee){return ee==="hex"?utils$4$1.toHex32(this.h.slice(0,7),"big"):utils$4$1.split32(this.h.slice(0,7),"big")};var utils$3$1=utils$9$1,common$1=common$5,assert$2=minimalisticAssert,rotr64_hi=utils$3$1.rotr64_hi,rotr64_lo=utils$3$1.rotr64_lo,shr64_hi=utils$3$1.shr64_hi,shr64_lo=utils$3$1.shr64_lo,sum64=utils$3$1.sum64,sum64_hi=utils$3$1.sum64_hi,sum64_lo=utils$3$1.sum64_lo,sum64_4_hi=utils$3$1.sum64_4_hi,sum64_4_lo=utils$3$1.sum64_4_lo,sum64_5_hi=utils$3$1.sum64_5_hi,sum64_5_lo=utils$3$1.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$3$1.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(ee,re){for(var ne=this.W,oe=0;oe<32;oe++)ne[oe]=ee[re+oe];for(;oe<ne.length;oe+=2){var ie=g1_512_hi(ne[oe-4],ne[oe-3]),se=g1_512_lo(ne[oe-4],ne[oe-3]),ue=ne[oe-14],he=ne[oe-13],ge=g0_512_hi(ne[oe-30],ne[oe-29]),be=g0_512_lo(ne[oe-30],ne[oe-29]),Se=ne[oe-32],Te=ne[oe-31];ne[oe]=sum64_4_hi(ie,se,ue,he,ge,be,Se,Te),ne[oe+1]=sum64_4_lo(ie,se,ue,he,ge,be,Se,Te)}};SHA512$1.prototype._update=function(ee,re){this._prepareBlock(ee,re);var ne=this.W,oe=this.h[0],ie=this.h[1],se=this.h[2],ue=this.h[3],he=this.h[4],ge=this.h[5],be=this.h[6],Se=this.h[7],Te=this.h[8],ke=this.h[9],Re=this.h[10],Ce=this.h[11],Pe=this.h[12],Ie=this.h[13],Ne=this.h[14],He=this.h[15];assert$2(this.k.length===ne.length);for(var Ke=0;Ke<ne.length;Ke+=2){var Ge=Ne,ut=He,Ve=s1_512_hi(Te,ke),nt=s1_512_lo(Te,ke),st=ch64_hi(Te,ke,Re,Ce,Pe),qe=ch64_lo(Te,ke,Re,Ce,Pe,Ie),ye=this.k[Ke],ae=this.k[Ke+1],ce=ne[Ke],le=ne[Ke+1],pe=sum64_5_hi(Ge,ut,Ve,nt,st,qe,ye,ae,ce,le),_e=sum64_5_lo(Ge,ut,Ve,nt,st,qe,ye,ae,ce,le);Ge=s0_512_hi(oe,ie),ut=s0_512_lo(oe,ie),Ve=maj64_hi(oe,ie,se,ue,he),nt=maj64_lo(oe,ie,se,ue,he,ge);var $e=sum64_hi(Ge,ut,Ve,nt),Ee=sum64_lo(Ge,ut,Ve,nt);Ne=Pe,He=Ie,Pe=Re,Ie=Ce,Re=Te,Ce=ke,Te=sum64_hi(be,Se,pe,_e),ke=sum64_lo(Se,Se,pe,_e),be=he,Se=ge,he=se,ge=ue,se=oe,ue=ie,oe=sum64_hi(pe,_e,$e,Ee),ie=sum64_lo(pe,_e,$e,Ee)}sum64(this.h,0,oe,ie),sum64(this.h,2,se,ue),sum64(this.h,4,he,ge),sum64(this.h,6,be,Se),sum64(this.h,8,Te,ke),sum64(this.h,10,Re,Ce),sum64(this.h,12,Pe,Ie),sum64(this.h,14,Ne,He)};SHA512$1.prototype._digest=function(ee){return ee==="hex"?utils$3$1.toHex32(this.h,"big"):utils$3$1.split32(this.h,"big")};function ch64_hi(te,ee,re,ne,oe){var ie=te&re^~te&oe;return ie<0&&(ie+=4294967296),ie}function ch64_lo(te,ee,re,ne,oe,ie){var se=ee&ne^~ee&ie;return se<0&&(se+=4294967296),se}function maj64_hi(te,ee,re,ne,oe){var ie=te&re^te&oe^re&oe;return ie<0&&(ie+=4294967296),ie}function maj64_lo(te,ee,re,ne,oe,ie){var se=ee&ne^ee&ie^ne&ie;return se<0&&(se+=4294967296),se}function s0_512_hi(te,ee){var re=rotr64_hi(te,ee,28),ne=rotr64_hi(ee,te,2),oe=rotr64_hi(ee,te,7),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function s0_512_lo(te,ee){var re=rotr64_lo(te,ee,28),ne=rotr64_lo(ee,te,2),oe=rotr64_lo(ee,te,7),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function s1_512_hi(te,ee){var re=rotr64_hi(te,ee,14),ne=rotr64_hi(te,ee,18),oe=rotr64_hi(ee,te,9),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function s1_512_lo(te,ee){var re=rotr64_lo(te,ee,14),ne=rotr64_lo(te,ee,18),oe=rotr64_lo(ee,te,9),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function g0_512_hi(te,ee){var re=rotr64_hi(te,ee,1),ne=rotr64_hi(te,ee,8),oe=shr64_hi(te,ee,7),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function g0_512_lo(te,ee){var re=rotr64_lo(te,ee,1),ne=rotr64_lo(te,ee,8),oe=shr64_lo(te,ee,7),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function g1_512_hi(te,ee){var re=rotr64_hi(te,ee,19),ne=rotr64_hi(ee,te,29),oe=shr64_hi(te,ee,6),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}function g1_512_lo(te,ee){var re=rotr64_lo(te,ee,19),ne=rotr64_lo(ee,te,29),oe=shr64_lo(te,ee,6),ie=re^ne^oe;return ie<0&&(ie+=4294967296),ie}var utils$2$1=utils$9$1,SHA512$2=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512$2.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$2$1.inherits(SHA384,SHA512$2);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(ee){return ee==="hex"?utils$2$1.toHex32(this.h.slice(0,12),"big"):utils$2$1.split32(this.h.slice(0,12),"big")};sha$2.sha1=_1;sha$2.sha224=_224;sha$2.sha256=_256;sha$2.sha384=_384;sha$2.sha512=_512;var ripemd={},utils$1$1=utils$9$1,common$6=common$5,rotl32=utils$1$1.rotl32,sum32=utils$1$1.sum32,sum32_3=utils$1$1.sum32_3,sum32_4=utils$1$1.sum32_4,BlockHash=common$6.BlockHash;function RIPEMD160$2(){if(!(this instanceof RIPEMD160$2))return new RIPEMD160$2;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$1$1.inherits(RIPEMD160$2,BlockHash);ripemd.ripemd160=RIPEMD160$2;RIPEMD160$2.blockSize=512;RIPEMD160$2.outSize=160;RIPEMD160$2.hmacStrength=192;RIPEMD160$2.padLength=64;RIPEMD160$2.prototype._update=function(ee,re){for(var ne=this.h[0],oe=this.h[1],ie=this.h[2],se=this.h[3],ue=this.h[4],he=ne,ge=oe,be=ie,Se=se,Te=ue,ke=0;ke<80;ke++){var Re=sum32(rotl32(sum32_4(ne,f$2(ke,oe,ie,se),ee[r$2[ke]+re],K$5(ke)),s$2[ke]),ue);ne=ue,ue=se,se=rotl32(ie,10),ie=oe,oe=Re,Re=sum32(rotl32(sum32_4(he,f$2(79-ke,ge,be,Se),ee[rh[ke]+re],Kh(ke)),sh[ke]),Te),he=Te,Te=Se,Se=rotl32(be,10),be=ge,ge=Re}Re=sum32_3(this.h[1],ie,Se),this.h[1]=sum32_3(this.h[2],se,Te),this.h[2]=sum32_3(this.h[3],ue,he),this.h[3]=sum32_3(this.h[4],ne,ge),this.h[4]=sum32_3(this.h[0],oe,be),this.h[0]=Re};RIPEMD160$2.prototype._digest=function(ee){return ee==="hex"?utils$1$1.toHex32(this.h,"little"):utils$1$1.split32(this.h,"little")};function f$2(te,ee,re,ne){return te<=15?ee^re^ne:te<=31?ee&re|~ee&ne:te<=47?(ee|~re)^ne:te<=63?ee&ne|re&~ne:ee^(re|~ne)}function K$5(te){return te<=15?0:te<=31?1518500249:te<=47?1859775393:te<=63?2400959708:2840853838}function Kh(te){return te<=15?1352829926:te<=31?1548603684:te<=47?1836072691:te<=63?2053994217:0}var r$2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$2=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$m=utils$9$1,assert$1$1=minimalisticAssert;function Hmac(te,ee,re){if(!(this instanceof Hmac))return new Hmac(te,ee,re);this.Hash=te,this.blockSize=te.blockSize/8,this.outSize=te.outSize/8,this.inner=null,this.outer=null,this._init(utils$m.toArray(ee,re))}var hmac=Hmac;Hmac.prototype._init=function(ee){ee.length>this.blockSize&&(ee=new this.Hash().update(ee).digest()),assert$1$1(ee.length<=this.blockSize);for(var re=ee.length;re<this.blockSize;re++)ee.push(0);for(re=0;re<ee.length;re++)ee[re]^=54;for(this.inner=new this.Hash().update(ee),re=0;re<ee.length;re++)ee[re]^=106;this.outer=new this.Hash().update(ee)};Hmac.prototype.update=function(ee,re){return this.inner.update(ee,re),this};Hmac.prototype.digest=function(ee){return this.outer.update(this.inner.digest()),this.outer.digest(ee)};(function(te){var ee=te;ee.utils=utils$9$1,ee.common=common$5,ee.sha=sha$2,ee.ripemd=ripemd,ee.hmac=hmac,ee.sha1=ee.sha.sha1,ee.sha256=ee.sha.sha256,ee.sha224=ee.sha.sha224,ee.sha384=ee.sha.sha384,ee.sha512=ee.sha.sha512,ee.ripemd160=ee.ripemd.ripemd160})(hash$1$1);var hash$3=hash$1$1;const version$2="logger/5.6.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{te.push(ee)}}),te.length)throw new Error("missing "+te.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(te){return te.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger$1{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,re){const ne=ee.toLowerCase();LogLevels[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel>LogLevels[ne])&&console.log.apply(console,re)}debug(...ee){this._log(Logger$1.levels.DEBUG,ee)}info(...ee){this._log(Logger$1.levels.INFO,ee)}warn(...ee){this._log(Logger$1.levels.WARNING,ee)}makeError(ee,re,ne){if(_censorErrors)return this.makeError("censored error",re,{});re||(re=Logger$1.errors.UNKNOWN_ERROR),ne||(ne={});const oe=[];Object.keys(ne).forEach(he=>{const ge=ne[he];try{if(ge instanceof Uint8Array){let be="";for(let Se=0;Se<ge.length;Se++)be+=HEX[ge[Se]>>4],be+=HEX[ge[Se]&15];oe.push(he+"=Uint8Array(0x"+be+")")}else oe.push(he+"="+JSON.stringify(ge))}catch{oe.push(he+"="+JSON.stringify(ne[he].toString()))}}),oe.push(`code=${re}`),oe.push(`version=${this.version}`);const ie=ee;let se="";switch(re){case ErrorCode.NUMERIC_FAULT:{se="NUMERIC_FAULT";const he=ee;switch(he){case"overflow":case"underflow":case"division-by-zero":se+="-"+he;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:se=re;break}se&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),oe.length&&(ee+=" ("+oe.join(", ")+")");const ue=new Error(ee);return ue.reason=ie,ue.code=re,Object.keys(ne).forEach(function(he){ue[he]=ne[he]}),ue}throwError(ee,re,ne){throw this.makeError(ee,re,ne)}throwArgumentError(ee,re,ne){return this.throwError(ee,Logger$1.errors.INVALID_ARGUMENT,{argument:re,value:ne})}assert(ee,re,ne,oe){ee||this.throwError(re,ne,oe)}assertArgument(ee,re,ne,oe){ee||this.throwArgumentError(re,ne,oe)}checkNormalize(ee){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(ee,re){typeof ee=="number"&&(re==null&&(re="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(re,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(re,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,re,ne){ne?ne=": "+ne:ne="",ee<re&&this.throwError("missing argument"+ne,Logger$1.errors.MISSING_ARGUMENT,{count:ee,expectedCount:re}),ee>re&&this.throwError("too many arguments"+ne,Logger$1.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:re})}checkNew(ee,re){(ee===Object||ee==null)&&this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:re.name})}checkAbstract(ee,re){ee===re?this.throwError("cannot instantiate abstract class "+JSON.stringify(re.name)+" directly; use a sub-class",Logger$1.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:re.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger$1(version$2)),_globalLogger}static setCensorship(ee,re){if(!ee&&re&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!ee,_permanentCensorErrors=!!re}static setLogLevel(ee){const re=LogLevels[ee.toLowerCase()];if(re==null){Logger$1.globalLogger().warn("invalid log level - "+ee);return}_logLevel=re}static from(ee){return new Logger$1(ee)}}Logger$1.errors=ErrorCode;Logger$1.levels=LogLevel;const version$1$1="bytes/5.6.0",logger=new Logger$1(version$1$1);function isHexable(te){return!!te.toHexString}function addSlice(te){return te.slice||(te.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(te,ee)))}),te}function isInteger(te){return typeof te=="number"&&te==te&&te%1===0}function isBytes(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!isInteger(te.length)||te.length<0)return!1;for(let ee=0;ee<te.length;ee++){const re=te[ee];if(!isInteger(re)||re<0||re>=256)return!1}return!0}function arrayify(te,ee){if(ee||(ee={}),typeof te=="number"){logger.checkSafeUint53(te,"invalid arrayify value");const re=[];for(;te;)re.unshift(te&255),te=parseInt(String(te/256));return re.length===0&&re.push(0),addSlice(new Uint8Array(re))}if(ee.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),isHexable(te)&&(te=te.toHexString()),isHexString$3(te)){let re=te.substring(2);re.length%2&&(ee.hexPad==="left"?re="0x0"+re.substring(2):ee.hexPad==="right"?re+="0":logger.throwArgumentError("hex data is odd-length","value",te));const ne=[];for(let oe=0;oe<re.length;oe+=2)ne.push(parseInt(re.substring(oe,oe+2),16));return addSlice(new Uint8Array(ne))}return isBytes(te)?addSlice(new Uint8Array(te)):logger.throwArgumentError("invalid arrayify value","value",te)}function isHexString$3(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}const version$3="sha2/5.6.0";new Logger$1(version$3);function sha256$3(te){return"0x"+hash$3.sha256().update(arrayify(te)).digest("hex")}class Struct{constructor(ee){Object.assign(this,ee)}encode(){return buffer$3.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(ee){return deserialize_1(SOLANA_SCHEMA,this,ee)}static decodeUnchecked(ee){return deserializeUnchecked_1(SOLANA_SCHEMA,this,ee)}}class Enum extends Struct{constructor(ee){if(super(ee),this.enum="",Object.keys(ee).length!==1)throw new Error("Enum can only take single value");Object.keys(ee).map(re=>{this.enum=re})}}const SOLANA_SCHEMA=new Map,MAX_SEED_LENGTH=32;function isPublicKeyData(te){return te._bn!==void 0}class PublicKey extends Struct{constructor(ee){if(super({}),this._bn=void 0,isPublicKeyData(ee))this._bn=ee._bn;else{if(typeof ee=="string"){const re=bs58$1.decode(ee);if(re.length!=32)throw new Error("Invalid public key input");this._bn=new BN$f(re)}else this._bn=new BN$f(ee);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(ee){return this._bn.eq(ee._bn)}toBase58(){return bs58$1.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const ee=this._bn.toArrayLike(buffer$3.Buffer);if(ee.length===32)return ee;const re=buffer$3.Buffer.alloc(32);return ee.copy(re,32-ee.length),re}toString(){return this.toBase58()}static async createWithSeed(ee,re,ne){const oe=buffer$3.Buffer.concat([ee.toBuffer(),buffer$3.Buffer.from(re),ne.toBuffer()]),ie=sha256$3(new Uint8Array(oe)).slice(2);return new PublicKey(buffer$3.Buffer.from(ie,"hex"))}static createProgramAddressSync(ee,re){let ne=buffer$3.Buffer.alloc(0);ee.forEach(function(se){if(se.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");ne=buffer$3.Buffer.concat([ne,toBuffer$3(se)])}),ne=buffer$3.Buffer.concat([ne,re.toBuffer(),buffer$3.Buffer.from("ProgramDerivedAddress")]);let oe=sha256$3(new Uint8Array(ne)).slice(2),ie=new BN$f(oe,16).toArray(void 0,32);if(is_on_curve(ie))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(ie)}static async createProgramAddress(ee,re){return this.createProgramAddressSync(ee,re)}static findProgramAddressSync(ee,re){let ne=255,oe;for(;ne!=0;){try{const ie=ee.concat(buffer$3.Buffer.from([ne]));oe=this.createProgramAddressSync(ie,re)}catch(ie){if(ie instanceof TypeError)throw ie;ne--;continue}return[oe,ne]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(ee,re){return this.findProgramAddressSync(ee,re)}static isOnCurve(ee){const re=new PublicKey(ee);return is_on_curve(re.toBytes())==1}}PublicKey.default=new PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});let naclLowLevel=nacl.lowlevel;function is_on_curve(te){var ee=[naclLowLevel.gf(),naclLowLevel.gf(),naclLowLevel.gf(),naclLowLevel.gf()],re=naclLowLevel.gf(),ne=naclLowLevel.gf(),oe=naclLowLevel.gf(),ie=naclLowLevel.gf(),se=naclLowLevel.gf(),ue=naclLowLevel.gf(),he=naclLowLevel.gf();return naclLowLevel.set25519(ee[2],gf1),naclLowLevel.unpack25519(ee[1],te),naclLowLevel.S(oe,ee[1]),naclLowLevel.M(ie,oe,naclLowLevel.D),naclLowLevel.Z(oe,oe,ee[2]),naclLowLevel.A(ie,ee[2],ie),naclLowLevel.S(se,ie),naclLowLevel.S(ue,se),naclLowLevel.M(he,ue,se),naclLowLevel.M(re,he,oe),naclLowLevel.M(re,re,ie),naclLowLevel.pow2523(re,re),naclLowLevel.M(re,re,oe),naclLowLevel.M(re,re,ie),naclLowLevel.M(re,re,ie),naclLowLevel.M(ee[0],re,ie),naclLowLevel.S(ne,ee[0]),naclLowLevel.M(ne,ne,ie),neq25519(ne,oe)&&naclLowLevel.M(ee[0],ee[0],I$2),naclLowLevel.S(ne,ee[0]),naclLowLevel.M(ne,ne,ie),neq25519(ne,oe)?0:1}let gf1=naclLowLevel.gf([1]),I$2=naclLowLevel.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function neq25519(te,ee){var re=new Uint8Array(32),ne=new Uint8Array(32);return naclLowLevel.pack25519(re,te),naclLowLevel.pack25519(ne,ee),naclLowLevel.crypto_verify_32(re,0,ne,0)}class Account{constructor(ee){this._keypair=void 0,ee?this._keypair=nacl.sign.keyPair.fromSecretKey(toBuffer$3(ee)):this._keypair=nacl.sign.keyPair()}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return toBuffer$3(this._keypair.secretKey)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE=1280-40-8,SIGNATURE_LENGTH_IN_BYTES=64,publicKey$3=(te="publicKey")=>blob$2(32,te),rustString=(te="string")=>{const ee=struct$3([u32$2("length"),u32$2("lengthPadding"),blob$2(offset(u32$2(),-8),"chars")],te),re=ee.decode.bind(ee),ne=ee.encode.bind(ee),oe=ee;return oe.decode=(ie,se)=>re(ie,se).chars.toString(),oe.encode=(ie,se,ue)=>{const he={chars:buffer$3.Buffer.from(ie,"utf8")};return ne(he,se,ue)},oe.alloc=ie=>u32$2().span+u32$2().span+buffer$3.Buffer.from(ie,"utf8").length,oe},authorized=(te="authorized")=>struct$3([publicKey$3("staker"),publicKey$3("withdrawer")],te),lockup=(te="lockup")=>struct$3([ns64("unixTimestamp"),ns64("epoch"),publicKey$3("custodian")],te),voteInit=(te="voteInit")=>struct$3([publicKey$3("nodePubkey"),publicKey$3("authorizedVoter"),publicKey$3("authorizedWithdrawer"),u8$2("commission")],te);function getAlloc(te,ee){let re=0;return te.layout.fields.forEach(ne=>{ne.span>=0?re+=ne.span:typeof ne.alloc=="function"&&(re+=ne.alloc(ee[ne.property]))}),re}function decodeLength(te){let ee=0,re=0;for(;;){let ne=te.shift();if(ee|=(ne&127)<<re*7,re+=1,(ne&128)===0)break}return ee}function encodeLength$1(te,ee){let re=ee;for(;;){let ne=re&127;if(re>>=7,re==0){te.push(ne);break}else ne|=128,te.push(ne)}}const PUBKEY_LENGTH=32;class Message{constructor(ee){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=ee.header,this.accountKeys=ee.accountKeys.map(re=>new PublicKey(re)),this.recentBlockhash=ee.recentBlockhash,this.instructions=ee.instructions,this.instructions.forEach(re=>this.indexToProgramIds.set(re.programIdIndex,this.accountKeys[re.programIdIndex]))}isAccountSigner(ee){return ee<this.header.numRequiredSignatures}isAccountWritable(ee){return ee<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||ee>=this.header.numRequiredSignatures&&ee<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(ee){return this.indexToProgramIds.has(ee)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((ee,re)=>!this.isProgramId(re))}serialize(){const ee=this.accountKeys.length;let re=[];encodeLength$1(re,ee);const ne=this.instructions.map(Se=>{const{accounts:Te,programIdIndex:ke}=Se,Re=Array.from(bs58$1.decode(Se.data));let Ce=[];encodeLength$1(Ce,Te.length);let Pe=[];return encodeLength$1(Pe,Re.length),{programIdIndex:ke,keyIndicesCount:buffer$3.Buffer.from(Ce),keyIndices:Te,dataLength:buffer$3.Buffer.from(Pe),data:Re}});let oe=[];encodeLength$1(oe,ne.length);let ie=buffer$3.Buffer.alloc(PACKET_DATA_SIZE);buffer$3.Buffer.from(oe).copy(ie);let se=oe.length;ne.forEach(Se=>{se+=struct$3([u8$2("programIdIndex"),blob$2(Se.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),Se.keyIndices.length,"keyIndices"),blob$2(Se.dataLength.length,"dataLength"),seq(u8$2("userdatum"),Se.data.length,"data")]).encode(Se,ie,se)}),ie=ie.slice(0,se);const ue=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(re.length,"keyCount"),seq(publicKey$3("key"),ee,"keys"),publicKey$3("recentBlockhash")]),he={numRequiredSignatures:buffer$3.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:buffer$3.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:buffer$3.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:buffer$3.Buffer.from(re),keys:this.accountKeys.map(Se=>toBuffer$3(Se.toBytes())),recentBlockhash:bs58$1.decode(this.recentBlockhash)};let ge=buffer$3.Buffer.alloc(2048);const be=ue.encode(he,ge);return ie.copy(ge,be),ge.slice(0,be+ie.length)}static from(ee){let re=[...ee];const ne=re.shift(),oe=re.shift(),ie=re.shift(),se=decodeLength(re);let ue=[];for(let Te=0;Te<se;Te++){const ke=re.slice(0,PUBKEY_LENGTH);re=re.slice(PUBKEY_LENGTH),ue.push(bs58$1.encode(buffer$3.Buffer.from(ke)))}const he=re.slice(0,PUBKEY_LENGTH);re=re.slice(PUBKEY_LENGTH);const ge=decodeLength(re);let be=[];for(let Te=0;Te<ge;Te++){const ke=re.shift(),Re=decodeLength(re),Ce=re.slice(0,Re);re=re.slice(Re);const Pe=decodeLength(re),Ie=re.slice(0,Pe),Ne=bs58$1.encode(buffer$3.Buffer.from(Ie));re=re.slice(Pe),be.push({programIdIndex:ke,accounts:Ce,data:Ne})}const Se={header:{numRequiredSignatures:ne,numReadonlySignedAccounts:oe,numReadonlyUnsignedAccounts:ie},recentBlockhash:bs58$1.encode(buffer$3.Buffer.from(he)),accountKeys:ue,instructions:be};return new Message(Se)}}function assert$7(te,ee){if(!te)throw new Error(ee||"Assertion failed")}let TransactionStatus;(function(te){te[te.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",te[te.PROCESSED=1]="PROCESSED",te[te.TIMED_OUT=2]="TIMED_OUT"})(TransactionStatus||(TransactionStatus={}));const DEFAULT_SIGNATURE=buffer$3.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(ee){this.keys=void 0,this.programId=void 0,this.data=buffer$3.Buffer.alloc(0),this.programId=ee.programId,this.keys=ee.keys,ee.data&&(this.data=ee.data)}toJSON(){return{keys:this.keys.map(({pubkey:ee,isSigner:re,isWritable:ne})=>({pubkey:ee.toJSON(),isSigner:re,isWritable:ne})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction$2{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(ee){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,ee)if(Object.prototype.hasOwnProperty.call(ee,"lastValidBlockHeight")){const re=ee;Object.assign(this,re),this.recentBlockhash=re.blockhash,this.lastValidBlockHeight=re.lastValidBlockHeight}else{const re=ee;Object.assign(this,re),this.recentBlockhash=re.recentBlockhash}else return}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(ee=>ee.toJSON()),signers:this.signatures.map(({publicKey:ee})=>ee.toJSON())}}add(...ee){if(ee.length===0)throw new Error("No instructions");return ee.forEach(re=>{"instructions"in re?this.instructions=this.instructions.concat(re.instructions):"data"in re&&"programId"in re&&"keys"in re?this.instructions.push(re):this.instructions.push(new TransactionInstruction(re))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;const{nonceInfo:ee}=this;ee&&this.instructions[0]!=ee.nonceInstruction&&(this.recentBlockhash=ee.nonce,this.instructions.unshift(ee.nonceInstruction));const{recentBlockhash:re}=this;if(!re)throw new Error("Transaction recentBlockhash required");this.instructions.length<1&&console.warn("No instructions provided");let ne;if(this.feePayer)ne=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)ne=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let Ce=0;Ce<this.instructions.length;Ce++)if(this.instructions[Ce].programId===void 0)throw new Error(`Transaction instruction index ${Ce} has undefined program id`);const oe=[],ie=[];this.instructions.forEach(Ce=>{Ce.keys.forEach(Ie=>{ie.push(Nr({},Ie))});const Pe=Ce.programId.toString();oe.includes(Pe)||oe.push(Pe)}),oe.forEach(Ce=>{ie.push({pubkey:new PublicKey(Ce),isSigner:!1,isWritable:!1})}),ie.sort(function(Ce,Pe){const Ie=Ce.pubkey.toBase58().localeCompare(Pe.pubkey.toBase58()),Ne=Ce.isSigner===Pe.isSigner?0:Ce.isSigner?-1:1,He=Ce.isWritable===Pe.isWritable?Ie:Ce.isWritable?-1:1;return Ne||He});const se=[];ie.forEach(Ce=>{const Pe=Ce.pubkey.toString(),Ie=se.findIndex(Ne=>Ne.pubkey.toString()===Pe);Ie>-1?se[Ie].isWritable=se[Ie].isWritable||Ce.isWritable:se.push(Ce)});const ue=se.findIndex(Ce=>Ce.pubkey.equals(ne));if(ue>-1){const[Ce]=se.splice(ue,1);Ce.isSigner=!0,Ce.isWritable=!0,se.unshift(Ce)}else se.unshift({pubkey:ne,isSigner:!0,isWritable:!0});for(const Ce of this.signatures){const Pe=se.findIndex(Ie=>Ie.pubkey.equals(Ce.publicKey));if(Pe>-1)se[Pe].isSigner||(se[Pe].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${Ce.publicKey.toString()}`)}let he=0,ge=0,be=0;const Se=[],Te=[];se.forEach(({pubkey:Ce,isSigner:Pe,isWritable:Ie})=>{Pe?(Se.push(Ce.toString()),he+=1,Ie||(ge+=1)):(Te.push(Ce.toString()),Ie||(be+=1))});const ke=Se.concat(Te),Re=this.instructions.map(Ce=>{const{data:Pe,programId:Ie}=Ce;return{programIdIndex:ke.indexOf(Ie.toString()),accounts:Ce.keys.map(Ne=>ke.indexOf(Ne.pubkey.toString())),data:bs58$1.encode(Pe)}});return Re.forEach(Ce=>{assert$7(Ce.programIdIndex>=0),Ce.accounts.forEach(Pe=>assert$7(Pe>=0))}),new Message({header:{numRequiredSignatures:he,numReadonlySignedAccounts:ge,numReadonlyUnsignedAccounts:be},accountKeys:ke,recentBlockhash:re,instructions:Re})}_compile(){const ee=this.compileMessage(),re=ee.accountKeys.slice(0,ee.header.numRequiredSignatures);return this.signatures.length===re.length&&this.signatures.every((oe,ie)=>re[ie].equals(oe.publicKey))||(this.signatures=re.map(ne=>({signature:null,publicKey:ne}))),ee}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(ee){return(await ee.getFeeForMessage(this.compileMessage())).value}setSigners(...ee){if(ee.length===0)throw new Error("No signers");const re=new Set;this.signatures=ee.filter(ne=>{const oe=ne.toString();return re.has(oe)?!1:(re.add(oe),!0)}).map(ne=>({signature:null,publicKey:ne}))}sign(...ee){if(ee.length===0)throw new Error("No signers");const re=new Set,ne=[];for(const ie of ee){const se=ie.publicKey.toString();re.has(se)||(re.add(se),ne.push(ie))}this.signatures=ne.map(ie=>({signature:null,publicKey:ie.publicKey}));const oe=this._compile();this._partialSign(oe,...ne),this._verifySignatures(oe.serialize(),!0)}partialSign(...ee){if(ee.length===0)throw new Error("No signers");const re=new Set,ne=[];for(const ie of ee){const se=ie.publicKey.toString();re.has(se)||(re.add(se),ne.push(ie))}const oe=this._compile();this._partialSign(oe,...ne)}_partialSign(ee,...re){const ne=ee.serialize();re.forEach(oe=>{const ie=nacl.sign.detached(ne,oe.secretKey);this._addSignature(oe.publicKey,toBuffer$3(ie))})}addSignature(ee,re){this._compile(),this._addSignature(ee,re)}_addSignature(ee,re){assert$7(re.length===64);const ne=this.signatures.findIndex(oe=>ee.equals(oe.publicKey));if(ne<0)throw new Error(`unknown signer: ${ee.toString()}`);this.signatures[ne].signature=buffer$3.Buffer.from(re)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(ee,re){for(const{signature:ne,publicKey:oe}of this.signatures)if(ne===null){if(re)return!1}else if(!nacl.sign.detached.verify(ee,ne,oe.toBuffer()))return!1;return!0}serialize(ee){const{requireAllSignatures:re,verifySignatures:ne}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},ee),oe=this.serializeMessage();if(ne&&!this._verifySignatures(oe,re))throw new Error("Signature verification failed");return this._serialize(oe)}_serialize(ee){const{signatures:re}=this,ne=[];encodeLength$1(ne,re.length);const oe=ne.length+re.length*64+ee.length,ie=buffer$3.Buffer.alloc(oe);return assert$7(re.length<256),buffer$3.Buffer.from(ne).copy(ie,0),re.forEach(({signature:se},ue)=>{se!==null&&(assert$7(se.length===64,"signature has invalid length"),buffer$3.Buffer.from(se).copy(ie,ne.length+ue*64))}),ee.copy(ie,ne.length+re.length*64),assert$7(ie.length<=PACKET_DATA_SIZE,`Transaction too large: ${ie.length} > ${PACKET_DATA_SIZE}`),ie}get keys(){return assert$7(this.instructions.length===1),this.instructions[0].keys.map(ee=>ee.pubkey)}get programId(){return assert$7(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$7(this.instructions.length===1),this.instructions[0].data}static from(ee){let re=[...ee];const ne=decodeLength(re);let oe=[];for(let ie=0;ie<ne;ie++){const se=re.slice(0,SIGNATURE_LENGTH_IN_BYTES);re=re.slice(SIGNATURE_LENGTH_IN_BYTES),oe.push(bs58$1.encode(buffer$3.Buffer.from(se)))}return Transaction$2.populate(Message.from(re),oe)}static populate(ee,re=[]){const ne=new Transaction$2;return ne.recentBlockhash=ee.recentBlockhash,ee.header.numRequiredSignatures>0&&(ne.feePayer=ee.accountKeys[0]),re.forEach((oe,ie)=>{const se={signature:oe==bs58$1.encode(DEFAULT_SIGNATURE)?null:bs58$1.decode(oe),publicKey:ee.accountKeys[ie]};ne.signatures.push(se)}),ee.instructions.forEach(oe=>{const ie=oe.accounts.map(se=>{const ue=ee.accountKeys[se];return{pubkey:ue,isSigner:ne.signatures.some(he=>he.publicKey.toString()===ue.toString())||ee.isAccountSigner(se),isWritable:ee.isAccountWritable(se)}});ne.instructions.push(new TransactionInstruction({keys:ie,programId:ee.accountKeys[oe.programIdIndex],data:bs58$1.decode(oe.data)}))}),ne._message=ee,ne._json=ne.toJSON(),ne}}const SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$1(te,ee,re,ne){const oe=ne&&{skipPreflight:ne.skipPreflight,preflightCommitment:ne.preflightCommitment||ne.commitment,maxRetries:ne.maxRetries},ie=await te.sendTransaction(ee,re,oe),se=ee.recentBlockhash!=null&&ee.lastValidBlockHeight!=null?(await te.confirmTransaction({signature:ie,blockhash:ee.recentBlockhash,lastValidBlockHeight:ee.lastValidBlockHeight},ne&&ne.commitment)).value:(await te.confirmTransaction(ie,ne&&ne.commitment)).value;if(se.err)throw new Error(`Transaction ${ie} failed (${JSON.stringify(se)})`);return ie}function sleep(te){return new Promise(ee=>setTimeout(ee,te))}function encodeData$1(te,ee){const re=te.layout.span>=0?te.layout.span:getAlloc(te,ee),ne=buffer$3.Buffer.alloc(re),oe=Object.assign({instruction:te.index},ee);return te.layout.encode(oe,ne),ne}function decodeData(te,ee){let re;try{re=te.layout.decode(ee)}catch(ne){throw new Error("invalid instruction; "+ne)}if(re.instruction!==te.index)throw new Error(`invalid instruction; instruction index mismatch ${re.instruction} != ${te.index}`);return re}const FeeCalculatorLayout=nu64$1("lamportsPerSignature"),NonceAccountLayout=struct$3([u32$2("version"),u32$2("state"),publicKey$3("authorizedPubkey"),publicKey$3("nonce"),struct$3([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(ee){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=ee.authorizedPubkey,this.nonce=ee.nonce,this.feeCalculator=ee.feeCalculator}static fromAccountData(ee){const re=NonceAccountLayout.decode(toBuffer$3(ee),0);return new NonceAccount({authorizedPubkey:new PublicKey(re.authorizedPubkey),nonce:new PublicKey(re.nonce).toString(),feeCalculator:re.feeCalculator})}}class SystemInstruction{constructor(){}static decodeInstructionType(ee){this.checkProgramId(ee.programId);const ne=u32$2("instruction").decode(ee.data);let oe;for(const[ie,se]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(se.index==ne){oe=ie;break}if(!oe)throw new Error("Instruction type incorrect; not a SystemInstruction");return oe}static decodeCreateAccount(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{lamports:re,space:ne,programId:oe}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Create,ee.data);return{fromPubkey:ee.keys[0].pubkey,newAccountPubkey:ee.keys[1].pubkey,lamports:re,space:ne,programId:new PublicKey(oe)}}static decodeTransfer(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{lamports:re}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,ee.data);return{fromPubkey:ee.keys[0].pubkey,toPubkey:ee.keys[1].pubkey,lamports:re}}static decodeTransferWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{lamports:re,seed:ne,programId:oe}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,ee.data);return{fromPubkey:ee.keys[0].pubkey,basePubkey:ee.keys[1].pubkey,toPubkey:ee.keys[2].pubkey,lamports:re,seed:ne,programId:new PublicKey(oe)}}static decodeAllocate(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,1);const{space:re}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,ee.data);return{accountPubkey:ee.keys[0].pubkey,space:re}}static decodeAllocateWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,1);const{base:re,seed:ne,space:oe,programId:ie}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,ee.data);return{accountPubkey:ee.keys[0].pubkey,basePubkey:new PublicKey(re),seed:ne,space:oe,programId:new PublicKey(ie)}}static decodeAssign(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,1);const{programId:re}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Assign,ee.data);return{accountPubkey:ee.keys[0].pubkey,programId:new PublicKey(re)}}static decodeAssignWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,1);const{base:re,seed:ne,programId:oe}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,ee.data);return{accountPubkey:ee.keys[0].pubkey,basePubkey:new PublicKey(re),seed:ne,programId:new PublicKey(oe)}}static decodeCreateWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{base:re,seed:ne,lamports:oe,space:ie,programId:se}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,ee.data);return{fromPubkey:ee.keys[0].pubkey,newAccountPubkey:ee.keys[1].pubkey,basePubkey:new PublicKey(re),seed:ne,lamports:oe,space:ie,programId:new PublicKey(se)}}static decodeNonceInitialize(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{authorized:re}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,ee.data);return{noncePubkey:ee.keys[0].pubkey,authorizedPubkey:new PublicKey(re)}}static decodeNonceAdvance(ee){return this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3),decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,ee.data),{noncePubkey:ee.keys[0].pubkey,authorizedPubkey:ee.keys[2].pubkey}}static decodeNonceWithdraw(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,5);const{lamports:re}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,ee.data);return{noncePubkey:ee.keys[0].pubkey,toPubkey:ee.keys[1].pubkey,authorizedPubkey:ee.keys[4].pubkey,lamports:re}}static decodeNonceAuthorize(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{authorized:re}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,ee.data);return{noncePubkey:ee.keys[0].pubkey,authorizedPubkey:ee.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(re)}}static checkProgramId(ee){if(!ee.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(ee,re){if(ee.length<re)throw new Error(`invalid instruction; found ${ee.length} keys, expected at least ${re}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$3([u32$2("instruction"),ns64("lamports"),ns64("space"),publicKey$3("programId")])},Assign:{index:1,layout:struct$3([u32$2("instruction"),publicKey$3("programId")])},Transfer:{index:2,layout:struct$3([u32$2("instruction"),u64$3("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$2("instruction"),publicKey$3("base"),rustString("seed"),ns64("lamports"),ns64("space"),publicKey$3("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$2("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$2("instruction"),ns64("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$2("instruction"),publicKey$3("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$2("instruction"),publicKey$3("authorized")])},Allocate:{index:8,layout:struct$3([u32$2("instruction"),ns64("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$2("instruction"),publicKey$3("base"),rustString("seed"),ns64("space"),publicKey$3("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$2("instruction"),publicKey$3("base"),rustString("seed"),publicKey$3("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$2("instruction"),u64$3("lamports"),rustString("seed"),publicKey$3("programId")])}});class SystemProgram{constructor(){}static createAccount(ee){const re=SYSTEM_INSTRUCTION_LAYOUTS.Create,ne=encodeData$1(re,{lamports:ee.lamports,space:ee.space,programId:toBuffer$3(ee.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:ee.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:ee.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:ne})}static transfer(ee){let re,ne;if("basePubkey"in ee){const oe=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;re=encodeData$1(oe,{lamports:BigInt(ee.lamports),seed:ee.seed,programId:toBuffer$3(ee.programId.toBuffer())}),ne=[{pubkey:ee.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:ee.basePubkey,isSigner:!0,isWritable:!1},{pubkey:ee.toPubkey,isSigner:!1,isWritable:!0}]}else{const oe=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;re=encodeData$1(oe,{lamports:BigInt(ee.lamports)}),ne=[{pubkey:ee.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:ee.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:ne,programId:this.programId,data:re})}static assign(ee){let re,ne;if("basePubkey"in ee){const oe=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;re=encodeData$1(oe,{base:toBuffer$3(ee.basePubkey.toBuffer()),seed:ee.seed,programId:toBuffer$3(ee.programId.toBuffer())}),ne=[{pubkey:ee.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:ee.basePubkey,isSigner:!0,isWritable:!1}]}else{const oe=SYSTEM_INSTRUCTION_LAYOUTS.Assign;re=encodeData$1(oe,{programId:toBuffer$3(ee.programId.toBuffer())}),ne=[{pubkey:ee.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:ne,programId:this.programId,data:re})}static createAccountWithSeed(ee){const re=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,ne=encodeData$1(re,{base:toBuffer$3(ee.basePubkey.toBuffer()),seed:ee.seed,lamports:ee.lamports,space:ee.space,programId:toBuffer$3(ee.programId.toBuffer())});let oe=[{pubkey:ee.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:ee.newAccountPubkey,isSigner:!1,isWritable:!0}];return ee.basePubkey!=ee.fromPubkey&&oe.push({pubkey:ee.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:oe,programId:this.programId,data:ne})}static createNonceAccount(ee){const re=new Transaction$2;"basePubkey"in ee&&"seed"in ee?re.add(SystemProgram.createAccountWithSeed({fromPubkey:ee.fromPubkey,newAccountPubkey:ee.noncePubkey,basePubkey:ee.basePubkey,seed:ee.seed,lamports:ee.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):re.add(SystemProgram.createAccount({fromPubkey:ee.fromPubkey,newAccountPubkey:ee.noncePubkey,lamports:ee.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const ne={noncePubkey:ee.noncePubkey,authorizedPubkey:ee.authorizedPubkey};return re.add(this.nonceInitialize(ne)),re}static nonceInitialize(ee){const re=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,ne=encodeData$1(re,{authorized:toBuffer$3(ee.authorizedPubkey.toBuffer())}),oe={keys:[{pubkey:ee.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:ne};return new TransactionInstruction(oe)}static nonceAdvance(ee){const re=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,ne=encodeData$1(re),oe={keys:[{pubkey:ee.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ee.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:ne};return new TransactionInstruction(oe)}static nonceWithdraw(ee){const re=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,ne=encodeData$1(re,{lamports:ee.lamports});return new TransactionInstruction({keys:[{pubkey:ee.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ee.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ee.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:ne})}static nonceAuthorize(ee){const re=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,ne=encodeData$1(re,{authorized:toBuffer$3(ee.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:ee.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ee.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:ne})}static allocate(ee){let re,ne;if("basePubkey"in ee){const oe=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;re=encodeData$1(oe,{base:toBuffer$3(ee.basePubkey.toBuffer()),seed:ee.seed,space:ee.space,programId:toBuffer$3(ee.programId.toBuffer())}),ne=[{pubkey:ee.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:ee.basePubkey,isSigner:!0,isWritable:!1}]}else{const oe=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;re=encodeData$1(oe,{space:ee.space}),ne=[{pubkey:ee.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:ne,programId:this.programId,data:re})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader{constructor(){}static getMinNumSignatures(ee){return 2*(Math.ceil(ee/Loader.chunkSize)+1+1)}static async load(ee,re,ne,oe,ie){{const Se=await ee.getMinimumBalanceForRentExemption(ie.length),Te=await ee.getAccountInfo(ne.publicKey,"confirmed");let ke=null;if(Te!==null){if(Te.executable)return console.error("Program load failed, account is already executable"),!1;Te.data.length!==ie.length&&(ke=ke||new Transaction$2,ke.add(SystemProgram.allocate({accountPubkey:ne.publicKey,space:ie.length}))),Te.owner.equals(oe)||(ke=ke||new Transaction$2,ke.add(SystemProgram.assign({accountPubkey:ne.publicKey,programId:oe}))),Te.lamports<Se&&(ke=ke||new Transaction$2,ke.add(SystemProgram.transfer({fromPubkey:re.publicKey,toPubkey:ne.publicKey,lamports:Se-Te.lamports})))}else ke=new Transaction$2().add(SystemProgram.createAccount({fromPubkey:re.publicKey,newAccountPubkey:ne.publicKey,lamports:Se>0?Se:1,space:ie.length,programId:oe}));ke!==null&&await sendAndConfirmTransaction$1(ee,ke,[re,ne],{commitment:"confirmed"})}const se=struct$3([u32$2("instruction"),u32$2("offset"),u32$2("bytesLength"),u32$2("bytesLengthPadding"),seq(u8$2("byte"),offset(u32$2(),-8),"bytes")]),ue=Loader.chunkSize;let he=0,ge=ie,be=[];for(;ge.length>0;){const Se=ge.slice(0,ue),Te=buffer$3.Buffer.alloc(ue+16);se.encode({instruction:0,offset:he,bytes:Se,bytesLength:0,bytesLengthPadding:0},Te);const ke=new Transaction$2().add({keys:[{pubkey:ne.publicKey,isSigner:!0,isWritable:!0}],programId:oe,data:Te});be.push(sendAndConfirmTransaction$1(ee,ke,[re,ne],{commitment:"confirmed"})),ee._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),he+=ue,ge=ge.slice(ue)}await Promise.all(be);{const Se=struct$3([u32$2("instruction")]),Te=buffer$3.Buffer.alloc(Se.span);Se.encode({instruction:1},Te);const ke=new Transaction$2().add({keys:[{pubkey:ne.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:oe,data:Te});await sendAndConfirmTransaction$1(ee,ke,[re,ne],{commitment:"confirmed"})}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(ee){return Loader.getMinNumSignatures(ee)}static load(ee,re,ne,oe,ie){return Loader.load(ee,re,ne,ie,oe)}}class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(ee){this.checkProgramId(ee.programId);const ne=u8$2("instruction").decode(ee.data);let oe;for(const[ie,se]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(se.index==ne){oe=ie;break}if(!oe)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return oe}static decodeRequestUnits(ee){this.checkProgramId(ee.programId);const{units:re,additionalFee:ne}=decodeData(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,ee.data);return{units:re,additionalFee:ne}}static decodeRequestHeapFrame(ee){this.checkProgramId(ee.programId);const{bytes:re}=decodeData(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,ee.data);return{bytes:re}}static checkProgramId(ee){if(!ee.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$2("units"),u32$2("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$2("bytes")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(ee){const re=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,ne=encodeData$1(re,ee);return new TransactionInstruction({keys:[],programId:this.programId,data:ne})}static requestHeapFrame(ee){const re=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,ne=encodeData$1(re,ee);return new TransactionInstruction({keys:[],programId:this.programId,data:ne})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");var browserPonyfill$1={exports:{}};(function(te,ee){var re=function(){function oe(){this.fetch=!1,this.DOMException=globalThis.DOMException}return oe.prototype=globalThis,new oe}();(function(oe){(function(ie){var se={searchParams:"URLSearchParams"in oe,iterable:"Symbol"in oe&&"iterator"in Symbol,blob:"FileReader"in oe&&"Blob"in oe&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in oe,arrayBuffer:"ArrayBuffer"in oe};function ue(ce){return ce&&DataView.prototype.isPrototypeOf(ce)}if(se.arrayBuffer)var he=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ge=ArrayBuffer.isView||function(ce){return ce&&he.indexOf(Object.prototype.toString.call(ce))>-1};function be(ce){if(typeof ce!="string"&&(ce=String(ce)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ce))throw new TypeError("Invalid character in header field name");return ce.toLowerCase()}function Se(ce){return typeof ce!="string"&&(ce=String(ce)),ce}function Te(ce){var le={next:function(){var pe=ce.shift();return{done:pe===void 0,value:pe}}};return se.iterable&&(le[Symbol.iterator]=function(){return le}),le}function ke(ce){this.map={},ce instanceof ke?ce.forEach(function(le,pe){this.append(pe,le)},this):Array.isArray(ce)?ce.forEach(function(le){this.append(le[0],le[1])},this):ce&&Object.getOwnPropertyNames(ce).forEach(function(le){this.append(le,ce[le])},this)}ke.prototype.append=function(ce,le){ce=be(ce),le=Se(le);var pe=this.map[ce];this.map[ce]=pe?pe+", "+le:le},ke.prototype.delete=function(ce){delete this.map[be(ce)]},ke.prototype.get=function(ce){return ce=be(ce),this.has(ce)?this.map[ce]:null},ke.prototype.has=function(ce){return this.map.hasOwnProperty(be(ce))},ke.prototype.set=function(ce,le){this.map[be(ce)]=Se(le)},ke.prototype.forEach=function(ce,le){for(var pe in this.map)this.map.hasOwnProperty(pe)&&ce.call(le,this.map[pe],pe,this)},ke.prototype.keys=function(){var ce=[];return this.forEach(function(le,pe){ce.push(pe)}),Te(ce)},ke.prototype.values=function(){var ce=[];return this.forEach(function(le){ce.push(le)}),Te(ce)},ke.prototype.entries=function(){var ce=[];return this.forEach(function(le,pe){ce.push([pe,le])}),Te(ce)},se.iterable&&(ke.prototype[Symbol.iterator]=ke.prototype.entries);function Re(ce){if(ce.bodyUsed)return Promise.reject(new TypeError("Already read"));ce.bodyUsed=!0}function Ce(ce){return new Promise(function(le,pe){ce.onload=function(){le(ce.result)},ce.onerror=function(){pe(ce.error)}})}function Pe(ce){var le=new FileReader,pe=Ce(le);return le.readAsArrayBuffer(ce),pe}function Ie(ce){var le=new FileReader,pe=Ce(le);return le.readAsText(ce),pe}function Ne(ce){for(var le=new Uint8Array(ce),pe=new Array(le.length),_e=0;_e<le.length;_e++)pe[_e]=String.fromCharCode(le[_e]);return pe.join("")}function He(ce){if(ce.slice)return ce.slice(0);var le=new Uint8Array(ce.byteLength);return le.set(new Uint8Array(ce)),le.buffer}function Ke(){return this.bodyUsed=!1,this._initBody=function(ce){this._bodyInit=ce,ce?typeof ce=="string"?this._bodyText=ce:se.blob&&Blob.prototype.isPrototypeOf(ce)?this._bodyBlob=ce:se.formData&&FormData.prototype.isPrototypeOf(ce)?this._bodyFormData=ce:se.searchParams&&URLSearchParams.prototype.isPrototypeOf(ce)?this._bodyText=ce.toString():se.arrayBuffer&&se.blob&&ue(ce)?(this._bodyArrayBuffer=He(ce.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):se.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ce)||ge(ce))?this._bodyArrayBuffer=He(ce):this._bodyText=ce=Object.prototype.toString.call(ce):this._bodyText="",this.headers.get("content-type")||(typeof ce=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):se.searchParams&&URLSearchParams.prototype.isPrototypeOf(ce)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},se.blob&&(this.blob=function(){var ce=Re(this);if(ce)return ce;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Re(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Pe)}),this.text=function(){var ce=Re(this);if(ce)return ce;if(this._bodyBlob)return Ie(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ne(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},se.formData&&(this.formData=function(){return this.text().then(nt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ge=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ut(ce){var le=ce.toUpperCase();return Ge.indexOf(le)>-1?le:ce}function Ve(ce,le){le=le||{};var pe=le.body;if(ce instanceof Ve){if(ce.bodyUsed)throw new TypeError("Already read");this.url=ce.url,this.credentials=ce.credentials,le.headers||(this.headers=new ke(ce.headers)),this.method=ce.method,this.mode=ce.mode,this.signal=ce.signal,!pe&&ce._bodyInit!=null&&(pe=ce._bodyInit,ce.bodyUsed=!0)}else this.url=String(ce);if(this.credentials=le.credentials||this.credentials||"same-origin",(le.headers||!this.headers)&&(this.headers=new ke(le.headers)),this.method=ut(le.method||this.method||"GET"),this.mode=le.mode||this.mode||null,this.signal=le.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&pe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(pe)}Ve.prototype.clone=function(){return new Ve(this,{body:this._bodyInit})};function nt(ce){var le=new FormData;return ce.trim().split("&").forEach(function(pe){if(pe){var _e=pe.split("="),$e=_e.shift().replace(/\+/g," "),Ee=_e.join("=").replace(/\+/g," ");le.append(decodeURIComponent($e),decodeURIComponent(Ee))}}),le}function st(ce){var le=new ke,pe=ce.replace(/\r?\n[\t ]+/g," ");return pe.split(/\r?\n/).forEach(function(_e){var $e=_e.split(":"),Ee=$e.shift().trim();if(Ee){var me=$e.join(":").trim();le.append(Ee,me)}}),le}Ke.call(Ve.prototype);function qe(ce,le){le||(le={}),this.type="default",this.status=le.status===void 0?200:le.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in le?le.statusText:"OK",this.headers=new ke(le.headers),this.url=le.url||"",this._initBody(ce)}Ke.call(qe.prototype),qe.prototype.clone=function(){return new qe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ke(this.headers),url:this.url})},qe.error=function(){var ce=new qe(null,{status:0,statusText:""});return ce.type="error",ce};var ye=[301,302,303,307,308];qe.redirect=function(ce,le){if(ye.indexOf(le)===-1)throw new RangeError("Invalid status code");return new qe(null,{status:le,headers:{location:ce}})},ie.DOMException=oe.DOMException;try{new ie.DOMException}catch{ie.DOMException=function(le,pe){this.message=le,this.name=pe;var _e=Error(le);this.stack=_e.stack},ie.DOMException.prototype=Object.create(Error.prototype),ie.DOMException.prototype.constructor=ie.DOMException}function ae(ce,le){return new Promise(function(pe,_e){var $e=new Ve(ce,le);if($e.signal&&$e.signal.aborted)return _e(new ie.DOMException("Aborted","AbortError"));var Ee=new XMLHttpRequest;function me(){Ee.abort()}Ee.onload=function(){var fe={status:Ee.status,statusText:Ee.statusText,headers:st(Ee.getAllResponseHeaders()||"")};fe.url="responseURL"in Ee?Ee.responseURL:fe.headers.get("X-Request-URL");var we="response"in Ee?Ee.response:Ee.responseText;pe(new qe(we,fe))},Ee.onerror=function(){_e(new TypeError("Network request failed"))},Ee.ontimeout=function(){_e(new TypeError("Network request failed"))},Ee.onabort=function(){_e(new ie.DOMException("Aborted","AbortError"))},Ee.open($e.method,$e.url,!0),$e.credentials==="include"?Ee.withCredentials=!0:$e.credentials==="omit"&&(Ee.withCredentials=!1),"responseType"in Ee&&se.blob&&(Ee.responseType="blob"),$e.headers.forEach(function(fe,we){Ee.setRequestHeader(we,fe)}),$e.signal&&($e.signal.addEventListener("abort",me),Ee.onreadystatechange=function(){Ee.readyState===4&&$e.signal.removeEventListener("abort",me)}),Ee.send(typeof $e._bodyInit=="undefined"?null:$e._bodyInit)})}return ae.polyfill=!0,oe.fetch||(oe.fetch=ae,oe.Headers=ke,oe.Request=Ve,oe.Response=qe),ie.Headers=ke,ie.Request=Ve,ie.Response=qe,ie.fetch=ae,Object.defineProperty(ie,"__esModule",{value:!0}),ie})({})})(re),re.fetch.ponyfill=!0,delete re.fetch.polyfill;var ne=re;ee=ne.fetch,ee.default=ne.fetch,ee.fetch=ne.fetch,ee.Headers=ne.Headers,ee.Request=ne.Request,ee.Response=ne.Response,te.exports=ee})(browserPonyfill$1,browserPonyfill$1.exports);var crossFetch=getDefaultExportFromCjs(browserPonyfill$1.exports),objToString=Object.prototype.toString,objKeys=Object.keys||function(te){var ee=[];for(var re in te)ee.push(re);return ee};function stringify$5(te,ee){var re,ne,oe,ie,se,ue,he;if(te===!0)return"true";if(te===!1)return"false";switch(typeof te){case"object":if(te===null)return null;if(te.toJSON&&typeof te.toJSON=="function")return stringify$5(te.toJSON(),ee);if(he=objToString.call(te),he==="[object Array]"){for(oe="[",ne=te.length-1,re=0;re<ne;re++)oe+=stringify$5(te[re],!0)+",";return ne>-1&&(oe+=stringify$5(te[re],!0)),oe+"]"}else if(he==="[object Object]"){for(ie=objKeys(te).sort(),ne=ie.length,oe="",re=0;re<ne;)se=ie[re],ue=stringify$5(te[se],!1),ue!==void 0&&(oe&&(oe+=","),oe+=JSON.stringify(se)+":"+ue),re++;return"{"+oe+"}"}else return JSON.stringify(te);case"function":case"undefined":return ee?null:void 0;case"string":return JSON.stringify(te);default:return isFinite(te)?te:null}}var fastStableStringify=function(te){var ee=stringify$5(te,!1);if(ee!==void 0)return""+ee},fastStableStringify$1=fastStableStringify;const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(te){let ee=0;for(;te>1;)te/=2,ee++;return ee}function nextPowerOfTwo(te){return te===0?1:(te--,te|=te>>1,te|=te>>2,te|=te>>4,te|=te>>8,te|=te>>16,te|=te>>32,te+1)}class EpochSchedule{constructor(ee,re,ne,oe,ie){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=ee,this.leaderScheduleSlotOffset=re,this.warmup=ne,this.firstNormalEpoch=oe,this.firstNormalSlot=ie}getEpoch(ee){return this.getEpochAndSlotIndex(ee)[0]}getEpochAndSlotIndex(ee){if(ee<this.firstNormalSlot){const re=trailingZeros(nextPowerOfTwo(ee+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,ne=this.getSlotsInEpoch(re),oe=ee-(ne-MINIMUM_SLOT_PER_EPOCH);return[re,oe]}else{const re=ee-this.firstNormalSlot,ne=Math.floor(re/this.slotsPerEpoch),oe=this.firstNormalEpoch+ne,ie=re%this.slotsPerEpoch;return[oe,ie]}}getFirstSlotInEpoch(ee){return ee<=this.firstNormalEpoch?(Math.pow(2,ee)-1)*MINIMUM_SLOT_PER_EPOCH:(ee-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(ee){return this.getFirstSlotInEpoch(ee)+this.getSlotsInEpoch(ee)-1}getSlotsInEpoch(ee){return ee<this.firstNormalEpoch?Math.pow(2,ee+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(ee,re){super(ee),this.logs=void 0,this.logs=re}}const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND;class TransactionExpiredBlockheightExceededError extends Error{constructor(ee){super(`Signature ${ee} has expired: block height exceeded.`),this.signature=void 0,this.signature=ee}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(ee,re){super(`Transaction was not confirmed in ${re.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${ee} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=ee}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});function makeWebsocketUrl(te){let ee=new URL(te);const re=ee.protocol==="https:";return ee.protocol=re?"wss:":"ws:",ee.host="",ee.port!==""&&(ee.port=String(Number(ee.port)+1)),ee.toString()}const PublicKeyFromString=coerce(instance(PublicKey),string$1(),te=>new PublicKey(te)),RawAccountDataResult=tuple([string$1(),literal("base64")]),BufferFromRawAccountData=coerce(instance(buffer$3.Buffer),RawAccountDataResult,te=>buffer$3.Buffer.from(te[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function createRpcResult(te){return union$1([type({jsonrpc:literal("2.0"),id:string$1(),result:te}),type({jsonrpc:literal("2.0"),id:string$1(),error:type({code:unknown(),message:string$1(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(te){return coerce(createRpcResult(te),UnknownRpcResult,ee=>"error"in ee?ee:jr(Nr({},ee),{result:create(ee.result,te)}))}function jsonRpcResultAndContext(te){return jsonRpcResult(type({context:type({slot:number$1()}),value:te}))}function notificationResultAndContext(te){return type({context:type({slot:number$1()}),value:te})}const GetInflationGovernorResult=type({foundation:number$1(),foundationTerm:number$1(),initial:number$1(),taper:number$1(),terminal:number$1()}),GetInflationRewardResult=jsonRpcResult(array$1(nullable(type({epoch:number$1(),effectiveSlot:number$1(),amount:number$1(),postBalance:number$1()})))),GetEpochInfoResult=type({epoch:number$1(),slotIndex:number$1(),slotsInEpoch:number$1(),absoluteSlot:number$1(),blockHeight:optional(number$1()),transactionCount:optional(number$1())}),GetEpochScheduleResult=type({slotsPerEpoch:number$1(),leaderScheduleSlotOffset:number$1(),warmup:boolean(),firstNormalEpoch:number$1(),firstNormalSlot:number$1()}),GetLeaderScheduleResult=record(string$1(),array$1(number$1())),TransactionErrorResult=nullable(union$1([type({}),string$1()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature"),VersionResult=type({"solana-core":string$1(),"feature-set":optional(number$1())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union$1([type({}),string$1()])),logs:nullable(array$1(string$1())),accounts:optional(nullable(array$1(nullable(type({executable:boolean(),owner:string$1(),lamports:number$1(),data:array$1(string$1()),rentEpoch:optional(number$1())}))))),unitsConsumed:optional(number$1())})),BlockProductionResponseStruct=jsonRpcResultAndContext(type({byIdentity:record(string$1(),array$1(number$1())),range:type({firstSlot:number$1(),lastSlot:number$1()})}));function createRpcClient(te,ee,re,ne,oe,ie){const se=ne||crossFetch;let ue;return oe&&(ue=async(ge,be)=>{const Se=await new Promise((Te,ke)=>{try{oe(ge,be,(Re,Ce)=>Te([Re,Ce]))}catch(Re){ke(Re)}});return await se(...Se)}),new browser$5(async(ge,be)=>{const Te={method:"POST",body:ge,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},re||{})};try{let ke=5,Re,Ce=500;for(;ue?Re=await ue(te,Te):Re=await se(te,Te),!(Re.status!==429||ie===!0||(ke-=1,ke===0));)console.log(`Server responded with ${Re.status} ${Re.statusText}.  Retrying after ${Ce}ms delay...`),await sleep(Ce),Ce*=2;const Pe=await Re.text();Re.ok?be(null,Pe):be(new Error(`${Re.status} ${Re.statusText}: ${Pe}`))}catch(ke){ke instanceof Error&&be(ke)}finally{}},{})}function createRpcRequest(te){return(ee,re)=>new Promise((ne,oe)=>{te.request(ee,re,(ie,se)=>{if(ie){oe(ie);return}ne(se)})})}function createRpcBatchRequest(te){return ee=>new Promise((re,ne)=>{ee.length===0&&re([]);const oe=ee.map(ie=>te.request(ie.methodName,ie.args));te.request(oe,(ie,se)=>{if(ie){ne(ie);return}re(se)})})}const GetInflationGovernorRpcResult=jsonRpcResult(GetInflationGovernorResult),GetEpochInfoRpcResult=jsonRpcResult(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult(number$1()),GetSupplyRpcResult=jsonRpcResultAndContext(type({total:number$1(),circulating:number$1(),nonCirculating:number$1(),nonCirculatingAccounts:array$1(PublicKeyFromString)})),TokenAmountResult=type({amount:string$1(),uiAmount:nullable(number$1()),decimals:number$1(),uiAmountString:optional(string$1())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext(array$1(type({address:PublicKeyFromString,amount:string$1(),uiAmount:nullable(number$1()),decimals:number$1(),uiAmountString:optional(string$1())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext(array$1(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number$1(),data:BufferFromRawAccountData,rentEpoch:number$1()})}))),ParsedAccountDataResult=type({program:string$1(),parsed:unknown(),space:number$1()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext(array$1(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number$1(),data:ParsedAccountDataResult,rentEpoch:number$1()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext(array$1(type({lamports:number$1(),address:PublicKeyFromString}))),AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number$1(),data:BufferFromRawAccountData,rentEpoch:number$1()}),KeyedAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce(union$1([instance(buffer$3.Buffer),ParsedAccountDataResult]),union$1([RawAccountDataResult,ParsedAccountDataResult]),te=>Array.isArray(te)?create(te,BufferFromRawAccountData):te),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number$1(),data:ParsedOrRawAccountData,rentEpoch:number$1()}),KeyedParsedAccountInfoResult=type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type({state:union$1([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number$1(),inactive:number$1()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult(array$1(type({signature:string$1(),slot:number$1(),err:TransactionErrorResult,memo:nullable(string$1()),blockTime:optional(nullable(number$1()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult(array$1(type({signature:string$1(),slot:number$1(),err:TransactionErrorResult,memo:nullable(string$1()),blockTime:optional(nullable(number$1()))}))),AccountNotificationResult=type({subscription:number$1(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type({subscription:number$1(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type({parent:number$1(),slot:number$1(),root:number$1()}),SlotNotificationResult=type({subscription:number$1(),result:SlotInfoResult}),SlotUpdateResult=union$1([type({type:union$1([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number$1(),timestamp:number$1()}),type({type:literal("createdBank"),parent:number$1(),slot:number$1(),timestamp:number$1()}),type({type:literal("frozen"),slot:number$1(),timestamp:number$1(),stats:type({numTransactionEntries:number$1(),numSuccessfulTransactions:number$1(),numFailedTransactions:number$1(),maxTransactionsPerEntry:number$1()})}),type({type:literal("dead"),slot:number$1(),timestamp:number$1(),err:string$1()})]),SlotUpdateNotificationResult=type({subscription:number$1(),result:SlotUpdateResult}),SignatureNotificationResult=type({subscription:number$1(),result:notificationResultAndContext(union$1([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type({subscription:number$1(),result:number$1()}),ContactInfoResult=type({pubkey:string$1(),gossip:nullable(string$1()),tpu:nullable(string$1()),rpc:nullable(string$1()),version:nullable(string$1())}),VoteAccountInfoResult=type({votePubkey:string$1(),nodePubkey:string$1(),activatedStake:number$1(),epochVoteAccount:boolean(),epochCredits:array$1(tuple([number$1(),number$1(),number$1()])),commission:number$1(),lastVote:number$1(),rootSlot:nullable(number$1())}),GetVoteAccounts=jsonRpcResult(type({current:array$1(VoteAccountInfoResult),delinquent:array$1(VoteAccountInfoResult)})),ConfirmationStatus=union$1([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number$1(),confirmations:nullable(number$1()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext(array$1(nullable(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult(number$1()),ConfirmedTransactionResult=type({signatures:array$1(string$1()),message:type({accountKeys:array$1(string$1()),header:type({numRequiredSignatures:number$1(),numReadonlySignedAccounts:number$1(),numReadonlyUnsignedAccounts:number$1()}),instructions:array$1(type({accounts:array$1(number$1()),data:string$1(),programIdIndex:number$1()})),recentBlockhash:string$1()})}),ParsedInstructionResult=type({parsed:unknown(),program:string$1(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array$1(PublicKeyFromString),data:string$1(),programId:PublicKeyFromString}),InstructionResult=union$1([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union$1([type({parsed:unknown(),program:string$1(),programId:string$1()}),type({accounts:array$1(string$1()),data:string$1(),programId:string$1()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,te=>"accounts"in te?create(te,RawInstructionResult):create(te,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array$1(string$1()),message:type({accountKeys:array$1(type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean()})),instructions:array$1(ParsedOrRawInstruction),recentBlockhash:string$1()})}),TokenBalanceResult=type({accountIndex:number$1(),mint:string$1(),owner:optional(string$1()),uiTokenAmount:TokenAmountResult}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number$1(),innerInstructions:optional(nullable(array$1(type({index:number$1(),instructions:array$1(type({accounts:array$1(number$1()),data:string$1(),programIdIndex:number$1()}))})))),preBalances:array$1(number$1()),postBalances:array$1(number$1()),logMessages:optional(nullable(array$1(string$1()))),preTokenBalances:optional(nullable(array$1(TokenBalanceResult))),postTokenBalances:optional(nullable(array$1(TokenBalanceResult)))}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number$1(),innerInstructions:optional(nullable(array$1(type({index:number$1(),instructions:array$1(ParsedOrRawInstruction)})))),preBalances:array$1(number$1()),postBalances:array$1(number$1()),logMessages:optional(nullable(array$1(string$1()))),preTokenBalances:optional(nullable(array$1(TokenBalanceResult))),postTokenBalances:optional(nullable(array$1(TokenBalanceResult)))}),GetBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array$1(type({pubkey:string$1(),lamports:number$1(),postBalance:nullable(number$1()),rewardType:nullable(string$1())}))),blockTime:nullable(number$1()),blockHeight:nullable(number$1())}))),GetConfirmedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array$1(type({pubkey:string$1(),lamports:number$1(),postBalance:nullable(number$1()),rewardType:nullable(string$1())}))),blockTime:nullable(number$1())}))),GetBlockSignaturesRpcResult=jsonRpcResult(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),signatures:array$1(string$1()),blockTime:nullable(number$1())}))),GetTransactionRpcResult=jsonRpcResult(nullable(type({slot:number$1(),meta:ConfirmedTransactionMetaResult,blockTime:optional(nullable(number$1())),transaction:ConfirmedTransactionResult}))),GetParsedTransactionRpcResult=jsonRpcResult(nullable(type({slot:number$1(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number$1()))}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext(type({blockhash:string$1(),feeCalculator:type({lamportsPerSignature:number$1()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext(type({blockhash:string$1(),lastValidBlockHeight:number$1()})),PerfSampleResult=type({slot:number$1(),numTransactions:number$1(),numSlots:number$1(),samplePeriodSecs:number$1()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult(array$1(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number$1()})}))),RequestAirdropRpcResult=jsonRpcResult(string$1()),SendTransactionRpcResult=jsonRpcResult(string$1()),LogsResult=type({err:TransactionErrorResult,logs:array$1(string$1()),signature:string$1()}),LogsNotificationResult=type({result:notificationResultAndContext(LogsResult),subscription:number$1()});class Connection{constructor(ee,re){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let ne=new URL(ee);const oe=ne.protocol==="https:";let ie,se,ue,he,ge;re&&typeof re=="string"?this._commitment=re:re&&(this._commitment=re.commitment,this._confirmTransactionInitialTimeout=re.confirmTransactionInitialTimeout,ie=re.wsEndpoint,se=re.httpHeaders,ue=re.fetch,he=re.fetchMiddleware,ge=re.disableRetryOnRateLimit),this._rpcEndpoint=ee,this._rpcWsEndpoint=ie||makeWebsocketUrl(ee),this._rpcClient=createRpcClient(ne.toString(),oe,se,ue,he,ge),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new Client_1(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(ee,re){const ne=this._buildArgs([ee.toBase58()],re),oe=await this._rpcRequest("getBalance",ne),ie=create(oe,jsonRpcResultAndContext(number$1()));if("error"in ie)throw new Error("failed to get balance for "+ee.toBase58()+": "+ie.error.message);return ie.result}async getBalance(ee,re){return await this.getBalanceAndContext(ee,re).then(ne=>ne.value).catch(ne=>{throw new Error("failed to get balance of account "+ee.toBase58()+": "+ne)})}async getBlockTime(ee){const re=await this._rpcRequest("getBlockTime",[ee]),ne=create(re,jsonRpcResult(nullable(number$1())));if("error"in ne)throw new Error("failed to get block time for slot "+ee+": "+ne.error.message);return ne.result}async getMinimumLedgerSlot(){const ee=await this._rpcRequest("minimumLedgerSlot",[]),re=create(ee,jsonRpcResult(number$1()));if("error"in re)throw new Error("failed to get minimum ledger slot: "+re.error.message);return re.result}async getFirstAvailableBlock(){const ee=await this._rpcRequest("getFirstAvailableBlock",[]),re=create(ee,SlotRpcResult);if("error"in re)throw new Error("failed to get first available block: "+re.error.message);return re.result}async getSupply(ee){let re={};typeof ee=="string"?re={commitment:ee}:ee?re=jr(Nr({},ee),{commitment:ee&&ee.commitment||this.commitment}):re={commitment:this.commitment};const ne=await this._rpcRequest("getSupply",[re]),oe=create(ne,GetSupplyRpcResult);if("error"in oe)throw new Error("failed to get supply: "+oe.error.message);return oe.result}async getTokenSupply(ee,re){const ne=this._buildArgs([ee.toBase58()],re),oe=await this._rpcRequest("getTokenSupply",ne),ie=create(oe,jsonRpcResultAndContext(TokenAmountResult));if("error"in ie)throw new Error("failed to get token supply: "+ie.error.message);return ie.result}async getTokenAccountBalance(ee,re){const ne=this._buildArgs([ee.toBase58()],re),oe=await this._rpcRequest("getTokenAccountBalance",ne),ie=create(oe,jsonRpcResultAndContext(TokenAmountResult));if("error"in ie)throw new Error("failed to get token account balance: "+ie.error.message);return ie.result}async getTokenAccountsByOwner(ee,re,ne){let oe=[ee.toBase58()];"mint"in re?oe.push({mint:re.mint.toBase58()}):oe.push({programId:re.programId.toBase58()});const ie=this._buildArgs(oe,ne,"base64"),se=await this._rpcRequest("getTokenAccountsByOwner",ie),ue=create(se,GetTokenAccountsByOwner);if("error"in ue)throw new Error("failed to get token accounts owned by account "+ee.toBase58()+": "+ue.error.message);return ue.result}async getParsedTokenAccountsByOwner(ee,re,ne){let oe=[ee.toBase58()];"mint"in re?oe.push({mint:re.mint.toBase58()}):oe.push({programId:re.programId.toBase58()});const ie=this._buildArgs(oe,ne,"jsonParsed"),se=await this._rpcRequest("getTokenAccountsByOwner",ie),ue=create(se,GetParsedTokenAccountsByOwner);if("error"in ue)throw new Error("failed to get token accounts owned by account "+ee.toBase58()+": "+ue.error.message);return ue.result}async getLargestAccounts(ee){const re=jr(Nr({},ee),{commitment:ee&&ee.commitment||this.commitment}),ne=re.filter||re.commitment?[re]:[],oe=await this._rpcRequest("getLargestAccounts",ne),ie=create(oe,GetLargestAccountsRpcResult);if("error"in ie)throw new Error("failed to get largest accounts: "+ie.error.message);return ie.result}async getTokenLargestAccounts(ee,re){const ne=this._buildArgs([ee.toBase58()],re),oe=await this._rpcRequest("getTokenLargestAccounts",ne),ie=create(oe,GetTokenLargestAccountsResult);if("error"in ie)throw new Error("failed to get token largest accounts: "+ie.error.message);return ie.result}async getAccountInfoAndContext(ee,re){const ne=this._buildArgs([ee.toBase58()],re,"base64"),oe=await this._rpcRequest("getAccountInfo",ne),ie=create(oe,jsonRpcResultAndContext(nullable(AccountInfoResult)));if("error"in ie)throw new Error("failed to get info about account "+ee.toBase58()+": "+ie.error.message);return ie.result}async getParsedAccountInfo(ee,re){const ne=this._buildArgs([ee.toBase58()],re,"jsonParsed"),oe=await this._rpcRequest("getAccountInfo",ne),ie=create(oe,jsonRpcResultAndContext(nullable(ParsedAccountInfoResult)));if("error"in ie)throw new Error("failed to get info about account "+ee.toBase58()+": "+ie.error.message);return ie.result}async getAccountInfo(ee,re){try{return(await this.getAccountInfoAndContext(ee,re)).value}catch(ne){throw new Error("failed to get info about account "+ee.toBase58()+": "+ne)}}async getMultipleAccountsInfoAndContext(ee,re){const ne=ee.map(ue=>ue.toBase58()),oe=this._buildArgs([ne],re,"base64"),ie=await this._rpcRequest("getMultipleAccounts",oe),se=create(ie,jsonRpcResultAndContext(array$1(nullable(AccountInfoResult))));if("error"in se)throw new Error("failed to get info for accounts "+ne+": "+se.error.message);return se.result}async getMultipleAccountsInfo(ee,re){return(await this.getMultipleAccountsInfoAndContext(ee,re)).value}async getStakeActivation(ee,re,ne){const oe=this._buildArgs([ee.toBase58()],re,void 0,ne!==void 0?{epoch:ne}:void 0),ie=await this._rpcRequest("getStakeActivation",oe),se=create(ie,jsonRpcResult(StakeActivationResult));if("error"in se)throw new Error(`failed to get Stake Activation ${ee.toBase58()}: ${se.error.message}`);return se.result}async getProgramAccounts(ee,re){const ne={};let oe,ie;re&&(typeof re=="string"?oe=re:(oe=re.commitment,ie=re.encoding,re.dataSlice&&(ne.dataSlice=re.dataSlice),re.filters&&(ne.filters=re.filters)));const se=this._buildArgs([ee.toBase58()],oe,ie||"base64",ne),ue=await this._rpcRequest("getProgramAccounts",se),he=create(ue,jsonRpcResult(array$1(KeyedAccountInfoResult)));if("error"in he)throw new Error("failed to get accounts owned by program "+ee.toBase58()+": "+he.error.message);return he.result}async getParsedProgramAccounts(ee,re){const ne={};let oe;re&&(typeof re=="string"?oe=re:(oe=re.commitment,re.filters&&(ne.filters=re.filters)));const ie=this._buildArgs([ee.toBase58()],oe,"jsonParsed",ne),se=await this._rpcRequest("getProgramAccounts",ie),ue=create(se,jsonRpcResult(array$1(KeyedParsedAccountInfoResult)));if("error"in ue)throw new Error("failed to get accounts owned by program "+ee.toBase58()+": "+ue.error.message);return ue.result}async confirmTransaction(ee,re){let ne;typeof ee=="string"?ne=ee:ne=ee.signature;let oe;try{oe=bs58$1.decode(ne)}catch{throw new Error("signature must be base58 encoded: "+ne)}assert$7(oe.length===64,"signature has invalid length");const ie=re||this.commitment;let se,ue,he=!1;const ge=new Promise((ke,Re)=>{try{ue=this.onSignature(ne,(Ce,Pe)=>{ue=void 0;const Ie={context:Pe,value:Ce};he=!0,ke({__type:TransactionStatus.PROCESSED,response:Ie})},ie)}catch(Ce){Re(Ce)}}),be=async()=>{try{return await this.getBlockHeight(re)}catch{return-1}},Se=new Promise(ke=>{if(typeof ee=="string"){let Re=this._confirmTransactionInitialTimeout||6e4;switch(ie){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{Re=this._confirmTransactionInitialTimeout||30*1e3;break}}se=setTimeout(()=>ke({__type:TransactionStatus.TIMED_OUT,timeoutMs:Re}),Re)}else{let Re=ee;(async()=>{let Ce=await be();if(!he){for(;Ce<=Re.lastValidBlockHeight;)if(await sleep(1e3),he||(Ce=await be(),he))return;ke({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}});let Te;try{const ke=await Promise.race([ge,Se]);switch(ke.__type){case TransactionStatus.BLOCKHEIGHT_EXCEEDED:throw new TransactionExpiredBlockheightExceededError(ne);case TransactionStatus.PROCESSED:Te=ke.response;break;case TransactionStatus.TIMED_OUT:throw new TransactionExpiredTimeoutError(ne,ke.timeoutMs/1e3)}}finally{clearTimeout(se),ue&&this.removeSignatureListener(ue)}return Te}async getClusterNodes(){const ee=await this._rpcRequest("getClusterNodes",[]),re=create(ee,jsonRpcResult(array$1(ContactInfoResult)));if("error"in re)throw new Error("failed to get cluster nodes: "+re.error.message);return re.result}async getVoteAccounts(ee){const re=this._buildArgs([],ee),ne=await this._rpcRequest("getVoteAccounts",re),oe=create(ne,GetVoteAccounts);if("error"in oe)throw new Error("failed to get vote accounts: "+oe.error.message);return oe.result}async getSlot(ee){const re=this._buildArgs([],ee),ne=await this._rpcRequest("getSlot",re),oe=create(ne,jsonRpcResult(number$1()));if("error"in oe)throw new Error("failed to get slot: "+oe.error.message);return oe.result}async getSlotLeader(ee){const re=this._buildArgs([],ee),ne=await this._rpcRequest("getSlotLeader",re),oe=create(ne,jsonRpcResult(string$1()));if("error"in oe)throw new Error("failed to get slot leader: "+oe.error.message);return oe.result}async getSlotLeaders(ee,re){const ne=[ee,re],oe=await this._rpcRequest("getSlotLeaders",ne),ie=create(oe,jsonRpcResult(array$1(PublicKeyFromString)));if("error"in ie)throw new Error("failed to get slot leaders: "+ie.error.message);return ie.result}async getSignatureStatus(ee,re){const{context:ne,value:oe}=await this.getSignatureStatuses([ee],re);assert$7(oe.length===1);const ie=oe[0];return{context:ne,value:ie}}async getSignatureStatuses(ee,re){const ne=[ee];re&&ne.push(re);const oe=await this._rpcRequest("getSignatureStatuses",ne),ie=create(oe,GetSignatureStatusesRpcResult);if("error"in ie)throw new Error("failed to get signature status: "+ie.error.message);return ie.result}async getTransactionCount(ee){const re=this._buildArgs([],ee),ne=await this._rpcRequest("getTransactionCount",re),oe=create(ne,jsonRpcResult(number$1()));if("error"in oe)throw new Error("failed to get transaction count: "+oe.error.message);return oe.result}async getTotalSupply(ee){return(await this.getSupply({commitment:ee,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(ee){const re=this._buildArgs([],ee),ne=await this._rpcRequest("getInflationGovernor",re),oe=create(ne,GetInflationGovernorRpcResult);if("error"in oe)throw new Error("failed to get inflation: "+oe.error.message);return oe.result}async getInflationReward(ee,re,ne){const oe=this._buildArgs([ee.map(ue=>ue.toBase58())],ne,void 0,{epoch:re}),ie=await this._rpcRequest("getInflationReward",oe),se=create(ie,GetInflationRewardResult);if("error"in se)throw new Error("failed to get inflation reward: "+se.error.message);return se.result}async getEpochInfo(ee){const re=this._buildArgs([],ee),ne=await this._rpcRequest("getEpochInfo",re),oe=create(ne,GetEpochInfoRpcResult);if("error"in oe)throw new Error("failed to get epoch info: "+oe.error.message);return oe.result}async getEpochSchedule(){const ee=await this._rpcRequest("getEpochSchedule",[]),re=create(ee,GetEpochScheduleRpcResult);if("error"in re)throw new Error("failed to get epoch schedule: "+re.error.message);const ne=re.result;return new EpochSchedule(ne.slotsPerEpoch,ne.leaderScheduleSlotOffset,ne.warmup,ne.firstNormalEpoch,ne.firstNormalSlot)}async getLeaderSchedule(){const ee=await this._rpcRequest("getLeaderSchedule",[]),re=create(ee,GetLeaderScheduleRpcResult);if("error"in re)throw new Error("failed to get leader schedule: "+re.error.message);return re.result}async getMinimumBalanceForRentExemption(ee,re){const ne=this._buildArgs([ee],re),oe=await this._rpcRequest("getMinimumBalanceForRentExemption",ne),ie=create(oe,GetMinimumBalanceForRentExemptionRpcResult);return"error"in ie?(console.warn("Unable to fetch minimum balance for rent exemption"),0):ie.result}async getRecentBlockhashAndContext(ee){const re=this._buildArgs([],ee),ne=await this._rpcRequest("getRecentBlockhash",re),oe=create(ne,GetRecentBlockhashAndContextRpcResult);if("error"in oe)throw new Error("failed to get recent blockhash: "+oe.error.message);return oe.result}async getRecentPerformanceSamples(ee){const re=this._buildArgs(ee?[ee]:[]),ne=await this._rpcRequest("getRecentPerformanceSamples",re),oe=create(ne,GetRecentPerformanceSamplesRpcResult);if("error"in oe)throw new Error("failed to get recent performance samples: "+oe.error.message);return oe.result}async getFeeCalculatorForBlockhash(ee,re){const ne=this._buildArgs([ee],re),oe=await this._rpcRequest("getFeeCalculatorForBlockhash",ne),ie=create(oe,GetFeeCalculatorRpcResult);if("error"in ie)throw new Error("failed to get fee calculator: "+ie.error.message);const{context:se,value:ue}=ie.result;return{context:se,value:ue!==null?ue.feeCalculator:null}}async getFeeForMessage(ee,re){const ne=ee.serialize().toString("base64"),oe=this._buildArgs([ne],re),ie=await this._rpcRequest("getFeeForMessage",oe),se=create(ie,jsonRpcResultAndContext(nullable(number$1())));if("error"in se)throw new Error("failed to get slot: "+se.error.message);if(se.result===null)throw new Error("invalid blockhash");return se.result}async getRecentBlockhash(ee){try{return(await this.getRecentBlockhashAndContext(ee)).value}catch(re){throw new Error("failed to get recent blockhash: "+re)}}async getLatestBlockhash(ee){try{return(await this.getLatestBlockhashAndContext(ee)).value}catch(re){throw new Error("failed to get recent blockhash: "+re)}}async getLatestBlockhashAndContext(ee){const re=this._buildArgs([],ee),ne=await this._rpcRequest("getLatestBlockhash",re),oe=create(ne,GetLatestBlockhashRpcResult);if("error"in oe)throw new Error("failed to get latest blockhash: "+oe.error.message);return oe.result}async getVersion(){const ee=await this._rpcRequest("getVersion",[]),re=create(ee,jsonRpcResult(VersionResult));if("error"in re)throw new Error("failed to get version: "+re.error.message);return re.result}async getGenesisHash(){const ee=await this._rpcRequest("getGenesisHash",[]),re=create(ee,jsonRpcResult(string$1()));if("error"in re)throw new Error("failed to get genesis hash: "+re.error.message);return re.result}async getBlock(ee,re){const ne=this._buildArgsAtLeastConfirmed([ee],re&&re.commitment),oe=await this._rpcRequest("getBlock",ne),ie=create(oe,GetBlockRpcResult);if("error"in ie)throw new Error("failed to get confirmed block: "+ie.error.message);const se=ie.result;return se&&jr(Nr({},se),{transactions:se.transactions.map(({transaction:ue,meta:he})=>{const ge=new Message(ue.message);return{meta:he,transaction:jr(Nr({},ue),{message:ge})}})})}async getBlockHeight(ee){const re=this._buildArgs([],ee),ne=await this._rpcRequest("getBlockHeight",re),oe=create(ne,jsonRpcResult(number$1()));if("error"in oe)throw new Error("failed to get block height information: "+oe.error.message);return oe.result}async getBlockProduction(ee){let re,ne;if(typeof ee=="string")ne=ee;else if(ee){const ue=ee,{commitment:he}=ue,ge=En(ue,["commitment"]);ne=he,re=ge}const oe=this._buildArgs([],ne,"base64",re),ie=await this._rpcRequest("getBlockProduction",oe),se=create(ie,BlockProductionResponseStruct);if("error"in se)throw new Error("failed to get block production information: "+se.error.message);return se.result}async getTransaction(ee,re){const ne=this._buildArgsAtLeastConfirmed([ee],re&&re.commitment),oe=await this._rpcRequest("getTransaction",ne),ie=create(oe,GetTransactionRpcResult);if("error"in ie)throw new Error("failed to get transaction: "+ie.error.message);const se=ie.result;return se&&jr(Nr({},se),{transaction:jr(Nr({},se.transaction),{message:new Message(se.transaction.message)})})}async getParsedTransaction(ee,re){const ne=this._buildArgsAtLeastConfirmed([ee],re,"jsonParsed"),oe=await this._rpcRequest("getTransaction",ne),ie=create(oe,GetParsedTransactionRpcResult);if("error"in ie)throw new Error("failed to get transaction: "+ie.error.message);return ie.result}async getParsedTransactions(ee,re){const ne=ee.map(se=>{const ue=this._buildArgsAtLeastConfirmed([se],re,"jsonParsed");return{methodName:"getTransaction",args:ue}});return(await this._rpcBatchRequest(ne)).map(se=>{const ue=create(se,GetParsedTransactionRpcResult);if("error"in ue)throw new Error("failed to get transactions: "+ue.error.message);return ue.result})}async getTransactions(ee,re){const ne=ee.map(se=>{const ue=this._buildArgsAtLeastConfirmed([se],re);return{methodName:"getTransaction",args:ue}});return(await this._rpcBatchRequest(ne)).map(se=>{const ue=create(se,GetTransactionRpcResult);if("error"in ue)throw new Error("failed to get transactions: "+ue.error.message);return ue.result})}async getConfirmedBlock(ee,re){const ne=this._buildArgsAtLeastConfirmed([ee],re),oe=await this._rpcRequest("getConfirmedBlock",ne),ie=create(oe,GetConfirmedBlockRpcResult);if("error"in ie)throw new Error("failed to get confirmed block: "+ie.error.message);const se=ie.result;if(!se)throw new Error("Confirmed block "+ee+" not found");const ue=jr(Nr({},se),{transactions:se.transactions.map(({transaction:he,meta:ge})=>{const be=new Message(he.message);return{meta:ge,transaction:jr(Nr({},he),{message:be})}})});return jr(Nr({},ue),{transactions:ue.transactions.map(({transaction:he,meta:ge})=>({meta:ge,transaction:Transaction$2.populate(he.message,he.signatures)}))})}async getBlocks(ee,re,ne){const oe=this._buildArgsAtLeastConfirmed(re!==void 0?[ee,re]:[ee],ne),ie=await this._rpcRequest("getBlocks",oe),se=create(ie,jsonRpcResult(array$1(number$1())));if("error"in se)throw new Error("failed to get blocks: "+se.error.message);return se.result}async getBlockSignatures(ee,re){const ne=this._buildArgsAtLeastConfirmed([ee],re,void 0,{transactionDetails:"signatures",rewards:!1}),oe=await this._rpcRequest("getBlock",ne),ie=create(oe,GetBlockSignaturesRpcResult);if("error"in ie)throw new Error("failed to get block: "+ie.error.message);const se=ie.result;if(!se)throw new Error("Block "+ee+" not found");return se}async getConfirmedBlockSignatures(ee,re){const ne=this._buildArgsAtLeastConfirmed([ee],re,void 0,{transactionDetails:"signatures",rewards:!1}),oe=await this._rpcRequest("getConfirmedBlock",ne),ie=create(oe,GetBlockSignaturesRpcResult);if("error"in ie)throw new Error("failed to get confirmed block: "+ie.error.message);const se=ie.result;if(!se)throw new Error("Confirmed block "+ee+" not found");return se}async getConfirmedTransaction(ee,re){const ne=this._buildArgsAtLeastConfirmed([ee],re),oe=await this._rpcRequest("getConfirmedTransaction",ne),ie=create(oe,GetTransactionRpcResult);if("error"in ie)throw new Error("failed to get transaction: "+ie.error.message);const se=ie.result;if(!se)return se;const ue=new Message(se.transaction.message),he=se.transaction.signatures;return jr(Nr({},se),{transaction:Transaction$2.populate(ue,he)})}async getParsedConfirmedTransaction(ee,re){const ne=this._buildArgsAtLeastConfirmed([ee],re,"jsonParsed"),oe=await this._rpcRequest("getConfirmedTransaction",ne),ie=create(oe,GetParsedTransactionRpcResult);if("error"in ie)throw new Error("failed to get confirmed transaction: "+ie.error.message);return ie.result}async getParsedConfirmedTransactions(ee,re){const ne=ee.map(se=>{const ue=this._buildArgsAtLeastConfirmed([se],re,"jsonParsed");return{methodName:"getConfirmedTransaction",args:ue}});return(await this._rpcBatchRequest(ne)).map(se=>{const ue=create(se,GetParsedTransactionRpcResult);if("error"in ue)throw new Error("failed to get confirmed transactions: "+ue.error.message);return ue.result})}async getConfirmedSignaturesForAddress(ee,re,ne){let oe={},ie=await this.getFirstAvailableBlock();for(;!("until"in oe)&&(re--,!(re<=0||re<ie));)try{const he=await this.getConfirmedBlockSignatures(re,"finalized");he.signatures.length>0&&(oe.until=he.signatures[he.signatures.length-1].toString())}catch(he){if(he instanceof Error&&he.message.includes("skipped"))continue;throw he}let se=await this.getSlot("finalized");for(;!("before"in oe)&&(ne++,!(ne>se));)try{const he=await this.getConfirmedBlockSignatures(ne);he.signatures.length>0&&(oe.before=he.signatures[he.signatures.length-1].toString())}catch(he){if(he instanceof Error&&he.message.includes("skipped"))continue;throw he}return(await this.getConfirmedSignaturesForAddress2(ee,oe)).map(he=>he.signature)}async getConfirmedSignaturesForAddress2(ee,re,ne){const oe=this._buildArgsAtLeastConfirmed([ee.toBase58()],ne,void 0,re),ie=await this._rpcRequest("getConfirmedSignaturesForAddress2",oe),se=create(ie,GetConfirmedSignaturesForAddress2RpcResult);if("error"in se)throw new Error("failed to get confirmed signatures for address: "+se.error.message);return se.result}async getSignaturesForAddress(ee,re,ne){const oe=this._buildArgsAtLeastConfirmed([ee.toBase58()],ne,void 0,re),ie=await this._rpcRequest("getSignaturesForAddress",oe),se=create(ie,GetSignaturesForAddressRpcResult);if("error"in se)throw new Error("failed to get signatures for address: "+se.error.message);return se.result}async getNonceAndContext(ee,re){const{context:ne,value:oe}=await this.getAccountInfoAndContext(ee,re);let ie=null;return oe!==null&&(ie=NonceAccount.fromAccountData(oe.data)),{context:ne,value:ie}}async getNonce(ee,re){return await this.getNonceAndContext(ee,re).then(ne=>ne.value).catch(ne=>{throw new Error("failed to get nonce for account "+ee.toBase58()+": "+ne)})}async requestAirdrop(ee,re){const ne=await this._rpcRequest("requestAirdrop",[ee.toBase58(),re]),oe=create(ne,RequestAirdropRpcResult);if("error"in oe)throw new Error("airdrop to "+ee.toBase58()+" failed: "+oe.error.message);return oe.result}async _blockhashWithExpiryBlockHeight(ee){if(!ee){for(;this._pollingBlockhash;)await sleep(100);const ne=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!ne)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const ee=Date.now(),re=this._blockhashInfo.latestBlockhash,ne=re?re.blockhash:null;for(let oe=0;oe<50;oe++){const ie=await this.getLatestBlockhash("finalized");if(ne!==ie.blockhash)return this._blockhashInfo={latestBlockhash:ie,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},ie;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-ee}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(ee,re,ne){let oe;if(ee instanceof Transaction$2){let ke=ee;oe=new Transaction$2,oe.feePayer=ke.feePayer,oe.instructions=ee.instructions,oe.nonceInfo=ke.nonceInfo,oe.signatures=ke.signatures}else oe=Transaction$2.populate(ee),oe._message=oe._json=void 0;if(oe.nonceInfo&&re)oe.sign(...re);else{let ke=this._disableBlockhashCaching;for(;;){const Re=await this._blockhashWithExpiryBlockHeight(ke);if(oe.lastValidBlockHeight=Re.lastValidBlockHeight,oe.recentBlockhash=Re.blockhash,!re)break;if(oe.sign(...re),!oe.signature)throw new Error("!signature");const Ce=oe.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(Ce)&&!this._blockhashInfo.transactionSignatures.includes(Ce)){this._blockhashInfo.simulatedSignatures.push(Ce);break}else ke=!0}}const ie=oe._compile(),se=ie.serialize(),he=oe._serialize(se).toString("base64"),ge={encoding:"base64",commitment:this.commitment};if(ne){const ke=(Array.isArray(ne)?ne:ie.nonProgramIds()).map(Re=>Re.toBase58());ge.accounts={encoding:"base64",addresses:ke}}re&&(ge.sigVerify=!0);const be=[he,ge],Se=await this._rpcRequest("simulateTransaction",be),Te=create(Se,SimulatedTransactionResponseStruct);if("error"in Te){let ke;if("data"in Te.error&&(ke=Te.error.data.logs,ke&&Array.isArray(ke))){const Re=`
    `,Ce=Re+ke.join(Re);console.error(Te.error.message,Ce)}throw new SendTransactionError("failed to simulate transaction: "+Te.error.message,ke)}return Te.result}async sendTransaction(ee,re,ne){if(ee.nonceInfo)ee.sign(...re);else{let ie=this._disableBlockhashCaching;for(;;){const se=await this._blockhashWithExpiryBlockHeight(ie);if(ee.lastValidBlockHeight=se.lastValidBlockHeight,ee.recentBlockhash=se.blockhash,ee.sign(...re),!ee.signature)throw new Error("!signature");const ue=ee.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(ue))ie=!0;else{this._blockhashInfo.transactionSignatures.push(ue);break}}}const oe=ee.serialize();return await this.sendRawTransaction(oe,ne)}async sendRawTransaction(ee,re){const ne=toBuffer$3(ee).toString("base64");return await this.sendEncodedTransaction(ne,re)}async sendEncodedTransaction(ee,re){const ne={encoding:"base64"},oe=re&&re.skipPreflight,ie=re&&re.preflightCommitment||this.commitment;re&&re.maxRetries&&(ne.maxRetries=re.maxRetries),oe&&(ne.skipPreflight=oe),ie&&(ne.preflightCommitment=ie);const se=[ee,ne],ue=await this._rpcRequest("sendTransaction",se),he=create(ue,SendTransactionRpcResult);if("error"in he){let ge;throw"data"in he.error&&(ge=he.error.data.logs),new SendTransactionError("failed to send transaction: "+he.error.message,ge)}return he.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(ee){this._rpcWebSocketConnected=!1,console.error("ws error:",ee.message)}_wsOnClose(ee){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),ee===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([re,ne])=>{this._subscriptionsByHash[re]=jr(Nr({},ne),{state:"pending"})})}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(ne){ne instanceof Error&&console.log(`Error when closing socket connection: ${ne.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const ee=this._rpcWebSocketGeneration,re=()=>ee===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async ne=>{const oe=this._subscriptionsByHash[ne];if(oe!==void 0)switch(oe.state){case"pending":case"unsubscribed":if(oe.callbacks.size===0){delete this._subscriptionsByHash[ne],oe.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[oe.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:ie,method:se}=oe;try{this._subscriptionsByHash[ne]=jr(Nr({},oe),{state:"subscribing"});const ue=await this._rpcWebSocket.call(se,ie);this._subscriptionsByHash[ne]=jr(Nr({},oe),{serverSubscriptionId:ue,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[ue]=oe.callbacks,await this._updateSubscriptions()}catch(ue){if(ue instanceof Error&&console.error(`${se} error for argument`,ie,ue.message),!re())return;this._subscriptionsByHash[ne]=jr(Nr({},oe),{state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":oe.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:ie,unsubscribeMethod:se}=oe;if(this._subscriptionsAutoDisposedByRpc.has(ie))this._subscriptionsAutoDisposedByRpc.delete(ie);else{this._subscriptionsByHash[ne]=jr(Nr({},oe),{state:"unsubscribing"});try{await this._rpcWebSocket.call(se,[ie])}catch(ue){if(ue instanceof Error&&console.error(`${se} error:`,ue.message),!re())return;this._subscriptionsByHash[ne]=jr(Nr({},oe),{state:"subscribed"}),await this._updateSubscriptions();return}}this._subscriptionsByHash[ne]=jr(Nr({},oe),{state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(ee,re){const ne=this._subscriptionCallbacksByServerSubscriptionId[ee];ne!==void 0&&ne.forEach(oe=>{try{oe(...re)}catch(ie){console.error(ie)}})}_wsOnAccountNotification(ee){const{result:re,subscription:ne}=create(ee,AccountNotificationResult);this._handleServerNotification(ne,[re.value,re.context])}_makeSubscription(ee,re){const ne=this._nextClientSubscriptionId++,oe=fastStableStringify$1([ee.method,re]),ie=this._subscriptionsByHash[oe];return ie===void 0?this._subscriptionsByHash[oe]=jr(Nr({},ee),{args:re,callbacks:new Set([ee.callback]),state:"pending"}):ie.callbacks.add(ee.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[ne]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[ne];const se=this._subscriptionsByHash[oe];assert$7(se!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${ne}`),se.callbacks.delete(ee.callback),await this._updateSubscriptions()},this._updateSubscriptions(),ne}onAccountChange(ee,re,ne){const oe=this._buildArgs([ee.toBase58()],ne||this._commitment||"finalized","base64");return this._makeSubscription({callback:re,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},oe)}async removeAccountChangeListener(ee){await this._unsubscribeClientSubscription(ee,"account change")}_wsOnProgramAccountNotification(ee){const{result:re,subscription:ne}=create(ee,ProgramAccountNotificationResult);this._handleServerNotification(ne,[{accountId:re.value.pubkey,accountInfo:re.value.account},re.context])}onProgramAccountChange(ee,re,ne,oe){const ie=this._buildArgs([ee.toBase58()],ne||this._commitment||"finalized","base64",oe?{filters:oe}:void 0);return this._makeSubscription({callback:re,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},ie)}async removeProgramAccountChangeListener(ee){await this._unsubscribeClientSubscription(ee,"program account change")}onLogs(ee,re,ne){const oe=this._buildArgs([typeof ee=="object"?{mentions:[ee.toString()]}:ee],ne||this._commitment||"finalized");return this._makeSubscription({callback:re,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},oe)}async removeOnLogsListener(ee){await this._unsubscribeClientSubscription(ee,"logs")}_wsOnLogsNotification(ee){const{result:re,subscription:ne}=create(ee,LogsNotificationResult);this._handleServerNotification(ne,[re.value,re.context])}_wsOnSlotNotification(ee){const{result:re,subscription:ne}=create(ee,SlotNotificationResult);this._handleServerNotification(ne,[re])}onSlotChange(ee){return this._makeSubscription({callback:ee,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(ee){await this._unsubscribeClientSubscription(ee,"slot change")}_wsOnSlotUpdatesNotification(ee){const{result:re,subscription:ne}=create(ee,SlotUpdateNotificationResult);this._handleServerNotification(ne,[re])}onSlotUpdate(ee){return this._makeSubscription({callback:ee,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(ee){await this._unsubscribeClientSubscription(ee,"slot update")}async _unsubscribeClientSubscription(ee,re){const ne=this._subscriptionDisposeFunctionsByClientSubscriptionId[ee];ne?await ne():console.warn(`Ignored unsubscribe request because an active subscription with id \`${ee}\` for '${re}' events could not be found.`)}_buildArgs(ee,re,ne,oe){const ie=re||this._commitment;if(ie||ne||oe){let se={};ne&&(se.encoding=ne),ie&&(se.commitment=ie),oe&&(se=Object.assign(se,oe)),ee.push(se)}return ee}_buildArgsAtLeastConfirmed(ee,re,ne,oe){const ie=re||this._commitment;if(ie&&!["confirmed","finalized"].includes(ie))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(ee,re,ne,oe)}_wsOnSignatureNotification(ee){const{result:re,subscription:ne}=create(ee,SignatureNotificationResult);re.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(ne),this._handleServerNotification(ne,re.value==="receivedSignature"?[{type:"received"},re.context]:[{type:"status",result:re.value},re.context])}onSignature(ee,re,ne){const oe=this._buildArgs([ee],ne||this._commitment||"finalized"),ie=this._makeSubscription({callback:(se,ue)=>{if(se.type==="status"){re(se.result,ue);try{this.removeSignatureListener(ie)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},oe);return ie}onSignatureWithOptions(ee,re,ne){const he=jr(Nr({},ne),{commitment:ne&&ne.commitment||this._commitment||"finalized"}),{commitment:oe}=he,ie=En(he,["commitment"]),se=this._buildArgs([ee],oe,void 0,ie),ue=this._makeSubscription({callback:(ge,be)=>{re(ge,be);try{this.removeSignatureListener(ue)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},se);return ue}async removeSignatureListener(ee){await this._unsubscribeClientSubscription(ee,"signature result")}_wsOnRootNotification(ee){const{result:re,subscription:ne}=create(ee,RootNotificationResult);this._handleServerNotification(ne,[re])}onRootChange(ee){return this._makeSubscription({callback:ee,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(ee){await this._unsubscribeClientSubscription(ee,"root change")}}class Keypair{constructor(ee){this._keypair=void 0,ee?this._keypair=ee:this._keypair=nacl.sign.keyPair()}static generate(){return new Keypair(nacl.sign.keyPair())}static fromSecretKey(ee,re){const ne=nacl.sign.keyPair.fromSecretKey(ee);if(!re||!re.skipValidation){const ie=new TextEncoder().encode("@solana/web3.js-validation-v1"),se=nacl.sign.detached(ie,ne.secretKey);if(!nacl.sign.detached.verify(ie,se,ne.publicKey))throw new Error("provided secretKey is invalid")}return new Keypair(ne)}static fromSeed(ee){return new Keypair(nacl.sign.keyPair.fromSeed(ee))}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(ee){const{publicKey:re,message:ne,signature:oe,instructionIndex:ie}=ee;assert$7(re.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${re.length} bytes`),assert$7(oe.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${oe.length} bytes`);const se=ED25519_INSTRUCTION_LAYOUT.span,ue=se+re.length,he=ue+oe.length,ge=1,be=buffer$3.Buffer.alloc(he+ne.length),Se=ie==null?65535:ie;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:ge,padding:0,signatureOffset:ue,signatureInstructionIndex:Se,publicKeyOffset:se,publicKeyInstructionIndex:Se,messageDataOffset:he,messageDataSize:ne.length,messageInstructionIndex:Se},be),be.fill(re,se),be.fill(oe,ue),be.fill(ne,he),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:be})}static createInstructionWithPrivateKey(ee){const{privateKey:re,message:ne,instructionIndex:oe}=ee;assert$7(re.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${re.length} bytes`);try{const ie=Keypair.fromSecretKey(re),se=ie.publicKey.toBytes(),ue=nacl.sign.detached(ne,ie.secretKey);return this.createInstructionWithPublicKey({publicKey:se,message:ne,signature:ue,instructionIndex:oe})}catch(ie){throw new Error(`Error creating instruction; ${ie}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(ee,re){this.staker=void 0,this.withdrawer=void 0,this.staker=ee,this.withdrawer=re}}class Lockup{constructor(ee,re,ne){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=ee,this.epoch=re,this.custodian=ne}}Lockup.default=new Lockup(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(ee){this.checkProgramId(ee.programId);const ne=u32$2("instruction").decode(ee.data);let oe;for(const[ie,se]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(se.index==ne){oe=ie;break}if(!oe)throw new Error("Instruction type incorrect; not a StakeInstruction");return oe}static decodeInitialize(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{authorized:re,lockup:ne}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Initialize,ee.data);return{stakePubkey:ee.keys[0].pubkey,authorized:new Authorized(new PublicKey(re.staker),new PublicKey(re.withdrawer)),lockup:new Lockup(ne.unixTimestamp,ne.epoch,new PublicKey(ne.custodian))}}static decodeDelegate(ee){return this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,6),decodeData(STAKE_INSTRUCTION_LAYOUTS.Delegate,ee.data),{stakePubkey:ee.keys[0].pubkey,votePubkey:ee.keys[1].pubkey,authorizedPubkey:ee.keys[5].pubkey}}static decodeAuthorize(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{newAuthorized:re,stakeAuthorizationType:ne}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Authorize,ee.data),oe={stakePubkey:ee.keys[0].pubkey,authorizedPubkey:ee.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(re),stakeAuthorizationType:{index:ne}};return ee.keys.length>3&&(oe.custodianPubkey=ee.keys[3].pubkey),oe}static decodeAuthorizeWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{newAuthorized:re,stakeAuthorizationType:ne,authoritySeed:oe,authorityOwner:ie}=decodeData(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,ee.data),se={stakePubkey:ee.keys[0].pubkey,authorityBase:ee.keys[1].pubkey,authoritySeed:oe,authorityOwner:new PublicKey(ie),newAuthorizedPubkey:new PublicKey(re),stakeAuthorizationType:{index:ne}};return ee.keys.length>3&&(se.custodianPubkey=ee.keys[3].pubkey),se}static decodeSplit(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{lamports:re}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Split,ee.data);return{stakePubkey:ee.keys[0].pubkey,splitStakePubkey:ee.keys[1].pubkey,authorizedPubkey:ee.keys[2].pubkey,lamports:re}}static decodeMerge(ee){return this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3),decodeData(STAKE_INSTRUCTION_LAYOUTS.Merge,ee.data),{stakePubkey:ee.keys[0].pubkey,sourceStakePubKey:ee.keys[1].pubkey,authorizedPubkey:ee.keys[4].pubkey}}static decodeWithdraw(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,5);const{lamports:re}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Withdraw,ee.data),ne={stakePubkey:ee.keys[0].pubkey,toPubkey:ee.keys[1].pubkey,authorizedPubkey:ee.keys[4].pubkey,lamports:re};return ee.keys.length>5&&(ne.custodianPubkey=ee.keys[5].pubkey),ne}static decodeDeactivate(ee){return this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3),decodeData(STAKE_INSTRUCTION_LAYOUTS.Deactivate,ee.data),{stakePubkey:ee.keys[0].pubkey,authorizedPubkey:ee.keys[2].pubkey}}static checkProgramId(ee){if(!ee.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(ee,re){if(ee.length<re)throw new Error(`invalid instruction; found ${ee.length} keys, expected at least ${re}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$3([u32$2("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$3([u32$2("instruction"),publicKey$3("newAuthorized"),u32$2("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$2("instruction")])},Split:{index:3,layout:struct$3([u32$2("instruction"),ns64("lamports")])},Withdraw:{index:4,layout:struct$3([u32$2("instruction"),ns64("lamports")])},Deactivate:{index:5,layout:struct$3([u32$2("instruction")])},Merge:{index:7,layout:struct$3([u32$2("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$2("instruction"),publicKey$3("newAuthorized"),u32$2("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$3("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(ee){const{stakePubkey:re,authorized:ne,lockup:oe}=ee,ie=oe||Lockup.default,se=STAKE_INSTRUCTION_LAYOUTS.Initialize,ue=encodeData$1(se,{authorized:{staker:toBuffer$3(ne.staker.toBuffer()),withdrawer:toBuffer$3(ne.withdrawer.toBuffer())},lockup:{unixTimestamp:ie.unixTimestamp,epoch:ie.epoch,custodian:toBuffer$3(ie.custodian.toBuffer())}}),he={keys:[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:ue};return new TransactionInstruction(he)}static createAccountWithSeed(ee){const re=new Transaction$2;re.add(SystemProgram.createAccountWithSeed({fromPubkey:ee.fromPubkey,newAccountPubkey:ee.stakePubkey,basePubkey:ee.basePubkey,seed:ee.seed,lamports:ee.lamports,space:this.space,programId:this.programId}));const{stakePubkey:ne,authorized:oe,lockup:ie}=ee;return re.add(this.initialize({stakePubkey:ne,authorized:oe,lockup:ie}))}static createAccount(ee){const re=new Transaction$2;re.add(SystemProgram.createAccount({fromPubkey:ee.fromPubkey,newAccountPubkey:ee.stakePubkey,lamports:ee.lamports,space:this.space,programId:this.programId}));const{stakePubkey:ne,authorized:oe,lockup:ie}=ee;return re.add(this.initialize({stakePubkey:ne,authorized:oe,lockup:ie}))}static delegate(ee){const{stakePubkey:re,authorizedPubkey:ne,votePubkey:oe}=ee,ie=STAKE_INSTRUCTION_LAYOUTS.Delegate,se=encodeData$1(ie);return new Transaction$2().add({keys:[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:oe,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!0,isWritable:!1}],programId:this.programId,data:se})}static authorize(ee){const{stakePubkey:re,authorizedPubkey:ne,newAuthorizedPubkey:oe,stakeAuthorizationType:ie,custodianPubkey:se}=ee,ue=STAKE_INSTRUCTION_LAYOUTS.Authorize,he=encodeData$1(ue,{newAuthorized:toBuffer$3(oe.toBuffer()),stakeAuthorizationType:ie.index}),ge=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!0,isWritable:!1}];return se&&ge.push({pubkey:se,isSigner:!1,isWritable:!1}),new Transaction$2().add({keys:ge,programId:this.programId,data:he})}static authorizeWithSeed(ee){const{stakePubkey:re,authorityBase:ne,authoritySeed:oe,authorityOwner:ie,newAuthorizedPubkey:se,stakeAuthorizationType:ue,custodianPubkey:he}=ee,ge=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,be=encodeData$1(ge,{newAuthorized:toBuffer$3(se.toBuffer()),stakeAuthorizationType:ue.index,authoritySeed:oe,authorityOwner:toBuffer$3(ie.toBuffer())}),Se=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return he&&Se.push({pubkey:he,isSigner:!1,isWritable:!1}),new Transaction$2().add({keys:Se,programId:this.programId,data:be})}static splitInstruction(ee){const{stakePubkey:re,authorizedPubkey:ne,splitStakePubkey:oe,lamports:ie}=ee,se=STAKE_INSTRUCTION_LAYOUTS.Split,ue=encodeData$1(se,{lamports:ie});return new TransactionInstruction({keys:[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:oe,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!0,isWritable:!1}],programId:this.programId,data:ue})}static split(ee){const re=new Transaction$2;return re.add(SystemProgram.createAccount({fromPubkey:ee.authorizedPubkey,newAccountPubkey:ee.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),re.add(this.splitInstruction(ee))}static splitWithSeed(ee){const{stakePubkey:re,authorizedPubkey:ne,splitStakePubkey:oe,basePubkey:ie,seed:se,lamports:ue}=ee,he=new Transaction$2;return he.add(SystemProgram.allocate({accountPubkey:oe,basePubkey:ie,seed:se,space:this.space,programId:this.programId})),he.add(this.splitInstruction({stakePubkey:re,authorizedPubkey:ne,splitStakePubkey:oe,lamports:ue}))}static merge(ee){const{stakePubkey:re,sourceStakePubKey:ne,authorizedPubkey:oe}=ee,ie=STAKE_INSTRUCTION_LAYOUTS.Merge,se=encodeData$1(ie);return new Transaction$2().add({keys:[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:oe,isSigner:!0,isWritable:!1}],programId:this.programId,data:se})}static withdraw(ee){const{stakePubkey:re,authorizedPubkey:ne,toPubkey:oe,lamports:ie,custodianPubkey:se}=ee,ue=STAKE_INSTRUCTION_LAYOUTS.Withdraw,he=encodeData$1(ue,{lamports:ie}),ge=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:oe,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!0,isWritable:!1}];return se&&ge.push({pubkey:se,isSigner:!1,isWritable:!1}),new Transaction$2().add({keys:ge,programId:this.programId,data:he})}static deactivate(ee){const{stakePubkey:re,authorizedPubkey:ne}=ee,oe=STAKE_INSTRUCTION_LAYOUTS.Deactivate,ie=encodeData$1(oe);return new Transaction$2().add({keys:[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!0,isWritable:!1}],programId:this.programId,data:ie})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111");StakeProgram.space=200;const{publicKeyCreate:publicKeyCreate$1,ecdsaSign}=elliptic,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(ee){assert$7(ee.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${ee.length} bytes`);try{return buffer$3.Buffer.from(sha3.keccak_256.update(toBuffer$3(ee)).digest()).slice(-ETHEREUM_ADDRESS_BYTES)}catch(re){throw new Error(`Error constructing Ethereum address: ${re}`)}}static createInstructionWithPublicKey(ee){const{publicKey:re,message:ne,signature:oe,recoveryId:ie,instructionIndex:se}=ee;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(re),message:ne,signature:oe,recoveryId:ie,instructionIndex:se})}static createInstructionWithEthAddress(ee){const{ethAddress:re,message:ne,signature:oe,recoveryId:ie,instructionIndex:se=0}=ee;let ue;typeof re=="string"?re.startsWith("0x")?ue=buffer$3.Buffer.from(re.substr(2),"hex"):ue=buffer$3.Buffer.from(re,"hex"):ue=re,assert$7(ue.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${ue.length} bytes`);const he=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,ge=he,be=he+ue.length,Se=be+oe.length+1,Te=1,ke=buffer$3.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+ne.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:Te,signatureOffset:be,signatureInstructionIndex:se,ethAddressOffset:ge,ethAddressInstructionIndex:se,messageDataOffset:Se,messageDataSize:ne.length,messageInstructionIndex:se,signature:toBuffer$3(oe),ethAddress:toBuffer$3(ue),recoveryId:ie},ke),ke.fill(toBuffer$3(ne),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:ke})}static createInstructionWithPrivateKey(ee){const{privateKey:re,message:ne,instructionIndex:oe}=ee;assert$7(re.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${re.length} bytes`);try{const ie=toBuffer$3(re),se=publicKeyCreate$1(ie,!1).slice(1),ue=buffer$3.Buffer.from(sha3.keccak_256.update(toBuffer$3(ne)).digest()),{signature:he,recid:ge}=ecdsaSign(ue,ie);return this.createInstructionWithPublicKey({publicKey:se,message:ne,signature:he,recoveryId:ge,instructionIndex:oe})}catch(ie){throw new Error(`Error creating instruction; ${ie}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type({name:string$1(),website:optional(string$1()),details:optional(string$1()),keybaseUsername:optional(string$1())});class ValidatorInfo{constructor(ee,re){this.key=void 0,this.info=void 0,this.key=ee,this.info=re}static fromConfigData(ee){let ne=[...ee];if(decodeLength(ne)!==2)return null;const ie=[];for(let se=0;se<2;se++){const ue=new PublicKey(ne.slice(0,32));ne=ne.slice(32);const he=ne.slice(0,1)[0]===1;ne=ne.slice(1),ie.push({publicKey:ue,isSigner:he})}if(ie[0].publicKey.equals(VALIDATOR_INFO_KEY)&&ie[1].isSigner){const se=rustString().decode(buffer$3.Buffer.from(ne)),ue=JSON.parse(se);return assert$j(ue,InfoString),new ValidatorInfo(ie[1].publicKey,ue)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$3([publicKey$3("nodePubkey"),publicKey$3("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$2("confirmationCount")]),offset(u32$2(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$3("authorizedVoter")]),offset(u32$2(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$3("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset(u32$2(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(ee){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=ee.nodePubkey,this.authorizedWithdrawer=ee.authorizedWithdrawer,this.commission=ee.commission,this.rootSlot=ee.rootSlot,this.votes=ee.votes,this.authorizedVoters=ee.authorizedVoters,this.priorVoters=ee.priorVoters,this.epochCredits=ee.epochCredits,this.lastTimestamp=ee.lastTimestamp}static fromAccountData(ee){const ne=VoteAccountLayout.decode(toBuffer$3(ee),4);let oe=ne.rootSlot;return ne.rootSlotValid||(oe=null),new VoteAccount({nodePubkey:new PublicKey(ne.nodePubkey),authorizedWithdrawer:new PublicKey(ne.authorizedWithdrawer),commission:ne.commission,votes:ne.votes,rootSlot:oe,authorizedVoters:ne.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(ne.priorVoters),epochCredits:ne.epochCredits,lastTimestamp:ne.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:te,epoch:ee}){return{epoch:ee,authorizedVoter:new PublicKey(te)}}function parsePriorVoters({authorizedPubkey:te,epochOfLastAuthorizedSwitch:ee,targetEpoch:re}){return{authorizedPubkey:new PublicKey(te),epochOfLastAuthorizedSwitch:ee,targetEpoch:re}}function getPriorVoters({buf:te,idx:ee,isEmpty:re}){return re?[]:[...te.slice(ee+1).map(parsePriorVoters),...te.slice(0,ee).map(parsePriorVoters)]}class VoteInit{constructor(ee,re,ne,oe){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=ee,this.authorizedVoter=re,this.authorizedWithdrawer=ne,this.commission=oe}}class VoteInstruction{constructor(){}static decodeInstructionType(ee){this.checkProgramId(ee.programId);const ne=u32$2("instruction").decode(ee.data);let oe;for(const[ie,se]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(se.index==ne){oe=ie;break}if(!oe)throw new Error("Instruction type incorrect; not a VoteInstruction");return oe}static decodeInitializeAccount(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,4);const{voteInit:re}=decodeData(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,ee.data);return{votePubkey:ee.keys[0].pubkey,nodePubkey:ee.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(re.nodePubkey),new PublicKey(re.authorizedVoter),new PublicKey(re.authorizedWithdrawer),re.commission)}}static decodeAuthorize(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{newAuthorized:re,voteAuthorizationType:ne}=decodeData(VOTE_INSTRUCTION_LAYOUTS.Authorize,ee.data);return{votePubkey:ee.keys[0].pubkey,authorizedPubkey:ee.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(re),voteAuthorizationType:{index:ne}}}static decodeWithdraw(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{lamports:re}=decodeData(VOTE_INSTRUCTION_LAYOUTS.Withdraw,ee.data);return{votePubkey:ee.keys[0].pubkey,authorizedWithdrawerPubkey:ee.keys[2].pubkey,lamports:re,toPubkey:ee.keys[1].pubkey}}static checkProgramId(ee){if(!ee.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(ee,re){if(ee.length<re)throw new Error(`invalid instruction; found ${ee.length} keys, expected at least ${re}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$2("instruction"),voteInit()])},Authorize:{index:1,layout:struct$3([u32$2("instruction"),publicKey$3("newAuthorized"),u32$2("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$2("instruction"),ns64("lamports")])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(ee){const{votePubkey:re,nodePubkey:ne,voteInit:oe}=ee,ie=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,se=encodeData$1(ie,{voteInit:{nodePubkey:toBuffer$3(oe.nodePubkey.toBuffer()),authorizedVoter:toBuffer$3(oe.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer$3(oe.authorizedWithdrawer.toBuffer()),commission:oe.commission}}),ue={keys:[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!0,isWritable:!1}],programId:this.programId,data:se};return new TransactionInstruction(ue)}static createAccount(ee){const re=new Transaction$2;return re.add(SystemProgram.createAccount({fromPubkey:ee.fromPubkey,newAccountPubkey:ee.votePubkey,lamports:ee.lamports,space:this.space,programId:this.programId})),re.add(this.initializeAccount({votePubkey:ee.votePubkey,nodePubkey:ee.voteInit.nodePubkey,voteInit:ee.voteInit}))}static authorize(ee){const{votePubkey:re,authorizedPubkey:ne,newAuthorizedPubkey:oe,voteAuthorizationType:ie}=ee,se=VOTE_INSTRUCTION_LAYOUTS.Authorize,ue=encodeData$1(se,{newAuthorized:toBuffer$3(oe.toBuffer()),voteAuthorizationType:ie.index}),he=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!0,isWritable:!1}];return new Transaction$2().add({keys:he,programId:this.programId,data:ue})}static withdraw(ee){const{votePubkey:re,authorizedWithdrawerPubkey:ne,lamports:oe,toPubkey:ie}=ee,se=VOTE_INSTRUCTION_LAYOUTS.Withdraw,ue=encodeData$1(se,{lamports:oe}),he=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ie,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!0,isWritable:!1}];return new Transaction$2().add({keys:he,programId:this.programId,data:ue})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111");VoteProgram.space=3731;async function sendAndConfirmRawTransaction$1(te,ee,re,ne){let oe,ie;re&&Object.prototype.hasOwnProperty.call(re,"lastValidBlockHeight")?(oe=re,ie=ne):ie=re;const se=ie&&{skipPreflight:ie.skipPreflight,preflightCommitment:ie.preflightCommitment||ie.commitment},ue=await te.sendRawTransaction(ee,se),he=ie&&ie.commitment,be=(await(oe?te.confirmTransaction(oe,he):te.confirmTransaction(ue,he))).value;if(be.err)throw new Error(`Raw transaction ${ue} failed (${JSON.stringify(be)})`);return ue}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(te,ee){const re=ee===!1?"http":"https";if(!te)return endpoint[re].devnet;const ne=endpoint[re][te];if(!ne)throw new Error(`Unknown ${re} cluster: ${te}`);return ne}const LAMPORTS_PER_SOL=1e9;var index_browser_esm$1=Object.freeze(Object.defineProperty({__proto__:null,Account,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout,Keypair,LAMPORTS_PER_SOL,Loader,Lockup,MAX_SEED_LENGTH,Message,NONCE_ACCOUNT_LENGTH,NonceAccount,PACKET_DATA_SIZE,PublicKey,SIGNATURE_LENGTH_IN_BYTES,SOLANA_SCHEMA,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct,SystemInstruction,SystemProgram,Transaction:Transaction$2,TransactionInstruction,get TransactionStatus(){return TransactionStatus},VALIDATOR_INFO_KEY,VOTE_PROGRAM_ID,ValidatorInfo,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction:sendAndConfirmRawTransaction$1,sendAndConfirmTransaction:sendAndConfirmTransaction$1},Symbol.toStringTag,{value:"Module"})),camelcase={exports:{}};const preserveCamelCase=te=>{let ee=!1,re=!1,ne=!1;for(let oe=0;oe<te.length;oe++){const ie=te[oe];ee&&/[a-zA-Z]/.test(ie)&&ie.toUpperCase()===ie?(te=te.slice(0,oe)+"-"+te.slice(oe),ee=!1,ne=re,re=!0,oe++):re&&ne&&/[a-zA-Z]/.test(ie)&&ie.toLowerCase()===ie?(te=te.slice(0,oe-1)+"-"+te.slice(oe-1),ne=re,re=!1,ee=!0):(ee=ie.toLowerCase()===ie&&ie.toUpperCase()!==ie,ne=re,re=ie.toUpperCase()===ie&&ie.toLowerCase()!==ie)}return te},camelCase=(te,ee)=>{if(!(typeof te=="string"||Array.isArray(te)))throw new TypeError("Expected the input to be `string | string[]`");ee=Object.assign({pascalCase:!1},ee);const re=oe=>ee.pascalCase?oe.charAt(0).toUpperCase()+oe.slice(1):oe;return Array.isArray(te)?te=te.map(oe=>oe.trim()).filter(oe=>oe.length).join("-"):te=te.trim(),te.length===0?"":te.length===1?ee.pascalCase?te.toUpperCase():te.toLowerCase():(te!==te.toLowerCase()&&(te=preserveCamelCase(te)),te=te.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(oe,ie)=>ie.toUpperCase()).replace(/\d+(\w|$)/g,oe=>oe.toUpperCase()),re(te))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var camelCase$1=camelcase.exports,parser$1=function(){function te(ne,oe){function ie(){this.constructor=ne}ie.prototype=oe.prototype,ne.prototype=new ie}function ee(ne,oe,ie,se,ue,he){this.message=ne,this.expected=oe,this.found=ie,this.offset=se,this.line=ue,this.column=he,this.name="SyntaxError"}te(ee,Error);function re(ne){var oe=arguments.length>1?arguments[1]:{},ie={},se={start:kn},ue=kn,he=function(){return Gn},ge=ie,be="#",Se={type:"literal",value:"#",description:'"#"'},Te=void 0,ke={type:"any",description:"any character"},Re="[",Ce={type:"literal",value:"[",description:'"["'},Pe="]",Ie={type:"literal",value:"]",description:'"]"'},Ne=function(Oe){Tn(an("ObjectPath",Oe,Vr,Gr))},He=function(Oe){Tn(an("ArrayPath",Oe,Vr,Gr))},Ke=function(Oe,tt){return Oe.concat(tt)},Ge=function(Oe){return[Oe]},ut=function(Oe){return Oe},Ve=".",nt={type:"literal",value:".",description:'"."'},st="=",qe={type:"literal",value:"=",description:'"="'},ye=function(Oe,tt){Tn(an("Assign",tt,Vr,Gr,Oe))},ae=function(Oe){return Oe.join("")},ce=function(Oe){return Oe.value},le='"""',pe={type:"literal",value:'"""',description:'"\\"\\"\\""'},_e=null,$e=function(Oe){return an("String",Oe.join(""),Vr,Gr)},Ee='"',me={type:"literal",value:'"',description:'"\\""'},fe="'''",we={type:"literal",value:"'''",description:`"'''"`},Me="'",Le={type:"literal",value:"'",description:`"'"`},Je=function(Oe){return Oe},Ue=function(Oe){return Oe},ct="\\",gt={type:"literal",value:"\\",description:'"\\\\"'},$t=function(){return""},vt="e",Tt={type:"literal",value:"e",description:'"e"'},qt="E",Rt={type:"literal",value:"E",description:'"E"'},lt=function(Oe,tt){return an("Float",parseFloat(Oe+"e"+tt),Vr,Gr)},_t=function(Oe){return an("Float",parseFloat(Oe),Vr,Gr)},bt="+",Qe={type:"literal",value:"+",description:'"+"'},ze=function(Oe){return Oe.join("")},De="-",Ze={type:"literal",value:"-",description:'"-"'},yt=function(Oe){return"-"+Oe.join("")},dt=function(Oe){return an("Integer",parseInt(Oe,10),Vr,Gr)},mt="true",Lt={type:"literal",value:"true",description:'"true"'},St=function(){return an("Boolean",!0,Vr,Gr)},Bt="false",Gt={type:"literal",value:"false",description:'"false"'},Ae=function(){return an("Boolean",!1,Vr,Gr)},ve=function(){return an("Array",[],Vr,Gr)},xe=function(Oe){return an("Array",Oe?[Oe]:[],Vr,Gr)},Be=function(Oe){return an("Array",Oe,Vr,Gr)},We=function(Oe,tt){return an("Array",Oe.concat(tt),Vr,Gr)},et=function(Oe){return Oe},Xe=",",Mt={type:"literal",value:",",description:'","'},Vt="{",At={type:"literal",value:"{",description:'"{"'},Nt="}",zt={type:"literal",value:"}",description:'"}"'},Ht=function(Oe){return an("InlineTable",Oe,Vr,Gr)},Qt=function(Oe,tt){return an("InlineTableValue",tt,Vr,Gr,Oe)},Ir=function(Oe){return"."+Oe},jt=function(Oe){return Oe.join("")},Xt=":",$r={type:"literal",value:":",description:'":"'},Ft=function(Oe){return Oe.join("")},Zt="T",kr={type:"literal",value:"T",description:'"T"'},Wt="Z",er={type:"literal",value:"Z",description:'"Z"'},Pr=function(Oe,tt){return an("Date",new Date(Oe+"T"+tt+"Z"),Vr,Gr)},Ot=function(Oe,tt){return an("Date",new Date(Oe+"T"+tt),Vr,Gr)},tr=/^[ \t]/,Ye={type:"class",value:"[ \\t]",description:"[ \\t]"},rt=`
`,it={type:"literal",value:`
`,description:'"\\n"'},Fe="\r",ot={type:"literal",value:"\r",description:'"\\r"'},wt=/^[0-9a-f]/i,Pt={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Et=/^[0-9]/,Ct={type:"class",value:"[0-9]",description:"[0-9]"},or="_",Yt={type:"literal",value:"_",description:'"_"'},Rr=function(){return""},cr=/^[A-Za-z0-9_\-]/,wr={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},xr=function(Oe){return Oe.join("")},Er='\\"',Mr={type:"literal",value:'\\"',description:'"\\\\\\""'},Sr=function(){return'"'},Ar="\\\\",Tr={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},pr=function(){return"\\"},_r="\\b",lr={type:"literal",value:"\\b",description:'"\\\\b"'},gr=function(){return"\b"},mr="\\t",dr={type:"literal",value:"\\t",description:'"\\\\t"'},Ut=function(){return"	"},Dt="\\n",ur={type:"literal",value:"\\n",description:'"\\\\n"'},nr=function(){return`
`},ar="\\f",yr={type:"literal",value:"\\f",description:'"\\\\f"'},Or=function(){return"\f"},Ur="\\r",Dr={type:"literal",value:"\\r",description:'"\\\\r"'},Fr=function(){return"\r"},kt="\\U",Wr={type:"literal",value:"\\U",description:'"\\\\U"'},Kr=function(Oe){return bi(Oe.join(""))},qr="\\u",Hr={type:"literal",value:"\\u",description:'"\\\\u"'},je=0,vr=0,Qr=0,Zr={line:1,column:1,seenCR:!1},tn=0,rn=[],Jt=0,ir={},on;if("startRule"in oe){if(!(oe.startRule in se))throw new Error(`Can't start parsing from rule "`+oe.startRule+'".');ue=se[oe.startRule]}function Vr(){return $n(vr).line}function Gr(){return $n(vr).column}function $n(Oe){function tt(ht,xt,It){var Kt,rr;for(Kt=xt;Kt<It;Kt++)rr=ne.charAt(Kt),rr===`
`?(ht.seenCR||ht.line++,ht.column=1,ht.seenCR=!1):rr==="\r"||rr==="\u2028"||rr==="\u2029"?(ht.line++,ht.column=1,ht.seenCR=!0):(ht.column++,ht.seenCR=!1)}return Qr!==Oe&&(Qr>Oe&&(Qr=0,Zr={line:1,column:1,seenCR:!1}),tt(Zr,Qr,Oe),Qr=Oe),Zr}function br(Oe){je<tn||(je>tn&&(tn=je,rn=[]),rn.push(Oe))}function ti(Oe,tt,ht){function xt(Br){var Lr=1;for(Br.sort(function(Xr,Yr){return Xr.description<Yr.description?-1:Xr.description>Yr.description?1:0});Lr<Br.length;)Br[Lr-1]===Br[Lr]?Br.splice(Lr,1):Lr++}function It(Br,Lr){function Xr(gn){function dn(cn){return cn.charCodeAt(0).toString(16).toUpperCase()}return gn.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(cn){return"\\x0"+dn(cn)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(cn){return"\\x"+dn(cn)}).replace(/[\u0180-\u0FFF]/g,function(cn){return"\\u0"+dn(cn)}).replace(/[\u1080-\uFFFF]/g,function(cn){return"\\u"+dn(cn)})}var Yr=new Array(Br.length),nn,sn,un;for(un=0;un<Br.length;un++)Yr[un]=Br[un].description;return nn=Br.length>1?Yr.slice(0,-1).join(", ")+" or "+Yr[Br.length-1]:Yr[0],sn=Lr?'"'+Xr(Lr)+'"':"end of input","Expected "+nn+" but "+sn+" found."}var Kt=$n(ht),rr=ht<ne.length?ne.charAt(ht):null;return tt!==null&&xt(tt),new ee(Oe!==null?Oe:It(tt,rr),tt,rr,ht,Kt.line,Kt.column)}function kn(){var Oe,tt,ht,xt=je*49+0,It=ir[xt];if(It)return je=It.nextPos,It.result;for(Oe=je,tt=[],ht=Rn();ht!==ie;)tt.push(ht),ht=Rn();return tt!==ie&&(vr=Oe,tt=he()),Oe=tt,ir[xt]={nextPos:je,result:Oe},Oe}function Rn(){var Oe,tt,ht,xt,It,Kt,rr,Br=je*49+1,Lr=ir[Br];if(Lr)return je=Lr.nextPos,Lr.result;for(Oe=je,tt=[],ht=Cr();ht!==ie;)tt.push(ht),ht=Cr();if(tt!==ie)if(ht=ri(),ht!==ie){for(xt=[],It=Cr();It!==ie;)xt.push(It),It=Cr();if(xt!==ie){for(It=[],Kt=vn();Kt!==ie;)It.push(Kt),Kt=vn();if(It!==ie){if(Kt=[],rr=ln(),rr!==ie)for(;rr!==ie;)Kt.push(rr),rr=ln();else Kt=ge;Kt===ie&&(Kt=wn()),Kt!==ie?(tt=[tt,ht,xt,It,Kt],Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge}else je=Oe,Oe=ge}else je=Oe,Oe=ge;else je=Oe,Oe=ge;if(Oe===ie){if(Oe=je,tt=[],ht=Cr(),ht!==ie)for(;ht!==ie;)tt.push(ht),ht=Cr();else tt=ge;if(tt!==ie){if(ht=[],xt=ln(),xt!==ie)for(;xt!==ie;)ht.push(xt),xt=ln();else ht=ge;ht===ie&&(ht=wn()),ht!==ie?(tt=[tt,ht],Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;Oe===ie&&(Oe=ln())}return ir[Br]={nextPos:je,result:Oe},Oe}function ri(){var Oe,tt=je*49+2,ht=ir[tt];return ht?(je=ht.nextPos,ht.result):(Oe=vn(),Oe===ie&&(Oe=ni(),Oe===ie&&(Oe=ii(),Oe===ie&&(Oe=oi()))),ir[tt]={nextPos:je,result:Oe},Oe)}function vn(){var Oe,tt,ht,xt,It,Kt,rr=je*49+3,Br=ir[rr];if(Br)return je=Br.nextPos,Br.result;if(Oe=je,ne.charCodeAt(je)===35?(tt=be,je++):(tt=ie,Jt===0&&br(Se)),tt!==ie){for(ht=[],xt=je,It=je,Jt++,Kt=ln(),Kt===ie&&(Kt=wn()),Jt--,Kt===ie?It=Te:(je=It,It=ge),It!==ie?(ne.length>je?(Kt=ne.charAt(je),je++):(Kt=ie,Jt===0&&br(ke)),Kt!==ie?(It=[It,Kt],xt=It):(je=xt,xt=ge)):(je=xt,xt=ge);xt!==ie;)ht.push(xt),xt=je,It=je,Jt++,Kt=ln(),Kt===ie&&(Kt=wn()),Jt--,Kt===ie?It=Te:(je=It,It=ge),It!==ie?(ne.length>je?(Kt=ne.charAt(je),je++):(Kt=ie,Jt===0&&br(ke)),Kt!==ie?(It=[It,Kt],xt=It):(je=xt,xt=ge)):(je=xt,xt=ge);ht!==ie?(tt=[tt,ht],Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;return ir[rr]={nextPos:je,result:Oe},Oe}function ni(){var Oe,tt,ht,xt,It,Kt,rr=je*49+4,Br=ir[rr];if(Br)return je=Br.nextPos,Br.result;if(Oe=je,ne.charCodeAt(je)===91?(tt=Re,je++):(tt=ie,Jt===0&&br(Ce)),tt!==ie){for(ht=[],xt=Cr();xt!==ie;)ht.push(xt),xt=Cr();if(ht!==ie)if(xt=Bn(),xt!==ie){for(It=[],Kt=Cr();Kt!==ie;)It.push(Kt),Kt=Cr();It!==ie?(ne.charCodeAt(je)===93?(Kt=Pe,je++):(Kt=ie,Jt===0&&br(Ie)),Kt!==ie?(vr=Oe,tt=Ne(xt),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;return ir[rr]={nextPos:je,result:Oe},Oe}function ii(){var Oe,tt,ht,xt,It,Kt,rr,Br,Lr=je*49+5,Xr=ir[Lr];if(Xr)return je=Xr.nextPos,Xr.result;if(Oe=je,ne.charCodeAt(je)===91?(tt=Re,je++):(tt=ie,Jt===0&&br(Ce)),tt!==ie)if(ne.charCodeAt(je)===91?(ht=Re,je++):(ht=ie,Jt===0&&br(Ce)),ht!==ie){for(xt=[],It=Cr();It!==ie;)xt.push(It),It=Cr();if(xt!==ie)if(It=Bn(),It!==ie){for(Kt=[],rr=Cr();rr!==ie;)Kt.push(rr),rr=Cr();Kt!==ie?(ne.charCodeAt(je)===93?(rr=Pe,je++):(rr=ie,Jt===0&&br(Ie)),rr!==ie?(ne.charCodeAt(je)===93?(Br=Pe,je++):(Br=ie,Jt===0&&br(Ie)),Br!==ie?(vr=Oe,tt=He(It),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;else je=Oe,Oe=ge;return ir[Lr]={nextPos:je,result:Oe},Oe}function Bn(){var Oe,tt,ht,xt=je*49+6,It=ir[xt];if(It)return je=It.nextPos,It.result;if(Oe=je,tt=[],ht=Pn(),ht!==ie)for(;ht!==ie;)tt.push(ht),ht=Pn();else tt=ge;return tt!==ie?(ht=In(),ht!==ie?(vr=Oe,tt=Ke(tt,ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge),Oe===ie&&(Oe=je,tt=In(),tt!==ie&&(vr=Oe,tt=Ge(tt)),Oe=tt),ir[xt]={nextPos:je,result:Oe},Oe}function In(){var Oe,tt,ht,xt,It,Kt=je*49+7,rr=ir[Kt];if(rr)return je=rr.nextPos,rr.result;for(Oe=je,tt=[],ht=Cr();ht!==ie;)tt.push(ht),ht=Cr();if(tt!==ie)if(ht=mn(),ht!==ie){for(xt=[],It=Cr();It!==ie;)xt.push(It),It=Cr();xt!==ie?(vr=Oe,tt=ut(ht),Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge;if(Oe===ie){for(Oe=je,tt=[],ht=Cr();ht!==ie;)tt.push(ht),ht=Cr();if(tt!==ie)if(ht=Sn(),ht!==ie){for(xt=[],It=Cr();It!==ie;)xt.push(It),It=Cr();xt!==ie?(vr=Oe,tt=ut(ht),Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge}return ir[Kt]={nextPos:je,result:Oe},Oe}function Pn(){var Oe,tt,ht,xt,It,Kt,rr,Br=je*49+8,Lr=ir[Br];if(Lr)return je=Lr.nextPos,Lr.result;for(Oe=je,tt=[],ht=Cr();ht!==ie;)tt.push(ht),ht=Cr();if(tt!==ie)if(ht=mn(),ht!==ie){for(xt=[],It=Cr();It!==ie;)xt.push(It),It=Cr();if(xt!==ie)if(ne.charCodeAt(je)===46?(It=Ve,je++):(It=ie,Jt===0&&br(nt)),It!==ie){for(Kt=[],rr=Cr();rr!==ie;)Kt.push(rr),rr=Cr();Kt!==ie?(vr=Oe,tt=ut(ht),Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;else je=Oe,Oe=ge;if(Oe===ie){for(Oe=je,tt=[],ht=Cr();ht!==ie;)tt.push(ht),ht=Cr();if(tt!==ie)if(ht=Sn(),ht!==ie){for(xt=[],It=Cr();It!==ie;)xt.push(It),It=Cr();if(xt!==ie)if(ne.charCodeAt(je)===46?(It=Ve,je++):(It=ie,Jt===0&&br(nt)),It!==ie){for(Kt=[],rr=Cr();rr!==ie;)Kt.push(rr),rr=Cr();Kt!==ie?(vr=Oe,tt=ut(ht),Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;else je=Oe,Oe=ge}return ir[Br]={nextPos:je,result:Oe},Oe}function oi(){var Oe,tt,ht,xt,It,Kt,rr=je*49+9,Br=ir[rr];if(Br)return je=Br.nextPos,Br.result;if(Oe=je,tt=mn(),tt!==ie){for(ht=[],xt=Cr();xt!==ie;)ht.push(xt),xt=Cr();if(ht!==ie)if(ne.charCodeAt(je)===61?(xt=st,je++):(xt=ie,Jt===0&&br(qe)),xt!==ie){for(It=[],Kt=Cr();Kt!==ie;)It.push(Kt),Kt=Cr();It!==ie?(Kt=pn(),Kt!==ie?(vr=Oe,tt=ye(tt,Kt),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;if(Oe===ie)if(Oe=je,tt=Sn(),tt!==ie){for(ht=[],xt=Cr();xt!==ie;)ht.push(xt),xt=Cr();if(ht!==ie)if(ne.charCodeAt(je)===61?(xt=st,je++):(xt=ie,Jt===0&&br(qe)),xt!==ie){for(It=[],Kt=Cr();Kt!==ie;)It.push(Kt),Kt=Cr();It!==ie?(Kt=pn(),Kt!==ie?(vr=Oe,tt=ye(tt,Kt),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;return ir[rr]={nextPos:je,result:Oe},Oe}function mn(){var Oe,tt,ht,xt=je*49+10,It=ir[xt];if(It)return je=It.nextPos,It.result;if(Oe=je,tt=[],ht=qn(),ht!==ie)for(;ht!==ie;)tt.push(ht),ht=qn();else tt=ge;return tt!==ie&&(vr=Oe,tt=ae(tt)),Oe=tt,ir[xt]={nextPos:je,result:Oe},Oe}function Sn(){var Oe,tt,ht=je*49+11,xt=ir[ht];return xt?(je=xt.nextPos,xt.result):(Oe=je,tt=Cn(),tt!==ie&&(vr=Oe,tt=ce(tt)),Oe=tt,Oe===ie&&(Oe=je,tt=Nn(),tt!==ie&&(vr=Oe,tt=ce(tt)),Oe=tt),ir[ht]={nextPos:je,result:Oe},Oe)}function pn(){var Oe,tt=je*49+12,ht=ir[tt];return ht?(je=ht.nextPos,ht.result):(Oe=si(),Oe===ie&&(Oe=yi(),Oe===ie&&(Oe=fi(),Oe===ie&&(Oe=li(),Oe===ie&&(Oe=hi(),Oe===ie&&(Oe=di(),Oe===ie&&(Oe=pi())))))),ir[tt]={nextPos:je,result:Oe},Oe)}function si(){var Oe,tt=je*49+13,ht=ir[tt];return ht?(je=ht.nextPos,ht.result):(Oe=ai(),Oe===ie&&(Oe=Cn(),Oe===ie&&(Oe=ui(),Oe===ie&&(Oe=Nn()))),ir[tt]={nextPos:je,result:Oe},Oe)}function ai(){var Oe,tt,ht,xt,It,Kt=je*49+14,rr=ir[Kt];if(rr)return je=rr.nextPos,rr.result;if(Oe=je,ne.substr(je,3)===le?(tt=le,je+=3):(tt=ie,Jt===0&&br(pe)),tt!==ie)if(ht=ln(),ht===ie&&(ht=_e),ht!==ie){for(xt=[],It=Un();It!==ie;)xt.push(It),It=Un();xt!==ie?(ne.substr(je,3)===le?(It=le,je+=3):(It=ie,Jt===0&&br(pe)),It!==ie?(vr=Oe,tt=$e(xt),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge;return ir[Kt]={nextPos:je,result:Oe},Oe}function Cn(){var Oe,tt,ht,xt,It=je*49+15,Kt=ir[It];if(Kt)return je=Kt.nextPos,Kt.result;if(Oe=je,ne.charCodeAt(je)===34?(tt=Ee,je++):(tt=ie,Jt===0&&br(me)),tt!==ie){for(ht=[],xt=On();xt!==ie;)ht.push(xt),xt=On();ht!==ie?(ne.charCodeAt(je)===34?(xt=Ee,je++):(xt=ie,Jt===0&&br(me)),xt!==ie?(vr=Oe,tt=$e(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;return ir[It]={nextPos:je,result:Oe},Oe}function ui(){var Oe,tt,ht,xt,It,Kt=je*49+16,rr=ir[Kt];if(rr)return je=rr.nextPos,rr.result;if(Oe=je,ne.substr(je,3)===fe?(tt=fe,je+=3):(tt=ie,Jt===0&&br(we)),tt!==ie)if(ht=ln(),ht===ie&&(ht=_e),ht!==ie){for(xt=[],It=Fn();It!==ie;)xt.push(It),It=Fn();xt!==ie?(ne.substr(je,3)===fe?(It=fe,je+=3):(It=ie,Jt===0&&br(we)),It!==ie?(vr=Oe,tt=$e(xt),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge;return ir[Kt]={nextPos:je,result:Oe},Oe}function Nn(){var Oe,tt,ht,xt,It=je*49+17,Kt=ir[It];if(Kt)return je=Kt.nextPos,Kt.result;if(Oe=je,ne.charCodeAt(je)===39?(tt=Me,je++):(tt=ie,Jt===0&&br(Le)),tt!==ie){for(ht=[],xt=Ln();xt!==ie;)ht.push(xt),xt=Ln();ht!==ie?(ne.charCodeAt(je)===39?(xt=Me,je++):(xt=ie,Jt===0&&br(Le)),xt!==ie?(vr=Oe,tt=$e(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;return ir[It]={nextPos:je,result:Oe},Oe}function On(){var Oe,tt,ht,xt=je*49+18,It=ir[xt];return It?(je=It.nextPos,It.result):(Oe=Vn(),Oe===ie&&(Oe=je,tt=je,Jt++,ne.charCodeAt(je)===34?(ht=Ee,je++):(ht=ie,Jt===0&&br(me)),Jt--,ht===ie?tt=Te:(je=tt,tt=ge),tt!==ie?(ne.length>je?(ht=ne.charAt(je),je++):(ht=ie,Jt===0&&br(ke)),ht!==ie?(vr=Oe,tt=Je(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)),ir[xt]={nextPos:je,result:Oe},Oe)}function Ln(){var Oe,tt,ht,xt=je*49+19,It=ir[xt];return It?(je=It.nextPos,It.result):(Oe=je,tt=je,Jt++,ne.charCodeAt(je)===39?(ht=Me,je++):(ht=ie,Jt===0&&br(Le)),Jt--,ht===ie?tt=Te:(je=tt,tt=ge),tt!==ie?(ne.length>je?(ht=ne.charAt(je),je++):(ht=ie,Jt===0&&br(ke)),ht!==ie?(vr=Oe,tt=Je(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge),ir[xt]={nextPos:je,result:Oe},Oe)}function Un(){var Oe,tt,ht,xt=je*49+20,It=ir[xt];return It?(je=It.nextPos,It.result):(Oe=Vn(),Oe===ie&&(Oe=ci(),Oe===ie&&(Oe=je,tt=je,Jt++,ne.substr(je,3)===le?(ht=le,je+=3):(ht=ie,Jt===0&&br(pe)),Jt--,ht===ie?tt=Te:(je=tt,tt=ge),tt!==ie?(ne.length>je?(ht=ne.charAt(je),je++):(ht=ie,Jt===0&&br(ke)),ht!==ie?(vr=Oe,tt=Ue(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge))),ir[xt]={nextPos:je,result:Oe},Oe)}function ci(){var Oe,tt,ht,xt,It,Kt=je*49+21,rr=ir[Kt];if(rr)return je=rr.nextPos,rr.result;if(Oe=je,ne.charCodeAt(je)===92?(tt=ct,je++):(tt=ie,Jt===0&&br(gt)),tt!==ie)if(ht=ln(),ht!==ie){for(xt=[],It=Kn();It!==ie;)xt.push(It),It=Kn();xt!==ie?(vr=Oe,tt=$t(),Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge;return ir[Kt]={nextPos:je,result:Oe},Oe}function Fn(){var Oe,tt,ht,xt=je*49+22,It=ir[xt];return It?(je=It.nextPos,It.result):(Oe=je,tt=je,Jt++,ne.substr(je,3)===fe?(ht=fe,je+=3):(ht=ie,Jt===0&&br(we)),Jt--,ht===ie?tt=Te:(je=tt,tt=ge),tt!==ie?(ne.length>je?(ht=ne.charAt(je),je++):(ht=ie,Jt===0&&br(ke)),ht!==ie?(vr=Oe,tt=Je(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge),ir[xt]={nextPos:je,result:Oe},Oe)}function fi(){var Oe,tt,ht,xt,It=je*49+23,Kt=ir[It];return Kt?(je=Kt.nextPos,Kt.result):(Oe=je,tt=Dn(),tt===ie&&(tt=An()),tt!==ie?(ne.charCodeAt(je)===101?(ht=vt,je++):(ht=ie,Jt===0&&br(Tt)),ht===ie&&(ne.charCodeAt(je)===69?(ht=qt,je++):(ht=ie,Jt===0&&br(Rt))),ht!==ie?(xt=An(),xt!==ie?(vr=Oe,tt=lt(tt,xt),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)):(je=Oe,Oe=ge),Oe===ie&&(Oe=je,tt=Dn(),tt!==ie&&(vr=Oe,tt=_t(tt)),Oe=tt),ir[It]={nextPos:je,result:Oe},Oe)}function Dn(){var Oe,tt,ht,xt,It,Kt,rr=je*49+24,Br=ir[rr];return Br?(je=Br.nextPos,Br.result):(Oe=je,ne.charCodeAt(je)===43?(tt=bt,je++):(tt=ie,Jt===0&&br(Qe)),tt===ie&&(tt=_e),tt!==ie?(ht=je,xt=yn(),xt!==ie?(ne.charCodeAt(je)===46?(It=Ve,je++):(It=ie,Jt===0&&br(nt)),It!==ie?(Kt=yn(),Kt!==ie?(xt=[xt,It,Kt],ht=xt):(je=ht,ht=ge)):(je=ht,ht=ge)):(je=ht,ht=ge),ht!==ie?(vr=Oe,tt=ze(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge),Oe===ie&&(Oe=je,ne.charCodeAt(je)===45?(tt=De,je++):(tt=ie,Jt===0&&br(Ze)),tt!==ie?(ht=je,xt=yn(),xt!==ie?(ne.charCodeAt(je)===46?(It=Ve,je++):(It=ie,Jt===0&&br(nt)),It!==ie?(Kt=yn(),Kt!==ie?(xt=[xt,It,Kt],ht=xt):(je=ht,ht=ge)):(je=ht,ht=ge)):(je=ht,ht=ge),ht!==ie?(vr=Oe,tt=yt(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)),ir[rr]={nextPos:je,result:Oe},Oe)}function li(){var Oe,tt,ht=je*49+25,xt=ir[ht];return xt?(je=xt.nextPos,xt.result):(Oe=je,tt=An(),tt!==ie&&(vr=Oe,tt=dt(tt)),Oe=tt,ir[ht]={nextPos:je,result:Oe},Oe)}function An(){var Oe,tt,ht,xt,It,Kt=je*49+26,rr=ir[Kt];if(rr)return je=rr.nextPos,rr.result;if(Oe=je,ne.charCodeAt(je)===43?(tt=bt,je++):(tt=ie,Jt===0&&br(Qe)),tt===ie&&(tt=_e),tt!==ie){if(ht=[],xt=Jr(),xt!==ie)for(;xt!==ie;)ht.push(xt),xt=Jr();else ht=ge;ht!==ie?(xt=je,Jt++,ne.charCodeAt(je)===46?(It=Ve,je++):(It=ie,Jt===0&&br(nt)),Jt--,It===ie?xt=Te:(je=xt,xt=ge),xt!==ie?(vr=Oe,tt=ze(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;if(Oe===ie)if(Oe=je,ne.charCodeAt(je)===45?(tt=De,je++):(tt=ie,Jt===0&&br(Ze)),tt!==ie){if(ht=[],xt=Jr(),xt!==ie)for(;xt!==ie;)ht.push(xt),xt=Jr();else ht=ge;ht!==ie?(xt=je,Jt++,ne.charCodeAt(je)===46?(It=Ve,je++):(It=ie,Jt===0&&br(nt)),Jt--,It===ie?xt=Te:(je=xt,xt=ge),xt!==ie?(vr=Oe,tt=yt(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;return ir[Kt]={nextPos:je,result:Oe},Oe}function hi(){var Oe,tt,ht=je*49+27,xt=ir[ht];return xt?(je=xt.nextPos,xt.result):(Oe=je,ne.substr(je,4)===mt?(tt=mt,je+=4):(tt=ie,Jt===0&&br(Lt)),tt!==ie&&(vr=Oe,tt=St()),Oe=tt,Oe===ie&&(Oe=je,ne.substr(je,5)===Bt?(tt=Bt,je+=5):(tt=ie,Jt===0&&br(Gt)),tt!==ie&&(vr=Oe,tt=Ae()),Oe=tt),ir[ht]={nextPos:je,result:Oe},Oe)}function di(){var Oe,tt,ht,xt,It,Kt=je*49+28,rr=ir[Kt];if(rr)return je=rr.nextPos,rr.result;if(Oe=je,ne.charCodeAt(je)===91?(tt=Re,je++):(tt=ie,Jt===0&&br(Ce)),tt!==ie){for(ht=[],xt=fn();xt!==ie;)ht.push(xt),xt=fn();ht!==ie?(ne.charCodeAt(je)===93?(xt=Pe,je++):(xt=ie,Jt===0&&br(Ie)),xt!==ie?(vr=Oe,tt=ve(),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;if(Oe===ie&&(Oe=je,ne.charCodeAt(je)===91?(tt=Re,je++):(tt=ie,Jt===0&&br(Ce)),tt!==ie?(ht=Hn(),ht===ie&&(ht=_e),ht!==ie?(ne.charCodeAt(je)===93?(xt=Pe,je++):(xt=ie,Jt===0&&br(Ie)),xt!==ie?(vr=Oe,tt=xe(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)):(je=Oe,Oe=ge),Oe===ie)){if(Oe=je,ne.charCodeAt(je)===91?(tt=Re,je++):(tt=ie,Jt===0&&br(Ce)),tt!==ie){if(ht=[],xt=_n(),xt!==ie)for(;xt!==ie;)ht.push(xt),xt=_n();else ht=ge;ht!==ie?(ne.charCodeAt(je)===93?(xt=Pe,je++):(xt=ie,Jt===0&&br(Ie)),xt!==ie?(vr=Oe,tt=Be(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;if(Oe===ie)if(Oe=je,ne.charCodeAt(je)===91?(tt=Re,je++):(tt=ie,Jt===0&&br(Ce)),tt!==ie){if(ht=[],xt=_n(),xt!==ie)for(;xt!==ie;)ht.push(xt),xt=_n();else ht=ge;ht!==ie?(xt=Hn(),xt!==ie?(ne.charCodeAt(je)===93?(It=Pe,je++):(It=ie,Jt===0&&br(Ie)),It!==ie?(vr=Oe,tt=We(ht,xt),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge}return ir[Kt]={nextPos:je,result:Oe},Oe}function Hn(){var Oe,tt,ht,xt,It,Kt=je*49+29,rr=ir[Kt];if(rr)return je=rr.nextPos,rr.result;for(Oe=je,tt=[],ht=fn();ht!==ie;)tt.push(ht),ht=fn();if(tt!==ie)if(ht=pn(),ht!==ie){for(xt=[],It=fn();It!==ie;)xt.push(It),It=fn();xt!==ie?(vr=Oe,tt=et(ht),Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge;return ir[Kt]={nextPos:je,result:Oe},Oe}function _n(){var Oe,tt,ht,xt,It,Kt,rr,Br=je*49+30,Lr=ir[Br];if(Lr)return je=Lr.nextPos,Lr.result;for(Oe=je,tt=[],ht=fn();ht!==ie;)tt.push(ht),ht=fn();if(tt!==ie)if(ht=pn(),ht!==ie){for(xt=[],It=fn();It!==ie;)xt.push(It),It=fn();if(xt!==ie)if(ne.charCodeAt(je)===44?(It=Xe,je++):(It=ie,Jt===0&&br(Mt)),It!==ie){for(Kt=[],rr=fn();rr!==ie;)Kt.push(rr),rr=fn();Kt!==ie?(vr=Oe,tt=et(ht),Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;else je=Oe,Oe=ge;return ir[Br]={nextPos:je,result:Oe},Oe}function fn(){var Oe,tt=je*49+31,ht=ir[tt];return ht?(je=ht.nextPos,ht.result):(Oe=Cr(),Oe===ie&&(Oe=ln(),Oe===ie&&(Oe=vn())),ir[tt]={nextPos:je,result:Oe},Oe)}function pi(){var Oe,tt,ht,xt,It,Kt,rr=je*49+32,Br=ir[rr];if(Br)return je=Br.nextPos,Br.result;if(Oe=je,ne.charCodeAt(je)===123?(tt=Vt,je++):(tt=ie,Jt===0&&br(At)),tt!==ie){for(ht=[],xt=Cr();xt!==ie;)ht.push(xt),xt=Cr();if(ht!==ie){for(xt=[],It=Wn();It!==ie;)xt.push(It),It=Wn();if(xt!==ie){for(It=[],Kt=Cr();Kt!==ie;)It.push(Kt),Kt=Cr();It!==ie?(ne.charCodeAt(je)===125?(Kt=Nt,je++):(Kt=ie,Jt===0&&br(zt)),Kt!==ie?(vr=Oe,tt=Ht(xt),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge}else je=Oe,Oe=ge}else je=Oe,Oe=ge;return ir[rr]={nextPos:je,result:Oe},Oe}function Wn(){var Oe,tt,ht,xt,It,Kt,rr,Br,Lr,Xr,Yr,nn=je*49+33,sn=ir[nn];if(sn)return je=sn.nextPos,sn.result;for(Oe=je,tt=[],ht=Cr();ht!==ie;)tt.push(ht),ht=Cr();if(tt!==ie)if(ht=mn(),ht!==ie){for(xt=[],It=Cr();It!==ie;)xt.push(It),It=Cr();if(xt!==ie)if(ne.charCodeAt(je)===61?(It=st,je++):(It=ie,Jt===0&&br(qe)),It!==ie){for(Kt=[],rr=Cr();rr!==ie;)Kt.push(rr),rr=Cr();if(Kt!==ie)if(rr=pn(),rr!==ie){for(Br=[],Lr=Cr();Lr!==ie;)Br.push(Lr),Lr=Cr();if(Br!==ie)if(ne.charCodeAt(je)===44?(Lr=Xe,je++):(Lr=ie,Jt===0&&br(Mt)),Lr!==ie){for(Xr=[],Yr=Cr();Yr!==ie;)Xr.push(Yr),Yr=Cr();Xr!==ie?(vr=Oe,tt=Qt(ht,rr),Oe=tt):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;else je=Oe,Oe=ge;if(Oe===ie){for(Oe=je,tt=[],ht=Cr();ht!==ie;)tt.push(ht),ht=Cr();if(tt!==ie)if(ht=mn(),ht!==ie){for(xt=[],It=Cr();It!==ie;)xt.push(It),It=Cr();if(xt!==ie)if(ne.charCodeAt(je)===61?(It=st,je++):(It=ie,Jt===0&&br(qe)),It!==ie){for(Kt=[],rr=Cr();rr!==ie;)Kt.push(rr),rr=Cr();Kt!==ie?(rr=pn(),rr!==ie?(vr=Oe,tt=Qt(ht,rr),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)}else je=Oe,Oe=ge;else je=Oe,Oe=ge}else je=Oe,Oe=ge;else je=Oe,Oe=ge}return ir[nn]={nextPos:je,result:Oe},Oe}function zn(){var Oe,tt,ht,xt=je*49+34,It=ir[xt];return It?(je=It.nextPos,It.result):(Oe=je,ne.charCodeAt(je)===46?(tt=Ve,je++):(tt=ie,Jt===0&&br(nt)),tt!==ie?(ht=yn(),ht!==ie?(vr=Oe,tt=Ir(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge),ir[xt]={nextPos:je,result:Oe},Oe)}function jn(){var Oe,tt,ht,xt,It,Kt,rr,Br,Lr,Xr,Yr,nn,sn=je*49+35,un=ir[sn];return un?(je=un.nextPos,un.result):(Oe=je,tt=je,ht=Jr(),ht!==ie?(xt=Jr(),xt!==ie?(It=Jr(),It!==ie?(Kt=Jr(),Kt!==ie?(ne.charCodeAt(je)===45?(rr=De,je++):(rr=ie,Jt===0&&br(Ze)),rr!==ie?(Br=Jr(),Br!==ie?(Lr=Jr(),Lr!==ie?(ne.charCodeAt(je)===45?(Xr=De,je++):(Xr=ie,Jt===0&&br(Ze)),Xr!==ie?(Yr=Jr(),Yr!==ie?(nn=Jr(),nn!==ie?(ht=[ht,xt,It,Kt,rr,Br,Lr,Xr,Yr,nn],tt=ht):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge),tt!==ie&&(vr=Oe,tt=jt(tt)),Oe=tt,ir[sn]={nextPos:je,result:Oe},Oe)}function gi(){var Oe,tt,ht,xt,It,Kt,rr,Br,Lr,Xr,Yr,nn=je*49+36,sn=ir[nn];return sn?(je=sn.nextPos,sn.result):(Oe=je,tt=je,ht=Jr(),ht!==ie?(xt=Jr(),xt!==ie?(ne.charCodeAt(je)===58?(It=Xt,je++):(It=ie,Jt===0&&br($r)),It!==ie?(Kt=Jr(),Kt!==ie?(rr=Jr(),rr!==ie?(ne.charCodeAt(je)===58?(Br=Xt,je++):(Br=ie,Jt===0&&br($r)),Br!==ie?(Lr=Jr(),Lr!==ie?(Xr=Jr(),Xr!==ie?(Yr=zn(),Yr===ie&&(Yr=_e),Yr!==ie?(ht=[ht,xt,It,Kt,rr,Br,Lr,Xr,Yr],tt=ht):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge),tt!==ie&&(vr=Oe,tt=Ft(tt)),Oe=tt,ir[nn]={nextPos:je,result:Oe},Oe)}function mi(){var Oe,tt,ht,xt,It,Kt,rr,Br,Lr,Xr,Yr,nn,sn,un,gn,dn,cn,Zn=je*49+37,Mn=ir[Zn];return Mn?(je=Mn.nextPos,Mn.result):(Oe=je,tt=je,ht=Jr(),ht!==ie?(xt=Jr(),xt!==ie?(ne.charCodeAt(je)===58?(It=Xt,je++):(It=ie,Jt===0&&br($r)),It!==ie?(Kt=Jr(),Kt!==ie?(rr=Jr(),rr!==ie?(ne.charCodeAt(je)===58?(Br=Xt,je++):(Br=ie,Jt===0&&br($r)),Br!==ie?(Lr=Jr(),Lr!==ie?(Xr=Jr(),Xr!==ie?(Yr=zn(),Yr===ie&&(Yr=_e),Yr!==ie?(ne.charCodeAt(je)===45?(nn=De,je++):(nn=ie,Jt===0&&br(Ze)),nn===ie&&(ne.charCodeAt(je)===43?(nn=bt,je++):(nn=ie,Jt===0&&br(Qe))),nn!==ie?(sn=Jr(),sn!==ie?(un=Jr(),un!==ie?(ne.charCodeAt(je)===58?(gn=Xt,je++):(gn=ie,Jt===0&&br($r)),gn!==ie?(dn=Jr(),dn!==ie?(cn=Jr(),cn!==ie?(ht=[ht,xt,It,Kt,rr,Br,Lr,Xr,Yr,nn,sn,un,gn,dn,cn],tt=ht):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge)):(je=tt,tt=ge),tt!==ie&&(vr=Oe,tt=Ft(tt)),Oe=tt,ir[Zn]={nextPos:je,result:Oe},Oe)}function yi(){var Oe,tt,ht,xt,It,Kt=je*49+38,rr=ir[Kt];return rr?(je=rr.nextPos,rr.result):(Oe=je,tt=jn(),tt!==ie?(ne.charCodeAt(je)===84?(ht=Zt,je++):(ht=ie,Jt===0&&br(kr)),ht!==ie?(xt=gi(),xt!==ie?(ne.charCodeAt(je)===90?(It=Wt,je++):(It=ie,Jt===0&&br(er)),It!==ie?(vr=Oe,tt=Pr(tt,xt),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)):(je=Oe,Oe=ge),Oe===ie&&(Oe=je,tt=jn(),tt!==ie?(ne.charCodeAt(je)===84?(ht=Zt,je++):(ht=ie,Jt===0&&br(kr)),ht!==ie?(xt=mi(),xt!==ie?(vr=Oe,tt=Ot(tt,xt),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)),ir[Kt]={nextPos:je,result:Oe},Oe)}function Cr(){var Oe,tt=je*49+39,ht=ir[tt];return ht?(je=ht.nextPos,ht.result):(tr.test(ne.charAt(je))?(Oe=ne.charAt(je),je++):(Oe=ie,Jt===0&&br(Ye)),ir[tt]={nextPos:je,result:Oe},Oe)}function ln(){var Oe,tt,ht,xt=je*49+40,It=ir[xt];return It?(je=It.nextPos,It.result):(ne.charCodeAt(je)===10?(Oe=rt,je++):(Oe=ie,Jt===0&&br(it)),Oe===ie&&(Oe=je,ne.charCodeAt(je)===13?(tt=Fe,je++):(tt=ie,Jt===0&&br(ot)),tt!==ie?(ne.charCodeAt(je)===10?(ht=rt,je++):(ht=ie,Jt===0&&br(it)),ht!==ie?(tt=[tt,ht],Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)),ir[xt]={nextPos:je,result:Oe},Oe)}function Kn(){var Oe,tt=je*49+41,ht=ir[tt];return ht?(je=ht.nextPos,ht.result):(Oe=ln(),Oe===ie&&(Oe=Cr()),ir[tt]={nextPos:je,result:Oe},Oe)}function wn(){var Oe,tt,ht=je*49+42,xt=ir[ht];return xt?(je=xt.nextPos,xt.result):(Oe=je,Jt++,ne.length>je?(tt=ne.charAt(je),je++):(tt=ie,Jt===0&&br(ke)),Jt--,tt===ie?Oe=Te:(je=Oe,Oe=ge),ir[ht]={nextPos:je,result:Oe},Oe)}function hn(){var Oe,tt=je*49+43,ht=ir[tt];return ht?(je=ht.nextPos,ht.result):(wt.test(ne.charAt(je))?(Oe=ne.charAt(je),je++):(Oe=ie,Jt===0&&br(Pt)),ir[tt]={nextPos:je,result:Oe},Oe)}function Jr(){var Oe,tt,ht=je*49+44,xt=ir[ht];return xt?(je=xt.nextPos,xt.result):(Et.test(ne.charAt(je))?(Oe=ne.charAt(je),je++):(Oe=ie,Jt===0&&br(Ct)),Oe===ie&&(Oe=je,ne.charCodeAt(je)===95?(tt=or,je++):(tt=ie,Jt===0&&br(Yt)),tt!==ie&&(vr=Oe,tt=Rr()),Oe=tt),ir[ht]={nextPos:je,result:Oe},Oe)}function qn(){var Oe,tt=je*49+45,ht=ir[tt];return ht?(je=ht.nextPos,ht.result):(cr.test(ne.charAt(je))?(Oe=ne.charAt(je),je++):(Oe=ie,Jt===0&&br(wr)),ir[tt]={nextPos:je,result:Oe},Oe)}function yn(){var Oe,tt,ht,xt=je*49+46,It=ir[xt];if(It)return je=It.nextPos,It.result;if(Oe=je,tt=[],ht=Jr(),ht!==ie)for(;ht!==ie;)tt.push(ht),ht=Jr();else tt=ge;return tt!==ie&&(vr=Oe,tt=xr(tt)),Oe=tt,ir[xt]={nextPos:je,result:Oe},Oe}function Vn(){var Oe,tt,ht=je*49+47,xt=ir[ht];return xt?(je=xt.nextPos,xt.result):(Oe=je,ne.substr(je,2)===Er?(tt=Er,je+=2):(tt=ie,Jt===0&&br(Mr)),tt!==ie&&(vr=Oe,tt=Sr()),Oe=tt,Oe===ie&&(Oe=je,ne.substr(je,2)===Ar?(tt=Ar,je+=2):(tt=ie,Jt===0&&br(Tr)),tt!==ie&&(vr=Oe,tt=pr()),Oe=tt,Oe===ie&&(Oe=je,ne.substr(je,2)===_r?(tt=_r,je+=2):(tt=ie,Jt===0&&br(lr)),tt!==ie&&(vr=Oe,tt=gr()),Oe=tt,Oe===ie&&(Oe=je,ne.substr(je,2)===mr?(tt=mr,je+=2):(tt=ie,Jt===0&&br(dr)),tt!==ie&&(vr=Oe,tt=Ut()),Oe=tt,Oe===ie&&(Oe=je,ne.substr(je,2)===Dt?(tt=Dt,je+=2):(tt=ie,Jt===0&&br(ur)),tt!==ie&&(vr=Oe,tt=nr()),Oe=tt,Oe===ie&&(Oe=je,ne.substr(je,2)===ar?(tt=ar,je+=2):(tt=ie,Jt===0&&br(yr)),tt!==ie&&(vr=Oe,tt=Or()),Oe=tt,Oe===ie&&(Oe=je,ne.substr(je,2)===Ur?(tt=Ur,je+=2):(tt=ie,Jt===0&&br(Dr)),tt!==ie&&(vr=Oe,tt=Fr()),Oe=tt,Oe===ie&&(Oe=vi()))))))),ir[ht]={nextPos:je,result:Oe},Oe)}function vi(){var Oe,tt,ht,xt,It,Kt,rr,Br,Lr,Xr,Yr,nn=je*49+48,sn=ir[nn];return sn?(je=sn.nextPos,sn.result):(Oe=je,ne.substr(je,2)===kt?(tt=kt,je+=2):(tt=ie,Jt===0&&br(Wr)),tt!==ie?(ht=je,xt=hn(),xt!==ie?(It=hn(),It!==ie?(Kt=hn(),Kt!==ie?(rr=hn(),rr!==ie?(Br=hn(),Br!==ie?(Lr=hn(),Lr!==ie?(Xr=hn(),Xr!==ie?(Yr=hn(),Yr!==ie?(xt=[xt,It,Kt,rr,Br,Lr,Xr,Yr],ht=xt):(je=ht,ht=ge)):(je=ht,ht=ge)):(je=ht,ht=ge)):(je=ht,ht=ge)):(je=ht,ht=ge)):(je=ht,ht=ge)):(je=ht,ht=ge)):(je=ht,ht=ge),ht!==ie?(vr=Oe,tt=Kr(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge),Oe===ie&&(Oe=je,ne.substr(je,2)===qr?(tt=qr,je+=2):(tt=ie,Jt===0&&br(Hr)),tt!==ie?(ht=je,xt=hn(),xt!==ie?(It=hn(),It!==ie?(Kt=hn(),Kt!==ie?(rr=hn(),rr!==ie?(xt=[xt,It,Kt,rr],ht=xt):(je=ht,ht=ge)):(je=ht,ht=ge)):(je=ht,ht=ge)):(je=ht,ht=ge),ht!==ie?(vr=Oe,tt=Kr(ht),Oe=tt):(je=Oe,Oe=ge)):(je=Oe,Oe=ge)),ir[nn]={nextPos:je,result:Oe},Oe)}var Gn=[];function _i(Oe,tt,ht){var xt=new Error(Oe);throw xt.line=tt,xt.column=ht,xt}function Tn(Oe){Gn.push(Oe)}function an(Oe,tt,ht,xt,It){var Kt={type:Oe,value:tt,line:ht(),column:xt()};return It&&(Kt.key=It),Kt}function bi(Oe,tt,ht){var xt=parseInt("0x"+Oe);if(!isFinite(xt)||Math.floor(xt)!=xt||xt<0||xt>1114111||xt>55295&&xt<57344)_i("Invalid Unicode escape code: "+Oe,tt,ht);else return wi(xt)}function wi(){var Oe=16384,tt=[],ht,xt,It=-1,Kt=arguments.length;if(!Kt)return"";for(var rr="";++It<Kt;){var Br=Number(arguments[It]);Br<=65535?tt.push(Br):(Br-=65536,ht=(Br>>10)+55296,xt=Br%1024+56320,tt.push(ht,xt)),(It+1==Kt||tt.length>Oe)&&(rr+=String.fromCharCode.apply(null,tt),tt.length=0)}return rr}if(on=ue(),on!==ie&&je===ne.length)return on;throw on!==ie&&je<ne.length&&br({type:"end",description:"end of input"}),ti(null,rn,tn)}return{SyntaxError:ee,parse:re}}();function compile(te){var ee=[],re=[],ne="",oe=Object.create(null),ie=oe;return se(te);function se(Ie){for(var Ne,He=0;He<Ie.length;He++)switch(Ne=Ie[He],Ne.type){case"Assign":he(Ne);break;case"ObjectPath":Te(Ne);break;case"ArrayPath":ke(Ne);break}return oe}function ue(Ie,Ne,He){var Ke=new Error(Ie);throw Ke.line=Ne,Ke.column=He,Ke}function he(Ie){var Ne=Ie.key,He=Ie.value,Ke=Ie.line,Ge=Ie.column,ut;ne?ut=ne+"."+Ne:ut=Ne,typeof ie[Ne]!="undefined"&&ue("Cannot redefine existing key '"+ut+"'.",Ke,Ge),ie[Ne]=be(He),ge(ut)||(ee.push(ut),re.push(ut))}function ge(Ie){return ee.indexOf(Ie)!==-1}function be(Ie){return Ie.type==="Array"?Ce(Ie.value):Ie.type==="InlineTable"?Se(Ie.value):Ie.value}function Se(Ie){for(var Ne=Object.create(null),He=0;He<Ie.length;He++){var Ke=Ie[He];Ke.value.type==="InlineTable"?Ne[Ke.key]=Se(Ke.value.value):Ke.type==="InlineTableValue"&&(Ne[Ke.key]=be(Ke.value))}return Ne}function Te(Ie){var Ne=Ie.value,He=Ne.map(Pe).join("."),Ke=Ie.line,Ge=Ie.column;ge(He)&&ue("Cannot redefine existing key '"+Ne+"'.",Ke,Ge),ee.push(He),ie=Re(oe,Ne,Object.create(null),Ke,Ge),ne=Ne}function ke(Ie){var Ne=Ie.value,He=Ne.map(Pe).join("."),Ke=Ie.line,Ge=Ie.column;if(ge(He)||ee.push(He),ee=ee.filter(function(Ve){return Ve.indexOf(He)!==0}),ee.push(He),ie=Re(oe,Ne,[],Ke,Ge),ne=He,ie instanceof Array){var ut=Object.create(null);ie.push(ut),ie=ut}else ue("Cannot redefine existing key '"+Ne+"'.",Ke,Ge)}function Re(Ie,Ne,He,Ke,Ge){var ut=[],Ve="";Ne.join(".");for(var nt=Ie,st=0;st<Ne.length;st++){var qe=Ne[st];ut.push(qe),Ve=ut.join("."),typeof nt[qe]=="undefined"?st===Ne.length-1?nt[qe]=He:nt[qe]=Object.create(null):st!==Ne.length-1&&re.indexOf(Ve)>-1&&ue("Cannot redefine existing key '"+Ve+"'.",Ke,Ge),nt=nt[qe],nt instanceof Array&&nt.length&&st<Ne.length-1&&(nt=nt[nt.length-1])}return nt}function Ce(Ie){for(var Ne=null,He=0;He<Ie.length;He++){var Ke=Ie[He];Ne===null?Ne=Ke.type:Ke.type!==Ne&&ue("Cannot add value of type "+Ke.type+" to array of type "+Ne+".",Ke.line,Ke.column)}return Ie.map(be)}function Pe(Ie){return Ie.indexOf(".")>-1?'"'+Ie+'"':Ie}}var compiler$1={compile},parser=parser$1,compiler=compiler$1,toml={parse:function(te){var ee=parser.parse(te.toString());return compiler.compile(ee)}};/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(te){let ee=te.length;for(;--ee>=0;)te[ee]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(te,ee,re,ne,oe){this.static_tree=te,this.extra_bits=ee,this.extra_base=re,this.elems=ne,this.max_length=oe,this.has_stree=te&&te.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(te,ee){this.dyn_tree=te,this.max_code=0,this.stat_desc=ee}const d_code=te=>te<256?_dist_code[te]:_dist_code[256+(te>>>7)],put_short=(te,ee)=>{te.pending_buf[te.pending++]=ee&255,te.pending_buf[te.pending++]=ee>>>8&255},send_bits=(te,ee,re)=>{te.bi_valid>Buf_size-re?(te.bi_buf|=ee<<te.bi_valid&65535,put_short(te,te.bi_buf),te.bi_buf=ee>>Buf_size-te.bi_valid,te.bi_valid+=re-Buf_size):(te.bi_buf|=ee<<te.bi_valid&65535,te.bi_valid+=re)},send_code=(te,ee,re)=>{send_bits(te,re[ee*2],re[ee*2+1])},bi_reverse=(te,ee)=>{let re=0;do re|=te&1,te>>>=1,re<<=1;while(--ee>0);return re>>>1},bi_flush=te=>{te.bi_valid===16?(put_short(te,te.bi_buf),te.bi_buf=0,te.bi_valid=0):te.bi_valid>=8&&(te.pending_buf[te.pending++]=te.bi_buf&255,te.bi_buf>>=8,te.bi_valid-=8)},gen_bitlen=(te,ee)=>{const re=ee.dyn_tree,ne=ee.max_code,oe=ee.stat_desc.static_tree,ie=ee.stat_desc.has_stree,se=ee.stat_desc.extra_bits,ue=ee.stat_desc.extra_base,he=ee.stat_desc.max_length;let ge,be,Se,Te,ke,Re,Ce=0;for(Te=0;Te<=MAX_BITS$1;Te++)te.bl_count[Te]=0;for(re[te.heap[te.heap_max]*2+1]=0,ge=te.heap_max+1;ge<HEAP_SIZE$1;ge++)be=te.heap[ge],Te=re[re[be*2+1]*2+1]+1,Te>he&&(Te=he,Ce++),re[be*2+1]=Te,!(be>ne)&&(te.bl_count[Te]++,ke=0,be>=ue&&(ke=se[be-ue]),Re=re[be*2],te.opt_len+=Re*(Te+ke),ie&&(te.static_len+=Re*(oe[be*2+1]+ke)));if(Ce!==0){do{for(Te=he-1;te.bl_count[Te]===0;)Te--;te.bl_count[Te]--,te.bl_count[Te+1]+=2,te.bl_count[he]--,Ce-=2}while(Ce>0);for(Te=he;Te!==0;Te--)for(be=te.bl_count[Te];be!==0;)Se=te.heap[--ge],!(Se>ne)&&(re[Se*2+1]!==Te&&(te.opt_len+=(Te-re[Se*2+1])*re[Se*2],re[Se*2+1]=Te),be--)}},gen_codes=(te,ee,re)=>{const ne=new Array(MAX_BITS$1+1);let oe=0,ie,se;for(ie=1;ie<=MAX_BITS$1;ie++)ne[ie]=oe=oe+re[ie-1]<<1;for(se=0;se<=ee;se++){let ue=te[se*2+1];ue!==0&&(te[se*2]=bi_reverse(ne[ue]++,ue))}},tr_static_init=()=>{let te,ee,re,ne,oe;const ie=new Array(MAX_BITS$1+1);for(re=0,ne=0;ne<LENGTH_CODES$1-1;ne++)for(base_length[ne]=re,te=0;te<1<<extra_lbits[ne];te++)_length_code[re++]=ne;for(_length_code[re-1]=ne,oe=0,ne=0;ne<16;ne++)for(base_dist[ne]=oe,te=0;te<1<<extra_dbits[ne];te++)_dist_code[oe++]=ne;for(oe>>=7;ne<D_CODES$1;ne++)for(base_dist[ne]=oe<<7,te=0;te<1<<extra_dbits[ne]-7;te++)_dist_code[256+oe++]=ne;for(ee=0;ee<=MAX_BITS$1;ee++)ie[ee]=0;for(te=0;te<=143;)static_ltree[te*2+1]=8,te++,ie[8]++;for(;te<=255;)static_ltree[te*2+1]=9,te++,ie[9]++;for(;te<=279;)static_ltree[te*2+1]=7,te++,ie[7]++;for(;te<=287;)static_ltree[te*2+1]=8,te++,ie[8]++;for(gen_codes(static_ltree,L_CODES$1+1,ie),te=0;te<D_CODES$1;te++)static_dtree[te*2+1]=5,static_dtree[te*2]=bi_reverse(te,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=te=>{let ee;for(ee=0;ee<L_CODES$1;ee++)te.dyn_ltree[ee*2]=0;for(ee=0;ee<D_CODES$1;ee++)te.dyn_dtree[ee*2]=0;for(ee=0;ee<BL_CODES$1;ee++)te.bl_tree[ee*2]=0;te.dyn_ltree[END_BLOCK*2]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0},bi_windup=te=>{te.bi_valid>8?put_short(te,te.bi_buf):te.bi_valid>0&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0},copy_block=(te,ee,re,ne)=>{bi_windup(te),ne&&(put_short(te,re),put_short(te,~re)),te.pending_buf.set(te.window.subarray(ee,ee+re),te.pending),te.pending+=re},smaller=(te,ee,re,ne)=>{const oe=ee*2,ie=re*2;return te[oe]<te[ie]||te[oe]===te[ie]&&ne[ee]<=ne[re]},pqdownheap=(te,ee,re)=>{const ne=te.heap[re];let oe=re<<1;for(;oe<=te.heap_len&&(oe<te.heap_len&&smaller(ee,te.heap[oe+1],te.heap[oe],te.depth)&&oe++,!smaller(ee,ne,te.heap[oe],te.depth));)te.heap[re]=te.heap[oe],re=oe,oe<<=1;te.heap[re]=ne},compress_block=(te,ee,re)=>{let ne,oe,ie=0,se,ue;if(te.last_lit!==0)do ne=te.pending_buf[te.d_buf+ie*2]<<8|te.pending_buf[te.d_buf+ie*2+1],oe=te.pending_buf[te.l_buf+ie],ie++,ne===0?send_code(te,oe,ee):(se=_length_code[oe],send_code(te,se+LITERALS$1+1,ee),ue=extra_lbits[se],ue!==0&&(oe-=base_length[se],send_bits(te,oe,ue)),ne--,se=d_code(ne),send_code(te,se,re),ue=extra_dbits[se],ue!==0&&(ne-=base_dist[se],send_bits(te,ne,ue)));while(ie<te.last_lit);send_code(te,END_BLOCK,ee)},build_tree=(te,ee)=>{const re=ee.dyn_tree,ne=ee.stat_desc.static_tree,oe=ee.stat_desc.has_stree,ie=ee.stat_desc.elems;let se,ue,he=-1,ge;for(te.heap_len=0,te.heap_max=HEAP_SIZE$1,se=0;se<ie;se++)re[se*2]!==0?(te.heap[++te.heap_len]=he=se,te.depth[se]=0):re[se*2+1]=0;for(;te.heap_len<2;)ge=te.heap[++te.heap_len]=he<2?++he:0,re[ge*2]=1,te.depth[ge]=0,te.opt_len--,oe&&(te.static_len-=ne[ge*2+1]);for(ee.max_code=he,se=te.heap_len>>1;se>=1;se--)pqdownheap(te,re,se);ge=ie;do se=te.heap[1],te.heap[1]=te.heap[te.heap_len--],pqdownheap(te,re,1),ue=te.heap[1],te.heap[--te.heap_max]=se,te.heap[--te.heap_max]=ue,re[ge*2]=re[se*2]+re[ue*2],te.depth[ge]=(te.depth[se]>=te.depth[ue]?te.depth[se]:te.depth[ue])+1,re[se*2+1]=re[ue*2+1]=ge,te.heap[1]=ge++,pqdownheap(te,re,1);while(te.heap_len>=2);te.heap[--te.heap_max]=te.heap[1],gen_bitlen(te,ee),gen_codes(re,he,te.bl_count)},scan_tree=(te,ee,re)=>{let ne,oe=-1,ie,se=ee[0*2+1],ue=0,he=7,ge=4;for(se===0&&(he=138,ge=3),ee[(re+1)*2+1]=65535,ne=0;ne<=re;ne++)ie=se,se=ee[(ne+1)*2+1],!(++ue<he&&ie===se)&&(ue<ge?te.bl_tree[ie*2]+=ue:ie!==0?(ie!==oe&&te.bl_tree[ie*2]++,te.bl_tree[REP_3_6*2]++):ue<=10?te.bl_tree[REPZ_3_10*2]++:te.bl_tree[REPZ_11_138*2]++,ue=0,oe=ie,se===0?(he=138,ge=3):ie===se?(he=6,ge=3):(he=7,ge=4))},send_tree=(te,ee,re)=>{let ne,oe=-1,ie,se=ee[0*2+1],ue=0,he=7,ge=4;for(se===0&&(he=138,ge=3),ne=0;ne<=re;ne++)if(ie=se,se=ee[(ne+1)*2+1],!(++ue<he&&ie===se)){if(ue<ge)do send_code(te,ie,te.bl_tree);while(--ue!==0);else ie!==0?(ie!==oe&&(send_code(te,ie,te.bl_tree),ue--),send_code(te,REP_3_6,te.bl_tree),send_bits(te,ue-3,2)):ue<=10?(send_code(te,REPZ_3_10,te.bl_tree),send_bits(te,ue-3,3)):(send_code(te,REPZ_11_138,te.bl_tree),send_bits(te,ue-11,7));ue=0,oe=ie,se===0?(he=138,ge=3):ie===se?(he=6,ge=3):(he=7,ge=4)}},build_bl_tree=te=>{let ee;for(scan_tree(te,te.dyn_ltree,te.l_desc.max_code),scan_tree(te,te.dyn_dtree,te.d_desc.max_code),build_tree(te,te.bl_desc),ee=BL_CODES$1-1;ee>=3&&te.bl_tree[bl_order[ee]*2+1]===0;ee--);return te.opt_len+=3*(ee+1)+5+5+4,ee},send_all_trees=(te,ee,re,ne)=>{let oe;for(send_bits(te,ee-257,5),send_bits(te,re-1,5),send_bits(te,ne-4,4),oe=0;oe<ne;oe++)send_bits(te,te.bl_tree[bl_order[oe]*2+1],3);send_tree(te,te.dyn_ltree,ee-1),send_tree(te,te.dyn_dtree,re-1)},detect_data_type=te=>{let ee=4093624447,re;for(re=0;re<=31;re++,ee>>>=1)if(ee&1&&te.dyn_ltree[re*2]!==0)return Z_BINARY;if(te.dyn_ltree[9*2]!==0||te.dyn_ltree[10*2]!==0||te.dyn_ltree[13*2]!==0)return Z_TEXT;for(re=32;re<LITERALS$1;re++)if(te.dyn_ltree[re*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=te=>{static_init_done||(tr_static_init(),static_init_done=!0),te.l_desc=new TreeDesc(te.dyn_ltree,static_l_desc),te.d_desc=new TreeDesc(te.dyn_dtree,static_d_desc),te.bl_desc=new TreeDesc(te.bl_tree,static_bl_desc),te.bi_buf=0,te.bi_valid=0,init_block(te)},_tr_stored_block$1=(te,ee,re,ne)=>{send_bits(te,(STORED_BLOCK<<1)+(ne?1:0),3),copy_block(te,ee,re,!0)},_tr_align$1=te=>{send_bits(te,STATIC_TREES<<1,3),send_code(te,END_BLOCK,static_ltree),bi_flush(te)},_tr_flush_block$1=(te,ee,re,ne)=>{let oe,ie,se=0;te.level>0?(te.strm.data_type===Z_UNKNOWN$1&&(te.strm.data_type=detect_data_type(te)),build_tree(te,te.l_desc),build_tree(te,te.d_desc),se=build_bl_tree(te),oe=te.opt_len+3+7>>>3,ie=te.static_len+3+7>>>3,ie<=oe&&(oe=ie)):oe=ie=re+5,re+4<=oe&&ee!==-1?_tr_stored_block$1(te,ee,re,ne):te.strategy===Z_FIXED$1||ie===oe?(send_bits(te,(STATIC_TREES<<1)+(ne?1:0),3),compress_block(te,static_ltree,static_dtree)):(send_bits(te,(DYN_TREES<<1)+(ne?1:0),3),send_all_trees(te,te.l_desc.max_code+1,te.d_desc.max_code+1,se+1),compress_block(te,te.dyn_ltree,te.dyn_dtree)),init_block(te),ne&&bi_windup(te)},_tr_tally$1=(te,ee,re)=>(te.pending_buf[te.d_buf+te.last_lit*2]=ee>>>8&255,te.pending_buf[te.d_buf+te.last_lit*2+1]=ee&255,te.pending_buf[te.l_buf+te.last_lit]=re&255,te.last_lit++,ee===0?te.dyn_ltree[re*2]++:(te.matches++,ee--,te.dyn_ltree[(_length_code[re]+LITERALS$1+1)*2]++,te.dyn_dtree[d_code(ee)*2]++),te.last_lit===te.lit_bufsize-1);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(te,ee,re,ne)=>{let oe=te&65535|0,ie=te>>>16&65535|0,se=0;for(;re!==0;){se=re>2e3?2e3:re,re-=se;do oe=oe+ee[ne++]|0,ie=ie+oe|0;while(--se);oe%=65521,ie%=65521}return oe|ie<<16|0};var adler32_1=adler32;const makeTable=()=>{let te,ee=[];for(var re=0;re<256;re++){te=re;for(var ne=0;ne<8;ne++)te=te&1?3988292384^te>>>1:te>>>1;ee[re]=te}return ee},crcTable=new Uint32Array(makeTable()),crc32=(te,ee,re,ne)=>{const oe=crcTable,ie=ne+re;te^=-1;for(let se=ne;se<ie;se++)te=te>>>8^oe[(te^ee[se])&255];return te^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(te,ee)=>(te.msg=messages[ee],ee),rank=te=>(te<<1)-(te>4?9:0),zero=te=>{let ee=te.length;for(;--ee>=0;)te[ee]=0};let HASH_ZLIB=(te,ee,re)=>(ee<<te.hash_shift^re)&te.hash_mask,HASH=HASH_ZLIB;const flush_pending=te=>{const ee=te.state;let re=ee.pending;re>te.avail_out&&(re=te.avail_out),re!==0&&(te.output.set(ee.pending_buf.subarray(ee.pending_out,ee.pending_out+re),te.next_out),te.next_out+=re,ee.pending_out+=re,te.total_out+=re,te.avail_out-=re,ee.pending-=re,ee.pending===0&&(ee.pending_out=0))},flush_block_only=(te,ee)=>{_tr_flush_block(te,te.block_start>=0?te.block_start:-1,te.strstart-te.block_start,ee),te.block_start=te.strstart,flush_pending(te.strm)},put_byte=(te,ee)=>{te.pending_buf[te.pending++]=ee},putShortMSB=(te,ee)=>{te.pending_buf[te.pending++]=ee>>>8&255,te.pending_buf[te.pending++]=ee&255},read_buf=(te,ee,re,ne)=>{let oe=te.avail_in;return oe>ne&&(oe=ne),oe===0?0:(te.avail_in-=oe,ee.set(te.input.subarray(te.next_in,te.next_in+oe),re),te.state.wrap===1?te.adler=adler32_1(te.adler,ee,oe,re):te.state.wrap===2&&(te.adler=crc32_1(te.adler,ee,oe,re)),te.next_in+=oe,te.total_in+=oe,oe)},longest_match=(te,ee)=>{let re=te.max_chain_length,ne=te.strstart,oe,ie,se=te.prev_length,ue=te.nice_match;const he=te.strstart>te.w_size-MIN_LOOKAHEAD?te.strstart-(te.w_size-MIN_LOOKAHEAD):0,ge=te.window,be=te.w_mask,Se=te.prev,Te=te.strstart+MAX_MATCH;let ke=ge[ne+se-1],Re=ge[ne+se];te.prev_length>=te.good_match&&(re>>=2),ue>te.lookahead&&(ue=te.lookahead);do if(oe=ee,!(ge[oe+se]!==Re||ge[oe+se-1]!==ke||ge[oe]!==ge[ne]||ge[++oe]!==ge[ne+1])){ne+=2,oe++;do;while(ge[++ne]===ge[++oe]&&ge[++ne]===ge[++oe]&&ge[++ne]===ge[++oe]&&ge[++ne]===ge[++oe]&&ge[++ne]===ge[++oe]&&ge[++ne]===ge[++oe]&&ge[++ne]===ge[++oe]&&ge[++ne]===ge[++oe]&&ne<Te);if(ie=MAX_MATCH-(Te-ne),ne=Te-MAX_MATCH,ie>se){if(te.match_start=ee,se=ie,ie>=ue)break;ke=ge[ne+se-1],Re=ge[ne+se]}}while((ee=Se[ee&be])>he&&--re!==0);return se<=te.lookahead?se:te.lookahead},fill_window=te=>{const ee=te.w_size;let re,ne,oe,ie,se;do{if(ie=te.window_size-te.lookahead-te.strstart,te.strstart>=ee+(ee-MIN_LOOKAHEAD)){te.window.set(te.window.subarray(ee,ee+ee),0),te.match_start-=ee,te.strstart-=ee,te.block_start-=ee,ne=te.hash_size,re=ne;do oe=te.head[--re],te.head[re]=oe>=ee?oe-ee:0;while(--ne);ne=ee,re=ne;do oe=te.prev[--re],te.prev[re]=oe>=ee?oe-ee:0;while(--ne);ie+=ee}if(te.strm.avail_in===0)break;if(ne=read_buf(te.strm,te.window,te.strstart+te.lookahead,ie),te.lookahead+=ne,te.lookahead+te.insert>=MIN_MATCH)for(se=te.strstart-te.insert,te.ins_h=te.window[se],te.ins_h=HASH(te,te.ins_h,te.window[se+1]);te.insert&&(te.ins_h=HASH(te,te.ins_h,te.window[se+MIN_MATCH-1]),te.prev[se&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=se,se++,te.insert--,!(te.lookahead+te.insert<MIN_MATCH)););}while(te.lookahead<MIN_LOOKAHEAD&&te.strm.avail_in!==0)},deflate_stored=(te,ee)=>{let re=65535;for(re>te.pending_buf_size-5&&(re=te.pending_buf_size-5);;){if(te.lookahead<=1){if(fill_window(te),te.lookahead===0&&ee===Z_NO_FLUSH$2)return BS_NEED_MORE;if(te.lookahead===0)break}te.strstart+=te.lookahead,te.lookahead=0;const ne=te.block_start+re;if((te.strstart===0||te.strstart>=ne)&&(te.lookahead=te.strstart-ne,te.strstart=ne,flush_block_only(te,!1),te.strm.avail_out===0)||te.strstart-te.block_start>=te.w_size-MIN_LOOKAHEAD&&(flush_block_only(te,!1),te.strm.avail_out===0))return BS_NEED_MORE}return te.insert=0,ee===Z_FINISH$3?(flush_block_only(te,!0),te.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(te.strstart>te.block_start&&(flush_block_only(te,!1),te.strm.avail_out===0),BS_NEED_MORE)},deflate_fast=(te,ee)=>{let re,ne;for(;;){if(te.lookahead<MIN_LOOKAHEAD){if(fill_window(te),te.lookahead<MIN_LOOKAHEAD&&ee===Z_NO_FLUSH$2)return BS_NEED_MORE;if(te.lookahead===0)break}if(re=0,te.lookahead>=MIN_MATCH&&(te.ins_h=HASH(te,te.ins_h,te.window[te.strstart+MIN_MATCH-1]),re=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart),re!==0&&te.strstart-re<=te.w_size-MIN_LOOKAHEAD&&(te.match_length=longest_match(te,re)),te.match_length>=MIN_MATCH)if(ne=_tr_tally(te,te.strstart-te.match_start,te.match_length-MIN_MATCH),te.lookahead-=te.match_length,te.match_length<=te.max_lazy_match&&te.lookahead>=MIN_MATCH){te.match_length--;do te.strstart++,te.ins_h=HASH(te,te.ins_h,te.window[te.strstart+MIN_MATCH-1]),re=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart;while(--te.match_length!==0);te.strstart++}else te.strstart+=te.match_length,te.match_length=0,te.ins_h=te.window[te.strstart],te.ins_h=HASH(te,te.ins_h,te.window[te.strstart+1]);else ne=_tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++;if(ne&&(flush_block_only(te,!1),te.strm.avail_out===0))return BS_NEED_MORE}return te.insert=te.strstart<MIN_MATCH-1?te.strstart:MIN_MATCH-1,ee===Z_FINISH$3?(flush_block_only(te,!0),te.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):te.last_lit&&(flush_block_only(te,!1),te.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(te,ee)=>{let re,ne,oe;for(;;){if(te.lookahead<MIN_LOOKAHEAD){if(fill_window(te),te.lookahead<MIN_LOOKAHEAD&&ee===Z_NO_FLUSH$2)return BS_NEED_MORE;if(te.lookahead===0)break}if(re=0,te.lookahead>=MIN_MATCH&&(te.ins_h=HASH(te,te.ins_h,te.window[te.strstart+MIN_MATCH-1]),re=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart),te.prev_length=te.match_length,te.prev_match=te.match_start,te.match_length=MIN_MATCH-1,re!==0&&te.prev_length<te.max_lazy_match&&te.strstart-re<=te.w_size-MIN_LOOKAHEAD&&(te.match_length=longest_match(te,re),te.match_length<=5&&(te.strategy===Z_FILTERED||te.match_length===MIN_MATCH&&te.strstart-te.match_start>4096)&&(te.match_length=MIN_MATCH-1)),te.prev_length>=MIN_MATCH&&te.match_length<=te.prev_length){oe=te.strstart+te.lookahead-MIN_MATCH,ne=_tr_tally(te,te.strstart-1-te.prev_match,te.prev_length-MIN_MATCH),te.lookahead-=te.prev_length-1,te.prev_length-=2;do++te.strstart<=oe&&(te.ins_h=HASH(te,te.ins_h,te.window[te.strstart+MIN_MATCH-1]),re=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart);while(--te.prev_length!==0);if(te.match_available=0,te.match_length=MIN_MATCH-1,te.strstart++,ne&&(flush_block_only(te,!1),te.strm.avail_out===0))return BS_NEED_MORE}else if(te.match_available){if(ne=_tr_tally(te,0,te.window[te.strstart-1]),ne&&flush_block_only(te,!1),te.strstart++,te.lookahead--,te.strm.avail_out===0)return BS_NEED_MORE}else te.match_available=1,te.strstart++,te.lookahead--}return te.match_available&&(ne=_tr_tally(te,0,te.window[te.strstart-1]),te.match_available=0),te.insert=te.strstart<MIN_MATCH-1?te.strstart:MIN_MATCH-1,ee===Z_FINISH$3?(flush_block_only(te,!0),te.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):te.last_lit&&(flush_block_only(te,!1),te.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(te,ee)=>{let re,ne,oe,ie;const se=te.window;for(;;){if(te.lookahead<=MAX_MATCH){if(fill_window(te),te.lookahead<=MAX_MATCH&&ee===Z_NO_FLUSH$2)return BS_NEED_MORE;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=MIN_MATCH&&te.strstart>0&&(oe=te.strstart-1,ne=se[oe],ne===se[++oe]&&ne===se[++oe]&&ne===se[++oe])){ie=te.strstart+MAX_MATCH;do;while(ne===se[++oe]&&ne===se[++oe]&&ne===se[++oe]&&ne===se[++oe]&&ne===se[++oe]&&ne===se[++oe]&&ne===se[++oe]&&ne===se[++oe]&&oe<ie);te.match_length=MAX_MATCH-(ie-oe),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=MIN_MATCH?(re=_tr_tally(te,1,te.match_length-MIN_MATCH),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(re=_tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),re&&(flush_block_only(te,!1),te.strm.avail_out===0))return BS_NEED_MORE}return te.insert=0,ee===Z_FINISH$3?(flush_block_only(te,!0),te.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):te.last_lit&&(flush_block_only(te,!1),te.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(te,ee)=>{let re;for(;;){if(te.lookahead===0&&(fill_window(te),te.lookahead===0)){if(ee===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(te.match_length=0,re=_tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,re&&(flush_block_only(te,!1),te.strm.avail_out===0))return BS_NEED_MORE}return te.insert=0,ee===Z_FINISH$3?(flush_block_only(te,!0),te.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):te.last_lit&&(flush_block_only(te,!1),te.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(te,ee,re,ne,oe){this.good_length=te,this.max_lazy=ee,this.nice_length=re,this.max_chain=ne,this.func=oe}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=te=>{te.window_size=2*te.w_size,zero(te.head),te.max_lazy_match=configuration_table[te.level].max_lazy,te.good_match=configuration_table[te.level].good_length,te.nice_match=configuration_table[te.level].nice_length,te.max_chain_length=configuration_table[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=MIN_MATCH-1,te.match_available=0,te.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateResetKeep=te=>{if(!te||!te.state)return err(te,Z_STREAM_ERROR$2);te.total_in=te.total_out=0,te.data_type=Z_UNKNOWN;const ee=te.state;return ee.pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?INIT_STATE:BUSY_STATE,te.adler=ee.wrap===2?0:1,ee.last_flush=Z_NO_FLUSH$2,_tr_init(ee),Z_OK$3},deflateReset=te=>{const ee=deflateResetKeep(te);return ee===Z_OK$3&&lm_init(te.state),ee},deflateSetHeader=(te,ee)=>!te||!te.state||te.state.wrap!==2?Z_STREAM_ERROR$2:(te.state.gzhead=ee,Z_OK$3),deflateInit2=(te,ee,re,ne,oe,ie)=>{if(!te)return Z_STREAM_ERROR$2;let se=1;if(ee===Z_DEFAULT_COMPRESSION$1&&(ee=6),ne<0?(se=0,ne=-ne):ne>15&&(se=2,ne-=16),oe<1||oe>MAX_MEM_LEVEL||re!==Z_DEFLATED$2||ne<8||ne>15||ee<0||ee>9||ie<0||ie>Z_FIXED)return err(te,Z_STREAM_ERROR$2);ne===8&&(ne=9);const ue=new DeflateState;return te.state=ue,ue.strm=te,ue.wrap=se,ue.gzhead=null,ue.w_bits=ne,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=oe+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+MIN_MATCH-1)/MIN_MATCH),ue.window=new Uint8Array(ue.w_size*2),ue.head=new Uint16Array(ue.hash_size),ue.prev=new Uint16Array(ue.w_size),ue.lit_bufsize=1<<oe+6,ue.pending_buf_size=ue.lit_bufsize*4,ue.pending_buf=new Uint8Array(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=(1+2)*ue.lit_bufsize,ue.level=ee,ue.strategy=ie,ue.method=re,deflateReset(te)},deflateInit=(te,ee)=>deflateInit2(te,ee,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(te,ee)=>{let re,ne;if(!te||!te.state||ee>Z_BLOCK$1||ee<0)return te?err(te,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const oe=te.state;if(!te.output||!te.input&&te.avail_in!==0||oe.status===FINISH_STATE&&ee!==Z_FINISH$3)return err(te,te.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);oe.strm=te;const ie=oe.last_flush;if(oe.last_flush=ee,oe.status===INIT_STATE)if(oe.wrap===2)te.adler=0,put_byte(oe,31),put_byte(oe,139),put_byte(oe,8),oe.gzhead?(put_byte(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),put_byte(oe,oe.gzhead.time&255),put_byte(oe,oe.gzhead.time>>8&255),put_byte(oe,oe.gzhead.time>>16&255),put_byte(oe,oe.gzhead.time>>24&255),put_byte(oe,oe.level===9?2:oe.strategy>=Z_HUFFMAN_ONLY||oe.level<2?4:0),put_byte(oe,oe.gzhead.os&255),oe.gzhead.extra&&oe.gzhead.extra.length&&(put_byte(oe,oe.gzhead.extra.length&255),put_byte(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(te.adler=crc32_1(te.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=EXTRA_STATE):(put_byte(oe,0),put_byte(oe,0),put_byte(oe,0),put_byte(oe,0),put_byte(oe,0),put_byte(oe,oe.level===9?2:oe.strategy>=Z_HUFFMAN_ONLY||oe.level<2?4:0),put_byte(oe,OS_CODE),oe.status=BUSY_STATE);else{let se=Z_DEFLATED$2+(oe.w_bits-8<<4)<<8,ue=-1;oe.strategy>=Z_HUFFMAN_ONLY||oe.level<2?ue=0:oe.level<6?ue=1:oe.level===6?ue=2:ue=3,se|=ue<<6,oe.strstart!==0&&(se|=PRESET_DICT),se+=31-se%31,oe.status=BUSY_STATE,putShortMSB(oe,se),oe.strstart!==0&&(putShortMSB(oe,te.adler>>>16),putShortMSB(oe,te.adler&65535)),te.adler=1}if(oe.status===EXTRA_STATE)if(oe.gzhead.extra){for(re=oe.pending;oe.gzindex<(oe.gzhead.extra.length&65535)&&!(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(te.adler=crc32_1(te.adler,oe.pending_buf,oe.pending-re,re)),flush_pending(te),re=oe.pending,oe.pending===oe.pending_buf_size));)put_byte(oe,oe.gzhead.extra[oe.gzindex]&255),oe.gzindex++;oe.gzhead.hcrc&&oe.pending>re&&(te.adler=crc32_1(te.adler,oe.pending_buf,oe.pending-re,re)),oe.gzindex===oe.gzhead.extra.length&&(oe.gzindex=0,oe.status=NAME_STATE)}else oe.status=NAME_STATE;if(oe.status===NAME_STATE)if(oe.gzhead.name){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(te.adler=crc32_1(te.adler,oe.pending_buf,oe.pending-re,re)),flush_pending(te),re=oe.pending,oe.pending===oe.pending_buf_size)){ne=1;break}oe.gzindex<oe.gzhead.name.length?ne=oe.gzhead.name.charCodeAt(oe.gzindex++)&255:ne=0,put_byte(oe,ne)}while(ne!==0);oe.gzhead.hcrc&&oe.pending>re&&(te.adler=crc32_1(te.adler,oe.pending_buf,oe.pending-re,re)),ne===0&&(oe.gzindex=0,oe.status=COMMENT_STATE)}else oe.status=COMMENT_STATE;if(oe.status===COMMENT_STATE)if(oe.gzhead.comment){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(te.adler=crc32_1(te.adler,oe.pending_buf,oe.pending-re,re)),flush_pending(te),re=oe.pending,oe.pending===oe.pending_buf_size)){ne=1;break}oe.gzindex<oe.gzhead.comment.length?ne=oe.gzhead.comment.charCodeAt(oe.gzindex++)&255:ne=0,put_byte(oe,ne)}while(ne!==0);oe.gzhead.hcrc&&oe.pending>re&&(te.adler=crc32_1(te.adler,oe.pending_buf,oe.pending-re,re)),ne===0&&(oe.status=HCRC_STATE)}else oe.status=HCRC_STATE;if(oe.status===HCRC_STATE&&(oe.gzhead.hcrc?(oe.pending+2>oe.pending_buf_size&&flush_pending(te),oe.pending+2<=oe.pending_buf_size&&(put_byte(oe,te.adler&255),put_byte(oe,te.adler>>8&255),te.adler=0,oe.status=BUSY_STATE)):oe.status=BUSY_STATE),oe.pending!==0){if(flush_pending(te),te.avail_out===0)return oe.last_flush=-1,Z_OK$3}else if(te.avail_in===0&&rank(ee)<=rank(ie)&&ee!==Z_FINISH$3)return err(te,Z_BUF_ERROR$1);if(oe.status===FINISH_STATE&&te.avail_in!==0)return err(te,Z_BUF_ERROR$1);if(te.avail_in!==0||oe.lookahead!==0||ee!==Z_NO_FLUSH$2&&oe.status!==FINISH_STATE){let se=oe.strategy===Z_HUFFMAN_ONLY?deflate_huff(oe,ee):oe.strategy===Z_RLE?deflate_rle(oe,ee):configuration_table[oe.level].func(oe,ee);if((se===BS_FINISH_STARTED||se===BS_FINISH_DONE)&&(oe.status=FINISH_STATE),se===BS_NEED_MORE||se===BS_FINISH_STARTED)return te.avail_out===0&&(oe.last_flush=-1),Z_OK$3;if(se===BS_BLOCK_DONE&&(ee===Z_PARTIAL_FLUSH?_tr_align(oe):ee!==Z_BLOCK$1&&(_tr_stored_block(oe,0,0,!1),ee===Z_FULL_FLUSH$1&&(zero(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),flush_pending(te),te.avail_out===0))return oe.last_flush=-1,Z_OK$3}return ee!==Z_FINISH$3?Z_OK$3:oe.wrap<=0?Z_STREAM_END$3:(oe.wrap===2?(put_byte(oe,te.adler&255),put_byte(oe,te.adler>>8&255),put_byte(oe,te.adler>>16&255),put_byte(oe,te.adler>>24&255),put_byte(oe,te.total_in&255),put_byte(oe,te.total_in>>8&255),put_byte(oe,te.total_in>>16&255),put_byte(oe,te.total_in>>24&255)):(putShortMSB(oe,te.adler>>>16),putShortMSB(oe,te.adler&65535)),flush_pending(te),oe.wrap>0&&(oe.wrap=-oe.wrap),oe.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=te=>{if(!te||!te.state)return Z_STREAM_ERROR$2;const ee=te.state.status;return ee!==INIT_STATE&&ee!==EXTRA_STATE&&ee!==NAME_STATE&&ee!==COMMENT_STATE&&ee!==HCRC_STATE&&ee!==BUSY_STATE&&ee!==FINISH_STATE?err(te,Z_STREAM_ERROR$2):(te.state=null,ee===BUSY_STATE?err(te,Z_DATA_ERROR$2):Z_OK$3)},deflateSetDictionary=(te,ee)=>{let re=ee.length;if(!te||!te.state)return Z_STREAM_ERROR$2;const ne=te.state,oe=ne.wrap;if(oe===2||oe===1&&ne.status!==INIT_STATE||ne.lookahead)return Z_STREAM_ERROR$2;if(oe===1&&(te.adler=adler32_1(te.adler,ee,re,0)),ne.wrap=0,re>=ne.w_size){oe===0&&(zero(ne.head),ne.strstart=0,ne.block_start=0,ne.insert=0);let he=new Uint8Array(ne.w_size);he.set(ee.subarray(re-ne.w_size,re),0),ee=he,re=ne.w_size}const ie=te.avail_in,se=te.next_in,ue=te.input;for(te.avail_in=re,te.next_in=0,te.input=ee,fill_window(ne);ne.lookahead>=MIN_MATCH;){let he=ne.strstart,ge=ne.lookahead-(MIN_MATCH-1);do ne.ins_h=HASH(ne,ne.ins_h,ne.window[he+MIN_MATCH-1]),ne.prev[he&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=he,he++;while(--ge);ne.strstart=he,ne.lookahead=MIN_MATCH-1,fill_window(ne)}return ne.strstart+=ne.lookahead,ne.block_start=ne.strstart,ne.insert=ne.lookahead,ne.lookahead=0,ne.match_length=ne.prev_length=MIN_MATCH-1,ne.match_available=0,te.next_in=se,te.input=ue,te.avail_in=ie,ne.wrap=oe,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(te,ee)=>Object.prototype.hasOwnProperty.call(te,ee);var assign=function(te){const ee=Array.prototype.slice.call(arguments,1);for(;ee.length;){const re=ee.shift();if(!!re){if(typeof re!="object")throw new TypeError(re+"must be non-object");for(const ne in re)_has(re,ne)&&(te[ne]=re[ne])}}return te},flattenChunks=te=>{let ee=0;for(let ne=0,oe=te.length;ne<oe;ne++)ee+=te[ne].length;const re=new Uint8Array(ee);for(let ne=0,oe=0,ie=te.length;ne<ie;ne++){let se=te[ne];re.set(se,oe),oe+=se.length}return re},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let te=0;te<256;te++)_utf8len[te]=te>=252?6:te>=248?5:te>=240?4:te>=224?3:te>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=te=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(te);let ee,re,ne,oe,ie,se=te.length,ue=0;for(oe=0;oe<se;oe++)re=te.charCodeAt(oe),(re&64512)===55296&&oe+1<se&&(ne=te.charCodeAt(oe+1),(ne&64512)===56320&&(re=65536+(re-55296<<10)+(ne-56320),oe++)),ue+=re<128?1:re<2048?2:re<65536?3:4;for(ee=new Uint8Array(ue),ie=0,oe=0;ie<ue;oe++)re=te.charCodeAt(oe),(re&64512)===55296&&oe+1<se&&(ne=te.charCodeAt(oe+1),(ne&64512)===56320&&(re=65536+(re-55296<<10)+(ne-56320),oe++)),re<128?ee[ie++]=re:re<2048?(ee[ie++]=192|re>>>6,ee[ie++]=128|re&63):re<65536?(ee[ie++]=224|re>>>12,ee[ie++]=128|re>>>6&63,ee[ie++]=128|re&63):(ee[ie++]=240|re>>>18,ee[ie++]=128|re>>>12&63,ee[ie++]=128|re>>>6&63,ee[ie++]=128|re&63);return ee};const buf2binstring=(te,ee)=>{if(ee<65534&&te.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,te.length===ee?te:te.subarray(0,ee));let re="";for(let ne=0;ne<ee;ne++)re+=String.fromCharCode(te[ne]);return re};var buf2string=(te,ee)=>{const re=ee||te.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(te.subarray(0,ee));let ne,oe;const ie=new Array(re*2);for(oe=0,ne=0;ne<re;){let se=te[ne++];if(se<128){ie[oe++]=se;continue}let ue=_utf8len[se];if(ue>4){ie[oe++]=65533,ne+=ue-1;continue}for(se&=ue===2?31:ue===3?15:7;ue>1&&ne<re;)se=se<<6|te[ne++]&63,ue--;if(ue>1){ie[oe++]=65533;continue}se<65536?ie[oe++]=se:(se-=65536,ie[oe++]=55296|se>>10&1023,ie[oe++]=56320|se&1023)}return buf2binstring(ie,oe)},utf8border=(te,ee)=>{ee=ee||te.length,ee>te.length&&(ee=te.length);let re=ee-1;for(;re>=0&&(te[re]&192)===128;)re--;return re<0||re===0?ee:re+_utf8len[te[re]]>ee?re:ee},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(te){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},te||{});let ee=this.options;ee.raw&&ee.windowBits>0?ee.windowBits=-ee.windowBits:ee.gzip&&ee.windowBits>0&&ee.windowBits<16&&(ee.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let re=deflate_1$2.deflateInit2(this.strm,ee.level,ee.method,ee.windowBits,ee.memLevel,ee.strategy);if(re!==Z_OK$2)throw new Error(messages[re]);if(ee.header&&deflate_1$2.deflateSetHeader(this.strm,ee.header),ee.dictionary){let ne;if(typeof ee.dictionary=="string"?ne=strings.string2buf(ee.dictionary):toString$1$1.call(ee.dictionary)==="[object ArrayBuffer]"?ne=new Uint8Array(ee.dictionary):ne=ee.dictionary,re=deflate_1$2.deflateSetDictionary(this.strm,ne),re!==Z_OK$2)throw new Error(messages[re]);this._dict_set=!0}}Deflate$1.prototype.push=function(te,ee){const re=this.strm,ne=this.options.chunkSize;let oe,ie;if(this.ended)return!1;for(ee===~~ee?ie=ee:ie=ee===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof te=="string"?re.input=strings.string2buf(te):toString$1$1.call(te)==="[object ArrayBuffer]"?re.input=new Uint8Array(te):re.input=te,re.next_in=0,re.avail_in=re.input.length;;){if(re.avail_out===0&&(re.output=new Uint8Array(ne),re.next_out=0,re.avail_out=ne),(ie===Z_SYNC_FLUSH||ie===Z_FULL_FLUSH)&&re.avail_out<=6){this.onData(re.output.subarray(0,re.next_out)),re.avail_out=0;continue}if(oe=deflate_1$2.deflate(re,ie),oe===Z_STREAM_END$2)return re.next_out>0&&this.onData(re.output.subarray(0,re.next_out)),oe=deflate_1$2.deflateEnd(this.strm),this.onEnd(oe),this.ended=!0,oe===Z_OK$2;if(re.avail_out===0){this.onData(re.output);continue}if(ie>0&&re.next_out>0){this.onData(re.output.subarray(0,re.next_out)),re.avail_out=0;continue}if(re.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(te){this.chunks.push(te)};Deflate$1.prototype.onEnd=function(te){te===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=te,this.msg=this.strm.msg};const BAD$1=30,TYPE$1=12;var inffast=function(ee,re){let ne,oe,ie,se,ue,he,ge,be,Se,Te,ke,Re,Ce,Pe,Ie,Ne,He,Ke,Ge,ut,Ve,nt,st,qe;const ye=ee.state;ne=ee.next_in,st=ee.input,oe=ne+(ee.avail_in-5),ie=ee.next_out,qe=ee.output,se=ie-(re-ee.avail_out),ue=ie+(ee.avail_out-257),he=ye.dmax,ge=ye.wsize,be=ye.whave,Se=ye.wnext,Te=ye.window,ke=ye.hold,Re=ye.bits,Ce=ye.lencode,Pe=ye.distcode,Ie=(1<<ye.lenbits)-1,Ne=(1<<ye.distbits)-1;e:do{Re<15&&(ke+=st[ne++]<<Re,Re+=8,ke+=st[ne++]<<Re,Re+=8),He=Ce[ke&Ie];t:for(;;){if(Ke=He>>>24,ke>>>=Ke,Re-=Ke,Ke=He>>>16&255,Ke===0)qe[ie++]=He&65535;else if(Ke&16){Ge=He&65535,Ke&=15,Ke&&(Re<Ke&&(ke+=st[ne++]<<Re,Re+=8),Ge+=ke&(1<<Ke)-1,ke>>>=Ke,Re-=Ke),Re<15&&(ke+=st[ne++]<<Re,Re+=8,ke+=st[ne++]<<Re,Re+=8),He=Pe[ke&Ne];r:for(;;){if(Ke=He>>>24,ke>>>=Ke,Re-=Ke,Ke=He>>>16&255,Ke&16){if(ut=He&65535,Ke&=15,Re<Ke&&(ke+=st[ne++]<<Re,Re+=8,Re<Ke&&(ke+=st[ne++]<<Re,Re+=8)),ut+=ke&(1<<Ke)-1,ut>he){ee.msg="invalid distance too far back",ye.mode=BAD$1;break e}if(ke>>>=Ke,Re-=Ke,Ke=ie-se,ut>Ke){if(Ke=ut-Ke,Ke>be&&ye.sane){ee.msg="invalid distance too far back",ye.mode=BAD$1;break e}if(Ve=0,nt=Te,Se===0){if(Ve+=ge-Ke,Ke<Ge){Ge-=Ke;do qe[ie++]=Te[Ve++];while(--Ke);Ve=ie-ut,nt=qe}}else if(Se<Ke){if(Ve+=ge+Se-Ke,Ke-=Se,Ke<Ge){Ge-=Ke;do qe[ie++]=Te[Ve++];while(--Ke);if(Ve=0,Se<Ge){Ke=Se,Ge-=Ke;do qe[ie++]=Te[Ve++];while(--Ke);Ve=ie-ut,nt=qe}}}else if(Ve+=Se-Ke,Ke<Ge){Ge-=Ke;do qe[ie++]=Te[Ve++];while(--Ke);Ve=ie-ut,nt=qe}for(;Ge>2;)qe[ie++]=nt[Ve++],qe[ie++]=nt[Ve++],qe[ie++]=nt[Ve++],Ge-=3;Ge&&(qe[ie++]=nt[Ve++],Ge>1&&(qe[ie++]=nt[Ve++]))}else{Ve=ie-ut;do qe[ie++]=qe[Ve++],qe[ie++]=qe[Ve++],qe[ie++]=qe[Ve++],Ge-=3;while(Ge>2);Ge&&(qe[ie++]=qe[Ve++],Ge>1&&(qe[ie++]=qe[Ve++]))}}else if((Ke&64)===0){He=Pe[(He&65535)+(ke&(1<<Ke)-1)];continue r}else{ee.msg="invalid distance code",ye.mode=BAD$1;break e}break}}else if((Ke&64)===0){He=Ce[(He&65535)+(ke&(1<<Ke)-1)];continue t}else if(Ke&32){ye.mode=TYPE$1;break e}else{ee.msg="invalid literal/length code",ye.mode=BAD$1;break e}break}}while(ne<oe&&ie<ue);Ge=Re>>3,ne-=Ge,Re-=Ge<<3,ke&=(1<<Re)-1,ee.next_in=ne,ee.next_out=ie,ee.avail_in=ne<oe?5+(oe-ne):5-(ne-oe),ee.avail_out=ie<ue?257+(ue-ie):257-(ie-ue),ye.hold=ke,ye.bits=Re};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(te,ee,re,ne,oe,ie,se,ue)=>{const he=ue.bits;let ge=0,be=0,Se=0,Te=0,ke=0,Re=0,Ce=0,Pe=0,Ie=0,Ne=0,He,Ke,Ge,ut,Ve,nt=null,st=0,qe;const ye=new Uint16Array(MAXBITS+1),ae=new Uint16Array(MAXBITS+1);let ce=null,le=0,pe,_e,$e;for(ge=0;ge<=MAXBITS;ge++)ye[ge]=0;for(be=0;be<ne;be++)ye[ee[re+be]]++;for(ke=he,Te=MAXBITS;Te>=1&&ye[Te]===0;Te--);if(ke>Te&&(ke=Te),Te===0)return oe[ie++]=1<<24|64<<16|0,oe[ie++]=1<<24|64<<16|0,ue.bits=1,0;for(Se=1;Se<Te&&ye[Se]===0;Se++);for(ke<Se&&(ke=Se),Pe=1,ge=1;ge<=MAXBITS;ge++)if(Pe<<=1,Pe-=ye[ge],Pe<0)return-1;if(Pe>0&&(te===CODES$1||Te!==1))return-1;for(ae[1]=0,ge=1;ge<MAXBITS;ge++)ae[ge+1]=ae[ge]+ye[ge];for(be=0;be<ne;be++)ee[re+be]!==0&&(se[ae[ee[re+be]]++]=be);if(te===CODES$1?(nt=ce=se,qe=19):te===LENS$1?(nt=lbase,st-=257,ce=lext,le-=257,qe=256):(nt=dbase,ce=dext,qe=-1),Ne=0,be=0,ge=Se,Ve=ie,Re=ke,Ce=0,Ge=-1,Ie=1<<ke,ut=Ie-1,te===LENS$1&&Ie>ENOUGH_LENS$1||te===DISTS$1&&Ie>ENOUGH_DISTS$1)return 1;for(;;){pe=ge-Ce,se[be]<qe?(_e=0,$e=se[be]):se[be]>qe?(_e=ce[le+se[be]],$e=nt[st+se[be]]):(_e=32+64,$e=0),He=1<<ge-Ce,Ke=1<<Re,Se=Ke;do Ke-=He,oe[Ve+(Ne>>Ce)+Ke]=pe<<24|_e<<16|$e|0;while(Ke!==0);for(He=1<<ge-1;Ne&He;)He>>=1;if(He!==0?(Ne&=He-1,Ne+=He):Ne=0,be++,--ye[ge]===0){if(ge===Te)break;ge=ee[re+se[be]]}if(ge>ke&&(Ne&ut)!==Ge){for(Ce===0&&(Ce=ke),Ve+=Se,Re=ge-Ce,Pe=1<<Re;Re+Ce<Te&&(Pe-=ye[Re+Ce],!(Pe<=0));)Re++,Pe<<=1;if(Ie+=1<<Re,te===LENS$1&&Ie>ENOUGH_LENS$1||te===DISTS$1&&Ie>ENOUGH_DISTS$1)return 1;Ge=Ne&ut,oe[Ge]=ke<<24|Re<<16|Ve-ie|0}}return Ne!==0&&(oe[Ve+Ne]=ge-Ce<<24|64<<16|0),ue.bits=ke,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=te=>(te>>>24&255)+(te>>>8&65280)+((te&65280)<<8)+((te&255)<<24);function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateResetKeep=te=>{if(!te||!te.state)return Z_STREAM_ERROR$1;const ee=te.state;return te.total_in=te.total_out=ee.total=0,te.msg="",ee.wrap&&(te.adler=ee.wrap&1),ee.mode=HEAD,ee.last=0,ee.havedict=0,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new Int32Array(ENOUGH_LENS),ee.distcode=ee.distdyn=new Int32Array(ENOUGH_DISTS),ee.sane=1,ee.back=-1,Z_OK$1},inflateReset=te=>{if(!te||!te.state)return Z_STREAM_ERROR$1;const ee=te.state;return ee.wsize=0,ee.whave=0,ee.wnext=0,inflateResetKeep(te)},inflateReset2=(te,ee)=>{let re;if(!te||!te.state)return Z_STREAM_ERROR$1;const ne=te.state;return ee<0?(re=0,ee=-ee):(re=(ee>>4)+1,ee<48&&(ee&=15)),ee&&(ee<8||ee>15)?Z_STREAM_ERROR$1:(ne.window!==null&&ne.wbits!==ee&&(ne.window=null),ne.wrap=re,ne.wbits=ee,inflateReset(te))},inflateInit2=(te,ee)=>{if(!te)return Z_STREAM_ERROR$1;const re=new InflateState;te.state=re,re.window=null;const ne=inflateReset2(te,ee);return ne!==Z_OK$1&&(te.state=null),ne},inflateInit=te=>inflateInit2(te,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=te=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let ee=0;for(;ee<144;)te.lens[ee++]=8;for(;ee<256;)te.lens[ee++]=9;for(;ee<280;)te.lens[ee++]=7;for(;ee<288;)te.lens[ee++]=8;for(inftrees(LENS,te.lens,0,288,lenfix,0,te.work,{bits:9}),ee=0;ee<32;)te.lens[ee++]=5;inftrees(DISTS,te.lens,0,32,distfix,0,te.work,{bits:5}),virgin=!1}te.lencode=lenfix,te.lenbits=9,te.distcode=distfix,te.distbits=5},updatewindow=(te,ee,re,ne)=>{let oe;const ie=te.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new Uint8Array(ie.wsize)),ne>=ie.wsize?(ie.window.set(ee.subarray(re-ie.wsize,re),0),ie.wnext=0,ie.whave=ie.wsize):(oe=ie.wsize-ie.wnext,oe>ne&&(oe=ne),ie.window.set(ee.subarray(re-ne,re-ne+oe),ie.wnext),ne-=oe,ne?(ie.window.set(ee.subarray(re-ne,re),0),ie.wnext=ne,ie.whave=ie.wsize):(ie.wnext+=oe,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=oe))),0},inflate$2=(te,ee)=>{let re,ne,oe,ie,se,ue,he,ge,be,Se,Te,ke,Re,Ce,Pe=0,Ie,Ne,He,Ke,Ge,ut,Ve,nt;const st=new Uint8Array(4);let qe,ye;const ae=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!te||!te.state||!te.output||!te.input&&te.avail_in!==0)return Z_STREAM_ERROR$1;re=te.state,re.mode===TYPE&&(re.mode=TYPEDO),se=te.next_out,oe=te.output,he=te.avail_out,ie=te.next_in,ne=te.input,ue=te.avail_in,ge=re.hold,be=re.bits,Se=ue,Te=he,nt=Z_OK$1;e:for(;;)switch(re.mode){case HEAD:if(re.wrap===0){re.mode=TYPEDO;break}for(;be<16;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}if(re.wrap&2&&ge===35615){re.check=0,st[0]=ge&255,st[1]=ge>>>8&255,re.check=crc32_1(re.check,st,2,0),ge=0,be=0,re.mode=FLAGS;break}if(re.flags=0,re.head&&(re.head.done=!1),!(re.wrap&1)||(((ge&255)<<8)+(ge>>8))%31){te.msg="incorrect header check",re.mode=BAD;break}if((ge&15)!==Z_DEFLATED){te.msg="unknown compression method",re.mode=BAD;break}if(ge>>>=4,be-=4,Ve=(ge&15)+8,re.wbits===0)re.wbits=Ve;else if(Ve>re.wbits){te.msg="invalid window size",re.mode=BAD;break}re.dmax=1<<re.wbits,te.adler=re.check=1,re.mode=ge&512?DICTID:TYPE,ge=0,be=0;break;case FLAGS:for(;be<16;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}if(re.flags=ge,(re.flags&255)!==Z_DEFLATED){te.msg="unknown compression method",re.mode=BAD;break}if(re.flags&57344){te.msg="unknown header flags set",re.mode=BAD;break}re.head&&(re.head.text=ge>>8&1),re.flags&512&&(st[0]=ge&255,st[1]=ge>>>8&255,re.check=crc32_1(re.check,st,2,0)),ge=0,be=0,re.mode=TIME;case TIME:for(;be<32;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}re.head&&(re.head.time=ge),re.flags&512&&(st[0]=ge&255,st[1]=ge>>>8&255,st[2]=ge>>>16&255,st[3]=ge>>>24&255,re.check=crc32_1(re.check,st,4,0)),ge=0,be=0,re.mode=OS;case OS:for(;be<16;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}re.head&&(re.head.xflags=ge&255,re.head.os=ge>>8),re.flags&512&&(st[0]=ge&255,st[1]=ge>>>8&255,re.check=crc32_1(re.check,st,2,0)),ge=0,be=0,re.mode=EXLEN;case EXLEN:if(re.flags&1024){for(;be<16;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}re.length=ge,re.head&&(re.head.extra_len=ge),re.flags&512&&(st[0]=ge&255,st[1]=ge>>>8&255,re.check=crc32_1(re.check,st,2,0)),ge=0,be=0}else re.head&&(re.head.extra=null);re.mode=EXTRA;case EXTRA:if(re.flags&1024&&(ke=re.length,ke>ue&&(ke=ue),ke&&(re.head&&(Ve=re.head.extra_len-re.length,re.head.extra||(re.head.extra=new Uint8Array(re.head.extra_len)),re.head.extra.set(ne.subarray(ie,ie+ke),Ve)),re.flags&512&&(re.check=crc32_1(re.check,ne,ke,ie)),ue-=ke,ie+=ke,re.length-=ke),re.length))break e;re.length=0,re.mode=NAME;case NAME:if(re.flags&2048){if(ue===0)break e;ke=0;do Ve=ne[ie+ke++],re.head&&Ve&&re.length<65536&&(re.head.name+=String.fromCharCode(Ve));while(Ve&&ke<ue);if(re.flags&512&&(re.check=crc32_1(re.check,ne,ke,ie)),ue-=ke,ie+=ke,Ve)break e}else re.head&&(re.head.name=null);re.length=0,re.mode=COMMENT;case COMMENT:if(re.flags&4096){if(ue===0)break e;ke=0;do Ve=ne[ie+ke++],re.head&&Ve&&re.length<65536&&(re.head.comment+=String.fromCharCode(Ve));while(Ve&&ke<ue);if(re.flags&512&&(re.check=crc32_1(re.check,ne,ke,ie)),ue-=ke,ie+=ke,Ve)break e}else re.head&&(re.head.comment=null);re.mode=HCRC;case HCRC:if(re.flags&512){for(;be<16;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}if(ge!==(re.check&65535)){te.msg="header crc mismatch",re.mode=BAD;break}ge=0,be=0}re.head&&(re.head.hcrc=re.flags>>9&1,re.head.done=!0),te.adler=re.check=0,re.mode=TYPE;break;case DICTID:for(;be<32;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}te.adler=re.check=zswap32(ge),ge=0,be=0,re.mode=DICT;case DICT:if(re.havedict===0)return te.next_out=se,te.avail_out=he,te.next_in=ie,te.avail_in=ue,re.hold=ge,re.bits=be,Z_NEED_DICT$1;te.adler=re.check=1,re.mode=TYPE;case TYPE:if(ee===Z_BLOCK||ee===Z_TREES)break e;case TYPEDO:if(re.last){ge>>>=be&7,be-=be&7,re.mode=CHECK;break}for(;be<3;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}switch(re.last=ge&1,ge>>>=1,be-=1,ge&3){case 0:re.mode=STORED;break;case 1:if(fixedtables(re),re.mode=LEN_,ee===Z_TREES){ge>>>=2,be-=2;break e}break;case 2:re.mode=TABLE;break;case 3:te.msg="invalid block type",re.mode=BAD}ge>>>=2,be-=2;break;case STORED:for(ge>>>=be&7,be-=be&7;be<32;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}if((ge&65535)!==(ge>>>16^65535)){te.msg="invalid stored block lengths",re.mode=BAD;break}if(re.length=ge&65535,ge=0,be=0,re.mode=COPY_,ee===Z_TREES)break e;case COPY_:re.mode=COPY;case COPY:if(ke=re.length,ke){if(ke>ue&&(ke=ue),ke>he&&(ke=he),ke===0)break e;oe.set(ne.subarray(ie,ie+ke),se),ue-=ke,ie+=ke,he-=ke,se+=ke,re.length-=ke;break}re.mode=TYPE;break;case TABLE:for(;be<14;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}if(re.nlen=(ge&31)+257,ge>>>=5,be-=5,re.ndist=(ge&31)+1,ge>>>=5,be-=5,re.ncode=(ge&15)+4,ge>>>=4,be-=4,re.nlen>286||re.ndist>30){te.msg="too many length or distance symbols",re.mode=BAD;break}re.have=0,re.mode=LENLENS;case LENLENS:for(;re.have<re.ncode;){for(;be<3;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}re.lens[ae[re.have++]]=ge&7,ge>>>=3,be-=3}for(;re.have<19;)re.lens[ae[re.have++]]=0;if(re.lencode=re.lendyn,re.lenbits=7,qe={bits:re.lenbits},nt=inftrees(CODES,re.lens,0,19,re.lencode,0,re.work,qe),re.lenbits=qe.bits,nt){te.msg="invalid code lengths set",re.mode=BAD;break}re.have=0,re.mode=CODELENS;case CODELENS:for(;re.have<re.nlen+re.ndist;){for(;Pe=re.lencode[ge&(1<<re.lenbits)-1],Ie=Pe>>>24,Ne=Pe>>>16&255,He=Pe&65535,!(Ie<=be);){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}if(He<16)ge>>>=Ie,be-=Ie,re.lens[re.have++]=He;else{if(He===16){for(ye=Ie+2;be<ye;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}if(ge>>>=Ie,be-=Ie,re.have===0){te.msg="invalid bit length repeat",re.mode=BAD;break}Ve=re.lens[re.have-1],ke=3+(ge&3),ge>>>=2,be-=2}else if(He===17){for(ye=Ie+3;be<ye;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}ge>>>=Ie,be-=Ie,Ve=0,ke=3+(ge&7),ge>>>=3,be-=3}else{for(ye=Ie+7;be<ye;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}ge>>>=Ie,be-=Ie,Ve=0,ke=11+(ge&127),ge>>>=7,be-=7}if(re.have+ke>re.nlen+re.ndist){te.msg="invalid bit length repeat",re.mode=BAD;break}for(;ke--;)re.lens[re.have++]=Ve}}if(re.mode===BAD)break;if(re.lens[256]===0){te.msg="invalid code -- missing end-of-block",re.mode=BAD;break}if(re.lenbits=9,qe={bits:re.lenbits},nt=inftrees(LENS,re.lens,0,re.nlen,re.lencode,0,re.work,qe),re.lenbits=qe.bits,nt){te.msg="invalid literal/lengths set",re.mode=BAD;break}if(re.distbits=6,re.distcode=re.distdyn,qe={bits:re.distbits},nt=inftrees(DISTS,re.lens,re.nlen,re.ndist,re.distcode,0,re.work,qe),re.distbits=qe.bits,nt){te.msg="invalid distances set",re.mode=BAD;break}if(re.mode=LEN_,ee===Z_TREES)break e;case LEN_:re.mode=LEN;case LEN:if(ue>=6&&he>=258){te.next_out=se,te.avail_out=he,te.next_in=ie,te.avail_in=ue,re.hold=ge,re.bits=be,inffast(te,Te),se=te.next_out,oe=te.output,he=te.avail_out,ie=te.next_in,ne=te.input,ue=te.avail_in,ge=re.hold,be=re.bits,re.mode===TYPE&&(re.back=-1);break}for(re.back=0;Pe=re.lencode[ge&(1<<re.lenbits)-1],Ie=Pe>>>24,Ne=Pe>>>16&255,He=Pe&65535,!(Ie<=be);){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}if(Ne&&(Ne&240)===0){for(Ke=Ie,Ge=Ne,ut=He;Pe=re.lencode[ut+((ge&(1<<Ke+Ge)-1)>>Ke)],Ie=Pe>>>24,Ne=Pe>>>16&255,He=Pe&65535,!(Ke+Ie<=be);){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}ge>>>=Ke,be-=Ke,re.back+=Ke}if(ge>>>=Ie,be-=Ie,re.back+=Ie,re.length=He,Ne===0){re.mode=LIT;break}if(Ne&32){re.back=-1,re.mode=TYPE;break}if(Ne&64){te.msg="invalid literal/length code",re.mode=BAD;break}re.extra=Ne&15,re.mode=LENEXT;case LENEXT:if(re.extra){for(ye=re.extra;be<ye;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}re.length+=ge&(1<<re.extra)-1,ge>>>=re.extra,be-=re.extra,re.back+=re.extra}re.was=re.length,re.mode=DIST;case DIST:for(;Pe=re.distcode[ge&(1<<re.distbits)-1],Ie=Pe>>>24,Ne=Pe>>>16&255,He=Pe&65535,!(Ie<=be);){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}if((Ne&240)===0){for(Ke=Ie,Ge=Ne,ut=He;Pe=re.distcode[ut+((ge&(1<<Ke+Ge)-1)>>Ke)],Ie=Pe>>>24,Ne=Pe>>>16&255,He=Pe&65535,!(Ke+Ie<=be);){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}ge>>>=Ke,be-=Ke,re.back+=Ke}if(ge>>>=Ie,be-=Ie,re.back+=Ie,Ne&64){te.msg="invalid distance code",re.mode=BAD;break}re.offset=He,re.extra=Ne&15,re.mode=DISTEXT;case DISTEXT:if(re.extra){for(ye=re.extra;be<ye;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}re.offset+=ge&(1<<re.extra)-1,ge>>>=re.extra,be-=re.extra,re.back+=re.extra}if(re.offset>re.dmax){te.msg="invalid distance too far back",re.mode=BAD;break}re.mode=MATCH;case MATCH:if(he===0)break e;if(ke=Te-he,re.offset>ke){if(ke=re.offset-ke,ke>re.whave&&re.sane){te.msg="invalid distance too far back",re.mode=BAD;break}ke>re.wnext?(ke-=re.wnext,Re=re.wsize-ke):Re=re.wnext-ke,ke>re.length&&(ke=re.length),Ce=re.window}else Ce=oe,Re=se-re.offset,ke=re.length;ke>he&&(ke=he),he-=ke,re.length-=ke;do oe[se++]=Ce[Re++];while(--ke);re.length===0&&(re.mode=LEN);break;case LIT:if(he===0)break e;oe[se++]=re.length,he--,re.mode=LEN;break;case CHECK:if(re.wrap){for(;be<32;){if(ue===0)break e;ue--,ge|=ne[ie++]<<be,be+=8}if(Te-=he,te.total_out+=Te,re.total+=Te,Te&&(te.adler=re.check=re.flags?crc32_1(re.check,oe,Te,se-Te):adler32_1(re.check,oe,Te,se-Te)),Te=he,(re.flags?ge:zswap32(ge))!==re.check){te.msg="incorrect data check",re.mode=BAD;break}ge=0,be=0}re.mode=LENGTH;case LENGTH:if(re.wrap&&re.flags){for(;be<32;){if(ue===0)break e;ue--,ge+=ne[ie++]<<be,be+=8}if(ge!==(re.total&4294967295)){te.msg="incorrect length check",re.mode=BAD;break}ge=0,be=0}re.mode=DONE;case DONE:nt=Z_STREAM_END$1;break e;case BAD:nt=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return te.next_out=se,te.avail_out=he,te.next_in=ie,te.avail_in=ue,re.hold=ge,re.bits=be,(re.wsize||Te!==te.avail_out&&re.mode<BAD&&(re.mode<CHECK||ee!==Z_FINISH$1))&&updatewindow(te,te.output,te.next_out,Te-te.avail_out),Se-=te.avail_in,Te-=te.avail_out,te.total_in+=Se,te.total_out+=Te,re.total+=Te,re.wrap&&Te&&(te.adler=re.check=re.flags?crc32_1(re.check,oe,Te,te.next_out-Te):adler32_1(re.check,oe,Te,te.next_out-Te)),te.data_type=re.bits+(re.last?64:0)+(re.mode===TYPE?128:0)+(re.mode===LEN_||re.mode===COPY_?256:0),(Se===0&&Te===0||ee===Z_FINISH$1)&&nt===Z_OK$1&&(nt=Z_BUF_ERROR),nt},inflateEnd=te=>{if(!te||!te.state)return Z_STREAM_ERROR$1;let ee=te.state;return ee.window&&(ee.window=null),te.state=null,Z_OK$1},inflateGetHeader=(te,ee)=>{if(!te||!te.state)return Z_STREAM_ERROR$1;const re=te.state;return(re.wrap&2)===0?Z_STREAM_ERROR$1:(re.head=ee,ee.done=!1,Z_OK$1)},inflateSetDictionary=(te,ee)=>{const re=ee.length;let ne,oe,ie;return!te||!te.state||(ne=te.state,ne.wrap!==0&&ne.mode!==DICT)?Z_STREAM_ERROR$1:ne.mode===DICT&&(oe=1,oe=adler32_1(oe,ee,re,0),oe!==ne.check)?Z_DATA_ERROR$1:(ie=updatewindow(te,ee,re,re),ie?(ne.mode=MEM,Z_MEM_ERROR$1):(ne.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$4=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(te){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},te||{});const ee=this.options;ee.raw&&ee.windowBits>=0&&ee.windowBits<16&&(ee.windowBits=-ee.windowBits,ee.windowBits===0&&(ee.windowBits=-15)),ee.windowBits>=0&&ee.windowBits<16&&!(te&&te.windowBits)&&(ee.windowBits+=32),ee.windowBits>15&&ee.windowBits<48&&(ee.windowBits&15)===0&&(ee.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let re=inflate_1$2.inflateInit2(this.strm,ee.windowBits);if(re!==Z_OK)throw new Error(messages[re]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),ee.dictionary&&(typeof ee.dictionary=="string"?ee.dictionary=strings.string2buf(ee.dictionary):toString$4.call(ee.dictionary)==="[object ArrayBuffer]"&&(ee.dictionary=new Uint8Array(ee.dictionary)),ee.raw&&(re=inflate_1$2.inflateSetDictionary(this.strm,ee.dictionary),re!==Z_OK)))throw new Error(messages[re])}Inflate$1.prototype.push=function(te,ee){const re=this.strm,ne=this.options.chunkSize,oe=this.options.dictionary;let ie,se,ue;if(this.ended)return!1;for(ee===~~ee?se=ee:se=ee===!0?Z_FINISH:Z_NO_FLUSH,toString$4.call(te)==="[object ArrayBuffer]"?re.input=new Uint8Array(te):re.input=te,re.next_in=0,re.avail_in=re.input.length;;){for(re.avail_out===0&&(re.output=new Uint8Array(ne),re.next_out=0,re.avail_out=ne),ie=inflate_1$2.inflate(re,se),ie===Z_NEED_DICT&&oe&&(ie=inflate_1$2.inflateSetDictionary(re,oe),ie===Z_OK?ie=inflate_1$2.inflate(re,se):ie===Z_DATA_ERROR&&(ie=Z_NEED_DICT));re.avail_in>0&&ie===Z_STREAM_END&&re.state.wrap>0&&te[re.next_in]!==0;)inflate_1$2.inflateReset(re),ie=inflate_1$2.inflate(re,se);switch(ie){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(ie),this.ended=!0,!1}if(ue=re.avail_out,re.next_out&&(re.avail_out===0||ie===Z_STREAM_END))if(this.options.to==="string"){let he=strings.utf8border(re.output,re.next_out),ge=re.next_out-he,be=strings.buf2string(re.output,he);re.next_out=ge,re.avail_out=ne-ge,ge&&re.output.set(re.output.subarray(he,he+ge),0),this.onData(be)}else this.onData(re.output.length===re.next_out?re.output:re.output.subarray(0,re.next_out));if(!(ie===Z_OK&&ue===0)){if(ie===Z_STREAM_END)return ie=inflate_1$2.inflateEnd(this.strm),this.onEnd(ie),this.ended=!0,!0;if(re.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(te){this.chunks.push(te)};Inflate$1.prototype.onEnd=function(te){te===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=te,this.msg=this.strm.msg};function inflate$1(te,ee){const re=new Inflate$1(ee);if(re.push(te),re.err)throw re.msg||messages[re.err];return re.result}function inflateRaw$1(te,ee){return ee=ee||{},ee.raw=!0,inflate$1(te,ee)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$1=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$1};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate;class NodeWallet$2{constructor(ee){this.payer=ee}static local(){const ee=Keypair.fromSecretKey(buffer$2.Buffer.from(JSON.parse(require$$3$1.readFileSync({}.ANCHOR_WALLET,{encoding:"utf-8"}))));return new NodeWallet$2(ee)}async signTransaction(ee){return ee.partialSign(this.payer),ee}async signAllTransactions(ee){return ee.map(re=>(re.partialSign(this.payer),re))}get publicKey(){return this.payer.publicKey}}var nodewallet=Object.freeze(Object.defineProperty({__proto__:null,default:NodeWallet$2},Symbol.toStringTag,{value:"Module"})),require$$1$4=getAugmentedNamespace(nodewallet),util$1={},types={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var ee={},re=Symbol("test"),ne=Object(re);if(typeof re=="string"||Object.prototype.toString.call(re)!=="[object Symbol]"||Object.prototype.toString.call(ne)!=="[object Symbol]")return!1;var oe=42;ee[re]=oe;for(re in ee)return!1;if(typeof Object.keys=="function"&&Object.keys(ee).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(ee).length!==0)return!1;var ie=Object.getOwnPropertySymbols(ee);if(ie.length!==1||ie[0]!==re||!Object.prototype.propertyIsEnumerable.call(ee,re))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var se=Object.getOwnPropertyDescriptor(ee,re);if(se.value!==oe||se.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},origSymbol=typeof Symbol!="undefined"&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$1=Array.prototype.slice,toStr$3=Object.prototype.toString,funcType="[object Function]",implementation$1=function(ee){var re=this;if(typeof re!="function"||toStr$3.call(re)!==funcType)throw new TypeError(ERROR_MESSAGE+re);for(var ne=slice$1.call(arguments,1),oe,ie=function(){if(this instanceof oe){var be=re.apply(this,ne.concat(slice$1.call(arguments)));return Object(be)===be?be:this}else return re.apply(ee,ne.concat(slice$1.call(arguments)))},se=Math.max(0,re.length-ne.length),ue=[],he=0;he<se;he++)ue.push("$"+he);if(oe=Function("binder","return function ("+ue.join(",")+"){ return binder.apply(this,arguments); }")(ie),re.prototype){var ge=function(){};ge.prototype=re.prototype,oe.prototype=new ge,ge.prototype=null}return oe},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$4=functionBind,src$2=bind$4.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(te){try{return $Function('"use strict"; return ('+te+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto$1=Object.getPrototypeOf||function(te){return te.__proto__},needsEval={},TypedArray=typeof Uint8Array=="undefined"?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError=="undefined"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics=="undefined"?undefined$1:Atomics,"%BigInt%":typeof BigInt=="undefined"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array=="undefined"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map=="undefined"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!hasSymbols?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?undefined$1:Promise,"%Proxy%":typeof Proxy=="undefined"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!hasSymbols?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":typeof Uint8Array=="undefined"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?undefined$1:WeakSet},doEval=function te(ee){var re;if(ee==="%AsyncFunction%")re=getEvalledConstructor("async function () {}");else if(ee==="%GeneratorFunction%")re=getEvalledConstructor("function* () {}");else if(ee==="%AsyncGeneratorFunction%")re=getEvalledConstructor("async function* () {}");else if(ee==="%AsyncGenerator%"){var ne=te("%AsyncGeneratorFunction%");ne&&(re=ne.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var oe=te("%AsyncGenerator%");oe&&(re=getProto$1(oe.prototype))}return INTRINSICS[ee]=re,re},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$3=functionBind,hasOwn$1=src$2,$concat=bind$3.call(Function.call,Array.prototype.concat),$spliceApply=bind$3.call(Function.apply,Array.prototype.splice),$replace=bind$3.call(Function.call,String.prototype.replace),$strSlice=bind$3.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(ee){var re=$strSlice(ee,0,1),ne=$strSlice(ee,-1);if(re==="%"&&ne!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(ne==="%"&&re!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var oe=[];return $replace(ee,rePropName,function(ie,se,ue,he){oe[oe.length]=ue?$replace(he,reEscapeChar,"$1"):se||ie}),oe},getBaseIntrinsic=function(ee,re){var ne=ee,oe;if(hasOwn$1(LEGACY_ALIASES,ne)&&(oe=LEGACY_ALIASES[ne],ne="%"+oe[0]+"%"),hasOwn$1(INTRINSICS,ne)){var ie=INTRINSICS[ne];if(ie===needsEval&&(ie=doEval(ne)),typeof ie=="undefined"&&!re)throw new $TypeError("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:oe,name:ne,value:ie}}throw new $SyntaxError("intrinsic "+ee+" does not exist!")},getIntrinsic=function(ee,re){if(typeof ee!="string"||ee.length===0)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof re!="boolean")throw new $TypeError('"allowMissing" argument must be a boolean');var ne=stringToPath(ee),oe=ne.length>0?ne[0]:"",ie=getBaseIntrinsic("%"+oe+"%",re),se=ie.name,ue=ie.value,he=!1,ge=ie.alias;ge&&(oe=ge[0],$spliceApply(ne,$concat([0,1],ge)));for(var be=1,Se=!0;be<ne.length;be+=1){var Te=ne[be],ke=$strSlice(Te,0,1),Re=$strSlice(Te,-1);if((ke==='"'||ke==="'"||ke==="`"||Re==='"'||Re==="'"||Re==="`")&&ke!==Re)throw new $SyntaxError("property names with quotes must have matching quotes");if((Te==="constructor"||!Se)&&(he=!0),oe+="."+Te,se="%"+oe+"%",hasOwn$1(INTRINSICS,se))ue=INTRINSICS[se];else if(ue!=null){if(!(Te in ue)){if(!re)throw new $TypeError("base intrinsic for "+ee+" exists, but the property is not available.");return}if($gOPD$1&&be+1>=ne.length){var Ce=$gOPD$1(ue,Te);Se=!!Ce,Se&&"get"in Ce&&!("originalValue"in Ce.get)?ue=Ce.get:ue=ue[Te]}else Se=hasOwn$1(ue,Te),ue=ue[Te];Se&&!he&&(INTRINSICS[se]=ue)}}return ue},callBind$1={exports:{}};(function(te){var ee=functionBind,re=getIntrinsic,ne=re("%Function.prototype.apply%"),oe=re("%Function.prototype.call%"),ie=re("%Reflect.apply%",!0)||ee.call(oe,ne),se=re("%Object.getOwnPropertyDescriptor%",!0),ue=re("%Object.defineProperty%",!0),he=re("%Math.max%");if(ue)try{ue({},"a",{value:1})}catch{ue=null}te.exports=function(Se){var Te=ie(ee,oe,arguments);if(se&&ue){var ke=se(Te,"length");ke.configurable&&ue(Te,"length",{value:1+he(0,Se.length-(arguments.length-1))})}return Te};var ge=function(){return ie(ee,ne,arguments)};ue?ue(te.exports,"apply",{value:ge}):te.exports.apply=ge})(callBind$1);var GetIntrinsic$1=getIntrinsic,callBind=callBind$1.exports,$indexOf$1=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$3=function(ee,re){var ne=GetIntrinsic$1(ee,!!re);return typeof ne=="function"&&$indexOf$1(ee,".prototype.")>-1?callBind(ne):ne},hasToStringTag$4=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function(ee){return hasToStringTag$4&&ee&&typeof ee=="object"&&Symbol.toStringTag in ee?!1:$toString$2(ee)==="[object Arguments]"},isLegacyArguments=function(ee){return isStandardArguments(ee)?!0:ee!==null&&typeof ee=="object"&&typeof ee.length=="number"&&ee.length>=0&&$toString$2(ee)!=="[object Array]"&&$toString$2(ee.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$4=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$3=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$3)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(ee){if(typeof ee!="function")return!1;if(isFnRegex.test(fnToStr$1.call(ee)))return!0;if(!hasToStringTag$3){var re=toStr$2.call(ee);return re==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction=="undefined"){var ne=getGeneratorFunc();GeneratorFunction=ne?getProto(ne):!1}return getProto(ee)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(te){te!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(ee){try{var re=fnToStr.call(ee);return constructorRegex.test(re)}catch{return!1}},tryFunctionObject=function(ee){try{return isES6ClassFn(ee)?!1:(fnToStr.call(ee),!0)}catch{return!1}},toStr$1=Object.prototype.toString,fnClass="[object Function]",genClass="[object GeneratorFunction]",hasToStringTag$2=typeof Symbol=="function"&&!!Symbol.toStringTag,documentDotAll=typeof document=="object"&&typeof document.all=="undefined"&&document.all!==void 0?document.all:{},isCallable$1=reflectApply?function(ee){if(ee===documentDotAll)return!0;if(!ee||typeof ee!="function"&&typeof ee!="object")return!1;if(typeof ee=="function"&&!ee.prototype)return!0;try{reflectApply(ee,null,badArrayLike)}catch(re){if(re!==isCallableMarker)return!1}return!isES6ClassFn(ee)}:function(ee){if(ee===documentDotAll)return!0;if(!ee||typeof ee!="function"&&typeof ee!="object")return!1;if(typeof ee=="function"&&!ee.prototype)return!0;if(hasToStringTag$2)return tryFunctionObject(ee);if(isES6ClassFn(ee))return!1;var re=toStr$1.call(ee);return re===fnClass||re===genClass},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$6=Object.prototype.hasOwnProperty,forEachArray=function(ee,re,ne){for(var oe=0,ie=ee.length;oe<ie;oe++)hasOwnProperty$6.call(ee,oe)&&(ne==null?re(ee[oe],oe,ee):re.call(ne,ee[oe],oe,ee))},forEachString=function(ee,re,ne){for(var oe=0,ie=ee.length;oe<ie;oe++)ne==null?re(ee.charAt(oe),oe,ee):re.call(ne,ee.charAt(oe),oe,ee)},forEachObject=function(ee,re,ne){for(var oe in ee)hasOwnProperty$6.call(ee,oe)&&(ne==null?re(ee[oe],oe,ee):re.call(ne,ee[oe],oe,ee))},forEach$3=function(ee,re,ne){if(!isCallable(re))throw new TypeError("iterator must be a function");var oe;arguments.length>=3&&(oe=ne),toStr.call(ee)==="[object Array]"?forEachArray(ee,re,oe):typeof ee=="string"?forEachString(ee,re,oe):forEachObject(ee,re,oe)},forEach_1=forEach$3,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$4=globalThis,availableTypedArrays$2=function(){for(var ee=[],re=0;re<possibleNames.length;re++)typeof g$4[possibleNames[re]]=="function"&&(ee[ee.length]=possibleNames[re]);return ee},GetIntrinsic=getIntrinsic,$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var getOwnPropertyDescriptor=$gOPD,forEach$2=forEach_1,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),g$3=globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function(ee,re){for(var ne=0;ne<ee.length;ne+=1)if(ee[ne]===re)return ne;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},gOPD$1=getOwnPropertyDescriptor,getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$2(typedArrays$1,function(te){var ee=new g$3[te];if(Symbol.toStringTag in ee){var re=getPrototypeOf$1(ee),ne=gOPD$1(re,Symbol.toStringTag);if(!ne){var oe=getPrototypeOf$1(re);ne=gOPD$1(oe,Symbol.toStringTag)}toStrTags$1[te]=ne.get}});var tryTypedArrays$1=function(ee){var re=!1;return forEach$2(toStrTags$1,function(ne,oe){if(!re)try{re=ne.call(ee)===oe}catch{}}),re},isTypedArray$6=function(ee){if(!ee||typeof ee!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in ee)){var re=$slice$1($toString$1(ee),8,-1);return $indexOf(typedArrays$1,re)>-1}return gOPD$1?tryTypedArrays$1(ee):!1},forEach$1=forEach_1,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$2=globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach$1(typedArrays,function(te){if(typeof g$2[te]=="function"){var ee=new g$2[te];if(Symbol.toStringTag in ee){var re=getPrototypeOf(ee),ne=gOPD(re,Symbol.toStringTag);if(!ne){var oe=getPrototypeOf(re);ne=gOPD(oe,Symbol.toStringTag)}toStrTags[te]=ne.get}}});var tryTypedArrays=function(ee){var re=!1;return forEach$1(toStrTags,function(ne,oe){if(!re)try{var ie=ne.call(ee);ie===oe&&(re=ie)}catch{}}),re},isTypedArray$5=isTypedArray$6,whichTypedArray=function(ee){return isTypedArray$5(ee)?!hasToStringTag||!(Symbol.toStringTag in ee)?$slice($toString(ee),8,-1):tryTypedArrays(ee):!1};(function(te){var ee=isArguments$4,re=isGeneratorFunction,ne=whichTypedArray,oe=isTypedArray$6;function ie(Ze){return Ze.call.bind(Ze)}var se=typeof BigInt!="undefined",ue=typeof Symbol!="undefined",he=ie(Object.prototype.toString),ge=ie(Number.prototype.valueOf),be=ie(String.prototype.valueOf),Se=ie(Boolean.prototype.valueOf);if(se)var Te=ie(BigInt.prototype.valueOf);if(ue)var ke=ie(Symbol.prototype.valueOf);function Re(Ze,yt){if(typeof Ze!="object")return!1;try{return yt(Ze),!0}catch{return!1}}te.isArgumentsObject=ee,te.isGeneratorFunction=re,te.isTypedArray=oe;function Ce(Ze){return typeof Promise!="undefined"&&Ze instanceof Promise||Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"&&typeof Ze.catch=="function"}te.isPromise=Ce;function Pe(Ze){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(Ze):oe(Ze)||Le(Ze)}te.isArrayBufferView=Pe;function Ie(Ze){return ne(Ze)==="Uint8Array"}te.isUint8Array=Ie;function Ne(Ze){return ne(Ze)==="Uint8ClampedArray"}te.isUint8ClampedArray=Ne;function He(Ze){return ne(Ze)==="Uint16Array"}te.isUint16Array=He;function Ke(Ze){return ne(Ze)==="Uint32Array"}te.isUint32Array=Ke;function Ge(Ze){return ne(Ze)==="Int8Array"}te.isInt8Array=Ge;function ut(Ze){return ne(Ze)==="Int16Array"}te.isInt16Array=ut;function Ve(Ze){return ne(Ze)==="Int32Array"}te.isInt32Array=Ve;function nt(Ze){return ne(Ze)==="Float32Array"}te.isFloat32Array=nt;function st(Ze){return ne(Ze)==="Float64Array"}te.isFloat64Array=st;function qe(Ze){return ne(Ze)==="BigInt64Array"}te.isBigInt64Array=qe;function ye(Ze){return ne(Ze)==="BigUint64Array"}te.isBigUint64Array=ye;function ae(Ze){return he(Ze)==="[object Map]"}ae.working=typeof Map!="undefined"&&ae(new Map);function ce(Ze){return typeof Map=="undefined"?!1:ae.working?ae(Ze):Ze instanceof Map}te.isMap=ce;function le(Ze){return he(Ze)==="[object Set]"}le.working=typeof Set!="undefined"&&le(new Set);function pe(Ze){return typeof Set=="undefined"?!1:le.working?le(Ze):Ze instanceof Set}te.isSet=pe;function _e(Ze){return he(Ze)==="[object WeakMap]"}_e.working=typeof WeakMap!="undefined"&&_e(new WeakMap);function $e(Ze){return typeof WeakMap=="undefined"?!1:_e.working?_e(Ze):Ze instanceof WeakMap}te.isWeakMap=$e;function Ee(Ze){return he(Ze)==="[object WeakSet]"}Ee.working=typeof WeakSet!="undefined"&&Ee(new WeakSet);function me(Ze){return Ee(Ze)}te.isWeakSet=me;function fe(Ze){return he(Ze)==="[object ArrayBuffer]"}fe.working=typeof ArrayBuffer!="undefined"&&fe(new ArrayBuffer);function we(Ze){return typeof ArrayBuffer=="undefined"?!1:fe.working?fe(Ze):Ze instanceof ArrayBuffer}te.isArrayBuffer=we;function Me(Ze){return he(Ze)==="[object DataView]"}Me.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Me(new DataView(new ArrayBuffer(1),0,1));function Le(Ze){return typeof DataView=="undefined"?!1:Me.working?Me(Ze):Ze instanceof DataView}te.isDataView=Le;var Je=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Ue(Ze){return he(Ze)==="[object SharedArrayBuffer]"}function ct(Ze){return typeof Je=="undefined"?!1:(typeof Ue.working=="undefined"&&(Ue.working=Ue(new Je)),Ue.working?Ue(Ze):Ze instanceof Je)}te.isSharedArrayBuffer=ct;function gt(Ze){return he(Ze)==="[object AsyncFunction]"}te.isAsyncFunction=gt;function $t(Ze){return he(Ze)==="[object Map Iterator]"}te.isMapIterator=$t;function vt(Ze){return he(Ze)==="[object Set Iterator]"}te.isSetIterator=vt;function Tt(Ze){return he(Ze)==="[object Generator]"}te.isGeneratorObject=Tt;function qt(Ze){return he(Ze)==="[object WebAssembly.Module]"}te.isWebAssemblyCompiledModule=qt;function Rt(Ze){return Re(Ze,ge)}te.isNumberObject=Rt;function lt(Ze){return Re(Ze,be)}te.isStringObject=lt;function _t(Ze){return Re(Ze,Se)}te.isBooleanObject=_t;function bt(Ze){return se&&Re(Ze,Te)}te.isBigIntObject=bt;function Qe(Ze){return ue&&Re(Ze,ke)}te.isSymbolObject=Qe;function ze(Ze){return Rt(Ze)||lt(Ze)||_t(Ze)||bt(Ze)||Qe(Ze)}te.isBoxedPrimitive=ze;function De(Ze){return typeof Uint8Array!="undefined"&&(we(Ze)||ct(Ze))}te.isAnyArrayBuffer=De,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ze){Object.defineProperty(te,Ze,{enumerable:!1,value:function(){throw new Error(Ze+" is not supported in userland")}})})})(types);var isBufferBrowser=function(ee){return ee&&typeof ee=="object"&&typeof ee.copy=="function"&&typeof ee.fill=="function"&&typeof ee.readUInt8=="function"};(function(te){var ee=Object.getOwnPropertyDescriptors||function(Le){for(var Je=Object.keys(Le),Ue={},ct=0;ct<Je.length;ct++)Ue[Je[ct]]=Object.getOwnPropertyDescriptor(Le,Je[ct]);return Ue},re=/%[sdj%]/g;te.format=function(Me){if(!Ge(Me)){for(var Le=[],Je=0;Je<arguments.length;Je++)Le.push(se(arguments[Je]));return Le.join(" ")}for(var Je=1,Ue=arguments,ct=Ue.length,gt=String(Me).replace(re,function(vt){if(vt==="%%")return"%";if(Je>=ct)return vt;switch(vt){case"%s":return String(Ue[Je++]);case"%d":return Number(Ue[Je++]);case"%j":try{return JSON.stringify(Ue[Je++])}catch{return"[Circular]"}default:return vt}}),$t=Ue[Je];Je<ct;$t=Ue[++Je])Ne($t)||!st($t)?gt+=" "+$t:gt+=" "+se($t);return gt},te.deprecate=function(Me,Le){if(typeof process$1!="undefined"&&process$1.noDeprecation===!0)return Me;if(typeof process$1=="undefined")return function(){return te.deprecate(Me,Le).apply(this,arguments)};var Je=!1;function Ue(){if(!Je){if(process$1.throwDeprecation)throw new Error(Le);process$1.traceDeprecation?console.trace(Le):console.error(Le),Je=!0}return Me.apply(this,arguments)}return Ue};var ne={},oe=/^$/;if({}.NODE_DEBUG){var ie={}.NODE_DEBUG;ie=ie.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),oe=new RegExp("^"+ie+"$","i")}te.debuglog=function(Me){if(Me=Me.toUpperCase(),!ne[Me])if(oe.test(Me)){var Le=process$1.pid;ne[Me]=function(){var Je=te.format.apply(te,arguments);console.error("%s %d: %s",Me,Le,Je)}}else ne[Me]=function(){};return ne[Me]};function se(Me,Le){var Je={seen:[],stylize:he};return arguments.length>=3&&(Je.depth=arguments[2]),arguments.length>=4&&(Je.colors=arguments[3]),Ie(Le)?Je.showHidden=Le:Le&&te._extend(Je,Le),Ve(Je.showHidden)&&(Je.showHidden=!1),Ve(Je.depth)&&(Je.depth=2),Ve(Je.colors)&&(Je.colors=!1),Ve(Je.customInspect)&&(Je.customInspect=!0),Je.colors&&(Je.stylize=ue),be(Je,Me,Je.depth)}te.inspect=se,se.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},se.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function ue(Me,Le){var Je=se.styles[Le];return Je?"\x1B["+se.colors[Je][0]+"m"+Me+"\x1B["+se.colors[Je][1]+"m":Me}function he(Me,Le){return Me}function ge(Me){var Le={};return Me.forEach(function(Je,Ue){Le[Je]=!0}),Le}function be(Me,Le,Je){if(Me.customInspect&&Le&&ae(Le.inspect)&&Le.inspect!==te.inspect&&!(Le.constructor&&Le.constructor.prototype===Le)){var Ue=Le.inspect(Je,Me);return Ge(Ue)||(Ue=be(Me,Ue,Je)),Ue}var ct=Se(Me,Le);if(ct)return ct;var gt=Object.keys(Le),$t=ge(gt);if(Me.showHidden&&(gt=Object.getOwnPropertyNames(Le)),ye(Le)&&(gt.indexOf("message")>=0||gt.indexOf("description")>=0))return Te(Le);if(gt.length===0){if(ae(Le)){var vt=Le.name?": "+Le.name:"";return Me.stylize("[Function"+vt+"]","special")}if(nt(Le))return Me.stylize(RegExp.prototype.toString.call(Le),"regexp");if(qe(Le))return Me.stylize(Date.prototype.toString.call(Le),"date");if(ye(Le))return Te(Le)}var Tt="",qt=!1,Rt=["{","}"];if(Pe(Le)&&(qt=!0,Rt=["[","]"]),ae(Le)){var lt=Le.name?": "+Le.name:"";Tt=" [Function"+lt+"]"}if(nt(Le)&&(Tt=" "+RegExp.prototype.toString.call(Le)),qe(Le)&&(Tt=" "+Date.prototype.toUTCString.call(Le)),ye(Le)&&(Tt=" "+Te(Le)),gt.length===0&&(!qt||Le.length==0))return Rt[0]+Tt+Rt[1];if(Je<0)return nt(Le)?Me.stylize(RegExp.prototype.toString.call(Le),"regexp"):Me.stylize("[Object]","special");Me.seen.push(Le);var _t;return qt?_t=ke(Me,Le,Je,$t,gt):_t=gt.map(function(bt){return Re(Me,Le,Je,$t,bt,qt)}),Me.seen.pop(),Ce(_t,Tt,Rt)}function Se(Me,Le){if(Ve(Le))return Me.stylize("undefined","undefined");if(Ge(Le)){var Je="'"+JSON.stringify(Le).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Me.stylize(Je,"string")}if(Ke(Le))return Me.stylize(""+Le,"number");if(Ie(Le))return Me.stylize(""+Le,"boolean");if(Ne(Le))return Me.stylize("null","null")}function Te(Me){return"["+Error.prototype.toString.call(Me)+"]"}function ke(Me,Le,Je,Ue,ct){for(var gt=[],$t=0,vt=Le.length;$t<vt;++$t)Ee(Le,String($t))?gt.push(Re(Me,Le,Je,Ue,String($t),!0)):gt.push("");return ct.forEach(function(Tt){Tt.match(/^\d+$/)||gt.push(Re(Me,Le,Je,Ue,Tt,!0))}),gt}function Re(Me,Le,Je,Ue,ct,gt){var $t,vt,Tt;if(Tt=Object.getOwnPropertyDescriptor(Le,ct)||{value:Le[ct]},Tt.get?Tt.set?vt=Me.stylize("[Getter/Setter]","special"):vt=Me.stylize("[Getter]","special"):Tt.set&&(vt=Me.stylize("[Setter]","special")),Ee(Ue,ct)||($t="["+ct+"]"),vt||(Me.seen.indexOf(Tt.value)<0?(Ne(Je)?vt=be(Me,Tt.value,null):vt=be(Me,Tt.value,Je-1),vt.indexOf(`
`)>-1&&(gt?vt=vt.split(`
`).map(function(qt){return"  "+qt}).join(`
`).substr(2):vt=`
`+vt.split(`
`).map(function(qt){return"   "+qt}).join(`
`))):vt=Me.stylize("[Circular]","special")),Ve($t)){if(gt&&ct.match(/^\d+$/))return vt;$t=JSON.stringify(""+ct),$t.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($t=$t.substr(1,$t.length-2),$t=Me.stylize($t,"name")):($t=$t.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),$t=Me.stylize($t,"string"))}return $t+": "+vt}function Ce(Me,Le,Je){var Ue=Me.reduce(function(ct,gt){return gt.indexOf(`
`)>=0,ct+gt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ue>60?Je[0]+(Le===""?"":Le+`
 `)+" "+Me.join(`,
  `)+" "+Je[1]:Je[0]+Le+" "+Me.join(", ")+" "+Je[1]}te.types=types;function Pe(Me){return Array.isArray(Me)}te.isArray=Pe;function Ie(Me){return typeof Me=="boolean"}te.isBoolean=Ie;function Ne(Me){return Me===null}te.isNull=Ne;function He(Me){return Me==null}te.isNullOrUndefined=He;function Ke(Me){return typeof Me=="number"}te.isNumber=Ke;function Ge(Me){return typeof Me=="string"}te.isString=Ge;function ut(Me){return typeof Me=="symbol"}te.isSymbol=ut;function Ve(Me){return Me===void 0}te.isUndefined=Ve;function nt(Me){return st(Me)&&le(Me)==="[object RegExp]"}te.isRegExp=nt,te.types.isRegExp=nt;function st(Me){return typeof Me=="object"&&Me!==null}te.isObject=st;function qe(Me){return st(Me)&&le(Me)==="[object Date]"}te.isDate=qe,te.types.isDate=qe;function ye(Me){return st(Me)&&(le(Me)==="[object Error]"||Me instanceof Error)}te.isError=ye,te.types.isNativeError=ye;function ae(Me){return typeof Me=="function"}te.isFunction=ae;function ce(Me){return Me===null||typeof Me=="boolean"||typeof Me=="number"||typeof Me=="string"||typeof Me=="symbol"||typeof Me=="undefined"}te.isPrimitive=ce,te.isBuffer=isBufferBrowser;function le(Me){return Object.prototype.toString.call(Me)}function pe(Me){return Me<10?"0"+Me.toString(10):Me.toString(10)}var _e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $e(){var Me=new Date,Le=[pe(Me.getHours()),pe(Me.getMinutes()),pe(Me.getSeconds())].join(":");return[Me.getDate(),_e[Me.getMonth()],Le].join(" ")}te.log=function(){console.log("%s - %s",$e(),te.format.apply(te,arguments))},te.inherits=inherits_browser$2.exports,te._extend=function(Me,Le){if(!Le||!st(Le))return Me;for(var Je=Object.keys(Le),Ue=Je.length;Ue--;)Me[Je[Ue]]=Le[Je[Ue]];return Me};function Ee(Me,Le){return Object.prototype.hasOwnProperty.call(Me,Le)}var me=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;te.promisify=function(Le){if(typeof Le!="function")throw new TypeError('The "original" argument must be of type Function');if(me&&Le[me]){var Je=Le[me];if(typeof Je!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Je,me,{value:Je,enumerable:!1,writable:!1,configurable:!0}),Je}function Je(){for(var Ue,ct,gt=new Promise(function(Tt,qt){Ue=Tt,ct=qt}),$t=[],vt=0;vt<arguments.length;vt++)$t.push(arguments[vt]);$t.push(function(Tt,qt){Tt?ct(Tt):Ue(qt)});try{Le.apply(this,$t)}catch(Tt){ct(Tt)}return gt}return Object.setPrototypeOf(Je,Object.getPrototypeOf(Le)),me&&Object.defineProperty(Je,me,{value:Je,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Je,ee(Le))},te.promisify.custom=me;function fe(Me,Le){if(!Me){var Je=new Error("Promise was rejected with a falsy value");Je.reason=Me,Me=Je}return Le(Me)}function we(Me){if(typeof Me!="function")throw new TypeError('The "original" argument must be of type Function');function Le(){for(var Je=[],Ue=0;Ue<arguments.length;Ue++)Je.push(arguments[Ue]);var ct=Je.pop();if(typeof ct!="function")throw new TypeError("The last argument must be of type Function");var gt=this,$t=function(){return ct.apply(gt,arguments)};Me.apply(this,Je).then(function(vt){process$1.nextTick($t.bind(null,null,vt))},function(vt){process$1.nextTick(fe.bind(null,vt,$t))})}return Object.setPrototypeOf(Le,Object.getPrototypeOf(Me)),Object.defineProperties(Le,ee(Me)),Le}te.callbackify=we})(util$1);var _a$1;const isBrowser$3={}.BROWSER||typeof window!="undefined"&&!(!((_a$1=window.process)===null||_a$1===void 0)&&_a$1.hasOwnProperty("type"));function chunks(te,ee){return Array.apply(0,new Array(Math.ceil(te.length/ee))).map((re,ne)=>te.slice(ne*ee,(ne+1)*ee))}function decode$6(te){return(isBrowser$3?new TextDecoder("utf-8"):new util$1.TextDecoder("utf-8")).decode(te)}function encode$7(te){return(isBrowser$3?new TextEncoder:new util$1.TextEncoder("utf-8")).encode(te)}function encode$6(te){return bs58$1.encode(te)}class Provider$2{constructor(ee,re,ne){this.connection=ee,this.wallet=re,this.opts=ne}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(ee,re){if(isBrowser$3)throw new Error("Provider local is not available on browser.");re=re!=null?re:Provider$2.defaultOptions();const ne=new Connection(ee!=null?ee:"http://localhost:8899",re.preflightCommitment),ie=require$$1$4.default.local();return new Provider$2(ne,ie,re)}static env(){if(isBrowser$3)throw new Error("Provider env is not available on browser.");const ee={}.ANCHOR_PROVIDER_URL;if(ee===void 0)throw new Error("ANCHOR_PROVIDER_URL is not defined");const re=Provider$2.defaultOptions(),ne=new Connection(ee,re.commitment),ie=require$$1$4.default.local();return new Provider$2(ne,ie,re)}async send(ee,re,ne){var oe;re===void 0&&(re=[]),ne===void 0&&(ne=this.opts),ee.feePayer=this.wallet.publicKey,ee.recentBlockhash=(await this.connection.getRecentBlockhash(ne.preflightCommitment)).blockhash,ee=await this.wallet.signTransaction(ee),re.filter(se=>se!==void 0).forEach(se=>{ee.partialSign(se)});const ie=ee.serialize();try{return await sendAndConfirmRawTransaction(this.connection,ie,ne)}catch(se){if(se instanceof ConfirmError){const ue=await this.connection.getTransaction(encode$6(ee.signature),{commitment:"confirmed"});if(ue){const he=(oe=ue.meta)===null||oe===void 0?void 0:oe.logMessages;throw he?new SendTransactionError(se.message,he):se}else throw se}else throw se}}async sendAll(ee,re){re===void 0&&(re=this.opts);const ne=await this.connection.getRecentBlockhash(re.preflightCommitment);let oe=ee.map(ue=>{let he=ue.tx,ge=ue.signers;return ge===void 0&&(ge=[]),he.feePayer=this.wallet.publicKey,he.recentBlockhash=ne.blockhash,ge.filter(be=>be!==void 0).forEach(be=>{he.partialSign(be)}),he});const ie=await this.wallet.signAllTransactions(oe),se=[];for(let ue=0;ue<oe.length;ue+=1){const ge=ie[ue].serialize();se.push(await sendAndConfirmRawTransaction(this.connection,ge,re))}return se}async simulate(ee,re,ne=this.opts){var oe,ie,se;return re===void 0&&(re=[]),ee.feePayer=this.wallet.publicKey,ee.recentBlockhash=(await this.connection.getRecentBlockhash((oe=ne.preflightCommitment)!==null&&oe!==void 0?oe:this.opts.preflightCommitment)).blockhash,ee=await this.wallet.signTransaction(ee),re.filter(ue=>ue!==void 0).forEach(ue=>{ee.partialSign(ue)}),await simulateTransaction$3(this.connection,ee,(se=(ie=ne.commitment)!==null&&ie!==void 0?ie:this.opts.commitment)!==null&&se!==void 0?se:"processed")}}async function simulateTransaction$3(te,ee,re){ee.recentBlockhash=await te._recentBlockhash(te._disableBlockhashCaching);const ne=ee.serializeMessage(),ue=[ee._serialize(ne).toString("base64"),{encoding:"base64",commitment:re}],he=await te._rpcRequest("simulateTransaction",ue);if(he.error)throw new Error("failed to simulate transaction: "+he.error.message);return he.result}async function sendAndConfirmRawTransaction(te,ee,re){const ne=re&&{skipPreflight:re.skipPreflight,preflightCommitment:re.preflightCommitment||re.commitment},oe=await te.sendRawTransaction(ee,ne),ie=(await te.confirmTransaction(oe,re&&re.commitment)).value;if(ie.err)throw new ConfirmError(`Raw transaction ${oe} failed (${JSON.stringify(ie)})`);return oe}class ConfirmError extends Error{constructor(ee){super(ee)}}function getProvider$1(){return Provider$2.local()}var lib$5={},Layout$2={};class Layout$1{constructor(ee,re){if(!Number.isInteger(ee))throw new TypeError("span must be an integer");this.span=ee,this.property=re}makeDestinationObject(){return{}}decode(ee,re){throw new Error("Layout is abstract")}encode(ee,re,ne){throw new Error("Layout is abstract")}getSpan(ee,re){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(ee){const re=Object.create(this.constructor.prototype);return Object.assign(re,this),re.property=ee,re}fromArray(ee){}}var Layout_2=Layout$2.Layout=Layout$1;function nameWithProperty$1(te,ee){return ee.property?te+"["+ee.property+"]":te}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(te,ee){if(typeof te!="function")throw new TypeError("Class must be constructor");if(te.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(ee&&ee instanceof Layout$1))throw new TypeError("layout must be a Layout");if(ee.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");te.layout_=ee,ee.boundConstructor_=te,ee.makeDestinationObject=()=>new te,Object.defineProperty(te.prototype,"encode",{value:function(re,ne){return ee.encode(this,re,ne)},writable:!0}),Object.defineProperty(te,"decode",{value:function(re,ne){return ee.decode(re,ne)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;class ExternalLayout$1 extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout$1{constructor(ee,re){if(ee===void 0&&(ee=1),!Number.isInteger(ee)||0>=ee)throw new TypeError("elementSpan must be a (positive) integer");super(-1,re),this.elementSpan=ee}isCount(){return!0}decode(ee,re){re===void 0&&(re=0);const ne=ee.length-re;return Math.floor(ne/this.elementSpan)}encode(ee,re,ne){return 0}}class OffsetLayout extends ExternalLayout$1{constructor(ee,re,ne){if(!(ee instanceof Layout$1))throw new TypeError("layout must be a Layout");if(re===void 0)re=0;else if(!Number.isInteger(re))throw new TypeError("offset must be integer or undefined");super(ee.span,ne||ee.property),this.layout=ee,this.offset=re}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE}decode(ee,re){return re===void 0&&(re=0),this.layout.decode(ee,re+this.offset)}encode(ee,re,ne){return ne===void 0&&(ne=0),this.layout.encode(ee,re,ne+this.offset)}}class UInt$1 extends Layout$1{constructor(ee,re){if(super(ee,re),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,re){return re===void 0&&(re=0),ee.readUIntLE(re,this.span)}encode(ee,re,ne){return ne===void 0&&(ne=0),re.writeUIntLE(ee,ne,this.span),this.span}}class UIntBE extends Layout$1{constructor(ee,re){if(super(ee,re),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,re){return re===void 0&&(re=0),ee.readUIntBE(re,this.span)}encode(ee,re,ne){return ne===void 0&&(ne=0),re.writeUIntBE(ee,ne,this.span),this.span}}class Int extends Layout$1{constructor(ee,re){if(super(ee,re),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,re){return re===void 0&&(re=0),ee.readIntLE(re,this.span)}encode(ee,re,ne){return ne===void 0&&(ne=0),re.writeIntLE(ee,ne,this.span),this.span}}class IntBE extends Layout$1{constructor(ee,re){if(super(ee,re),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,re){return re===void 0&&(re=0),ee.readIntBE(re,this.span)}encode(ee,re,ne){return ne===void 0&&(ne=0),re.writeIntBE(ee,ne,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(te){const ee=Math.floor(te/V2E32),re=te-ee*V2E32;return{hi32:ee,lo32:re}}function roundedInt64(te,ee){return te*V2E32+ee}class NearUInt64 extends Layout$1{constructor(ee){super(8,ee)}decode(ee,re){re===void 0&&(re=0);const ne=ee.readUInt32LE(re),oe=ee.readUInt32LE(re+4);return roundedInt64(oe,ne)}encode(ee,re,ne){ne===void 0&&(ne=0);const oe=divmodInt64(ee);return re.writeUInt32LE(oe.lo32,ne),re.writeUInt32LE(oe.hi32,ne+4),8}}class NearUInt64BE extends Layout$1{constructor(ee){super(8,ee)}decode(ee,re){re===void 0&&(re=0);const ne=ee.readUInt32BE(re),oe=ee.readUInt32BE(re+4);return roundedInt64(ne,oe)}encode(ee,re,ne){ne===void 0&&(ne=0);const oe=divmodInt64(ee);return re.writeUInt32BE(oe.hi32,ne),re.writeUInt32BE(oe.lo32,ne+4),8}}class NearInt64 extends Layout$1{constructor(ee){super(8,ee)}decode(ee,re){re===void 0&&(re=0);const ne=ee.readUInt32LE(re),oe=ee.readInt32LE(re+4);return roundedInt64(oe,ne)}encode(ee,re,ne){ne===void 0&&(ne=0);const oe=divmodInt64(ee);return re.writeUInt32LE(oe.lo32,ne),re.writeInt32LE(oe.hi32,ne+4),8}}class NearInt64BE extends Layout$1{constructor(ee){super(8,ee)}decode(ee,re){re===void 0&&(re=0);const ne=ee.readInt32BE(re),oe=ee.readUInt32BE(re+4);return roundedInt64(ne,oe)}encode(ee,re,ne){ne===void 0&&(ne=0);const oe=divmodInt64(ee);return re.writeInt32BE(oe.hi32,ne),re.writeUInt32BE(oe.lo32,ne+4),8}}class Float extends Layout$1{constructor(ee){super(4,ee)}decode(ee,re){return re===void 0&&(re=0),ee.readFloatLE(re)}encode(ee,re,ne){return ne===void 0&&(ne=0),re.writeFloatLE(ee,ne),4}}class FloatBE extends Layout$1{constructor(ee){super(4,ee)}decode(ee,re){return re===void 0&&(re=0),ee.readFloatBE(re)}encode(ee,re,ne){return ne===void 0&&(ne=0),re.writeFloatBE(ee,ne),4}}class Double extends Layout$1{constructor(ee){super(8,ee)}decode(ee,re){return re===void 0&&(re=0),ee.readDoubleLE(re)}encode(ee,re,ne){return ne===void 0&&(ne=0),re.writeDoubleLE(ee,ne),8}}class DoubleBE extends Layout$1{constructor(ee){super(8,ee)}decode(ee,re){return re===void 0&&(re=0),ee.readDoubleBE(re)}encode(ee,re,ne){return ne===void 0&&(ne=0),re.writeDoubleBE(ee,ne),8}}class Sequence extends Layout$1{constructor(ee,re,ne){if(!(ee instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(re instanceof ExternalLayout$1&&re.isCount()||Number.isInteger(re)&&0<=re))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let oe=-1;!(re instanceof ExternalLayout$1)&&0<ee.span&&(oe=re*ee.span),super(oe,ne),this.elementLayout=ee,this.count=re}getSpan(ee,re){if(0<=this.span)return this.span;re===void 0&&(re=0);let ne=0,oe=this.count;if(oe instanceof ExternalLayout$1&&(oe=oe.decode(ee,re)),0<this.elementLayout.span)ne=oe*this.elementLayout.span;else{let ie=0;for(;ie<oe;)ne+=this.elementLayout.getSpan(ee,re+ne),++ie}return ne}decode(ee,re){re===void 0&&(re=0);const ne=[];let oe=0,ie=this.count;for(ie instanceof ExternalLayout$1&&(ie=ie.decode(ee,re));oe<ie;)ne.push(this.elementLayout.decode(ee,re)),re+=this.elementLayout.getSpan(ee,re),oe+=1;return ne}encode(ee,re,ne){ne===void 0&&(ne=0);const oe=this.elementLayout,ie=ee.reduce((se,ue)=>se+oe.encode(ue,re,ne+se),0);return this.count instanceof ExternalLayout$1&&this.count.encode(ee.length,re,ne),ie}}class Structure$1 extends Layout$1{constructor(ee,re,ne){if(!(Array.isArray(ee)&&ee.reduce((ie,se)=>ie&&se instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof re=="boolean"&&ne===void 0&&(ne=re,re=void 0);for(const ie of ee)if(0>ie.span&&ie.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let oe=-1;try{oe=ee.reduce((ie,se)=>ie+se.getSpan(),0)}catch{}super(oe,re),this.fields=ee,this.decodePrefixes=!!ne}getSpan(ee,re){if(0<=this.span)return this.span;re===void 0&&(re=0);let ne=0;try{ne=this.fields.reduce((oe,ie)=>{const se=ie.getSpan(ee,re);return re+=se,oe+se},0)}catch{throw new RangeError("indeterminate span")}return ne}decode(ee,re){re===void 0&&(re=0);const ne=this.makeDestinationObject();for(const oe of this.fields)if(oe.property!==void 0&&(ne[oe.property]=oe.decode(ee,re)),re+=oe.getSpan(ee,re),this.decodePrefixes&&ee.length===re)break;return ne}encode(ee,re,ne){ne===void 0&&(ne=0);const oe=ne;let ie=0,se=0;for(const ue of this.fields){let he=ue.span;if(se=0<he?he:0,ue.property!==void 0){const ge=ee[ue.property];ge!==void 0&&(se=ue.encode(ge,re,ne),0>he&&(he=ue.getSpan(re,ne)))}ie=ne,ne+=he}return ie+se-oe}fromArray(ee){const re=this.makeDestinationObject();for(const ne of this.fields)ne.property!==void 0&&0<ee.length&&(re[ne.property]=ee.shift());return re}layoutFor(ee){if(typeof ee!="string")throw new TypeError("property must be string");for(const re of this.fields)if(re.property===ee)return re}offsetOf(ee){if(typeof ee!="string")throw new TypeError("property must be string");let re=0;for(const ne of this.fields){if(ne.property===ee)return re;0>ne.span?re=-1:0<=re&&(re+=ne.span)}}}class UnionDiscriminator{constructor(ee){this.property=ee}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(ee,re){if(!(ee instanceof ExternalLayout$1&&ee.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(re||ee.property||"variant"),this.layout=ee}decode(ee,re){return this.layout.decode(ee,re)}encode(ee,re,ne){return this.layout.encode(ee,re,ne)}}class Union extends Layout$1{constructor(ee,re,ne){const oe=ee instanceof UInt$1||ee instanceof UIntBE;if(oe)ee=new UnionLayoutDiscriminator(new OffsetLayout(ee));else if(ee instanceof ExternalLayout$1&&ee.isCount())ee=new UnionLayoutDiscriminator(ee);else if(!(ee instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(re===void 0&&(re=null),!(re===null||re instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(re!==null){if(0>re.span)throw new Error("defaultLayout must have constant span");re.property===void 0&&(re=re.replicate("content"))}let ie=-1;re&&(ie=re.span,0<=ie&&oe&&(ie+=ee.layout.span)),super(ie,ne),this.discriminator=ee,this.usesPrefixDiscriminator=oe,this.defaultLayout=re,this.registry={};let se=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ue){return se(ue)},this.configGetSourceVariant=function(ue){se=ue.bind(this)}}getSpan(ee,re){if(0<=this.span)return this.span;re===void 0&&(re=0);const ne=this.getVariant(ee,re);if(!ne)throw new Error("unable to determine span for unrecognized variant");return ne.getSpan(ee,re)}defaultGetSourceVariant(ee){if(ee.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&ee.hasOwnProperty(this.defaultLayout.property))return;const re=this.registry[ee[this.discriminator.property]];if(re&&(!re.layout||ee.hasOwnProperty(re.property)))return re}else for(const re in this.registry){const ne=this.registry[re];if(ee.hasOwnProperty(ne.property))return ne}throw new Error("unable to infer src variant")}decode(ee,re){re===void 0&&(re=0);let ne;const oe=this.discriminator,ie=oe.decode(ee,re);let se=this.registry[ie];if(se===void 0){let ue=0;se=this.defaultLayout,this.usesPrefixDiscriminator&&(ue=oe.layout.span),ne=this.makeDestinationObject(),ne[oe.property]=ie,ne[se.property]=this.defaultLayout.decode(ee,re+ue)}else ne=se.decode(ee,re);return ne}encode(ee,re,ne){ne===void 0&&(ne=0);const oe=this.getSourceVariant(ee);if(oe===void 0){const ie=this.discriminator,se=this.defaultLayout;let ue=0;return this.usesPrefixDiscriminator&&(ue=ie.layout.span),ie.encode(ee[ie.property],re,ne),ue+se.encode(ee[se.property],re,ne+ue)}return oe.encode(ee,re,ne)}addVariant(ee,re,ne){const oe=new VariantLayout(this,ee,re,ne);return this.registry[ee]=oe,oe}getVariant(ee,re){let ne=ee;return buffer$2.Buffer.isBuffer(ee)&&(re===void 0&&(re=0),ne=this.discriminator.decode(ee,re)),this.registry[ne]}}class VariantLayout extends Layout$1{constructor(ee,re,ne,oe){if(!(ee instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(re)||0>re)throw new TypeError("variant must be a (non-negative) integer");if(typeof ne=="string"&&oe===void 0&&(oe=ne,ne=null),ne){if(!(ne instanceof Layout$1))throw new TypeError("layout must be a Layout");if(ee.defaultLayout!==null&&0<=ne.span&&ne.span>ee.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof oe!="string")throw new TypeError("variant must have a String property")}let ie=ee.span;0>ee.span&&(ie=ne?ne.span:0,0<=ie&&ee.usesPrefixDiscriminator&&(ie+=ee.discriminator.layout.span)),super(ie,oe),this.union=ee,this.variant=re,this.layout=ne||null}getSpan(ee,re){if(0<=this.span)return this.span;re===void 0&&(re=0);let ne=0;return this.union.usesPrefixDiscriminator&&(ne=this.union.discriminator.layout.span),ne+this.layout.getSpan(ee,re+ne)}decode(ee,re){const ne=this.makeDestinationObject();if(re===void 0&&(re=0),this!==this.union.getVariant(ee,re))throw new Error("variant mismatch");let oe=0;return this.union.usesPrefixDiscriminator&&(oe=this.union.discriminator.layout.span),this.layout?ne[this.property]=this.layout.decode(ee,re+oe):this.property?ne[this.property]=!0:this.union.usesPrefixDiscriminator&&(ne[this.union.discriminator.property]=this.variant),ne}encode(ee,re,ne){ne===void 0&&(ne=0);let oe=0;if(this.union.usesPrefixDiscriminator&&(oe=this.union.discriminator.layout.span),this.layout&&!ee.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,re,ne);let ie=oe;if(this.layout&&(this.layout.encode(ee[this.property],re,ne+oe),ie+=this.layout.getSpan(re,ne+oe),0<=this.union.span&&ie>this.union.span))throw new Error("encoded variant overruns containing union");return ie}fromArray(ee){if(this.layout)return this.layout.fromArray(ee)}}function fixBitwiseResult(te){return 0>te&&(te+=4294967296),te}class BitStructure extends Layout$1{constructor(ee,re,ne){if(!(ee instanceof UInt$1||ee instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof re=="string"&&ne===void 0&&(ne=re,re=void 0),4<ee.span)throw new RangeError("word cannot exceed 32 bits");super(ee.span,ne),this.word=ee,this.msb=!!re,this.fields=[];let oe=0;this._packedSetValue=function(ie){return oe=fixBitwiseResult(ie),this},this._packedGetValue=function(){return oe}}decode(ee,re){const ne=this.makeDestinationObject();re===void 0&&(re=0);const oe=this.word.decode(ee,re);this._packedSetValue(oe);for(const ie of this.fields)ie.property!==void 0&&(ne[ie.property]=ie.decode(oe));return ne}encode(ee,re,ne){ne===void 0&&(ne=0);const oe=this.word.decode(re,ne);this._packedSetValue(oe);for(const ie of this.fields)if(ie.property!==void 0){const se=ee[ie.property];se!==void 0&&ie.encode(se)}return this.word.encode(this._packedGetValue(),re,ne)}addField(ee,re){const ne=new BitField(this,ee,re);return this.fields.push(ne),ne}addBoolean(ee){const re=new Boolean$1(this,ee);return this.fields.push(re),re}fieldFor(ee){if(typeof ee!="string")throw new TypeError("property must be string");for(const re of this.fields)if(re.property===ee)return re}}class BitField{constructor(ee,re,ne){if(!(ee instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(re)||0>=re)throw new TypeError("bits must be positive integer");const oe=8*ee.span,ie=ee.fields.reduce((se,ue)=>se+ue.bits,0);if(re+ie>oe)throw new Error("bits too long for span remainder ("+(oe-ie)+" of "+oe+" remain)");this.container=ee,this.bits=re,this.valueMask=(1<<re)-1,re===32&&(this.valueMask=4294967295),this.start=ie,this.container.msb&&(this.start=oe-ie-re),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=ne}decode(){const ee=this.container._packedGetValue();return fixBitwiseResult(ee&this.wordMask)>>>this.start}encode(ee){if(!Number.isInteger(ee)||ee!==fixBitwiseResult(ee&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const re=this.container._packedGetValue(),ne=fixBitwiseResult(ee<<this.start);this.container._packedSetValue(fixBitwiseResult(re&~this.wordMask)|ne)}}class Boolean$1 extends BitField{constructor(ee,re){super(ee,1,re)}decode(ee,re){return!!BitField.prototype.decode.call(this,ee,re)}encode(ee){return typeof ee=="boolean"&&(ee=+ee),BitField.prototype.encode.call(this,ee)}}class Blob$2 extends Layout$1{constructor(ee,re){if(!(ee instanceof ExternalLayout$1&&ee.isCount()||Number.isInteger(ee)&&0<=ee))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let ne=-1;ee instanceof ExternalLayout$1||(ne=ee),super(ne,re),this.length=ee}getSpan(ee,re){let ne=this.span;return 0>ne&&(ne=this.length.decode(ee,re)),ne}decode(ee,re){re===void 0&&(re=0);let ne=this.span;return 0>ne&&(ne=this.length.decode(ee,re)),ee.slice(re,re+ne)}encode(ee,re,ne){let oe=this.length;if(this.length instanceof ExternalLayout$1&&(oe=ee.length),!(buffer$2.Buffer.isBuffer(ee)&&oe===ee.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+oe+") Buffer as src");if(ne+oe>re.length)throw new RangeError("encoding overruns Buffer");return re.write(ee.toString("hex"),ne,oe,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(oe,re,ne),oe}}class CString extends Layout$1{constructor(ee){super(-1,ee)}getSpan(ee,re){if(!buffer$2.Buffer.isBuffer(ee))throw new TypeError("b must be a Buffer");re===void 0&&(re=0);let ne=re;for(;ne<ee.length&&ee[ne]!==0;)ne+=1;return 1+ne-re}decode(ee,re,ne){re===void 0&&(re=0);let oe=this.getSpan(ee,re);return ee.slice(re,re+oe-1).toString("utf-8")}encode(ee,re,ne){ne===void 0&&(ne=0),typeof ee!="string"&&(ee=ee.toString());const oe=new buffer$2.Buffer(ee,"utf8"),ie=oe.length;if(ne+ie>re.length)throw new RangeError("encoding overruns Buffer");return oe.copy(re,ne),re[ne+ie]=0,ie+1}}class UTF8 extends Layout$1{constructor(ee,re){if(typeof ee=="string"&&re===void 0&&(re=ee,ee=void 0),ee===void 0)ee=-1;else if(!Number.isInteger(ee))throw new TypeError("maxSpan must be an integer");super(-1,re),this.maxSpan=ee}getSpan(ee,re){if(!buffer$2.Buffer.isBuffer(ee))throw new TypeError("b must be a Buffer");return re===void 0&&(re=0),ee.length-re}decode(ee,re,ne){re===void 0&&(re=0);let oe=this.getSpan(ee,re);if(0<=this.maxSpan&&this.maxSpan<oe)throw new RangeError("text length exceeds maxSpan");return ee.slice(re,re+oe).toString("utf-8")}encode(ee,re,ne){ne===void 0&&(ne=0),typeof ee!="string"&&(ee=ee.toString());const oe=new buffer$2.Buffer(ee,"utf8"),ie=oe.length;if(0<=this.maxSpan&&this.maxSpan<ie)throw new RangeError("text length exceeds maxSpan");if(ne+ie>re.length)throw new RangeError("encoding overruns Buffer");return oe.copy(re,ne),ie}}class Constant extends Layout$1{constructor(ee,re){super(0,re),this.value=ee}decode(ee,re,ne){return this.value}encode(ee,re,ne){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator;Layout$2.Union=Union;Layout$2.VariantLayout=VariantLayout;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(te,ee)=>new GreedyCount(te,ee);Layout$2.offset=(te,ee,re)=>new OffsetLayout(te,ee,re);var u8$1=Layout$2.u8=te=>new UInt$1(1,te);Layout$2.u16=te=>new UInt$1(2,te);Layout$2.u24=te=>new UInt$1(3,te);var u32$1=Layout$2.u32=te=>new UInt$1(4,te);Layout$2.u40=te=>new UInt$1(5,te);Layout$2.u48=te=>new UInt$1(6,te);var nu64=Layout$2.nu64=te=>new NearUInt64(te);Layout$2.u16be=te=>new UIntBE(2,te);Layout$2.u24be=te=>new UIntBE(3,te);Layout$2.u32be=te=>new UIntBE(4,te);Layout$2.u40be=te=>new UIntBE(5,te);Layout$2.u48be=te=>new UIntBE(6,te);Layout$2.nu64be=te=>new NearUInt64BE(te);Layout$2.s8=te=>new Int(1,te);Layout$2.s16=te=>new Int(2,te);Layout$2.s24=te=>new Int(3,te);Layout$2.s32=te=>new Int(4,te);Layout$2.s40=te=>new Int(5,te);Layout$2.s48=te=>new Int(6,te);Layout$2.ns64=te=>new NearInt64(te);Layout$2.s16be=te=>new IntBE(2,te);Layout$2.s24be=te=>new IntBE(3,te);Layout$2.s32be=te=>new IntBE(4,te);Layout$2.s40be=te=>new IntBE(5,te);Layout$2.s48be=te=>new IntBE(6,te);Layout$2.ns64be=te=>new NearInt64BE(te);Layout$2.f32=te=>new Float(te);Layout$2.f32be=te=>new FloatBE(te);Layout$2.f64=te=>new Double(te);Layout$2.f64be=te=>new DoubleBE(te);var struct$2=Layout$2.struct=(te,ee,re)=>new Structure$1(te,ee,re);Layout$2.bits=(te,ee,re)=>new BitStructure(te,ee,re);Layout$2.seq=(te,ee,re)=>new Sequence(te,ee,re);var union=Layout$2.union=(te,ee,re)=>new Union(te,ee,re);Layout$2.unionLayoutDiscriminator=(te,ee)=>new UnionLayoutDiscriminator(te,ee);var blob$1=Layout$2.blob=(te,ee)=>new Blob$2(te,ee);Layout$2.cstr=te=>new CString(te);Layout$2.utf8=(te,ee)=>new UTF8(te,ee);Layout$2.const=(te,ee)=>new Constant(te,ee);var require$$0$4=getAugmentedNamespace(index_browser_esm$1);(function(te){var ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(qe){return qe&&qe.__esModule?qe:{default:qe}};Object.defineProperty(te,"__esModule",{value:!0}),te.map=te.array=te.rustEnum=te.str=te.vecU8=te.tagged=te.vec=te.bool=te.option=te.publicKey=te.i128=te.u128=te.i64=te.u64=te.struct=te.f64=te.f32=te.i32=te.u32=te.i16=te.u16=te.i8=te.u8=void 0;const re=Layout$2,ne=require$$0$4,oe=ee(bn$4.exports);var ie=Layout$2;Object.defineProperty(te,"u8",{enumerable:!0,get:function(){return ie.u8}}),Object.defineProperty(te,"i8",{enumerable:!0,get:function(){return ie.s8}}),Object.defineProperty(te,"u16",{enumerable:!0,get:function(){return ie.u16}}),Object.defineProperty(te,"i16",{enumerable:!0,get:function(){return ie.s16}}),Object.defineProperty(te,"u32",{enumerable:!0,get:function(){return ie.u32}}),Object.defineProperty(te,"i32",{enumerable:!0,get:function(){return ie.s32}}),Object.defineProperty(te,"f32",{enumerable:!0,get:function(){return ie.f32}}),Object.defineProperty(te,"f64",{enumerable:!0,get:function(){return ie.f64}}),Object.defineProperty(te,"struct",{enumerable:!0,get:function(){return ie.struct}});class se extends re.Layout{constructor(ye,ae,ce){super(ye,ce),this.blob=re.blob(ye),this.signed=ae}decode(ye,ae=0){const ce=new oe.default(this.blob.decode(ye,ae),10,"le");return this.signed?ce.fromTwos(this.span*8).clone():ce}encode(ye,ae,ce=0){return this.signed&&(ye=ye.toTwos(this.span*8)),this.blob.encode(ye.toArrayLike(buffer$2.Buffer,"le",this.span),ae,ce)}}function ue(qe){return new se(8,!1,qe)}te.u64=ue;function he(qe){return new se(8,!0,qe)}te.i64=he;function ge(qe){return new se(16,!1,qe)}te.u128=ge;function be(qe){return new se(16,!0,qe)}te.i128=be;class Se extends re.Layout{constructor(ye,ae,ce,le){super(ye.span,le),this.layout=ye,this.decoder=ae,this.encoder=ce}decode(ye,ae){return this.decoder(this.layout.decode(ye,ae))}encode(ye,ae,ce){return this.layout.encode(this.encoder(ye),ae,ce)}getSpan(ye,ae){return this.layout.getSpan(ye,ae)}}function Te(qe){return new Se(re.blob(32),ye=>new ne.PublicKey(ye),ye=>ye.toBuffer(),qe)}te.publicKey=Te;class ke extends re.Layout{constructor(ye,ae){super(-1,ae),this.layout=ye,this.discriminator=re.u8()}encode(ye,ae,ce=0){return ye==null?this.discriminator.encode(0,ae,ce):(this.discriminator.encode(1,ae,ce),this.layout.encode(ye,ae,ce+1)+1)}decode(ye,ae=0){const ce=this.discriminator.decode(ye,ae);if(ce===0)return null;if(ce===1)return this.layout.decode(ye,ae+1);throw new Error("Invalid option "+this.property)}getSpan(ye,ae=0){const ce=this.discriminator.decode(ye,ae);if(ce===0)return 1;if(ce===1)return this.layout.getSpan(ye,ae+1)+1;throw new Error("Invalid option "+this.property)}}function Re(qe,ye){return new ke(qe,ye)}te.option=Re;function Ce(qe){return new Se(re.u8(),Pe,Ie,qe)}te.bool=Ce;function Pe(qe){if(qe===0)return!1;if(qe===1)return!0;throw new Error("Invalid bool: "+qe)}function Ie(qe){return qe?1:0}function Ne(qe,ye){const ae=re.u32("length"),ce=re.struct([ae,re.seq(qe,re.offset(ae,-ae.span),"values")]);return new Se(ce,({values:le})=>le,le=>({values:le}),ye)}te.vec=Ne;function He(qe,ye,ae){const ce=re.struct([ue("tag"),ye.replicate("data")]);function le({tag:pe,data:_e}){if(!pe.eq(qe))throw new Error("Invalid tag, expected: "+qe.toString("hex")+", got: "+pe.toString("hex"));return _e}return new Se(ce,le,pe=>({tag:qe,data:pe}),ae)}te.tagged=He;function Ke(qe){const ye=re.u32("length"),ae=re.struct([ye,re.blob(re.offset(ye,-ye.span),"data")]);return new Se(ae,({data:ce})=>ce,ce=>({data:ce}),qe)}te.vecU8=Ke;function Ge(qe){return new Se(Ke(),ye=>ye.toString("utf-8"),ye=>buffer$2.Buffer.from(ye,"utf-8"),qe)}te.str=Ge;function ut(qe,ye,ae){const ce=re.union(ae!=null?ae:re.u8(),ye);return qe.forEach((le,pe)=>ce.addVariant(pe,le,le.property)),ce}te.rustEnum=ut;function Ve(qe,ye,ae){const ce=re.struct([re.seq(qe,ye,"values")]);return new Se(ce,({values:le})=>le,le=>({values:le}),ae)}te.array=Ve;class nt extends re.Layout{constructor(ye,ae,ce){super(ye.span+ae.span,ce),this.keyLayout=ye,this.valueLayout=ae}decode(ye,ae){ae=ae||0;const ce=this.keyLayout.decode(ye,ae),le=this.valueLayout.decode(ye,ae+this.keyLayout.getSpan(ye,ae));return[ce,le]}encode(ye,ae,ce){ce=ce||0;const le=this.keyLayout.encode(ye[0],ae,ce),pe=this.valueLayout.encode(ye[1],ae,ce+le);return le+pe}getSpan(ye,ae){return this.keyLayout.getSpan(ye,ae)+this.valueLayout.getSpan(ye,ae)}}function st(qe,ye,ae){const ce=re.u32("length"),le=re.struct([ce,re.seq(new nt(qe,ye),re.offset(ce,-ce.span),"values")]);return new Se(le,({values:pe})=>new Map(pe),pe=>({values:Array.from(pe.entries())}),ae)}te.map=st})(lib$5);async function idlAddress$1(te){const ee=(await PublicKey.findProgramAddress([],te))[0];return await PublicKey.createWithSeed(ee,seed$1(),te)}function seed$1(){return"anchor:idl"}const IDL_ACCOUNT_LAYOUT$1=lib$5.struct([lib$5.publicKey("authority"),lib$5.vecU8("data")]);function decodeIdlAccount$1(te){return IDL_ACCOUNT_LAYOUT$1.decode(te)}var extendStatics=function(te,ee){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,ne){re.__proto__=ne}||function(re,ne){for(var oe in ne)Object.prototype.hasOwnProperty.call(ne,oe)&&(re[oe]=ne[oe])},extendStatics(te,ee)};function __extends$3(te,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");extendStatics(te,ee);function re(){this.constructor=te}te.prototype=ee===null?Object.create(ee):(re.prototype=ee.prototype,new re)}var __assign$1=function(){return __assign$1=Object.assign||function(ee){for(var re,ne=1,oe=arguments.length;ne<oe;ne++){re=arguments[ne];for(var ie in re)Object.prototype.hasOwnProperty.call(re,ie)&&(ee[ie]=re[ie])}return ee},__assign$1.apply(this,arguments)};function __rest(te,ee){var re={};for(var ne in te)Object.prototype.hasOwnProperty.call(te,ne)&&ee.indexOf(ne)<0&&(re[ne]=te[ne]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var oe=0,ne=Object.getOwnPropertySymbols(te);oe<ne.length;oe++)ee.indexOf(ne[oe])<0&&Object.prototype.propertyIsEnumerable.call(te,ne[oe])&&(re[ne[oe]]=te[ne[oe]]);return re}function __decorate(te,ee,re,ne){var oe=arguments.length,ie=oe<3?ee:ne===null?ne=Object.getOwnPropertyDescriptor(ee,re):ne,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(te,ee,re,ne);else for(var ue=te.length-1;ue>=0;ue--)(se=te[ue])&&(ie=(oe<3?se(ie):oe>3?se(ee,re,ie):se(ee,re))||ie);return oe>3&&ie&&Object.defineProperty(ee,re,ie),ie}function __param(te,ee){return function(re,ne){ee(re,ne,te)}}function __metadata(te,ee){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(te,ee)}function __awaiter(te,ee,re,ne){function oe(ie){return ie instanceof re?ie:new re(function(se){se(ie)})}return new(re||(re=Promise))(function(ie,se){function ue(be){try{ge(ne.next(be))}catch(Se){se(Se)}}function he(be){try{ge(ne.throw(be))}catch(Se){se(Se)}}function ge(be){be.done?ie(be.value):oe(be.value).then(ue,he)}ge((ne=ne.apply(te,ee||[])).next())})}function __generator(te,ee){var re={label:0,sent:function(){if(ie[0]&1)throw ie[1];return ie[1]},trys:[],ops:[]},ne,oe,ie,se;return se={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function ue(ge){return function(be){return he([ge,be])}}function he(ge){if(ne)throw new TypeError("Generator is already executing.");for(;re;)try{if(ne=1,oe&&(ie=ge[0]&2?oe.return:ge[0]?oe.throw||((ie=oe.return)&&ie.call(oe),0):oe.next)&&!(ie=ie.call(oe,ge[1])).done)return ie;switch(oe=0,ie&&(ge=[ge[0]&2,ie.value]),ge[0]){case 0:case 1:ie=ge;break;case 4:return re.label++,{value:ge[1],done:!1};case 5:re.label++,oe=ge[1],ge=[0];continue;case 7:ge=re.ops.pop(),re.trys.pop();continue;default:if(ie=re.trys,!(ie=ie.length>0&&ie[ie.length-1])&&(ge[0]===6||ge[0]===2)){re=0;continue}if(ge[0]===3&&(!ie||ge[1]>ie[0]&&ge[1]<ie[3])){re.label=ge[1];break}if(ge[0]===6&&re.label<ie[1]){re.label=ie[1],ie=ge;break}if(ie&&re.label<ie[2]){re.label=ie[2],re.ops.push(ge);break}ie[2]&&re.ops.pop(),re.trys.pop();continue}ge=ee.call(te,re)}catch(be){ge=[6,be],oe=0}finally{ne=ie=0}if(ge[0]&5)throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}}var __createBinding=Object.create?function(te,ee,re,ne){ne===void 0&&(ne=re);var oe=Object.getOwnPropertyDescriptor(ee,re);(!oe||("get"in oe?!ee.__esModule:oe.writable||oe.configurable))&&(oe={enumerable:!0,get:function(){return ee[re]}}),Object.defineProperty(te,ne,oe)}:function(te,ee,re,ne){ne===void 0&&(ne=re),te[ne]=ee[re]};function __exportStar(te,ee){for(var re in te)re!=="default"&&!Object.prototype.hasOwnProperty.call(ee,re)&&__createBinding(ee,te,re)}function __values(te){var ee=typeof Symbol=="function"&&Symbol.iterator,re=ee&&te[ee],ne=0;if(re)return re.call(te);if(te&&typeof te.length=="number")return{next:function(){return te&&ne>=te.length&&(te=void 0),{value:te&&te[ne++],done:!te}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(te,ee){var re=typeof Symbol=="function"&&te[Symbol.iterator];if(!re)return te;var ne=re.call(te),oe,ie=[],se;try{for(;(ee===void 0||ee-- >0)&&!(oe=ne.next()).done;)ie.push(oe.value)}catch(ue){se={error:ue}}finally{try{oe&&!oe.done&&(re=ne.return)&&re.call(ne)}finally{if(se)throw se.error}}return ie}function __spread(){for(var te=[],ee=0;ee<arguments.length;ee++)te=te.concat(__read(arguments[ee]));return te}function __spreadArrays$1(){for(var te=0,ee=0,re=arguments.length;ee<re;ee++)te+=arguments[ee].length;for(var ne=Array(te),oe=0,ee=0;ee<re;ee++)for(var ie=arguments[ee],se=0,ue=ie.length;se<ue;se++,oe++)ne[oe]=ie[se];return ne}function __spreadArray(te,ee,re){if(re||arguments.length===2)for(var ne=0,oe=ee.length,ie;ne<oe;ne++)(ie||!(ne in ee))&&(ie||(ie=Array.prototype.slice.call(ee,0,ne)),ie[ne]=ee[ne]);return te.concat(ie||Array.prototype.slice.call(ee))}function __await(te){return this instanceof __await?(this.v=te,this):new __await(te)}function __asyncGenerator(te,ee,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne=re.apply(te,ee||[]),oe,ie=[];return oe={},se("next"),se("throw"),se("return"),oe[Symbol.asyncIterator]=function(){return this},oe;function se(Te){ne[Te]&&(oe[Te]=function(ke){return new Promise(function(Re,Ce){ie.push([Te,ke,Re,Ce])>1||ue(Te,ke)})})}function ue(Te,ke){try{he(ne[Te](ke))}catch(Re){Se(ie[0][3],Re)}}function he(Te){Te.value instanceof __await?Promise.resolve(Te.value.v).then(ge,be):Se(ie[0][2],Te)}function ge(Te){ue("next",Te)}function be(Te){ue("throw",Te)}function Se(Te,ke){Te(ke),ie.shift(),ie.length&&ue(ie[0][0],ie[0][1])}}function __asyncDelegator(te){var ee,re;return ee={},ne("next"),ne("throw",function(oe){throw oe}),ne("return"),ee[Symbol.iterator]=function(){return this},ee;function ne(oe,ie){ee[oe]=te[oe]?function(se){return(re=!re)?{value:__await(te[oe](se)),done:oe==="return"}:ie?ie(se):se}:ie}}function __asyncValues(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee=te[Symbol.asyncIterator],re;return ee?ee.call(te):(te=typeof __values=="function"?__values(te):te[Symbol.iterator](),re={},ne("next"),ne("throw"),ne("return"),re[Symbol.asyncIterator]=function(){return this},re);function ne(ie){re[ie]=te[ie]&&function(se){return new Promise(function(ue,he){se=te[ie](se),oe(ue,he,se.done,se.value)})}}function oe(ie,se,ue,he){Promise.resolve(he).then(function(ge){ie({value:ge,done:ue})},se)}}function __makeTemplateObject(te,ee){return Object.defineProperty?Object.defineProperty(te,"raw",{value:ee}):te.raw=ee,te}var __setModuleDefault=Object.create?function(te,ee){Object.defineProperty(te,"default",{enumerable:!0,value:ee})}:function(te,ee){te.default=ee};function __importStar(te){if(te&&te.__esModule)return te;var ee={};if(te!=null)for(var re in te)re!=="default"&&Object.prototype.hasOwnProperty.call(te,re)&&__createBinding(ee,te,re);return __setModuleDefault(ee,te),ee}function __importDefault$3(te){return te&&te.__esModule?te:{default:te}}function __classPrivateFieldGet(te,ee,re,ne){if(re==="a"&&!ne)throw new TypeError("Private accessor was defined without a getter");if(typeof ee=="function"?te!==ee||!ne:!ee.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return re==="m"?ne:re==="a"?ne.call(te):ne?ne.value:ee.get(te)}function __classPrivateFieldSet(te,ee,re,ne,oe){if(ne==="m")throw new TypeError("Private method is not writable");if(ne==="a"&&!oe)throw new TypeError("Private accessor was defined without a setter");if(typeof ee=="function"?te!==ee||!oe:!ee.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ne==="a"?oe.call(te,re):oe?oe.value=re:ee.set(te,re),re}function __classPrivateFieldIn(te,ee){if(ee===null||typeof ee!="object"&&typeof ee!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof te=="function"?ee===te:te.has(ee)}var tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,__extends:__extends$3,get __assign(){return __assign$1},__rest,__decorate,__param,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays:__spreadArrays$1,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault:__importDefault$3,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn},Symbol.toStringTag,{value:"Module"}));function lowerCase(te){return te.toLowerCase()}var DEFAULT_SPLIT_REGEXP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],DEFAULT_STRIP_REGEXP=/[^A-Z0-9]+/gi;function noCase(te,ee){ee===void 0&&(ee={});for(var re=ee.splitRegexp,ne=re===void 0?DEFAULT_SPLIT_REGEXP:re,oe=ee.stripRegexp,ie=oe===void 0?DEFAULT_STRIP_REGEXP:oe,se=ee.transform,ue=se===void 0?lowerCase:se,he=ee.delimiter,ge=he===void 0?" ":he,be=replace(replace(te,ne,"$1\0$2"),ie,"\0"),Se=0,Te=be.length;be.charAt(Se)==="\0";)Se++;for(;be.charAt(Te-1)==="\0";)Te--;return be.slice(Se,Te).split("\0").map(ue).join(ge)}function replace(te,ee,re){return ee instanceof RegExp?te.replace(ee,re):ee.reduce(function(ne,oe){return ne.replace(oe,re)},te)}function dotCase(te,ee){return ee===void 0&&(ee={}),noCase(te,__assign$1({delimiter:"."},ee))}function snakeCase(te,ee){return ee===void 0&&(ee={}),dotCase(te,__assign$1({delimiter:"_"},ee))}var sha256$2={exports:{}};(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;NODE_JS?root=globalThis:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(te){return Object.prototype.toString.call(te)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(te){return typeof te=="object"&&te.buffer&&te.buffer.constructor===ArrayBuffer});var createOutputMethod=function(te,ee){return function(re){return new Sha256(ee,!0).update(re)[te]()}},createMethod=function(te){var ee=createOutputMethod("hex",te);NODE_JS&&(ee=nodeWrap(ee,te)),ee.create=function(){return new Sha256(te)},ee.update=function(oe){return ee.create().update(oe)};for(var re=0;re<OUTPUT_TYPES.length;++re){var ne=OUTPUT_TYPES[re];ee[ne]=createOutputMethod(ne,te)}return ee},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(te){if(typeof te=="string")return crypto.createHash(algorithm).update(te,"utf8").digest("hex");if(te==null)throw new Error(ERROR);return te.constructor===ArrayBuffer&&(te=new Uint8Array(te)),Array.isArray(te)||ArrayBuffer.isView(te)||te.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(te)).digest("hex"):method(te)};return nodeMethod},createHmacOutputMethod=function(te,ee){return function(re,ne){return new HmacSha256(re,ee,!0).update(ne)[te]()}},createHmacMethod=function(te){var ee=createHmacOutputMethod("hex",te);ee.create=function(oe){return new HmacSha256(oe,te)},ee.update=function(oe,ie){return ee.create(oe).update(ie)};for(var re=0;re<OUTPUT_TYPES.length;++re){var ne=OUTPUT_TYPES[re];ee[ne]=createHmacOutputMethod(ne,te)}return ee};function Sha256(te,ee){ee?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],te?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=te}Sha256.prototype.update=function(te){if(!this.finalized){var ee,re=typeof te;if(re!=="string"){if(re==="object"){if(te===null)throw new Error(ERROR);if(ARRAY_BUFFER&&te.constructor===ArrayBuffer)te=new Uint8Array(te);else if(!Array.isArray(te)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(te)))throw new Error(ERROR)}else throw new Error(ERROR);ee=!0}for(var ne,oe=0,ie,se=te.length,ue=this.blocks;oe<se;){if(this.hashed&&(this.hashed=!1,ue[0]=this.block,ue[16]=ue[1]=ue[2]=ue[3]=ue[4]=ue[5]=ue[6]=ue[7]=ue[8]=ue[9]=ue[10]=ue[11]=ue[12]=ue[13]=ue[14]=ue[15]=0),ee)for(ie=this.start;oe<se&&ie<64;++oe)ue[ie>>2]|=te[oe]<<SHIFT[ie++&3];else for(ie=this.start;oe<se&&ie<64;++oe)ne=te.charCodeAt(oe),ne<128?ue[ie>>2]|=ne<<SHIFT[ie++&3]:ne<2048?(ue[ie>>2]|=(192|ne>>6)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne&63)<<SHIFT[ie++&3]):ne<55296||ne>=57344?(ue[ie>>2]|=(224|ne>>12)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne>>6&63)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne&63)<<SHIFT[ie++&3]):(ne=65536+((ne&1023)<<10|te.charCodeAt(++oe)&1023),ue[ie>>2]|=(240|ne>>18)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne>>12&63)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne>>6&63)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne&63)<<SHIFT[ie++&3]);this.lastByteIndex=ie,this.bytes+=ie-this.start,ie>=64?(this.block=ue[16],this.start=ie-64,this.hash(),this.hashed=!0):this.start=ie}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var te=this.blocks,ee=this.lastByteIndex;te[16]=this.block,te[ee>>2]|=EXTRA[ee&3],this.block=te[16],ee>=56&&(this.hashed||this.hash(),te[0]=this.block,te[16]=te[1]=te[2]=te[3]=te[4]=te[5]=te[6]=te[7]=te[8]=te[9]=te[10]=te[11]=te[12]=te[13]=te[14]=te[15]=0),te[14]=this.hBytes<<3|this.bytes>>>29,te[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var te=this.h0,ee=this.h1,re=this.h2,ne=this.h3,oe=this.h4,ie=this.h5,se=this.h6,ue=this.h7,he=this.blocks,ge,be,Se,Te,ke,Re,Ce,Pe,Ie,Ne,He;for(ge=16;ge<64;++ge)ke=he[ge-15],be=(ke>>>7|ke<<25)^(ke>>>18|ke<<14)^ke>>>3,ke=he[ge-2],Se=(ke>>>17|ke<<15)^(ke>>>19|ke<<13)^ke>>>10,he[ge]=he[ge-16]+be+he[ge-7]+Se<<0;for(He=ee&re,ge=0;ge<64;ge+=4)this.first?(this.is224?(Pe=300032,ke=he[0]-1413257819,ue=ke-150054599<<0,ne=ke+24177077<<0):(Pe=704751109,ke=he[0]-210244248,ue=ke-1521486534<<0,ne=ke+143694565<<0),this.first=!1):(be=(te>>>2|te<<30)^(te>>>13|te<<19)^(te>>>22|te<<10),Se=(oe>>>6|oe<<26)^(oe>>>11|oe<<21)^(oe>>>25|oe<<7),Pe=te&ee,Te=Pe^te&re^He,Ce=oe&ie^~oe&se,ke=ue+Se+Ce+K[ge]+he[ge],Re=be+Te,ue=ne+ke<<0,ne=ke+Re<<0),be=(ne>>>2|ne<<30)^(ne>>>13|ne<<19)^(ne>>>22|ne<<10),Se=(ue>>>6|ue<<26)^(ue>>>11|ue<<21)^(ue>>>25|ue<<7),Ie=ne&te,Te=Ie^ne&ee^Pe,Ce=ue&oe^~ue&ie,ke=se+Se+Ce+K[ge+1]+he[ge+1],Re=be+Te,se=re+ke<<0,re=ke+Re<<0,be=(re>>>2|re<<30)^(re>>>13|re<<19)^(re>>>22|re<<10),Se=(se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7),Ne=re&ne,Te=Ne^re&te^Ie,Ce=se&ue^~se&oe,ke=ie+Se+Ce+K[ge+2]+he[ge+2],Re=be+Te,ie=ee+ke<<0,ee=ke+Re<<0,be=(ee>>>2|ee<<30)^(ee>>>13|ee<<19)^(ee>>>22|ee<<10),Se=(ie>>>6|ie<<26)^(ie>>>11|ie<<21)^(ie>>>25|ie<<7),He=ee&re,Te=He^ee&ne^Ne,Ce=ie&se^~ie&ue,ke=oe+Se+Ce+K[ge+3]+he[ge+3],Re=be+Te,oe=te+ke<<0,te=ke+Re<<0;this.h0=this.h0+te<<0,this.h1=this.h1+ee<<0,this.h2=this.h2+re<<0,this.h3=this.h3+ne<<0,this.h4=this.h4+oe<<0,this.h5=this.h5+ie<<0,this.h6=this.h6+se<<0,this.h7=this.h7+ue<<0},Sha256.prototype.hex=function(){this.finalize();var te=this.h0,ee=this.h1,re=this.h2,ne=this.h3,oe=this.h4,ie=this.h5,se=this.h6,ue=this.h7,he=HEX_CHARS[te>>28&15]+HEX_CHARS[te>>24&15]+HEX_CHARS[te>>20&15]+HEX_CHARS[te>>16&15]+HEX_CHARS[te>>12&15]+HEX_CHARS[te>>8&15]+HEX_CHARS[te>>4&15]+HEX_CHARS[te&15]+HEX_CHARS[ee>>28&15]+HEX_CHARS[ee>>24&15]+HEX_CHARS[ee>>20&15]+HEX_CHARS[ee>>16&15]+HEX_CHARS[ee>>12&15]+HEX_CHARS[ee>>8&15]+HEX_CHARS[ee>>4&15]+HEX_CHARS[ee&15]+HEX_CHARS[re>>28&15]+HEX_CHARS[re>>24&15]+HEX_CHARS[re>>20&15]+HEX_CHARS[re>>16&15]+HEX_CHARS[re>>12&15]+HEX_CHARS[re>>8&15]+HEX_CHARS[re>>4&15]+HEX_CHARS[re&15]+HEX_CHARS[ne>>28&15]+HEX_CHARS[ne>>24&15]+HEX_CHARS[ne>>20&15]+HEX_CHARS[ne>>16&15]+HEX_CHARS[ne>>12&15]+HEX_CHARS[ne>>8&15]+HEX_CHARS[ne>>4&15]+HEX_CHARS[ne&15]+HEX_CHARS[oe>>28&15]+HEX_CHARS[oe>>24&15]+HEX_CHARS[oe>>20&15]+HEX_CHARS[oe>>16&15]+HEX_CHARS[oe>>12&15]+HEX_CHARS[oe>>8&15]+HEX_CHARS[oe>>4&15]+HEX_CHARS[oe&15]+HEX_CHARS[ie>>28&15]+HEX_CHARS[ie>>24&15]+HEX_CHARS[ie>>20&15]+HEX_CHARS[ie>>16&15]+HEX_CHARS[ie>>12&15]+HEX_CHARS[ie>>8&15]+HEX_CHARS[ie>>4&15]+HEX_CHARS[ie&15]+HEX_CHARS[se>>28&15]+HEX_CHARS[se>>24&15]+HEX_CHARS[se>>20&15]+HEX_CHARS[se>>16&15]+HEX_CHARS[se>>12&15]+HEX_CHARS[se>>8&15]+HEX_CHARS[se>>4&15]+HEX_CHARS[se&15];return this.is224||(he+=HEX_CHARS[ue>>28&15]+HEX_CHARS[ue>>24&15]+HEX_CHARS[ue>>20&15]+HEX_CHARS[ue>>16&15]+HEX_CHARS[ue>>12&15]+HEX_CHARS[ue>>8&15]+HEX_CHARS[ue>>4&15]+HEX_CHARS[ue&15]),he},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var te=this.h0,ee=this.h1,re=this.h2,ne=this.h3,oe=this.h4,ie=this.h5,se=this.h6,ue=this.h7,he=[te>>24&255,te>>16&255,te>>8&255,te&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,re>>24&255,re>>16&255,re>>8&255,re&255,ne>>24&255,ne>>16&255,ne>>8&255,ne&255,oe>>24&255,oe>>16&255,oe>>8&255,oe&255,ie>>24&255,ie>>16&255,ie>>8&255,ie&255,se>>24&255,se>>16&255,se>>8&255,se&255];return this.is224||he.push(ue>>24&255,ue>>16&255,ue>>8&255,ue&255),he},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var te=new ArrayBuffer(this.is224?28:32),ee=new DataView(te);return ee.setUint32(0,this.h0),ee.setUint32(4,this.h1),ee.setUint32(8,this.h2),ee.setUint32(12,this.h3),ee.setUint32(16,this.h4),ee.setUint32(20,this.h5),ee.setUint32(24,this.h6),this.is224||ee.setUint32(28,this.h7),te};function HmacSha256(te,ee,re){var ne,oe=typeof te;if(oe==="string"){var ie=[],se=te.length,ue=0,he;for(ne=0;ne<se;++ne)he=te.charCodeAt(ne),he<128?ie[ue++]=he:he<2048?(ie[ue++]=192|he>>6,ie[ue++]=128|he&63):he<55296||he>=57344?(ie[ue++]=224|he>>12,ie[ue++]=128|he>>6&63,ie[ue++]=128|he&63):(he=65536+((he&1023)<<10|te.charCodeAt(++ne)&1023),ie[ue++]=240|he>>18,ie[ue++]=128|he>>12&63,ie[ue++]=128|he>>6&63,ie[ue++]=128|he&63);te=ie}else if(oe==="object"){if(te===null)throw new Error(ERROR);if(ARRAY_BUFFER&&te.constructor===ArrayBuffer)te=new Uint8Array(te);else if(!Array.isArray(te)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(te)))throw new Error(ERROR)}else throw new Error(ERROR);te.length>64&&(te=new Sha256(ee,!0).update(te).array());var ge=[],be=[];for(ne=0;ne<64;++ne){var Se=te[ne]||0;ge[ne]=92^Se,be[ne]=54^Se}Sha256.call(this,ee,re),this.update(be),this.oKeyPad=ge,this.inner=!0,this.sharedMemory=re}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var te=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(te),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$2);const _FEATURES$1=new Map;function isSet$1(te){return _FEATURES$1.get(te)!==void 0}class IdlError$1 extends Error{constructor(ee){super(ee),this.name="IdlError"}}class ProgramErrorStack{constructor(ee){this.stack=ee}static parse(ee){var re;const ne=/^Program (\w*) invoke/,oe=/^Program \w* success/,ie=[];for(let se=0;se<ee.length;se++){if(oe.exec(ee[se])){ie.pop();continue}const ue=(re=ne.exec(ee[se]))===null||re===void 0?void 0:re[1];!ue||ie.push(new PublicKey(ue))}return new ProgramErrorStack(ie)}}class AnchorError extends Error{constructor(ee,re,ne,oe,ie,se){super(ne.join(`
`).replace("Program log: ","")),this.errorLogs=ne,this.logs=oe,this.error={errorCode:ee,errorMessage:re,comparedValues:se,origin:ie},this._programErrorStack=ProgramErrorStack.parse(oe)}static parse(ee){if(!ee)return null;const re=ee.findIndex(Te=>Te.startsWith("Program log: AnchorError"));if(re===-1)return null;const ne=ee[re],oe=[ne];let ie;if(re+1<ee.length){if(ee[re+1]==="Program log: Left:"){const Te=/^Program log: (.*)$/,ke=Te.exec(ee[re+2])[1],Re=Te.exec(ee[re+4])[1];ie=[new PublicKey(ke),new PublicKey(Re)],oe.push(...ee.slice(re+1,re+5))}else if(ee[re+1].startsWith("Program log: Left:")){const Te=/^Program log: (Left|Right): (.*)$/,ke=Te.exec(ee[re+1])[2],Re=Te.exec(ee[re+2])[2];oe.push(...ee.slice(re+1,re+3)),ie=[ke,Re]}}const ue=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(ne),ge=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(ne),Se=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(ne);if(ue){const[Te,ke,Re]=ue.slice(1,4),Ce={code:Te,number:parseInt(ke)};return new AnchorError(Ce,Re,oe,ee,void 0,ie)}else if(ge){const[Te,ke,Re,Ce,Pe]=ge.slice(1,6),Ie={code:Re,number:parseInt(Ce)},Ne={file:Te,line:parseInt(ke)};return new AnchorError(Ie,Pe,oe,ee,Ne,ie)}else if(Se){const[Te,ke,Re,Ce]=Se.slice(1,5),Pe=Te,Ie={code:ke,number:parseInt(Re)};return new AnchorError(Ie,Ce,oe,ee,Pe,ie)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ProgramError$1 extends Error{constructor(ee,re,ne){super(),this.code=ee,this.msg=re,this.logs=ne,ne&&(this._programErrorStack=ProgramErrorStack.parse(ne))}static parse(ee,re){const ne=ee.toString();let oe;if(ne.includes("custom program error:")){let ue=ne.split("custom program error: ");if(ue.length!==2)return null;oe=ue[1]}else{const ue=ne.match(/"Custom":([0-9]+)}/g);if(!ue||ue.length>1)return null;oe=ue[0].match(/([0-9]+)/g)[0]}let ie;try{ie=parseInt(oe)}catch{return null}let se=re.get(ie);return se!==void 0?new ProgramError$1(ie,se,ee.logs):(se=LangErrorMessage$1.get(ie),se!==void 0?new ProgramError$1(ie,se,ee.logs):null)}get program(){var ee;return(ee=this._programErrorStack)===null||ee===void 0?void 0:ee.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var ee;return(ee=this._programErrorStack)===null||ee===void 0?void 0:ee.stack}toString(){return this.msg}}function translateError(te,ee){isSet$1("debug-logs")&&console.log("Translating error:",te);const re=AnchorError.parse(te.logs);if(re)return re;const ne=ProgramError$1.parse(te,ee);if(ne)return ne;if(te.logs){const oe={get:function(ie,se){return se==="programErrorStack"?ie.programErrorStack.stack:se==="program"?ie.programErrorStack.stack[te.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return te.programErrorStack=ProgramErrorStack.parse(te.logs),new Proxy(te,oe)}return te}const LangErrorCode$1={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},LangErrorMessage$1=new Map([[LangErrorCode$1.InstructionMissing,"8 byte instruction identifier not provided"],[LangErrorCode$1.InstructionFallbackNotFound,"Fallback functions are not supported"],[LangErrorCode$1.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[LangErrorCode$1.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[LangErrorCode$1.IdlInstructionStub,"The program was compiled without idl instructions"],[LangErrorCode$1.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[LangErrorCode$1.ConstraintMut,"A mut constraint was violated"],[LangErrorCode$1.ConstraintHasOne,"A has_one constraint was violated"],[LangErrorCode$1.ConstraintSigner,"A signer constraint was violated"],[LangErrorCode$1.ConstraintRaw,"A raw constraint was violated"],[LangErrorCode$1.ConstraintOwner,"An owner constraint was violated"],[LangErrorCode$1.ConstraintRentExempt,"A rent exemption constraint was violated"],[LangErrorCode$1.ConstraintSeeds,"A seeds constraint was violated"],[LangErrorCode$1.ConstraintExecutable,"An executable constraint was violated"],[LangErrorCode$1.ConstraintState,"A state constraint was violated"],[LangErrorCode$1.ConstraintAssociated,"An associated constraint was violated"],[LangErrorCode$1.ConstraintAssociatedInit,"An associated init constraint was violated"],[LangErrorCode$1.ConstraintClose,"A close constraint was violated"],[LangErrorCode$1.ConstraintAddress,"An address constraint was violated"],[LangErrorCode$1.ConstraintZero,"Expected zero account discriminant"],[LangErrorCode$1.ConstraintTokenMint,"A token mint constraint was violated"],[LangErrorCode$1.ConstraintTokenOwner,"A token owner constraint was violated"],[LangErrorCode$1.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[LangErrorCode$1.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[LangErrorCode$1.ConstraintMintDecimals,"A mint decimals constraint was violated"],[LangErrorCode$1.ConstraintSpace,"A space constraint was violated"],[LangErrorCode$1.RequireViolated,"A require expression was violated"],[LangErrorCode$1.RequireEqViolated,"A require_eq expression was violated"],[LangErrorCode$1.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[LangErrorCode$1.RequireNeqViolated,"A require_neq expression was violated"],[LangErrorCode$1.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[LangErrorCode$1.RequireGtViolated,"A require_gt expression was violated"],[LangErrorCode$1.RequireGteViolated,"A require_gte expression was violated"],[LangErrorCode$1.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[LangErrorCode$1.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[LangErrorCode$1.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[LangErrorCode$1.AccountDidNotDeserialize,"Failed to deserialize the account"],[LangErrorCode$1.AccountDidNotSerialize,"Failed to serialize the account"],[LangErrorCode$1.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[LangErrorCode$1.AccountNotMutable,"The given account is not mutable"],[LangErrorCode$1.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[LangErrorCode$1.InvalidProgramId,"Program ID was not as expected"],[LangErrorCode$1.InvalidProgramExecutable,"Program account is not executable"],[LangErrorCode$1.AccountNotSigner,"The given account did not sign"],[LangErrorCode$1.AccountNotSystemOwned,"The given account is not owned by the system program"],[LangErrorCode$1.AccountNotInitialized,"The program expected this account to be already initialized"],[LangErrorCode$1.AccountNotProgramData,"The given account is not a program data account"],[LangErrorCode$1.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[LangErrorCode$1.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[LangErrorCode$1.StateInvalidAddress,"The given state account does not have the correct address"],[LangErrorCode$1.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[LangErrorCode$1.Deprecated,"The API being used is deprecated and should no longer be used"]]);class IdlCoder$1{static fieldLayout(ee,re){const ne=ee.name!==void 0?camelCase$1(ee.name):void 0;switch(ee.type){case"bool":return lib$5.bool(ne);case"u8":return lib$5.u8(ne);case"i8":return lib$5.i8(ne);case"u16":return lib$5.u16(ne);case"i16":return lib$5.i16(ne);case"u32":return lib$5.u32(ne);case"i32":return lib$5.i32(ne);case"f32":return lib$5.f32(ne);case"u64":return lib$5.u64(ne);case"i64":return lib$5.i64(ne);case"f64":return lib$5.f64(ne);case"u128":return lib$5.u128(ne);case"i128":return lib$5.i128(ne);case"bytes":return lib$5.vecU8(ne);case"string":return lib$5.str(ne);case"publicKey":return lib$5.publicKey(ne);default:{if("vec"in ee.type)return lib$5.vec(IdlCoder$1.fieldLayout({name:void 0,type:ee.type.vec},re),ne);if("option"in ee.type)return lib$5.option(IdlCoder$1.fieldLayout({name:void 0,type:ee.type.option},re),ne);if("defined"in ee.type){const oe=ee.type.defined;if(re===void 0)throw new IdlError$1("User defined types not provided");const ie=re.filter(se=>se.name===oe);if(ie.length!==1)throw new IdlError$1(`Type not found: ${JSON.stringify(ee)}`);return IdlCoder$1.typeDefLayout(ie[0],re,ne)}else if("array"in ee.type){let oe=ee.type.array[0],ie=ee.type.array[1],se=IdlCoder$1.fieldLayout({name:void 0,type:oe},re);return lib$5.array(se,ie,ne)}else throw new Error(`Not yet implemented: ${ee}`)}}}static typeDefLayout(ee,re=[],ne){if(ee.type.kind==="struct"){const oe=ee.type.fields.map(ie=>IdlCoder$1.fieldLayout(ie,re));return lib$5.struct(oe,ne)}else if(ee.type.kind==="enum"){let oe=ee.type.variants.map(ie=>{const se=camelCase$1(ie.name);if(ie.fields===void 0)return lib$5.struct([],se);const ue=ie.fields.map(he=>{if(!he.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return IdlCoder$1.fieldLayout(he,re)});return lib$5.struct(ue,se)});return ne!==void 0?lib$5.rustEnum(oe).replicate(ne):lib$5.rustEnum(oe,ne)}else throw new Error(`Unknown type kint: ${ee}`)}}const SIGHASH_STATE_NAMESPACE$1="state",SIGHASH_GLOBAL_NAMESPACE$1="globalThis";class BorshInstructionCoder{constructor(ee){this.idl=ee,this.ixLayout=BorshInstructionCoder.parseIxLayout(ee);const re=new Map;ee.instructions.forEach(ne=>{const oe=sighash$1(SIGHASH_GLOBAL_NAMESPACE$1,ne.name);re.set(bs58$1.encode(oe),{layout:this.ixLayout.get(ne.name),name:ne.name})}),ee.state&&ee.state.methods.map(ne=>{const oe=sighash$1(SIGHASH_STATE_NAMESPACE$1,ne.name);re.set(bs58$1.encode(oe),{layout:this.ixLayout.get(ne.name),name:ne.name})}),this.sighashLayouts=re}encode(ee,re){return this._encode(SIGHASH_GLOBAL_NAMESPACE$1,ee,re)}encodeState(ee,re){return this._encode(SIGHASH_STATE_NAMESPACE$1,ee,re)}_encode(ee,re,ne){const oe=buffer$2.Buffer.alloc(1e3),ie=camelCase$1(re),se=this.ixLayout.get(ie);if(!se)throw new Error(`Unknown method: ${ie}`);const ue=se.encode(ne,oe),he=oe.slice(0,ue);return buffer$2.Buffer.concat([sighash$1(ee,re),he])}static parseIxLayout(ee){const ne=(ee.state?ee.state.methods:[]).map(oe=>{let ie=oe.args.map(ue=>{var he,ge;return IdlCoder$1.fieldLayout(ue,Array.from([...(he=ee.accounts)!==null&&he!==void 0?he:[],...(ge=ee.types)!==null&&ge!==void 0?ge:[]]))});const se=camelCase$1(oe.name);return[se,lib$5.struct(ie,se)]}).concat(ee.instructions.map(oe=>{let ie=oe.args.map(ue=>{var he,ge;return IdlCoder$1.fieldLayout(ue,Array.from([...(he=ee.accounts)!==null&&he!==void 0?he:[],...(ge=ee.types)!==null&&ge!==void 0?ge:[]]))});const se=camelCase$1(oe.name);return[se,lib$5.struct(ie,se)]}));return new Map(ne)}decode(ee,re="hex"){typeof ee=="string"&&(ee=re==="hex"?buffer$2.Buffer.from(ee,"hex"):bs58$1.decode(ee));let ne=bs58$1.encode(ee.slice(0,8)),oe=ee.slice(8);const ie=this.sighashLayouts.get(ne);return ie?{data:ie.layout.decode(oe),name:ie.name}:null}format(ee,re){return InstructionFormatter$1.format(ee,re,this.idl)}}class InstructionFormatter$1{static format(ee,re,ne){const oe=ne.instructions.filter(he=>ee.name===he.name)[0];if(oe===void 0)return console.error("Invalid instruction given"),null;const ie=oe.args.map(he=>({name:he.name,type:InstructionFormatter$1.formatIdlType(he.type),data:InstructionFormatter$1.formatIdlData(he,ee.data[he.name],ne.types)})),se=InstructionFormatter$1.flattenIdlAccounts(oe.accounts),ue=re.map((he,ge)=>ge<se.length?Nr({name:se[ge].name},he):Nr({name:void 0},he));return{args:ie,accounts:ue}}static formatIdlType(ee){if(typeof ee=="string")return ee;if("vec"in ee)return`Vec<${this.formatIdlType(ee.vec)}>`;if("option"in ee)return`Option<${this.formatIdlType(ee.option)}>`;if("defined"in ee)return ee.defined;if("array"in ee)return`Array<${ee.array[0]}; ${ee.array[1]}>`;throw new Error(`Unknown IDL type: ${ee}`)}static formatIdlData(ee,re,ne){if(typeof ee.type=="string")return re.toString();if(ee.type.hasOwnProperty("vec"))return"["+re.map(oe=>this.formatIdlData({name:"",type:ee.type.vec},oe)).join(", ")+"]";if(ee.type.hasOwnProperty("option"))return re===null?"null":this.formatIdlData({name:"",type:ee.type.option},re,ne);if(ee.type.hasOwnProperty("defined")){if(ne===void 0)throw new Error("User defined types not provided");const oe=ne.filter(ie=>ie.name===ee.type.defined);if(oe.length!==1)throw new Error(`Type not found: ${ee.type.defined}`);return InstructionFormatter$1.formatIdlDataDefined(oe[0],re,ne)}return"unknown"}static formatIdlDataDefined(ee,re,ne){if(ee.type.kind==="struct"){const oe=ee.type,ie=Object.keys(re).map(se=>{const ue=oe.fields.filter(he=>he.name===se)[0];if(ue===void 0)throw new Error("Unable to find type");return se+": "+InstructionFormatter$1.formatIdlData(ue,re[se],ne)}).join(", ");return"{ "+ie+" }"}else{if(ee.type.variants.length===0)return"{}";if(ee.type.variants[0].name){const oe=ee.type.variants,ie=Object.keys(re)[0],se=re[ie],ue=Object.keys(se).map(ge=>{var be;const Se=se[ge],Te=(be=oe[ie])===null||be===void 0?void 0:be.filter(ke=>ke.name===ge)[0];if(Te===void 0)throw new Error("Unable to find variant");return ge+": "+InstructionFormatter$1.formatIdlData(Te,Se,ne)}).join(", "),he=camelCase$1(ie,{pascalCase:!0});return ue.length===0?he:`${he} { ${ue} }`}else return"Tuple formatting not yet implemented"}}static flattenIdlAccounts(ee,re){return ee.map(ne=>{const oe=sentenceCase$1(ne.name);if(ne.hasOwnProperty("accounts")){const ie=re?`${re} > ${oe}`:oe;return InstructionFormatter$1.flattenIdlAccounts(ne.accounts,ie)}else return jr(Nr({},ne),{name:re?`${re} > ${oe}`:oe})}).flat()}}function sentenceCase$1(te){const ee=te.replace(/([A-Z])/g," $1");return ee.charAt(0).toUpperCase()+ee.slice(1)}function sighash$1(te,ee){let re=snakeCase(ee),ne=`${te}:${re}`;return buffer$2.Buffer.from(sha256$2.exports.sha256.digest(ne)).slice(0,8)}function accountSize$1(te,ee){if(ee.type.kind==="enum"){let re=ee.type.variants.map(ne=>ne.fields===void 0?0:ne.fields.map(oe=>{if(!(typeof oe=="object"&&"name"in oe))throw new Error("Tuple enum variants not yet implemented.");return typeSize$1(te,oe.type)}).reduce((oe,ie)=>oe+ie));return Math.max(...re)+1}return ee.type.fields===void 0?0:ee.type.fields.map(re=>typeSize$1(te,re.type)).reduce((re,ne)=>re+ne,0)}function typeSize$1(te,ee){var re,ne;switch(ee){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"bytes":return 1;case"string":return 1;case"publicKey":return 32;default:if("vec"in ee)return 1;if("option"in ee)return 1+typeSize$1(te,ee.option);if("coption"in ee)return 4+typeSize$1(te,ee.coption);if("defined"in ee){const oe=(ne=(re=te.types)===null||re===void 0?void 0:re.filter(se=>se.name===ee.defined))!==null&&ne!==void 0?ne:[];if(oe.length!==1)throw new IdlError$1(`Type not found: ${JSON.stringify(ee)}`);let ie=oe[0];return accountSize$1(te,ie)}if("array"in ee){let oe=ee.array[0],ie=ee.array[1];return typeSize$1(te,oe)*ie}throw new Error(`Invalid type ${JSON.stringify(ee)}`)}}const ACCOUNT_DISCRIMINATOR_SIZE$1=8;class BorshAccountsCoder{constructor(ee){if(ee.accounts===void 0){this.accountLayouts=new Map;return}const re=ee.accounts.map(ne=>[ne.name,IdlCoder$1.typeDefLayout(ne,ee.types)]);this.accountLayouts=new Map(re),this.idl=ee}async encode(ee,re){const ne=buffer$2.Buffer.alloc(1e3),oe=this.accountLayouts.get(ee);if(!oe)throw new Error(`Unknown account: ${ee}`);const ie=oe.encode(re,ne);let se=ne.slice(0,ie),ue=BorshAccountsCoder.accountDiscriminator(ee);return buffer$2.Buffer.concat([ue,se])}decode(ee,re){if(BorshAccountsCoder.accountDiscriminator(ee).compare(re.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(ee,re)}decodeUnchecked(ee,re){const ne=re.slice(ACCOUNT_DISCRIMINATOR_SIZE$1),oe=this.accountLayouts.get(ee);if(!oe)throw new Error(`Unknown account: ${ee}`);return oe.decode(ne)}memcmp(ee,re){const ne=BorshAccountsCoder.accountDiscriminator(ee);return{offset:0,bytes:bs58$1.encode(re?buffer$2.Buffer.concat([ne,re]):ne)}}size(ee){var re;return ACCOUNT_DISCRIMINATOR_SIZE$1+((re=accountSize$1(this.idl,ee))!==null&&re!==void 0?re:0)}static accountDiscriminator(ee){return buffer$2.Buffer.from(sha256$2.exports.sha256.digest(`account:${camelCase$1(ee,{pascalCase:!0})}`)).slice(0,ACCOUNT_DISCRIMINATOR_SIZE$1)}}class BorshEventCoder{constructor(ee){if(ee.events===void 0){this.layouts=new Map;return}const re=ee.events.map(ne=>{let oe={name:ne.name,type:{kind:"struct",fields:ne.fields.map(ie=>({name:ie.name,type:ie.type}))}};return[ne.name,IdlCoder$1.typeDefLayout(oe,ee.types)]});this.layouts=new Map(re),this.discriminators=new Map(ee.events===void 0?[]:ee.events.map(ne=>[fromByteArray_1(eventDiscriminator$1(ne.name)),ne.name]))}decode(ee){let re;try{re=buffer$2.Buffer.from(toByteArray_1(ee))}catch{return null}const ne=fromByteArray_1(re.slice(0,8)),oe=this.discriminators.get(ne);if(oe===void 0)return null;const ie=this.layouts.get(oe);if(!ie)throw new Error(`Unknown event: ${oe}`);return{data:ie.decode(re.slice(8)),name:oe}}}function eventDiscriminator$1(te){return buffer$2.Buffer.from(sha256$2.exports.sha256.digest(`event:${te}`)).slice(0,8)}class BorshStateCoder{constructor(ee){if(ee.state===void 0)throw new Error("Idl state not defined.");this.layout=IdlCoder$1.typeDefLayout(ee.state.struct,ee.types)}async encode(ee,re){const ne=buffer$2.Buffer.alloc(1e3),oe=this.layout.encode(re,ne),ie=await stateDiscriminator$1(ee),se=ne.slice(0,oe);return buffer$2.Buffer.concat([ie,se])}decode(ee){const re=ee.slice(8);return this.layout.decode(re)}}async function stateDiscriminator$1(te){let ee=isSet$1("anchor-deprecated-state")?"account":"state";return buffer$2.Buffer.from(sha256$2.exports.sha256.digest(`${ee}:${te}`)).slice(0,8)}class BorshCoder{constructor(ee){this.instruction=new BorshInstructionCoder(ee),this.accounts=new BorshAccountsCoder(ee),this.events=new BorshEventCoder(ee),ee.state&&(this.state=new BorshStateCoder(ee))}}class SplTokenInstructionCoder{constructor(ee){}encode(ee,re){switch(camelCase$1(ee)){case"initializeMint":return encodeInitializeMint(re);case"initializeAccount":return encodeInitializeAccount();case"initializeMultisig":return encodeInitializeMultisig(re);case"transfer":return encodeTransfer(re);case"approve":return encodeApprove(re);case"revoke":return encodeRevoke();case"setAuthority":return encodeSetAuthority(re);case"mintTo":return encodeMintTo(re);case"burn":return encodeBurn(re);case"closeAccount":return encodeCloseAccount();case"freezeAccount":return encodeFreezeAccount();case"thawAccount":return encodeThawAccount();case"transferChecked":return encodeTransferChecked(re);case"approvedChecked":return encodeApproveChecked(re);case"mintToChecked":return encodeMintToChecked(re);case"burnChecked":return encodeBurnChecked(re);case"intializeAccount2":return encodeInitializeAccount2(re);case"syncNative":return encodeSyncNative();case"initializeAccount3":return encodeInitializeAccount3(re);case"initializeMultisig2":return encodeInitializeMultisig2(re);case"initializeMint2":return encodeInitializeMint2(re);default:throw new Error(`Invalid instruction: ${ee}`)}}encodeState(ee,re){throw new Error("SPL token does not have state")}}function encodeInitializeMint({decimals:te,mintAuthority:ee,freezeAuthority:re}){return encodeData({initializeMint:{decimals:te,mintAuthority:ee.toBuffer(),freezeAuthorityOption:!!re,freezeAuthority:(re||PublicKey.default).toBuffer()}})}function encodeInitializeAccount(te){return encodeData({initializeAccount:{}})}function encodeInitializeMultisig({m:te}){return encodeData({initializeMultisig:{m:te}})}function encodeTransfer({amount:te}){return encodeData({transfer:{amount:te}})}function encodeApprove({amount:te}){return encodeData({approve:{amount:te}})}function encodeRevoke(te){return encodeData({revoke:{}})}function encodeSetAuthority({authorityType:te,newAuthority:ee}){return encodeData({setAuthority:{authorityType:te,newAuthority:ee}})}function encodeMintTo({amount:te}){return encodeData({mintTo:{amount:te}})}function encodeBurn({amount:te}){return encodeData({burn:{amount:te}})}function encodeCloseAccount(te){return encodeData({closeAccount:{}})}function encodeFreezeAccount(te){return encodeData({freezeAccount:{}})}function encodeThawAccount(te){return encodeData({thawAccount:{}})}function encodeTransferChecked({amount:te,decimals:ee}){return encodeData({transferChecked:{amount:te,decimals:ee}})}function encodeApproveChecked({amount:te,decimals:ee}){return encodeData({approveChecked:{amount:te,decimals:ee}})}function encodeMintToChecked({amount:te,decimals:ee}){return encodeData({mintToChecked:{amount:te,decimals:ee}})}function encodeBurnChecked({amount:te,decimals:ee}){return encodeData({burnChecked:{amount:te,decimals:ee}})}function encodeInitializeAccount2({authority:te}){return encodeData({initilaizeAccount2:{authority:te}})}function encodeSyncNative(te){return encodeData({syncNative:{}})}function encodeInitializeAccount3({authority:te}){return encodeData({initializeAccount3:{authority:te}})}function encodeInitializeMultisig2({m:te}){return encodeData({initializeMultisig2:{m:te}})}function encodeInitializeMint2({decimals:te,mintAuthority:ee,freezeAuthority:re}){return encodeData({encodeInitializeMint2:{decimals:te,mintAuthority:ee,freezeAuthority:re}})}const LAYOUT=union(u8$1("instruction"));LAYOUT.addVariant(0,struct$2([u8$1("decimals"),blob$1(32,"mintAuthority"),u8$1("freezeAuthorityOption"),publicKey$2("freezeAuthority")]),"initializeMint");LAYOUT.addVariant(1,struct$2([]),"initializeAccount");LAYOUT.addVariant(2,struct$2([u8$1("m")]),"initializeMultisig");LAYOUT.addVariant(3,struct$2([nu64("amount")]),"transfer");LAYOUT.addVariant(4,struct$2([nu64("amount")]),"approve");LAYOUT.addVariant(5,struct$2([]),"revoke");LAYOUT.addVariant(6,struct$2([u8$1("authorityType"),u8$1("newAuthorityOption"),publicKey$2("newAuthority")]),"setAuthority");LAYOUT.addVariant(7,struct$2([nu64("amount")]),"mintTo");LAYOUT.addVariant(8,struct$2([nu64("amount")]),"burn");LAYOUT.addVariant(9,struct$2([]),"closeAccount");LAYOUT.addVariant(10,struct$2([]),"freezeAccount");LAYOUT.addVariant(11,struct$2([]),"thawAccount");LAYOUT.addVariant(12,struct$2([nu64("amount"),u8$1("decimals")]),"transferChecked");LAYOUT.addVariant(13,struct$2([nu64("amount"),u8$1("decimals")]),"approvedChecked");LAYOUT.addVariant(14,struct$2([nu64("amount"),u8$1("decimals")]),"mintToChecked");LAYOUT.addVariant(15,struct$2([nu64("amount"),u8$1("decimals")]),"burnedChecked");LAYOUT.addVariant(16,struct$2([publicKey$2("authority")]),"InitializeAccount2");LAYOUT.addVariant(17,struct$2([]),"syncNative");LAYOUT.addVariant(18,struct$2([publicKey$2("authority")]),"initializeAccount3");LAYOUT.addVariant(19,struct$2([u8$1("m")]),"initializeMultisig2");LAYOUT.addVariant(20,struct$2([u8$1("decimals"),publicKey$2("mintAuthority"),u8$1("freezeAuthorityOption"),publicKey$2("freezeAuthority")]),"initializeMint2");function publicKey$2(te){return blob$1(32,te)}function encodeData(te){let ee=buffer$2.Buffer.alloc(instructionMaxSpan),re=LAYOUT.encode(te,ee);return ee.slice(0,re)}const instructionMaxSpan=Math.max(...Object.values(LAYOUT.registry).map(te=>te.span));class SplTokenStateCoder{constructor(ee){}encode(ee,re){throw new Error("SPL token does not have state")}decode(ee){throw new Error("SPL token does not have state")}}function uint64$1(te){return new WrappedLayout(blob$1(8),ee=>u64$2.fromBuffer(ee),ee=>ee.toBuffer(),te)}function bool(te){return new WrappedLayout(u8$1(),decodeBool,encodeBool,te)}function publicKey$1(te){return new WrappedLayout(blob$1(32),ee=>new PublicKey(ee),ee=>ee.toBuffer(),te)}function coption(te,ee){return new COptionLayout(te,ee)}class WrappedLayout extends Layout_2{constructor(ee,re,ne,oe){super(ee.span,oe),this.layout=ee,this.decoder=re,this.encoder=ne}decode(ee,re){return this.decoder(this.layout.decode(ee,re))}encode(ee,re,ne){return this.layout.encode(this.encoder(ee),re,ne)}getSpan(ee,re){return this.layout.getSpan(ee,re)}}class COptionLayout extends Layout_2{constructor(ee,re){super(-1,re),this.layout=ee,this.discriminator=u32$1()}encode(ee,re,ne=0){return ee==null?this.layout.span+this.discriminator.encode(0,re,ne):(this.discriminator.encode(1,re,ne),this.layout.encode(ee,re,ne+4)+4)}decode(ee,re=0){const ne=this.discriminator.decode(ee,re);if(ne===0)return null;if(ne===1)return this.layout.decode(ee,re+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(ee,re=0){return this.layout.getSpan(ee,re+4)+4}}function decodeBool(te){if(te===0)return!1;if(te===1)return!0;throw new Error("Invalid bool: "+te)}function encodeBool(te){return te?1:0}class u64$2 extends BN$f{toBuffer(){const ee=super.toArray().reverse(),re=buffer$2.Buffer.from(ee);if(re.length===8)return re;if(re.length>=8)throw new Error("u64 too large");const ne=buffer$2.Buffer.alloc(8);return re.copy(ne),ne}static fromBuffer(ee){if(ee.length!==8)throw new Error(`Invalid buffer length: ${ee.length}`);return new u64$2([...ee].reverse().map(re=>`00${re.toString(16)}`.slice(-2)).join(""),16)}}class SplTokenAccountsCoder{constructor(ee){this.idl=ee}async encode(ee,re){switch(ee){case"token":{const ne=buffer$2.Buffer.alloc(165),oe=TOKEN_ACCOUNT_LAYOUT.encode(re,ne);return ne.slice(0,oe)}case"mint":{const ne=buffer$2.Buffer.alloc(82),oe=MINT_ACCOUNT_LAYOUT.encode(re,ne);return ne.slice(0,oe)}default:throw new Error(`Invalid account name: ${ee}`)}}decode(ee,re){return this.decodeUnchecked(ee,re)}decodeUnchecked(ee,re){switch(ee){case"token":return decodeTokenAccount(re);case"mint":return decodeMintAccount(re);default:throw new Error(`Invalid account name: ${ee}`)}}memcmp(ee,re){switch(ee){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${ee}`)}}size(ee){var re;return(re=accountSize$1(this.idl,ee))!==null&&re!==void 0?re:0}}function decodeMintAccount(te){return MINT_ACCOUNT_LAYOUT.decode(te)}function decodeTokenAccount(te){return TOKEN_ACCOUNT_LAYOUT.decode(te)}const MINT_ACCOUNT_LAYOUT=struct$2([coption(publicKey$1(),"mintAuthority"),uint64$1("supply"),u8$1("decimals"),bool("isInitialized"),coption(publicKey$1(),"freezeAuthority")]),TOKEN_ACCOUNT_LAYOUT=struct$2([publicKey$1("mint"),publicKey$1("authority"),uint64$1("amount"),coption(publicKey$1(),"delegate"),u8$1("state"),coption(uint64$1(),"isNative"),uint64$1("delegatedAmount"),coption(publicKey$1(),"closeAuthority")]);class SplTokenEventsCoder{constructor(ee){}decode(ee){throw new Error("SPL token program does not have events")}}class SplTokenCoder{constructor(ee){this.instruction=new SplTokenInstructionCoder(ee),this.accounts=new SplTokenAccountsCoder(ee),this.events=new SplTokenEventsCoder(ee),this.state=new SplTokenStateCoder(ee)}}function parseIdlErrors$1(te){const ee=new Map;return te.errors&&te.errors.forEach(re=>{var ne;let oe=(ne=re.msg)!==null&&ne!==void 0?ne:re.name;ee.set(re.code,oe)}),ee}function toInstruction$1(te,...ee){if(te.args.length!=ee.length)throw new Error("Invalid argument length");const re={};let ne=0;return te.args.forEach(oe=>{re[oe.name]=ee[ne],ne+=1}),re}function validateAccounts$1(te,ee={}){te.forEach(re=>{if("accounts"in re)validateAccounts$1(re.accounts,ee[re.name]);else if(ee[re.name]===void 0)throw new Error(`Invalid arguments: ${re.name} not provided.`)})}function translateAddress$1(te){return te instanceof PublicKey?te:new PublicKey(te)}function createWithSeedSync$1(te,ee,re){const ne=buffer$2.Buffer.concat([te.toBuffer(),buffer$2.Buffer.from(ee),re.toBuffer()]),oe=sha256$2.exports.sha256.digest(ne);return new PublicKey(buffer$2.Buffer.from(oe))}function createProgramAddressSync$1(te,ee){let ne=buffer$2.Buffer.alloc(0);te.forEach(function(se){if(se.length>32)throw new TypeError("Max seed length exceeded");ne=buffer$2.Buffer.concat([ne,toBuffer$2(se)])}),ne=buffer$2.Buffer.concat([ne,ee.toBuffer(),buffer$2.Buffer.from("ProgramDerivedAddress")]);let oe=sha256$2.exports.sha256(new Uint8Array(ne)),ie=new BN$f(oe,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(ie)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(ie)}function findProgramAddressSync$1(te,ee){let re=255,ne;for(;re!=0;){try{const oe=te.concat(buffer$2.Buffer.from([re]));ne=createProgramAddressSync$1(oe,ee)}catch(oe){if(oe instanceof TypeError)throw oe;re--;continue}return[ne,re]}throw new Error("Unable to find a viable program address nonce")}const toBuffer$2=te=>te instanceof buffer$2.Buffer?te:te instanceof Uint8Array?buffer$2.Buffer.from(te.buffer,te.byteOffset,te.byteLength):buffer$2.Buffer.from(te);async function associated$1(te,...ee){let re=[buffer$2.Buffer.from([97,110,99,104,111,114])];ee.forEach(oe=>{re.push(oe instanceof buffer$2.Buffer?oe:translateAddress$1(oe).toBuffer())});const[ne]=await PublicKey.findProgramAddress(re,translateAddress$1(te));return ne}function splitArgsAndCtx$1(te,ee){var re,ne;let oe={};const ie=te.args?te.args.length:0;if(ee.length>ie){if(ee.length!==ie+1)throw new Error(`provided too many arguments ${ee} to instruction ${te==null?void 0:te.name} expecting: ${(ne=(re=te.args)===null||re===void 0?void 0:re.map(se=>se.name))!==null&&ne!==void 0?ne:[]}`);oe=ee.pop()}return[ee,oe]}class InstructionNamespaceFactory$1{static build(ee,re,ne){if(ee.name==="_inner")throw new IdlError$1("the _inner name is reserved");const oe=(...ie)=>{const[se,ue]=splitArgsAndCtx$1(ee,[...ie]);validateAccounts$1(ee.accounts,ue.accounts),validateInstruction$1(ee,...ie);const he=oe.accounts(ue.accounts);return ue.remainingAccounts!==void 0&&he.push(...ue.remainingAccounts),isSet$1("debug-logs")&&console.log("Outgoing account metas:",he),new TransactionInstruction({keys:he,programId:ne,data:re(ee.name,toInstruction$1(ee,...se))})};return oe.accounts=ie=>InstructionNamespaceFactory$1.accountsArray(ie,ee.accounts,ee.name),oe}static accountsArray(ee,re,ne){return ee?re.map(oe=>{if(("accounts"in oe?oe.accounts:void 0)!==void 0){const se=ee[oe.name];return InstructionNamespaceFactory$1.accountsArray(se,oe.accounts,ne).flat()}else{const se=oe;let ue;try{ue=translateAddress$1(ee[oe.name])}catch{throw new Error(`Wrong input type for account "${oe.name}" in the instruction accounts object${ne!==void 0?' for instruction "'+ne+'"':""}. Expected PublicKey or string.`)}return{pubkey:ue,isWritable:se.isMut,isSigner:se.isSigner}}}).flat():[]}}function validateInstruction$1(te,...ee){}class RpcFactory$1{static build(ee,re,ne,oe){return async(...se)=>{const ue=re(...se),[,he]=splitArgsAndCtx$1(ee,[...se]);try{return await oe.send(ue,he.signers,he.options)}catch(ge){throw translateError(ge,ne)}}}}class TransactionFactory$1{static build(ee,re){return(...oe)=>{var ie,se,ue;const[,he]=splitArgsAndCtx$1(ee,[...oe]),ge=new Transaction$2;if(he.preInstructions&&he.instructions)throw new Error("instructions is deprecated, use preInstructions");return(ie=he.preInstructions)===null||ie===void 0||ie.forEach(be=>ge.add(be)),(se=he.instructions)===null||se===void 0||se.forEach(be=>ge.add(be)),ge.add(re(...oe)),(ue=he.postInstructions)===null||ue===void 0||ue.forEach(be=>ge.add(be)),ge}}}class StateFactory$1{static build(ee,re,ne,oe){if(ee.state!==void 0)return new StateClient$1(ee,ne,oe,re)}}class StateClient$1{constructor(ee,re,ne=getProvider$1(),oe=new BorshCoder(ee)){this.provider=ne,this.coder=oe,this._idl=ee,this._programId=re,this._address=programStateAddress$1(re),this._sub=null;const[ie,se,ue]=(()=>{var he;let ge={},be={},Se={};return(he=ee.state)===null||he===void 0||he.methods.forEach(Te=>{const ke=InstructionNamespaceFactory$1.build(Te,(Ie,Ne)=>oe.instruction.encodeState(Ie,Ne),re);ke.accounts=Ie=>stateInstructionKeys$1(re,ne,Te,Ie).concat(InstructionNamespaceFactory$1.accountsArray(Ie,Te.accounts,Te.name));const Re=TransactionFactory$1.build(Te,ke),Ce=RpcFactory$1.build(Te,Re,parseIdlErrors$1(ee),ne),Pe=camelCase$1(Te.name);ge[Pe]=ke,be[Pe]=Re,Se[Pe]=Ce}),[ge,be,Se]})();this.instruction=ie,this.transaction=se,this.rpc=ue}get programId(){return this._programId}async fetch(){const ee=this.address(),re=await this.provider.connection.getAccountInfo(ee);if(re===null)throw new Error(`Account does not exist ${ee.toString()}`);const ne=this._idl.state;if(!ne)throw new Error("State is not specified in IDL.");if((await stateDiscriminator$1(ne.struct.name)).compare(re.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(re.data)}address(){return this._address}subscribe(ee){if(this._sub!==null)return this._sub.ee;const re=new EventEmitter$4,ne=this.provider.connection.onAccountChange(this.address(),oe=>{const ie=this.coder.state.decode(oe.data);re.emit("change",ie)},ee);return this._sub={ee:re,listener:ne},re}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function programStateAddress$1(te){let[ee]=findProgramAddressSync$1([],te);return createWithSeedSync$1(ee,"unversioned",te)}function stateInstructionKeys$1(te,ee,re,ne){if(re.name==="new"){const[oe]=findProgramAddressSync$1([],te);return[{pubkey:ee.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:programStateAddress$1(te),isWritable:!0,isSigner:!1},{pubkey:oe,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:te,isWritable:!1,isSigner:!1}]}else return validateAccounts$1(re.accounts,ne),[{pubkey:programStateAddress$1(te),isWritable:!0,isSigner:!1}]}const GET_MULTIPLE_ACCOUNTS_LIMIT=99;async function getMultipleAccounts$1(te,ee,re){if(ee.length<=GET_MULTIPLE_ACCOUNTS_LIMIT)return await getMultipleAccountsCore(te,ee,re);{const ne=chunks(ee,GET_MULTIPLE_ACCOUNTS_LIMIT);return(await Promise.all(ne.map(ie=>getMultipleAccountsCore(te,ie,re)))).flat()}}async function getMultipleAccountsCore(te,ee,re){const ne=re!=null?re:te.commitment,oe=[ee.map(ue=>ue.toBase58())];ne&&oe.push({commitment:ne});const ie=await te._rpcRequest("getMultipleAccounts",oe);if(ie.error)throw new Error("failed to get info about accounts "+ee.map(ue=>ue.toBase58()).join(", ")+": "+ie.error.message);assert$k(typeof ie.result!="undefined");const se=[];for(const ue of ie.result.value){let he=null;if(ue===null){se.push(null);continue}if(ie.result.value){const{executable:ge,owner:be,lamports:Se,data:Te}=ue;assert$k(Te[1]==="base64"),he={executable:ge,owner:new PublicKey(be),lamports:Se,data:buffer$2.Buffer.from(Te[0],"base64")}}if(he===null)throw new Error("Invalid response");se.push(he)}return se.map((ue,he)=>ue===null?null:{publicKey:ee[he],account:ue})}class AccountFactory$1{static build(ee,re,ne,oe){var ie;const se={};return(ie=ee.accounts)===null||ie===void 0||ie.forEach(ue=>{const he=camelCase$1(ue.name);se[he]=new AccountClient$1(ee,ue,ne,oe,re)}),se}}class AccountClient$1{constructor(ee,re,ne,oe,ie){this._idlAccount=re,this._programId=ne,this._provider=oe!=null?oe:getProvider$1(),this._coder=ie!=null?ie:new BorshCoder(ee),this._size=this._coder.accounts.size(re)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(ee,re){const ne=await this.getAccountInfo(ee,re);return ne===null?null:this._coder.accounts.decode(this._idlAccount.name,ne.data)}async fetch(ee,re){const ne=await this.fetchNullable(ee,re);if(ne===null)throw new Error(`Account does not exist ${ee.toString()}`);return ne}async fetchMultiple(ee,re){return(await getMultipleAccounts$1(this._provider.connection,ee.map(oe=>translateAddress$1(oe)),re)).map(oe=>oe==null?null:this._coder.accounts.decode(this._idlAccount.name,oe==null?void 0:oe.account.data))}async all(ee){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,ee instanceof buffer$2.Buffer?ee:void 0)},...Array.isArray(ee)?ee:[]]})).map(({pubkey:ne,account:oe})=>({publicKey:ne,account:this._coder.accounts.decode(this._idlAccount.name,oe.data)}))}subscribe(ee,re){const ne=subscriptions$2.get(ee.toString());if(ne)return ne.ee;const oe=new EventEmitter$4;ee=translateAddress$1(ee);const ie=this._provider.connection.onAccountChange(ee,se=>{const ue=this._coder.accounts.decode(this._idlAccount.name,se.data);oe.emit("change",ue)},re);return subscriptions$2.set(ee.toString(),{ee:oe,listener:ie}),oe}async unsubscribe(ee){let re=subscriptions$2.get(ee.toString());if(!re){console.warn("Address is not subscribed");return}subscriptions$2&&await this._provider.connection.removeAccountChangeListener(re.listener).then(()=>{subscriptions$2.delete(ee.toString())}).catch(console.error)}async createInstruction(ee,re){const ne=this.size;return SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:ee.publicKey,space:re!=null?re:ne,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(re!=null?re:ne),programId:this._programId})}async associated(...ee){const re=await this.associatedAddress(...ee);return await this.fetch(re)}async associatedAddress(...ee){return await associated$1(this._programId,...ee)}async getAccountInfo(ee,re){return await this._provider.connection.getAccountInfo(translateAddress$1(ee),re)}}const subscriptions$2=new Map,PROGRAM_LOG="Program log: ",PROGRAM_DATA="Program data: ",PROGRAM_LOG_START_INDEX=PROGRAM_LOG.length,PROGRAM_DATA_START_INDEX=PROGRAM_DATA.length;class EventManager$1{constructor(ee,re,ne){this._programId=ee,this._provider=re,this._eventParser=new EventParser$1(ee,ne),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(ee,re){var ne;let oe=this._listenerIdCount;return this._listenerIdCount+=1,ee in this._eventCallbacks||this._eventListeners.set(ee,[]),this._eventListeners.set(ee,((ne=this._eventListeners.get(ee))!==null&&ne!==void 0?ne:[]).concat(oe)),this._eventCallbacks.set(oe,[ee,re]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(ie,se)=>{ie.err||this._eventParser.parseLogs(ie.logs,ue=>{const he=this._eventListeners.get(ue.name);he&&he.forEach(ge=>{const be=this._eventCallbacks.get(ge);if(be){const[,Se]=be;Se(ue.data,se.slot)}})})})),oe}async removeEventListener(ee){const re=this._eventCallbacks.get(ee);if(!re)throw new Error(`Event listener ${ee} doesn't exist!`);const[ne]=re;let oe=this._eventListeners.get(ne);if(!oe)throw new Error(`Event listeners don't exist for ${ne}!`);this._eventCallbacks.delete(ee),oe=oe.filter(ie=>ie!==ee),oe.length===0&&this._eventListeners.delete(ne),this._eventCallbacks.size==0&&((void 0)(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class EventParser$1{constructor(ee,re){this.coder=re,this.programId=ee}parseLogs(ee,re){const ne=new LogScanner$1(ee),oe=new ExecutionContext$1(ne.next());let ie=ne.next();for(;ie!==null;){let[se,ue,he]=this.handleLog(oe,ie);se&&re(se),ue&&oe.push(ue),he&&oe.pop(),ie=ne.next()}}handleLog(ee,re){return ee.stack.length>0&&ee.program()===this.programId.toString()?this.handleProgramLog(re):[null,...this.handleSystemLog(re)]}handleProgramLog(ee){if(ee.startsWith(PROGRAM_LOG)||ee.startsWith(PROGRAM_DATA)){const re=ee.startsWith(PROGRAM_LOG)?ee.slice(PROGRAM_LOG_START_INDEX):ee.slice(PROGRAM_DATA_START_INDEX);return[this.coder.events.decode(re),null,!1]}else return[null,...this.handleSystemLog(ee)]}handleSystemLog(ee){const re=ee.split(":")[0];return re.match(/^Program (.*) success/g)!==null?[null,!0]:re.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:re.includes("invoke")?["cpi",!1]:[null,!1]}}class ExecutionContext$1{constructor(ee){var re;const ne=(re=/^Program (.*) invoke.*$/g.exec(ee))===null||re===void 0?void 0:re[1];if(!ne)throw new Error("Could not find program invocation log line");this.stack=[ne]}program(){return(void 0)(this.stack.length>0),this.stack[this.stack.length-1]}push(ee){this.stack.push(ee)}pop(){(void 0)(this.stack.length>0),this.stack.pop()}}class LogScanner$1{constructor(ee){this.logs=ee}next(){if(this.logs.length===0)return null;let ee=this.logs[0];return this.logs=this.logs.slice(1),ee}}class SimulateFactory$1{static build(ee,re,ne,oe,ie,se,ue){return async(...ge)=>{const be=re(...ge),[,Se]=splitArgsAndCtx$1(ee,[...ge]);let Te;try{Te=await oe.simulate(be,Se.signers,Se.options)}catch(Ce){throw translateError(Ce,ne)}if(Te===void 0)throw new Error("Unable to simulate transaction");if(Te.value.err)throw new Error(`Simulate error: ${Te.value.err.toString()}`);const ke=Te.value.logs;if(!ke)throw new Error("Simulated logs not found");const Re=[];return ue.events&&new EventParser$1(se,ie).parseLogs(ke,Pe=>{Re.push(Pe)}),{events:Re,raw:ke}}}}const TOKEN_PROGRAM_ID$2=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_PROGRAM_ID$1=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function coder(){return new SplTokenCoder(IDL)}const IDL={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class AccountsResolver{constructor(ee,re,ne,oe,ie,se){this._args=ee,this._accounts=re,this._provider=ne,this._programId=oe,this._idlIx=ie,this._accountStore=new AccountStore(ne,se)}async resolve(){for(let ee=0;ee<this._idlIx.accounts.length;ee+=1){const re=this._idlIx.accounts[ee],ne=camelCase$1(re.name);if(re.pda&&re.pda.seeds.length>0&&!this._accounts[ne]){await this.autoPopulatePda(re);continue}if(re.isSigner&&!this._accounts[ne]){this._accounts[ne]=this._provider.wallet.publicKey;continue}Reflect.has(AccountsResolver.CONST_ACCOUNTS,ne)&&!this._accounts[ne]&&(this._accounts[ne]=AccountsResolver.CONST_ACCOUNTS[ne])}}async autoPopulatePda(ee){if(!ee.pda||!ee.pda.seeds)throw new Error("Must have seeds");const re=await Promise.all(ee.pda.seeds.map(ie=>this.toBuffer(ie))),ne=await this.parseProgramId(ee),[oe]=await PublicKey.findProgramAddress(re,ne);this._accounts[camelCase$1(ee.name)]=oe}async parseProgramId(ee){var re;if(!(!((re=ee.pda)===null||re===void 0)&&re.programId))return this._programId;switch(ee.pda.programId.kind){case"const":return new PublicKey(this.toBufferConst(ee.pda.programId.value));case"arg":return this.argValue(ee.pda.programId);case"account":return await this.accountValue(ee.pda.programId);default:throw new Error(`Unexpected program seed kind: ${ee.pda.programId.kind}`)}}async toBuffer(ee){switch(ee.kind){case"const":return this.toBufferConst(ee);case"arg":return await this.toBufferArg(ee);case"account":return await this.toBufferAccount(ee);default:throw new Error(`Unexpected seed kind: ${ee.kind}`)}}toBufferConst(ee){return this.toBufferValue(ee.type,ee.value)}async toBufferArg(ee){const re=this.argValue(ee);return this.toBufferValue(ee.type,re)}argValue(ee){const re=camelCase$1(ee.path.split(".")[0]),ne=this._idlIx.args.findIndex(oe=>oe.name===re);if(ne===-1)throw new Error(`Unable to find argument for seed: ${re}`);return this._args[ne]}async toBufferAccount(ee){const re=await this.accountValue(ee);return this.toBufferValue(ee.type,re)}async accountValue(ee){const re=ee.path.split("."),ne=re[0],oe=this._accounts[camelCase$1(ne)];if(re.length===1)return oe;const ie=await this._accountStore.fetchAccount(ee.account,oe);return this.parseAccountValue(ie,re.slice(1))}parseAccountValue(ee,re){let ne;for(;re.length>0;)ne=ee[camelCase$1(re[0])],re=re.slice(1);return ne}toBufferValue(ee,re){switch(ee){case"u8":return buffer$2.Buffer.from([re]);case"u16":let ne=buffer$2.Buffer.alloc(2);return ne.writeUInt16LE(re),ne;case"u32":let oe=buffer$2.Buffer.alloc(4);return oe.writeUInt32LE(re),oe;case"u64":let ie=buffer$2.Buffer.alloc(8);return ie.writeBigUInt64LE(BigInt(re)),ie;case"string":return buffer$2.Buffer.from(encode$7(re));case"publicKey":return re.toBuffer();default:if(ee.array)return buffer$2.Buffer.from(re);throw new Error(`Unexpected seed type: ${ee}`)}}}AccountsResolver.CONST_ACCOUNTS={systemProgram:SystemProgram.programId,tokenProgram:TOKEN_PROGRAM_ID$2,associatedTokenProgram:ASSOCIATED_PROGRAM_ID$1,rent:SYSVAR_RENT_PUBKEY};class AccountStore{constructor(ee,re){this._provider=ee,this._accounts=re,this._cache=new Map}async fetchAccount(ee,re){const ne=re.toString();if(!this._cache.has(ne))if(ee==="TokenAccount"){const oe=await this._provider.connection.getAccountInfo(re);if(oe===null)throw new Error(`invalid account info for ${ne}`);const ie=coder().accounts.decode("token",oe.data);this._cache.set(ne,ie)}else{const oe=this._accounts[camelCase$1(ee)].fetch(re);this._cache.set(ne,oe)}return this._cache.get(ne)}}class MethodsBuilderFactory{static build(ee,re,ne,oe,ie,se,ue,he){return(...ge)=>new MethodsBuilder(ge,oe,ie,se,ue,ee,re,ne,he)}}class MethodsBuilder{constructor(ee,re,ne,oe,ie,se,ue,he,ge){this._args=ee,this._ixFn=re,this._txFn=ne,this._rpcFn=oe,this._simulateFn=ie,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new AccountsResolver(ee,this._accounts,se,ue,he,ge)}accounts(ee){return Object.assign(this._accounts,ee),this}signers(ee){return this._signers=this._signers.concat(ee),this}remainingAccounts(ee){return this._remainingAccounts=this._remainingAccounts.concat(ee),this}preInstructions(ee){return this._preInstructions=this._preInstructions.concat(ee),this}postInstructions(ee){return this._postInstructions=this._postInstructions.concat(ee),this}async rpc(ee){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:ee})}async simulate(ee){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:ee})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class NamespaceFactory$1{static build(ee,re,ne,oe){const ie={},se={},ue={},he={},ge={},be=parseIdlErrors$1(ee),Se=ee.accounts?AccountFactory$1.build(ee,re,ne,oe):{},Te=StateFactory$1.build(ee,re,ne,oe);return ee.instructions.forEach(ke=>{const Re=InstructionNamespaceFactory$1.build(ke,(Ke,Ge)=>re.instruction.encode(Ke,Ge),ne),Ce=TransactionFactory$1.build(ke,Re),Pe=RpcFactory$1.build(ke,Ce,be,oe),Ie=SimulateFactory$1.build(ke,Ce,be,oe,re,ne,ee),Ne=MethodsBuilderFactory.build(oe,ne,ke,Re,Ce,Pe,Ie,Se),He=camelCase$1(ke.name);se[He]=Re,ue[He]=Ce,ie[He]=Pe,he[He]=Ie,ge[He]=Ne}),[ie,se,ue,Se,he,ge,Te]}}class Program$1{constructor(ee,re,ne,oe){re=translateAddress$1(re),ne||(ne=getProvider$1()),this._idl=ee,this._provider=ne,this._programId=re,this._coder=oe!=null?oe:new BorshCoder(ee),this._events=new EventManager$1(this._programId,ne,this._coder);const[ie,se,ue,he,ge,be,Se]=NamespaceFactory$1.build(ee,this._coder,re,ne);this.rpc=ie,this.instruction=se,this.transaction=ue,this.account=he,this.simulate=ge,this.methods=be,this.state=Se}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(ee,re){const ne=translateAddress$1(ee),oe=await Program$1.fetchIdl(ne,re);if(!oe)throw new Error(`IDL not found for program: ${ee.toString()}`);return new Program$1(oe,ne,re)}static async fetchIdl(ee,re){re=re!=null?re:getProvider$1();const ne=translateAddress$1(ee),oe=await idlAddress$1(ne),ie=await re.connection.getAccountInfo(oe);if(!ie)return null;let se=decodeIdlAccount$1(ie.data.slice(8));const ue=inflate_1(se.data);return JSON.parse(decode$6(ue))}addEventListener(ee,re){return this._events.addEventListener(ee,re)}async removeEventListener(ee){return await this._events.removeEventListener(ee)}}let _populatedWorkspace$1=!1;const workspace$1=new Proxy({},{get(te,ee){if(isBrowser$3)throw new Error("Workspaces aren't available in the browser");const re=require$$3$1,ne=browser$7.exports;if(!_populatedWorkspace$1){const oe=require$$3$1;let ie=ne.cwd();for(;!re.existsSync(oe.join(ie,"Anchor.toml"));){const be=oe.dirname(ie);be===ie&&(ie=void 0),ie=be}if(ie===void 0)throw new Error("Could not find workspace root.");const se=`${ie}/target/idl`;if(!re.existsSync(se))throw new Error(`${se} doesn't exist. Did you use "anchor build"?`);const ue=new Map;re.readdirSync(se).filter(be=>be.endsWith(".json")).forEach(be=>{const Se=`${se}/${be}`,Te=re.readFileSync(Se),ke=JSON.parse(Te);ue.set(ke.name,ke);const Re=camelCase$1(ke.name,{pascalCase:!0});ke.metadata&&ke.metadata.address&&(te[Re]=new Program$1(ke,new PublicKey(ke.metadata.address)))});const he=toml.parse(re.readFileSync(oe.join(ie,"Anchor.toml"),"utf-8")),ge=he.provider.cluster;he.programs&&he.programs[ge]&&attachWorkspaceOverride$1(te,he.programs[ge],ue),_populatedWorkspace$1=!0}return te[ee]}});function attachWorkspaceOverride$1(te,ee,re){Object.keys(ee).forEach(ne=>{const oe=camelCase$1(ne,{pascalCase:!0}),ie=ee[ne],se=new PublicKey(typeof ie=="string"?ie:ie.address);let ue=re.get(ne);if(typeof ie!="string"&&ie.idl&&(ue=JSON.parse(require$$3$1.readFileSync(ie.idl,"utf-8"))),!ue)throw new Error(`Error loading workspace IDL for ${ne}`);te[oe]=new Program$1(ue,se)})}var workspace$2=Object.freeze(Object.defineProperty({__proto__:null,default:workspace$1},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(workspace$2),browserPonyfill={exports:{}};(function(te,ee){var re=function(){function oe(){this.fetch=!1,this.DOMException=globalThis.DOMException}return oe.prototype=globalThis,new oe}();(function(oe){(function(ie){var se={searchParams:"URLSearchParams"in oe,iterable:"Symbol"in oe&&"iterator"in Symbol,blob:"FileReader"in oe&&"Blob"in oe&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in oe,arrayBuffer:"ArrayBuffer"in oe};function ue(ce){return ce&&DataView.prototype.isPrototypeOf(ce)}if(se.arrayBuffer)var he=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ge=ArrayBuffer.isView||function(ce){return ce&&he.indexOf(Object.prototype.toString.call(ce))>-1};function be(ce){if(typeof ce!="string"&&(ce=String(ce)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ce))throw new TypeError("Invalid character in header field name");return ce.toLowerCase()}function Se(ce){return typeof ce!="string"&&(ce=String(ce)),ce}function Te(ce){var le={next:function(){var pe=ce.shift();return{done:pe===void 0,value:pe}}};return se.iterable&&(le[Symbol.iterator]=function(){return le}),le}function ke(ce){this.map={},ce instanceof ke?ce.forEach(function(le,pe){this.append(pe,le)},this):Array.isArray(ce)?ce.forEach(function(le){this.append(le[0],le[1])},this):ce&&Object.getOwnPropertyNames(ce).forEach(function(le){this.append(le,ce[le])},this)}ke.prototype.append=function(ce,le){ce=be(ce),le=Se(le);var pe=this.map[ce];this.map[ce]=pe?pe+", "+le:le},ke.prototype.delete=function(ce){delete this.map[be(ce)]},ke.prototype.get=function(ce){return ce=be(ce),this.has(ce)?this.map[ce]:null},ke.prototype.has=function(ce){return this.map.hasOwnProperty(be(ce))},ke.prototype.set=function(ce,le){this.map[be(ce)]=Se(le)},ke.prototype.forEach=function(ce,le){for(var pe in this.map)this.map.hasOwnProperty(pe)&&ce.call(le,this.map[pe],pe,this)},ke.prototype.keys=function(){var ce=[];return this.forEach(function(le,pe){ce.push(pe)}),Te(ce)},ke.prototype.values=function(){var ce=[];return this.forEach(function(le){ce.push(le)}),Te(ce)},ke.prototype.entries=function(){var ce=[];return this.forEach(function(le,pe){ce.push([pe,le])}),Te(ce)},se.iterable&&(ke.prototype[Symbol.iterator]=ke.prototype.entries);function Re(ce){if(ce.bodyUsed)return Promise.reject(new TypeError("Already read"));ce.bodyUsed=!0}function Ce(ce){return new Promise(function(le,pe){ce.onload=function(){le(ce.result)},ce.onerror=function(){pe(ce.error)}})}function Pe(ce){var le=new FileReader,pe=Ce(le);return le.readAsArrayBuffer(ce),pe}function Ie(ce){var le=new FileReader,pe=Ce(le);return le.readAsText(ce),pe}function Ne(ce){for(var le=new Uint8Array(ce),pe=new Array(le.length),_e=0;_e<le.length;_e++)pe[_e]=String.fromCharCode(le[_e]);return pe.join("")}function He(ce){if(ce.slice)return ce.slice(0);var le=new Uint8Array(ce.byteLength);return le.set(new Uint8Array(ce)),le.buffer}function Ke(){return this.bodyUsed=!1,this._initBody=function(ce){this._bodyInit=ce,ce?typeof ce=="string"?this._bodyText=ce:se.blob&&Blob.prototype.isPrototypeOf(ce)?this._bodyBlob=ce:se.formData&&FormData.prototype.isPrototypeOf(ce)?this._bodyFormData=ce:se.searchParams&&URLSearchParams.prototype.isPrototypeOf(ce)?this._bodyText=ce.toString():se.arrayBuffer&&se.blob&&ue(ce)?(this._bodyArrayBuffer=He(ce.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):se.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ce)||ge(ce))?this._bodyArrayBuffer=He(ce):this._bodyText=ce=Object.prototype.toString.call(ce):this._bodyText="",this.headers.get("content-type")||(typeof ce=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):se.searchParams&&URLSearchParams.prototype.isPrototypeOf(ce)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},se.blob&&(this.blob=function(){var ce=Re(this);if(ce)return ce;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Re(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Pe)}),this.text=function(){var ce=Re(this);if(ce)return ce;if(this._bodyBlob)return Ie(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ne(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},se.formData&&(this.formData=function(){return this.text().then(nt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ge=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ut(ce){var le=ce.toUpperCase();return Ge.indexOf(le)>-1?le:ce}function Ve(ce,le){le=le||{};var pe=le.body;if(ce instanceof Ve){if(ce.bodyUsed)throw new TypeError("Already read");this.url=ce.url,this.credentials=ce.credentials,le.headers||(this.headers=new ke(ce.headers)),this.method=ce.method,this.mode=ce.mode,this.signal=ce.signal,!pe&&ce._bodyInit!=null&&(pe=ce._bodyInit,ce.bodyUsed=!0)}else this.url=String(ce);if(this.credentials=le.credentials||this.credentials||"same-origin",(le.headers||!this.headers)&&(this.headers=new ke(le.headers)),this.method=ut(le.method||this.method||"GET"),this.mode=le.mode||this.mode||null,this.signal=le.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&pe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(pe)}Ve.prototype.clone=function(){return new Ve(this,{body:this._bodyInit})};function nt(ce){var le=new FormData;return ce.trim().split("&").forEach(function(pe){if(pe){var _e=pe.split("="),$e=_e.shift().replace(/\+/g," "),Ee=_e.join("=").replace(/\+/g," ");le.append(decodeURIComponent($e),decodeURIComponent(Ee))}}),le}function st(ce){var le=new ke,pe=ce.replace(/\r?\n[\t ]+/g," ");return pe.split(/\r?\n/).forEach(function(_e){var $e=_e.split(":"),Ee=$e.shift().trim();if(Ee){var me=$e.join(":").trim();le.append(Ee,me)}}),le}Ke.call(Ve.prototype);function qe(ce,le){le||(le={}),this.type="default",this.status=le.status===void 0?200:le.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in le?le.statusText:"OK",this.headers=new ke(le.headers),this.url=le.url||"",this._initBody(ce)}Ke.call(qe.prototype),qe.prototype.clone=function(){return new qe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ke(this.headers),url:this.url})},qe.error=function(){var ce=new qe(null,{status:0,statusText:""});return ce.type="error",ce};var ye=[301,302,303,307,308];qe.redirect=function(ce,le){if(ye.indexOf(le)===-1)throw new RangeError("Invalid status code");return new qe(null,{status:le,headers:{location:ce}})},ie.DOMException=oe.DOMException;try{new ie.DOMException}catch{ie.DOMException=function(le,pe){this.message=le,this.name=pe;var _e=Error(le);this.stack=_e.stack},ie.DOMException.prototype=Object.create(Error.prototype),ie.DOMException.prototype.constructor=ie.DOMException}function ae(ce,le){return new Promise(function(pe,_e){var $e=new Ve(ce,le);if($e.signal&&$e.signal.aborted)return _e(new ie.DOMException("Aborted","AbortError"));var Ee=new XMLHttpRequest;function me(){Ee.abort()}Ee.onload=function(){var fe={status:Ee.status,statusText:Ee.statusText,headers:st(Ee.getAllResponseHeaders()||"")};fe.url="responseURL"in Ee?Ee.responseURL:fe.headers.get("X-Request-URL");var we="response"in Ee?Ee.response:Ee.responseText;pe(new qe(we,fe))},Ee.onerror=function(){_e(new TypeError("Network request failed"))},Ee.ontimeout=function(){_e(new TypeError("Network request failed"))},Ee.onabort=function(){_e(new ie.DOMException("Aborted","AbortError"))},Ee.open($e.method,$e.url,!0),$e.credentials==="include"?Ee.withCredentials=!0:$e.credentials==="omit"&&(Ee.withCredentials=!1),"responseType"in Ee&&se.blob&&(Ee.responseType="blob"),$e.headers.forEach(function(fe,we){Ee.setRequestHeader(we,fe)}),$e.signal&&($e.signal.addEventListener("abort",me),Ee.onreadystatechange=function(){Ee.readyState===4&&$e.signal.removeEventListener("abort",me)}),Ee.send(typeof $e._bodyInit=="undefined"?null:$e._bodyInit)})}return ae.polyfill=!0,oe.fetch||(oe.fetch=ae,oe.Headers=ke,oe.Request=Ve,oe.Response=qe),ie.Headers=ke,ie.Request=Ve,ie.Response=qe,ie.fetch=ae,Object.defineProperty(ie,"__esModule",{value:!0}),ie})({})})(re),re.fetch.ponyfill=!0,delete re.fetch.polyfill;var ne=re;ee=ne.fetch,ee.default=ne.fetch,ee.fetch=ne.fetch,ee.Headers=ne.Headers,ee.Request=ne.Request,ee.Response=ne.Response,te.exports=ee})(browserPonyfill,browserPonyfill.exports);lib$5.rustEnum([lib$5.struct([],"uninitialized"),lib$5.struct([lib$5.option(lib$5.publicKey(),"authorityAddress")],"buffer"),lib$5.struct([lib$5.publicKey("programdataAddress")],"program"),lib$5.struct([lib$5.u64("slot"),lib$5.option(lib$5.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lib$5.u32());isBrowser$3||(exports.workspace=require$$0$3.default,exports.Wallet=require$$1$4.default);var lib$4={};function _defineProperty$3(te,ee,re){return ee in te?Object.defineProperty(te,ee,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[ee]=re,te}var buffer$1={},base64Js={};base64Js.byteLength=byteLength$1;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len=code.length;i$2<len;++i$2)lookup[i$2]=code[i$2],revLookup[code.charCodeAt(i$2)]=i$2;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(te){var ee=te.length;if(ee%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=te.indexOf("=");re===-1&&(re=ee);var ne=re===ee?0:4-re%4;return[re,ne]}function byteLength$1(te){var ee=getLens(te),re=ee[0],ne=ee[1];return(re+ne)*3/4-ne}function _byteLength(te,ee,re){return(ee+re)*3/4-re}function toByteArray(te){var ee,re=getLens(te),ne=re[0],oe=re[1],ie=new Arr(_byteLength(te,ne,oe)),se=0,ue=oe>0?ne-4:ne,he;for(he=0;he<ue;he+=4)ee=revLookup[te.charCodeAt(he)]<<18|revLookup[te.charCodeAt(he+1)]<<12|revLookup[te.charCodeAt(he+2)]<<6|revLookup[te.charCodeAt(he+3)],ie[se++]=ee>>16&255,ie[se++]=ee>>8&255,ie[se++]=ee&255;return oe===2&&(ee=revLookup[te.charCodeAt(he)]<<2|revLookup[te.charCodeAt(he+1)]>>4,ie[se++]=ee&255),oe===1&&(ee=revLookup[te.charCodeAt(he)]<<10|revLookup[te.charCodeAt(he+1)]<<4|revLookup[te.charCodeAt(he+2)]>>2,ie[se++]=ee>>8&255,ie[se++]=ee&255),ie}function tripletToBase64(te){return lookup[te>>18&63]+lookup[te>>12&63]+lookup[te>>6&63]+lookup[te&63]}function encodeChunk(te,ee,re){for(var ne,oe=[],ie=ee;ie<re;ie+=3)ne=(te[ie]<<16&16711680)+(te[ie+1]<<8&65280)+(te[ie+2]&255),oe.push(tripletToBase64(ne));return oe.join("")}function fromByteArray(te){for(var ee,re=te.length,ne=re%3,oe=[],ie=16383,se=0,ue=re-ne;se<ue;se+=ie)oe.push(encodeChunk(te,se,se+ie>ue?ue:se+ie));return ne===1?(ee=te[re-1],oe.push(lookup[ee>>2]+lookup[ee<<4&63]+"==")):ne===2&&(ee=(te[re-2]<<8)+te[re-1],oe.push(lookup[ee>>10]+lookup[ee>>4&63]+lookup[ee<<2&63]+"=")),oe.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(te,ee,re,ne,oe){var ie,se,ue=oe*8-ne-1,he=(1<<ue)-1,ge=he>>1,be=-7,Se=re?oe-1:0,Te=re?-1:1,ke=te[ee+Se];for(Se+=Te,ie=ke&(1<<-be)-1,ke>>=-be,be+=ue;be>0;ie=ie*256+te[ee+Se],Se+=Te,be-=8);for(se=ie&(1<<-be)-1,ie>>=-be,be+=ne;be>0;se=se*256+te[ee+Se],Se+=Te,be-=8);if(ie===0)ie=1-ge;else{if(ie===he)return se?NaN:(ke?-1:1)*(1/0);se=se+Math.pow(2,ne),ie=ie-ge}return(ke?-1:1)*se*Math.pow(2,ie-ne)};ieee754.write=function(te,ee,re,ne,oe,ie){var se,ue,he,ge=ie*8-oe-1,be=(1<<ge)-1,Se=be>>1,Te=oe===23?Math.pow(2,-24)-Math.pow(2,-77):0,ke=ne?0:ie-1,Re=ne?1:-1,Ce=ee<0||ee===0&&1/ee<0?1:0;for(ee=Math.abs(ee),isNaN(ee)||ee===1/0?(ue=isNaN(ee)?1:0,se=be):(se=Math.floor(Math.log(ee)/Math.LN2),ee*(he=Math.pow(2,-se))<1&&(se--,he*=2),se+Se>=1?ee+=Te/he:ee+=Te*Math.pow(2,1-Se),ee*he>=2&&(se++,he/=2),se+Se>=be?(ue=0,se=be):se+Se>=1?(ue=(ee*he-1)*Math.pow(2,oe),se=se+Se):(ue=ee*Math.pow(2,Se-1)*Math.pow(2,oe),se=0));oe>=8;te[re+ke]=ue&255,ke+=Re,ue/=256,oe-=8);for(se=se<<oe|ue,ge+=oe;ge>0;te[re+ke]=se&255,ke+=Re,se/=256,ge-=8);te[re+ke-Re]|=Ce*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(te){const ee=base64Js,re=ieee754,ne=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;te.Buffer=ue,te.SlowBuffer=Ne,te.INSPECT_MAX_BYTES=50;const oe=2147483647;te.kMaxLength=oe,ue.TYPED_ARRAY_SUPPORT=ie(),!ue.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ie(){try{const Ae=new Uint8Array(1),ve={foo:function(){return 42}};return Object.setPrototypeOf(ve,Uint8Array.prototype),Object.setPrototypeOf(Ae,ve),Ae.foo()===42}catch{return!1}}Object.defineProperty(ue.prototype,"parent",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.buffer}}),Object.defineProperty(ue.prototype,"offset",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.byteOffset}});function se(Ae){if(Ae>oe)throw new RangeError('The value "'+Ae+'" is invalid for option "size"');const ve=new Uint8Array(Ae);return Object.setPrototypeOf(ve,ue.prototype),ve}function ue(Ae,ve,xe){if(typeof Ae=="number"){if(typeof ve=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Se(Ae)}return he(Ae,ve,xe)}ue.poolSize=8192;function he(Ae,ve,xe){if(typeof Ae=="string")return Te(Ae,ve);if(ArrayBuffer.isView(Ae))return Re(Ae);if(Ae==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ae);if(mt(Ae,ArrayBuffer)||Ae&&mt(Ae.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(mt(Ae,SharedArrayBuffer)||Ae&&mt(Ae.buffer,SharedArrayBuffer)))return Ce(Ae,ve,xe);if(typeof Ae=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Be=Ae.valueOf&&Ae.valueOf();if(Be!=null&&Be!==Ae)return ue.from(Be,ve,xe);const We=Pe(Ae);if(We)return We;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof Ae[Symbol.toPrimitive]=="function")return ue.from(Ae[Symbol.toPrimitive]("string"),ve,xe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ae)}ue.from=function(Ae,ve,xe){return he(Ae,ve,xe)},Object.setPrototypeOf(ue.prototype,Uint8Array.prototype),Object.setPrototypeOf(ue,Uint8Array);function ge(Ae){if(typeof Ae!="number")throw new TypeError('"size" argument must be of type number');if(Ae<0)throw new RangeError('The value "'+Ae+'" is invalid for option "size"')}function be(Ae,ve,xe){return ge(Ae),Ae<=0?se(Ae):ve!==void 0?typeof xe=="string"?se(Ae).fill(ve,xe):se(Ae).fill(ve):se(Ae)}ue.alloc=function(Ae,ve,xe){return be(Ae,ve,xe)};function Se(Ae){return ge(Ae),se(Ae<0?0:Ie(Ae)|0)}ue.allocUnsafe=function(Ae){return Se(Ae)},ue.allocUnsafeSlow=function(Ae){return Se(Ae)};function Te(Ae,ve){if((typeof ve!="string"||ve==="")&&(ve="utf8"),!ue.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);const xe=He(Ae,ve)|0;let Be=se(xe);const We=Be.write(Ae,ve);return We!==xe&&(Be=Be.slice(0,We)),Be}function ke(Ae){const ve=Ae.length<0?0:Ie(Ae.length)|0,xe=se(ve);for(let Be=0;Be<ve;Be+=1)xe[Be]=Ae[Be]&255;return xe}function Re(Ae){if(mt(Ae,Uint8Array)){const ve=new Uint8Array(Ae);return Ce(ve.buffer,ve.byteOffset,ve.byteLength)}return ke(Ae)}function Ce(Ae,ve,xe){if(ve<0||Ae.byteLength<ve)throw new RangeError('"offset" is outside of buffer bounds');if(Ae.byteLength<ve+(xe||0))throw new RangeError('"length" is outside of buffer bounds');let Be;return ve===void 0&&xe===void 0?Be=new Uint8Array(Ae):xe===void 0?Be=new Uint8Array(Ae,ve):Be=new Uint8Array(Ae,ve,xe),Object.setPrototypeOf(Be,ue.prototype),Be}function Pe(Ae){if(ue.isBuffer(Ae)){const ve=Ie(Ae.length)|0,xe=se(ve);return xe.length===0||Ae.copy(xe,0,0,ve),xe}if(Ae.length!==void 0)return typeof Ae.length!="number"||Lt(Ae.length)?se(0):ke(Ae);if(Ae.type==="Buffer"&&Array.isArray(Ae.data))return ke(Ae.data)}function Ie(Ae){if(Ae>=oe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+oe.toString(16)+" bytes");return Ae|0}function Ne(Ae){return+Ae!=Ae&&(Ae=0),ue.alloc(+Ae)}ue.isBuffer=function(ve){return ve!=null&&ve._isBuffer===!0&&ve!==ue.prototype},ue.compare=function(ve,xe){if(mt(ve,Uint8Array)&&(ve=ue.from(ve,ve.offset,ve.byteLength)),mt(xe,Uint8Array)&&(xe=ue.from(xe,xe.offset,xe.byteLength)),!ue.isBuffer(ve)||!ue.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ve===xe)return 0;let Be=ve.length,We=xe.length;for(let et=0,Xe=Math.min(Be,We);et<Xe;++et)if(ve[et]!==xe[et]){Be=ve[et],We=xe[et];break}return Be<We?-1:We<Be?1:0},ue.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ue.concat=function(ve,xe){if(!Array.isArray(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(ve.length===0)return ue.alloc(0);let Be;if(xe===void 0)for(xe=0,Be=0;Be<ve.length;++Be)xe+=ve[Be].length;const We=ue.allocUnsafe(xe);let et=0;for(Be=0;Be<ve.length;++Be){let Xe=ve[Be];if(mt(Xe,Uint8Array))et+Xe.length>We.length?(ue.isBuffer(Xe)||(Xe=ue.from(Xe)),Xe.copy(We,et)):Uint8Array.prototype.set.call(We,Xe,et);else if(ue.isBuffer(Xe))Xe.copy(We,et);else throw new TypeError('"list" argument must be an Array of Buffers');et+=Xe.length}return We};function He(Ae,ve){if(ue.isBuffer(Ae))return Ae.length;if(ArrayBuffer.isView(Ae)||mt(Ae,ArrayBuffer))return Ae.byteLength;if(typeof Ae!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ae);const xe=Ae.length,Be=arguments.length>2&&arguments[2]===!0;if(!Be&&xe===0)return 0;let We=!1;for(;;)switch(ve){case"ascii":case"latin1":case"binary":return xe;case"utf8":case"utf-8":return ze(Ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe*2;case"hex":return xe>>>1;case"base64":return yt(Ae).length;default:if(We)return Be?-1:ze(Ae).length;ve=(""+ve).toLowerCase(),We=!0}}ue.byteLength=He;function Ke(Ae,ve,xe){let Be=!1;if((ve===void 0||ve<0)&&(ve=0),ve>this.length||((xe===void 0||xe>this.length)&&(xe=this.length),xe<=0)||(xe>>>=0,ve>>>=0,xe<=ve))return"";for(Ae||(Ae="utf8");;)switch(Ae){case"hex":return me(this,ve,xe);case"utf8":case"utf-8":return le(this,ve,xe);case"ascii":return $e(this,ve,xe);case"latin1":case"binary":return Ee(this,ve,xe);case"base64":return ce(this,ve,xe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,ve,xe);default:if(Be)throw new TypeError("Unknown encoding: "+Ae);Ae=(Ae+"").toLowerCase(),Be=!0}}ue.prototype._isBuffer=!0;function Ge(Ae,ve,xe){const Be=Ae[ve];Ae[ve]=Ae[xe],Ae[xe]=Be}ue.prototype.swap16=function(){const ve=this.length;if(ve%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let xe=0;xe<ve;xe+=2)Ge(this,xe,xe+1);return this},ue.prototype.swap32=function(){const ve=this.length;if(ve%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let xe=0;xe<ve;xe+=4)Ge(this,xe,xe+3),Ge(this,xe+1,xe+2);return this},ue.prototype.swap64=function(){const ve=this.length;if(ve%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let xe=0;xe<ve;xe+=8)Ge(this,xe,xe+7),Ge(this,xe+1,xe+6),Ge(this,xe+2,xe+5),Ge(this,xe+3,xe+4);return this},ue.prototype.toString=function(){const ve=this.length;return ve===0?"":arguments.length===0?le(this,0,ve):Ke.apply(this,arguments)},ue.prototype.toLocaleString=ue.prototype.toString,ue.prototype.equals=function(ve){if(!ue.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve?!0:ue.compare(this,ve)===0},ue.prototype.inspect=function(){let ve="";const xe=te.INSPECT_MAX_BYTES;return ve=this.toString("hex",0,xe).replace(/(.{2})/g,"$1 ").trim(),this.length>xe&&(ve+=" ... "),"<Buffer "+ve+">"},ne&&(ue.prototype[ne]=ue.prototype.inspect),ue.prototype.compare=function(ve,xe,Be,We,et){if(mt(ve,Uint8Array)&&(ve=ue.from(ve,ve.offset,ve.byteLength)),!ue.isBuffer(ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ve);if(xe===void 0&&(xe=0),Be===void 0&&(Be=ve?ve.length:0),We===void 0&&(We=0),et===void 0&&(et=this.length),xe<0||Be>ve.length||We<0||et>this.length)throw new RangeError("out of range index");if(We>=et&&xe>=Be)return 0;if(We>=et)return-1;if(xe>=Be)return 1;if(xe>>>=0,Be>>>=0,We>>>=0,et>>>=0,this===ve)return 0;let Xe=et-We,Mt=Be-xe;const Vt=Math.min(Xe,Mt),At=this.slice(We,et),Nt=ve.slice(xe,Be);for(let zt=0;zt<Vt;++zt)if(At[zt]!==Nt[zt]){Xe=At[zt],Mt=Nt[zt];break}return Xe<Mt?-1:Mt<Xe?1:0};function ut(Ae,ve,xe,Be,We){if(Ae.length===0)return-1;if(typeof xe=="string"?(Be=xe,xe=0):xe>2147483647?xe=2147483647:xe<-2147483648&&(xe=-2147483648),xe=+xe,Lt(xe)&&(xe=We?0:Ae.length-1),xe<0&&(xe=Ae.length+xe),xe>=Ae.length){if(We)return-1;xe=Ae.length-1}else if(xe<0)if(We)xe=0;else return-1;if(typeof ve=="string"&&(ve=ue.from(ve,Be)),ue.isBuffer(ve))return ve.length===0?-1:Ve(Ae,ve,xe,Be,We);if(typeof ve=="number")return ve=ve&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(Ae,ve,xe):Uint8Array.prototype.lastIndexOf.call(Ae,ve,xe):Ve(Ae,[ve],xe,Be,We);throw new TypeError("val must be string, number or Buffer")}function Ve(Ae,ve,xe,Be,We){let et=1,Xe=Ae.length,Mt=ve.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(Ae.length<2||ve.length<2)return-1;et=2,Xe/=2,Mt/=2,xe/=2}function Vt(Nt,zt){return et===1?Nt[zt]:Nt.readUInt16BE(zt*et)}let At;if(We){let Nt=-1;for(At=xe;At<Xe;At++)if(Vt(Ae,At)===Vt(ve,Nt===-1?0:At-Nt)){if(Nt===-1&&(Nt=At),At-Nt+1===Mt)return Nt*et}else Nt!==-1&&(At-=At-Nt),Nt=-1}else for(xe+Mt>Xe&&(xe=Xe-Mt),At=xe;At>=0;At--){let Nt=!0;for(let zt=0;zt<Mt;zt++)if(Vt(Ae,At+zt)!==Vt(ve,zt)){Nt=!1;break}if(Nt)return At}return-1}ue.prototype.includes=function(ve,xe,Be){return this.indexOf(ve,xe,Be)!==-1},ue.prototype.indexOf=function(ve,xe,Be){return ut(this,ve,xe,Be,!0)},ue.prototype.lastIndexOf=function(ve,xe,Be){return ut(this,ve,xe,Be,!1)};function nt(Ae,ve,xe,Be){xe=Number(xe)||0;const We=Ae.length-xe;Be?(Be=Number(Be),Be>We&&(Be=We)):Be=We;const et=ve.length;Be>et/2&&(Be=et/2);let Xe;for(Xe=0;Xe<Be;++Xe){const Mt=parseInt(ve.substr(Xe*2,2),16);if(Lt(Mt))return Xe;Ae[xe+Xe]=Mt}return Xe}function st(Ae,ve,xe,Be){return dt(ze(ve,Ae.length-xe),Ae,xe,Be)}function qe(Ae,ve,xe,Be){return dt(De(ve),Ae,xe,Be)}function ye(Ae,ve,xe,Be){return dt(yt(ve),Ae,xe,Be)}function ae(Ae,ve,xe,Be){return dt(Ze(ve,Ae.length-xe),Ae,xe,Be)}ue.prototype.write=function(ve,xe,Be,We){if(xe===void 0)We="utf8",Be=this.length,xe=0;else if(Be===void 0&&typeof xe=="string")We=xe,Be=this.length,xe=0;else if(isFinite(xe))xe=xe>>>0,isFinite(Be)?(Be=Be>>>0,We===void 0&&(We="utf8")):(We=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const et=this.length-xe;if((Be===void 0||Be>et)&&(Be=et),ve.length>0&&(Be<0||xe<0)||xe>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");let Xe=!1;for(;;)switch(We){case"hex":return nt(this,ve,xe,Be);case"utf8":case"utf-8":return st(this,ve,xe,Be);case"ascii":case"latin1":case"binary":return qe(this,ve,xe,Be);case"base64":return ye(this,ve,xe,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,ve,xe,Be);default:if(Xe)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),Xe=!0}},ue.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(Ae,ve,xe){return ve===0&&xe===Ae.length?ee.fromByteArray(Ae):ee.fromByteArray(Ae.slice(ve,xe))}function le(Ae,ve,xe){xe=Math.min(Ae.length,xe);const Be=[];let We=ve;for(;We<xe;){const et=Ae[We];let Xe=null,Mt=et>239?4:et>223?3:et>191?2:1;if(We+Mt<=xe){let Vt,At,Nt,zt;switch(Mt){case 1:et<128&&(Xe=et);break;case 2:Vt=Ae[We+1],(Vt&192)===128&&(zt=(et&31)<<6|Vt&63,zt>127&&(Xe=zt));break;case 3:Vt=Ae[We+1],At=Ae[We+2],(Vt&192)===128&&(At&192)===128&&(zt=(et&15)<<12|(Vt&63)<<6|At&63,zt>2047&&(zt<55296||zt>57343)&&(Xe=zt));break;case 4:Vt=Ae[We+1],At=Ae[We+2],Nt=Ae[We+3],(Vt&192)===128&&(At&192)===128&&(Nt&192)===128&&(zt=(et&15)<<18|(Vt&63)<<12|(At&63)<<6|Nt&63,zt>65535&&zt<1114112&&(Xe=zt))}}Xe===null?(Xe=65533,Mt=1):Xe>65535&&(Xe-=65536,Be.push(Xe>>>10&1023|55296),Xe=56320|Xe&1023),Be.push(Xe),We+=Mt}return _e(Be)}const pe=4096;function _e(Ae){const ve=Ae.length;if(ve<=pe)return String.fromCharCode.apply(String,Ae);let xe="",Be=0;for(;Be<ve;)xe+=String.fromCharCode.apply(String,Ae.slice(Be,Be+=pe));return xe}function $e(Ae,ve,xe){let Be="";xe=Math.min(Ae.length,xe);for(let We=ve;We<xe;++We)Be+=String.fromCharCode(Ae[We]&127);return Be}function Ee(Ae,ve,xe){let Be="";xe=Math.min(Ae.length,xe);for(let We=ve;We<xe;++We)Be+=String.fromCharCode(Ae[We]);return Be}function me(Ae,ve,xe){const Be=Ae.length;(!ve||ve<0)&&(ve=0),(!xe||xe<0||xe>Be)&&(xe=Be);let We="";for(let et=ve;et<xe;++et)We+=St[Ae[et]];return We}function fe(Ae,ve,xe){const Be=Ae.slice(ve,xe);let We="";for(let et=0;et<Be.length-1;et+=2)We+=String.fromCharCode(Be[et]+Be[et+1]*256);return We}ue.prototype.slice=function(ve,xe){const Be=this.length;ve=~~ve,xe=xe===void 0?Be:~~xe,ve<0?(ve+=Be,ve<0&&(ve=0)):ve>Be&&(ve=Be),xe<0?(xe+=Be,xe<0&&(xe=0)):xe>Be&&(xe=Be),xe<ve&&(xe=ve);const We=this.subarray(ve,xe);return Object.setPrototypeOf(We,ue.prototype),We};function we(Ae,ve,xe){if(Ae%1!==0||Ae<0)throw new RangeError("offset is not uint");if(Ae+ve>xe)throw new RangeError("Trying to access beyond buffer length")}ue.prototype.readUintLE=ue.prototype.readUIntLE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=this[ve],et=1,Xe=0;for(;++Xe<xe&&(et*=256);)We+=this[ve+Xe]*et;return We},ue.prototype.readUintBE=ue.prototype.readUIntBE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=this[ve+--xe],et=1;for(;xe>0&&(et*=256);)We+=this[ve+--xe]*et;return We},ue.prototype.readUint8=ue.prototype.readUInt8=function(ve,xe){return ve=ve>>>0,xe||we(ve,1,this.length),this[ve]},ue.prototype.readUint16LE=ue.prototype.readUInt16LE=function(ve,xe){return ve=ve>>>0,xe||we(ve,2,this.length),this[ve]|this[ve+1]<<8},ue.prototype.readUint16BE=ue.prototype.readUInt16BE=function(ve,xe){return ve=ve>>>0,xe||we(ve,2,this.length),this[ve]<<8|this[ve+1]},ue.prototype.readUint32LE=ue.prototype.readUInt32LE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+this[ve+3]*16777216},ue.prototype.readUint32BE=ue.prototype.readUInt32BE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),this[ve]*16777216+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},ue.prototype.readBigUInt64LE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=xe+this[++ve]*2**8+this[++ve]*2**16+this[++ve]*2**24,et=this[++ve]+this[++ve]*2**8+this[++ve]*2**16+Be*2**24;return BigInt(We)+(BigInt(et)<<BigInt(32))}),ue.prototype.readBigUInt64BE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=xe*2**24+this[++ve]*2**16+this[++ve]*2**8+this[++ve],et=this[++ve]*2**24+this[++ve]*2**16+this[++ve]*2**8+Be;return(BigInt(We)<<BigInt(32))+BigInt(et)}),ue.prototype.readIntLE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=this[ve],et=1,Xe=0;for(;++Xe<xe&&(et*=256);)We+=this[ve+Xe]*et;return et*=128,We>=et&&(We-=Math.pow(2,8*xe)),We},ue.prototype.readIntBE=function(ve,xe,Be){ve=ve>>>0,xe=xe>>>0,Be||we(ve,xe,this.length);let We=xe,et=1,Xe=this[ve+--We];for(;We>0&&(et*=256);)Xe+=this[ve+--We]*et;return et*=128,Xe>=et&&(Xe-=Math.pow(2,8*xe)),Xe},ue.prototype.readInt8=function(ve,xe){return ve=ve>>>0,xe||we(ve,1,this.length),this[ve]&128?(255-this[ve]+1)*-1:this[ve]},ue.prototype.readInt16LE=function(ve,xe){ve=ve>>>0,xe||we(ve,2,this.length);const Be=this[ve]|this[ve+1]<<8;return Be&32768?Be|4294901760:Be},ue.prototype.readInt16BE=function(ve,xe){ve=ve>>>0,xe||we(ve,2,this.length);const Be=this[ve+1]|this[ve]<<8;return Be&32768?Be|4294901760:Be},ue.prototype.readInt32LE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},ue.prototype.readInt32BE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},ue.prototype.readBigInt64LE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=this[ve+4]+this[ve+5]*2**8+this[ve+6]*2**16+(Be<<24);return(BigInt(We)<<BigInt(32))+BigInt(xe+this[++ve]*2**8+this[++ve]*2**16+this[++ve]*2**24)}),ue.prototype.readBigInt64BE=Bt(function(ve){ve=ve>>>0,lt(ve,"offset");const xe=this[ve],Be=this[ve+7];(xe===void 0||Be===void 0)&&_t(ve,this.length-8);const We=(xe<<24)+this[++ve]*2**16+this[++ve]*2**8+this[++ve];return(BigInt(We)<<BigInt(32))+BigInt(this[++ve]*2**24+this[++ve]*2**16+this[++ve]*2**8+Be)}),ue.prototype.readFloatLE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),re.read(this,ve,!0,23,4)},ue.prototype.readFloatBE=function(ve,xe){return ve=ve>>>0,xe||we(ve,4,this.length),re.read(this,ve,!1,23,4)},ue.prototype.readDoubleLE=function(ve,xe){return ve=ve>>>0,xe||we(ve,8,this.length),re.read(this,ve,!0,52,8)},ue.prototype.readDoubleBE=function(ve,xe){return ve=ve>>>0,xe||we(ve,8,this.length),re.read(this,ve,!1,52,8)};function Me(Ae,ve,xe,Be,We,et){if(!ue.isBuffer(Ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(ve>We||ve<et)throw new RangeError('"value" argument is out of bounds');if(xe+Be>Ae.length)throw new RangeError("Index out of range")}ue.prototype.writeUintLE=ue.prototype.writeUIntLE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,Be=Be>>>0,!We){const Mt=Math.pow(2,8*Be)-1;Me(this,ve,xe,Be,Mt,0)}let et=1,Xe=0;for(this[xe]=ve&255;++Xe<Be&&(et*=256);)this[xe+Xe]=ve/et&255;return xe+Be},ue.prototype.writeUintBE=ue.prototype.writeUIntBE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,Be=Be>>>0,!We){const Mt=Math.pow(2,8*Be)-1;Me(this,ve,xe,Be,Mt,0)}let et=Be-1,Xe=1;for(this[xe+et]=ve&255;--et>=0&&(Xe*=256);)this[xe+et]=ve/Xe&255;return xe+Be},ue.prototype.writeUint8=ue.prototype.writeUInt8=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,1,255,0),this[xe]=ve&255,xe+1},ue.prototype.writeUint16LE=ue.prototype.writeUInt16LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,65535,0),this[xe]=ve&255,this[xe+1]=ve>>>8,xe+2},ue.prototype.writeUint16BE=ue.prototype.writeUInt16BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,65535,0),this[xe]=ve>>>8,this[xe+1]=ve&255,xe+2},ue.prototype.writeUint32LE=ue.prototype.writeUInt32LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,4294967295,0),this[xe+3]=ve>>>24,this[xe+2]=ve>>>16,this[xe+1]=ve>>>8,this[xe]=ve&255,xe+4},ue.prototype.writeUint32BE=ue.prototype.writeUInt32BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,4294967295,0),this[xe]=ve>>>24,this[xe+1]=ve>>>16,this[xe+2]=ve>>>8,this[xe+3]=ve&255,xe+4};function Le(Ae,ve,xe,Be,We){Rt(ve,Be,We,Ae,xe,7);let et=Number(ve&BigInt(4294967295));Ae[xe++]=et,et=et>>8,Ae[xe++]=et,et=et>>8,Ae[xe++]=et,et=et>>8,Ae[xe++]=et;let Xe=Number(ve>>BigInt(32)&BigInt(4294967295));return Ae[xe++]=Xe,Xe=Xe>>8,Ae[xe++]=Xe,Xe=Xe>>8,Ae[xe++]=Xe,Xe=Xe>>8,Ae[xe++]=Xe,xe}function Je(Ae,ve,xe,Be,We){Rt(ve,Be,We,Ae,xe,7);let et=Number(ve&BigInt(4294967295));Ae[xe+7]=et,et=et>>8,Ae[xe+6]=et,et=et>>8,Ae[xe+5]=et,et=et>>8,Ae[xe+4]=et;let Xe=Number(ve>>BigInt(32)&BigInt(4294967295));return Ae[xe+3]=Xe,Xe=Xe>>8,Ae[xe+2]=Xe,Xe=Xe>>8,Ae[xe+1]=Xe,Xe=Xe>>8,Ae[xe]=Xe,xe+8}ue.prototype.writeBigUInt64LE=Bt(function(ve,xe=0){return Le(this,ve,xe,BigInt(0),BigInt("0xffffffffffffffff"))}),ue.prototype.writeBigUInt64BE=Bt(function(ve,xe=0){return Je(this,ve,xe,BigInt(0),BigInt("0xffffffffffffffff"))}),ue.prototype.writeIntLE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,!We){const Vt=Math.pow(2,8*Be-1);Me(this,ve,xe,Be,Vt-1,-Vt)}let et=0,Xe=1,Mt=0;for(this[xe]=ve&255;++et<Be&&(Xe*=256);)ve<0&&Mt===0&&this[xe+et-1]!==0&&(Mt=1),this[xe+et]=(ve/Xe>>0)-Mt&255;return xe+Be},ue.prototype.writeIntBE=function(ve,xe,Be,We){if(ve=+ve,xe=xe>>>0,!We){const Vt=Math.pow(2,8*Be-1);Me(this,ve,xe,Be,Vt-1,-Vt)}let et=Be-1,Xe=1,Mt=0;for(this[xe+et]=ve&255;--et>=0&&(Xe*=256);)ve<0&&Mt===0&&this[xe+et+1]!==0&&(Mt=1),this[xe+et]=(ve/Xe>>0)-Mt&255;return xe+Be},ue.prototype.writeInt8=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,1,127,-128),ve<0&&(ve=255+ve+1),this[xe]=ve&255,xe+1},ue.prototype.writeInt16LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,32767,-32768),this[xe]=ve&255,this[xe+1]=ve>>>8,xe+2},ue.prototype.writeInt16BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,2,32767,-32768),this[xe]=ve>>>8,this[xe+1]=ve&255,xe+2},ue.prototype.writeInt32LE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,2147483647,-2147483648),this[xe]=ve&255,this[xe+1]=ve>>>8,this[xe+2]=ve>>>16,this[xe+3]=ve>>>24,xe+4},ue.prototype.writeInt32BE=function(ve,xe,Be){return ve=+ve,xe=xe>>>0,Be||Me(this,ve,xe,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),this[xe]=ve>>>24,this[xe+1]=ve>>>16,this[xe+2]=ve>>>8,this[xe+3]=ve&255,xe+4},ue.prototype.writeBigInt64LE=Bt(function(ve,xe=0){return Le(this,ve,xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ue.prototype.writeBigInt64BE=Bt(function(ve,xe=0){return Je(this,ve,xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ue(Ae,ve,xe,Be,We,et){if(xe+Be>Ae.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("Index out of range")}function ct(Ae,ve,xe,Be,We){return ve=+ve,xe=xe>>>0,We||Ue(Ae,ve,xe,4),re.write(Ae,ve,xe,Be,23,4),xe+4}ue.prototype.writeFloatLE=function(ve,xe,Be){return ct(this,ve,xe,!0,Be)},ue.prototype.writeFloatBE=function(ve,xe,Be){return ct(this,ve,xe,!1,Be)};function gt(Ae,ve,xe,Be,We){return ve=+ve,xe=xe>>>0,We||Ue(Ae,ve,xe,8),re.write(Ae,ve,xe,Be,52,8),xe+8}ue.prototype.writeDoubleLE=function(ve,xe,Be){return gt(this,ve,xe,!0,Be)},ue.prototype.writeDoubleBE=function(ve,xe,Be){return gt(this,ve,xe,!1,Be)},ue.prototype.copy=function(ve,xe,Be,We){if(!ue.isBuffer(ve))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!We&&We!==0&&(We=this.length),xe>=ve.length&&(xe=ve.length),xe||(xe=0),We>0&&We<Be&&(We=Be),We===Be||ve.length===0||this.length===0)return 0;if(xe<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),ve.length-xe<We-Be&&(We=ve.length-xe+Be);const et=We-Be;return this===ve&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(xe,Be,We):Uint8Array.prototype.set.call(ve,this.subarray(Be,We),xe),et},ue.prototype.fill=function(ve,xe,Be,We){if(typeof ve=="string"){if(typeof xe=="string"?(We=xe,xe=0,Be=this.length):typeof Be=="string"&&(We=Be,Be=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!ue.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(ve.length===1){const Xe=ve.charCodeAt(0);(We==="utf8"&&Xe<128||We==="latin1")&&(ve=Xe)}}else typeof ve=="number"?ve=ve&255:typeof ve=="boolean"&&(ve=Number(ve));if(xe<0||this.length<xe||this.length<Be)throw new RangeError("Out of range index");if(Be<=xe)return this;xe=xe>>>0,Be=Be===void 0?this.length:Be>>>0,ve||(ve=0);let et;if(typeof ve=="number")for(et=xe;et<Be;++et)this[et]=ve;else{const Xe=ue.isBuffer(ve)?ve:ue.from(ve,We),Mt=Xe.length;if(Mt===0)throw new TypeError('The value "'+ve+'" is invalid for argument "value"');for(et=0;et<Be-xe;++et)this[et+xe]=Xe[et%Mt]}return this};const $t={};function vt(Ae,ve,xe){$t[Ae]=class extends xe{constructor(){super(),Object.defineProperty(this,"message",{value:ve.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ae}]`,this.stack,delete this.name}get code(){return Ae}set code(We){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:We,writable:!0})}toString(){return`${this.name} [${Ae}]: ${this.message}`}}}vt("ERR_BUFFER_OUT_OF_BOUNDS",function(Ae){return Ae?`${Ae} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),vt("ERR_INVALID_ARG_TYPE",function(Ae,ve){return`The "${Ae}" argument must be of type number. Received type ${typeof ve}`},TypeError),vt("ERR_OUT_OF_RANGE",function(Ae,ve,xe){let Be=`The value of "${Ae}" is out of range.`,We=xe;return Number.isInteger(xe)&&Math.abs(xe)>2**32?We=Tt(String(xe)):typeof xe=="bigint"&&(We=String(xe),(xe>BigInt(2)**BigInt(32)||xe<-(BigInt(2)**BigInt(32)))&&(We=Tt(We)),We+="n"),Be+=` It must be ${ve}. Received ${We}`,Be},RangeError);function Tt(Ae){let ve="",xe=Ae.length;const Be=Ae[0]==="-"?1:0;for(;xe>=Be+4;xe-=3)ve=`_${Ae.slice(xe-3,xe)}${ve}`;return`${Ae.slice(0,xe)}${ve}`}function qt(Ae,ve,xe){lt(ve,"offset"),(Ae[ve]===void 0||Ae[ve+xe]===void 0)&&_t(ve,Ae.length-(xe+1))}function Rt(Ae,ve,xe,Be,We,et){if(Ae>xe||Ae<ve){const Xe=typeof ve=="bigint"?"n":"";let Mt;throw et>3?ve===0||ve===BigInt(0)?Mt=`>= 0${Xe} and < 2${Xe} ** ${(et+1)*8}${Xe}`:Mt=`>= -(2${Xe} ** ${(et+1)*8-1}${Xe}) and < 2 ** ${(et+1)*8-1}${Xe}`:Mt=`>= ${ve}${Xe} and <= ${xe}${Xe}`,new $t.ERR_OUT_OF_RANGE("value",Mt,Ae)}qt(Be,We,et)}function lt(Ae,ve){if(typeof Ae!="number")throw new $t.ERR_INVALID_ARG_TYPE(ve,"number",Ae)}function _t(Ae,ve,xe){throw Math.floor(Ae)!==Ae?(lt(Ae,xe),new $t.ERR_OUT_OF_RANGE(xe||"offset","an integer",Ae)):ve<0?new $t.ERR_BUFFER_OUT_OF_BOUNDS:new $t.ERR_OUT_OF_RANGE(xe||"offset",`>= ${xe?1:0} and <= ${ve}`,Ae)}const bt=/[^+/0-9A-Za-z-_]/g;function Qe(Ae){if(Ae=Ae.split("=")[0],Ae=Ae.trim().replace(bt,""),Ae.length<2)return"";for(;Ae.length%4!==0;)Ae=Ae+"=";return Ae}function ze(Ae,ve){ve=ve||1/0;let xe;const Be=Ae.length;let We=null;const et=[];for(let Xe=0;Xe<Be;++Xe){if(xe=Ae.charCodeAt(Xe),xe>55295&&xe<57344){if(!We){if(xe>56319){(ve-=3)>-1&&et.push(239,191,189);continue}else if(Xe+1===Be){(ve-=3)>-1&&et.push(239,191,189);continue}We=xe;continue}if(xe<56320){(ve-=3)>-1&&et.push(239,191,189),We=xe;continue}xe=(We-55296<<10|xe-56320)+65536}else We&&(ve-=3)>-1&&et.push(239,191,189);if(We=null,xe<128){if((ve-=1)<0)break;et.push(xe)}else if(xe<2048){if((ve-=2)<0)break;et.push(xe>>6|192,xe&63|128)}else if(xe<65536){if((ve-=3)<0)break;et.push(xe>>12|224,xe>>6&63|128,xe&63|128)}else if(xe<1114112){if((ve-=4)<0)break;et.push(xe>>18|240,xe>>12&63|128,xe>>6&63|128,xe&63|128)}else throw new Error("Invalid code point")}return et}function De(Ae){const ve=[];for(let xe=0;xe<Ae.length;++xe)ve.push(Ae.charCodeAt(xe)&255);return ve}function Ze(Ae,ve){let xe,Be,We;const et=[];for(let Xe=0;Xe<Ae.length&&!((ve-=2)<0);++Xe)xe=Ae.charCodeAt(Xe),Be=xe>>8,We=xe%256,et.push(We),et.push(Be);return et}function yt(Ae){return ee.toByteArray(Qe(Ae))}function dt(Ae,ve,xe,Be){let We;for(We=0;We<Be&&!(We+xe>=ve.length||We>=Ae.length);++We)ve[We+xe]=Ae[We];return We}function mt(Ae,ve){return Ae instanceof ve||Ae!=null&&Ae.constructor!=null&&Ae.constructor.name!=null&&Ae.constructor.name===ve.name}function Lt(Ae){return Ae!==Ae}const St=function(){const Ae="0123456789abcdef",ve=new Array(256);for(let xe=0;xe<16;++xe){const Be=xe*16;for(let We=0;We<16;++We)ve[Be+We]=Ae[xe]+Ae[We]}return ve}();function Bt(Ae){return typeof BigInt=="undefined"?Gt:Ae}function Gt(){throw new Error("BigInt not supported")}})(buffer$1);var globalThis$1=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:{},inherits$h;typeof Object.create=="function"?inherits$h=function(ee,re){ee.super_=re,ee.prototype=Object.create(re.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}})}:inherits$h=function(ee,re){ee.super_=re;var ne=function(){};ne.prototype=re.prototype,ee.prototype=new ne,ee.prototype.constructor=ee};var inherits$1$1=inherits$h;function inspect$1(te,ee){var re={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(re.depth=arguments[2]),arguments.length>=4&&(re.colors=arguments[3]),isBoolean(ee)?re.showHidden=ee:ee&&_extend(re,ee),isUndefined$1(re.showHidden)&&(re.showHidden=!1),isUndefined$1(re.depth)&&(re.depth=2),isUndefined$1(re.colors)&&(re.colors=!1),isUndefined$1(re.customInspect)&&(re.customInspect=!0),re.colors&&(re.stylize=stylizeWithColor),formatValue(re,te,re.depth)}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(te,ee){var re=inspect$1.styles[ee];return re?"\x1B["+inspect$1.colors[re][0]+"m"+te+"\x1B["+inspect$1.colors[re][1]+"m":te}function stylizeNoColor(te,ee){return te}function arrayToHash(te){var ee={};return te.forEach(function(re,ne){ee[re]=!0}),ee}function formatValue(te,ee,re){if(te.customInspect&&ee&&isFunction$3(ee.inspect)&&ee.inspect!==inspect$1&&!(ee.constructor&&ee.constructor.prototype===ee)){var ne=ee.inspect(re,te);return isString$1(ne)||(ne=formatValue(te,ne,re)),ne}var oe=formatPrimitive(te,ee);if(oe)return oe;var ie=Object.keys(ee),se=arrayToHash(ie);if(te.showHidden&&(ie=Object.getOwnPropertyNames(ee)),isError$1(ee)&&(ie.indexOf("message")>=0||ie.indexOf("description")>=0))return formatError(ee);if(ie.length===0){if(isFunction$3(ee)){var ue=ee.name?": "+ee.name:"";return te.stylize("[Function"+ue+"]","special")}if(isRegExp(ee))return te.stylize(RegExp.prototype.toString.call(ee),"regexp");if(isDate$2(ee))return te.stylize(Date.prototype.toString.call(ee),"date");if(isError$1(ee))return formatError(ee)}var he="",ge=!1,be=["{","}"];if(isArray$8(ee)&&(ge=!0,be=["[","]"]),isFunction$3(ee)){var Se=ee.name?": "+ee.name:"";he=" [Function"+Se+"]"}if(isRegExp(ee)&&(he=" "+RegExp.prototype.toString.call(ee)),isDate$2(ee)&&(he=" "+Date.prototype.toUTCString.call(ee)),isError$1(ee)&&(he=" "+formatError(ee)),ie.length===0&&(!ge||ee.length==0))return be[0]+he+be[1];if(re<0)return isRegExp(ee)?te.stylize(RegExp.prototype.toString.call(ee),"regexp"):te.stylize("[Object]","special");te.seen.push(ee);var Te;return ge?Te=formatArray(te,ee,re,se,ie):Te=ie.map(function(ke){return formatProperty(te,ee,re,se,ke,ge)}),te.seen.pop(),reduceToSingleString(Te,he,be)}function formatPrimitive(te,ee){if(isUndefined$1(ee))return te.stylize("undefined","undefined");if(isString$1(ee)){var re="'"+JSON.stringify(ee).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return te.stylize(re,"string")}if(isNumber$1(ee))return te.stylize(""+ee,"number");if(isBoolean(ee))return te.stylize(""+ee,"boolean");if(isNull(ee))return te.stylize("null","null")}function formatError(te){return"["+Error.prototype.toString.call(te)+"]"}function formatArray(te,ee,re,ne,oe){for(var ie=[],se=0,ue=ee.length;se<ue;++se)hasOwnProperty$5(ee,String(se))?ie.push(formatProperty(te,ee,re,ne,String(se),!0)):ie.push("");return oe.forEach(function(he){he.match(/^\d+$/)||ie.push(formatProperty(te,ee,re,ne,he,!0))}),ie}function formatProperty(te,ee,re,ne,oe,ie){var se,ue,he;if(he=Object.getOwnPropertyDescriptor(ee,oe)||{value:ee[oe]},he.get?he.set?ue=te.stylize("[Getter/Setter]","special"):ue=te.stylize("[Getter]","special"):he.set&&(ue=te.stylize("[Setter]","special")),hasOwnProperty$5(ne,oe)||(se="["+oe+"]"),ue||(te.seen.indexOf(he.value)<0?(isNull(re)?ue=formatValue(te,he.value,null):ue=formatValue(te,he.value,re-1),ue.indexOf(`
`)>-1&&(ie?ue=ue.split(`
`).map(function(ge){return"  "+ge}).join(`
`).substr(2):ue=`
`+ue.split(`
`).map(function(ge){return"   "+ge}).join(`
`))):ue=te.stylize("[Circular]","special")),isUndefined$1(se)){if(ie&&oe.match(/^\d+$/))return ue;se=JSON.stringify(""+oe),se.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(se=se.substr(1,se.length-2),se=te.stylize(se,"name")):(se=se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),se=te.stylize(se,"string"))}return se+": "+ue}function reduceToSingleString(te,ee,re){var ne=te.reduce(function(oe,ie){return ie.indexOf(`
`)>=0,oe+ie.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ne>60?re[0]+(ee===""?"":ee+`
 `)+" "+te.join(`,
  `)+" "+re[1]:re[0]+ee+" "+te.join(", ")+" "+re[1]}function isArray$8(te){return Array.isArray(te)}function isBoolean(te){return typeof te=="boolean"}function isNull(te){return te===null}function isNumber$1(te){return typeof te=="number"}function isString$1(te){return typeof te=="string"}function isUndefined$1(te){return te===void 0}function isRegExp(te){return isObject$3(te)&&objectToString$2(te)==="[object RegExp]"}function isObject$3(te){return typeof te=="object"&&te!==null}function isDate$2(te){return isObject$3(te)&&objectToString$2(te)==="[object Date]"}function isError$1(te){return isObject$3(te)&&(objectToString$2(te)==="[object Error]"||te instanceof Error)}function isFunction$3(te){return typeof te=="function"}function isPrimitive(te){return te===null||typeof te=="boolean"||typeof te=="number"||typeof te=="string"||typeof te=="symbol"||typeof te=="undefined"}function objectToString$2(te){return Object.prototype.toString.call(te)}function _extend(te,ee){if(!ee||!isObject$3(ee))return te;for(var re=Object.keys(ee),ne=re.length;ne--;)te[re[ne]]=ee[re[ne]];return te}function hasOwnProperty$5(te,ee){return Object.prototype.hasOwnProperty.call(te,ee)}function compare(te,ee){if(te===ee)return 0;for(var re=te.length,ne=ee.length,oe=0,ie=Math.min(re,ne);oe<ie;++oe)if(te[oe]!==ee[oe]){re=te[oe],ne=ee[oe];break}return re<ne?-1:ne<re?1:0}var hasOwn=Object.prototype.hasOwnProperty,objectKeys$2=Object.keys||function(te){var ee=[];for(var re in te)hasOwn.call(te,re)&&ee.push(re);return ee},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return typeof _functionsHaveNames!="undefined"?_functionsHaveNames:_functionsHaveNames=function(){return function(){}.name==="foo"}()}function pToString(te){return Object.prototype.toString.call(te)}function isView(te){return buffer$1.isBuffer(te)||typeof globalThis$1.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(te):te?!!(te instanceof DataView||te.buffer&&te.buffer instanceof ArrayBuffer):!1}function assert$1(te,ee){te||fail(te,!0,ee,"==",ok)}var regex$1=/\s*function\s+([^\(\s]*)\s*/;function getName(te){if(!!isFunction$3(te)){if(functionsHaveNames())return te.name;var ee=te.toString(),re=ee.match(regex$1);return re&&re[1]}}assert$1.AssertionError=AssertionError;function AssertionError(te){this.name="AssertionError",this.actual=te.actual,this.expected=te.expected,this.operator=te.operator,te.message?(this.message=te.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var ee=te.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,ee);else{var re=new Error;if(re.stack){var ne=re.stack,oe=getName(ee),ie=ne.indexOf(`
`+oe);if(ie>=0){var se=ne.indexOf(`
`,ie+1);ne=ne.substring(se+1)}this.stack=ne}}}inherits$1$1(AssertionError,Error);function truncate(te,ee){return typeof te=="string"?te.length<ee?te:te.slice(0,ee):te}function inspect$2(te){if(functionsHaveNames()||!isFunction$3(te))return inspect$1(te);var ee=getName(te),re=ee?": "+ee:"";return"[Function"+re+"]"}function getMessage(te){return truncate(inspect$2(te.actual),128)+" "+te.operator+" "+truncate(inspect$2(te.expected),128)}function fail(te,ee,re,ne,oe){throw new AssertionError({message:re,actual:te,expected:ee,operator:ne,stackStartFunction:oe})}assert$1.fail=fail;function ok(te,ee){te||fail(te,!0,ee,"==",ok)}assert$1.ok=ok;assert$1.equal=equal;function equal(te,ee,re){te!=ee&&fail(te,ee,re,"==",equal)}assert$1.notEqual=notEqual;function notEqual(te,ee,re){te==ee&&fail(te,ee,re,"!=",notEqual)}assert$1.deepEqual=deepEqual;function deepEqual(te,ee,re){_deepEqual(te,ee,!1)||fail(te,ee,re,"deepEqual",deepEqual)}assert$1.deepStrictEqual=deepStrictEqual;function deepStrictEqual(te,ee,re){_deepEqual(te,ee,!0)||fail(te,ee,re,"deepStrictEqual",deepStrictEqual)}function _deepEqual(te,ee,re,ne){if(te===ee)return!0;if(buffer$1.isBuffer(te)&&buffer$1.isBuffer(ee))return compare(te,ee)===0;if(isDate$2(te)&&isDate$2(ee))return te.getTime()===ee.getTime();if(isRegExp(te)&&isRegExp(ee))return te.source===ee.source&&te.global===ee.global&&te.multiline===ee.multiline&&te.lastIndex===ee.lastIndex&&te.ignoreCase===ee.ignoreCase;if((te===null||typeof te!="object")&&(ee===null||typeof ee!="object"))return re?te===ee:te==ee;if(isView(te)&&isView(ee)&&pToString(te)===pToString(ee)&&!(te instanceof Float32Array||te instanceof Float64Array))return compare(new Uint8Array(te.buffer),new Uint8Array(ee.buffer))===0;if(buffer$1.isBuffer(te)!==buffer$1.isBuffer(ee))return!1;ne=ne||{actual:[],expected:[]};var oe=ne.actual.indexOf(te);return oe!==-1&&oe===ne.expected.indexOf(ee)?!0:(ne.actual.push(te),ne.expected.push(ee),objEquiv(te,ee,re,ne))}function isArguments$3(te){return Object.prototype.toString.call(te)=="[object Arguments]"}function objEquiv(te,ee,re,ne){if(te==null||ee===null||ee===void 0)return!1;if(isPrimitive(te)||isPrimitive(ee))return te===ee;if(re&&Object.getPrototypeOf(te)!==Object.getPrototypeOf(ee))return!1;var oe=isArguments$3(te),ie=isArguments$3(ee);if(oe&&!ie||!oe&&ie)return!1;if(oe)return te=pSlice.call(te),ee=pSlice.call(ee),_deepEqual(te,ee,re);var se=objectKeys$2(te),ue=objectKeys$2(ee),he,ge;if(se.length!==ue.length)return!1;for(se.sort(),ue.sort(),ge=se.length-1;ge>=0;ge--)if(se[ge]!==ue[ge])return!1;for(ge=se.length-1;ge>=0;ge--)if(he=se[ge],!_deepEqual(te[he],ee[he],re,ne))return!1;return!0}assert$1.notDeepEqual=notDeepEqual;function notDeepEqual(te,ee,re){_deepEqual(te,ee,!1)&&fail(te,ee,re,"notDeepEqual",notDeepEqual)}assert$1.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(te,ee,re){_deepEqual(te,ee,!0)&&fail(te,ee,re,"notDeepStrictEqual",notDeepStrictEqual)}assert$1.strictEqual=strictEqual;function strictEqual(te,ee,re){te!==ee&&fail(te,ee,re,"===",strictEqual)}assert$1.notStrictEqual=notStrictEqual;function notStrictEqual(te,ee,re){te===ee&&fail(te,ee,re,"!==",notStrictEqual)}function expectedException(te,ee){if(!te||!ee)return!1;if(Object.prototype.toString.call(ee)=="[object RegExp]")return ee.test(te);try{if(te instanceof ee)return!0}catch{}return Error.isPrototypeOf(ee)?!1:ee.call({},te)===!0}function _tryBlock(te){var ee;try{te()}catch(re){ee=re}return ee}function _throws(te,ee,re,ne){var oe;if(typeof ee!="function")throw new TypeError('"block" argument must be a function');typeof re=="string"&&(ne=re,re=null),oe=_tryBlock(ee),ne=(re&&re.name?" ("+re.name+").":".")+(ne?" "+ne:"."),te&&!oe&&fail(oe,re,"Missing expected exception"+ne);var ie=typeof ne=="string",se=!te&&isError$1(oe),ue=!te&&oe&&!re;if((se&&ie&&expectedException(oe,re)||ue)&&fail(oe,re,"Got unwanted exception"+ne),te&&oe&&re&&!expectedException(oe,re)||!te&&oe)throw oe}assert$1.throws=throws;function throws(te,ee,re){_throws(!0,te,ee,re)}assert$1.doesNotThrow=doesNotThrow;function doesNotThrow(te,ee,re){_throws(!1,te,ee,re)}assert$1.ifError=ifError;function ifError(te){if(te)throw te}class Layout{constructor(ee,re){if(!Number.isInteger(ee))throw new TypeError("span must be an integer");this.span=ee,this.property=re}makeDestinationObject(){return{}}decode(ee,re){throw new Error("Layout is abstract")}encode(ee,re,ne){throw new Error("Layout is abstract")}getSpan(ee,re){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(ee){const re=Object.create(this.constructor.prototype);return Object.assign(re,this),re.property=ee,re}fromArray(ee){}}function nameWithProperty(te,ee){return ee.property?te+"["+ee.property+"]":te}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class UInt extends Layout{constructor(ee,re){if(super(ee,re),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,re){return re===void 0&&(re=0),ee.readUIntLE(re,this.span)}encode(ee,re,ne){return ne===void 0&&(ne=0),re.writeUIntLE(ee,ne,this.span),this.span}}class Structure extends Layout{constructor(ee,re,ne){if(!(Array.isArray(ee)&&ee.reduce((ie,se)=>ie&&se instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof re=="boolean"&&ne===void 0&&(ne=re,re=void 0);for(const ie of ee)if(0>ie.span&&ie.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let oe=-1;try{oe=ee.reduce((ie,se)=>ie+se.getSpan(),0)}catch{}super(oe,re),this.fields=ee,this.decodePrefixes=!!ne}getSpan(ee,re){if(0<=this.span)return this.span;re===void 0&&(re=0);let ne=0;try{ne=this.fields.reduce((oe,ie)=>{const se=ie.getSpan(ee,re);return re+=se,oe+se},0)}catch{throw new RangeError("indeterminate span")}return ne}decode(ee,re){re===void 0&&(re=0);const ne=this.makeDestinationObject();for(const oe of this.fields)if(oe.property!==void 0&&(ne[oe.property]=oe.decode(ee,re)),re+=oe.getSpan(ee,re),this.decodePrefixes&&ee.length===re)break;return ne}encode(ee,re,ne){ne===void 0&&(ne=0);const oe=ne;let ie=0,se=0;for(const ue of this.fields){let he=ue.span;if(se=0<he?he:0,ue.property!==void 0){const ge=ee[ue.property];ge!==void 0&&(se=ue.encode(ge,re,ne),0>he&&(he=ue.getSpan(re,ne)))}ie=ne,ne+=he}return ie+se-oe}fromArray(ee){const re=this.makeDestinationObject();for(const ne of this.fields)ne.property!==void 0&&0<ee.length&&(re[ne.property]=ee.shift());return re}layoutFor(ee){if(typeof ee!="string")throw new TypeError("property must be string");for(const re of this.fields)if(re.property===ee)return re}offsetOf(ee){if(typeof ee!="string")throw new TypeError("property must be string");let re=0;for(const ne of this.fields){if(ne.property===ee)return re;0>ne.span?re=-1:0<=re&&(re+=ne.span)}}}class Blob$1 extends Layout{constructor(ee,re){if(!(ee instanceof ExternalLayout&&ee.isCount()||Number.isInteger(ee)&&0<=ee))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let ne=-1;ee instanceof ExternalLayout||(ne=ee),super(ne,re),this.length=ee}getSpan(ee,re){let ne=this.span;return 0>ne&&(ne=this.length.decode(ee,re)),ne}decode(ee,re){re===void 0&&(re=0);let ne=this.span;return 0>ne&&(ne=this.length.decode(ee,re)),ee.slice(re,re+ne)}encode(ee,re,ne){let oe=this.length;if(this.length instanceof ExternalLayout&&(oe=ee.length),!(buffer$1.Buffer.isBuffer(ee)&&oe===ee.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+oe+") Buffer as src");if(ne+oe>re.length)throw new RangeError("encoding overruns Buffer");return re.write(ee.toString("hex"),ne,oe,"hex"),this.length instanceof ExternalLayout&&this.length.encode(oe,re,ne),oe}}var u8=te=>new UInt(1,te),u32=te=>new UInt(4,te),struct$1=(te,ee,re)=>new Structure(te,ee,re),blob=(te,ee)=>new Blob$1(te,ee);const publicKey=(te="publicKey")=>blob(32,te),uint64=(te="uint64")=>blob(8,te);function sendAndConfirmTransaction(te,ee,re,...ne){return sendAndConfirmTransaction$1(ee,re,ne,{skipPreflight:!1})}const TOKEN_PROGRAM_ID$1=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),FAILED_TO_FIND_ACCOUNT="Failed to find account",INVALID_ACCOUNT_OWNER="Invalid account owner";function pubkeyToBuffer(te){return buffer$1.Buffer.from(te.toBuffer())}class u64$1 extends BN$f{toBuffer(){const ee=super.toArray().reverse(),re=buffer$1.Buffer.from(ee);if(re.length===8)return re;assert$1(re.length<8,"u64 too large");const ne=buffer$1.Buffer.alloc(8);return re.copy(ne),ne}static fromBuffer(ee){return assert$1(ee.length===8,`Invalid buffer length: ${ee.length}`),new u64$1([...ee].reverse().map(re=>`00${re.toString(16)}`.slice(-2)).join(""),16)}}function isAccount(te){return"publicKey"in te}const AuthorityTypeCodes={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},NATIVE_MINT=new PublicKey("So11111111111111111111111111111111111111112"),MintLayout=struct$1([u32("mintAuthorityOption"),publicKey("mintAuthority"),uint64("supply"),u8("decimals"),u8("isInitialized"),u32("freezeAuthorityOption"),publicKey("freezeAuthority")]),AccountLayout=struct$1([publicKey("mint"),publicKey("owner"),uint64("amount"),u32("delegateOption"),publicKey("delegate"),u8("state"),u32("isNativeOption"),uint64("isNative"),uint64("delegatedAmount"),u32("closeAuthorityOption"),publicKey("closeAuthority")]),MultisigLayout=struct$1([u8("m"),u8("n"),u8("is_initialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]);class Token{constructor(ee,re,ne,oe){_defineProperty$3(this,"connection",void 0),_defineProperty$3(this,"publicKey",void 0),_defineProperty$3(this,"programId",void 0),_defineProperty$3(this,"associatedProgramId",void 0),_defineProperty$3(this,"payer",void 0),Object.assign(this,{connection:ee,publicKey:re,programId:ne,payer:oe,associatedProgramId:ASSOCIATED_TOKEN_PROGRAM_ID})}static async getMinBalanceRentForExemptMint(ee){return await ee.getMinimumBalanceForRentExemption(MintLayout.span)}static async getMinBalanceRentForExemptAccount(ee){return await ee.getMinimumBalanceForRentExemption(AccountLayout.span)}static async getMinBalanceRentForExemptMultisig(ee){return await ee.getMinimumBalanceForRentExemption(MultisigLayout.span)}static async createMint(ee,re,ne,oe,ie,se){const ue=Keypair.generate(),he=new Token(ee,ue.publicKey,se,re),ge=await Token.getMinBalanceRentForExemptMint(ee),be=new Transaction$2;return be.add(SystemProgram.createAccount({fromPubkey:re.publicKey,newAccountPubkey:ue.publicKey,lamports:ge,space:MintLayout.span,programId:se})),be.add(Token.createInitMintInstruction(se,ue.publicKey,ie,ne,oe)),await sendAndConfirmTransaction("createAccount and InitializeMint",ee,be,re,ue),he}async createAccount(ee){const re=await Token.getMinBalanceRentForExemptAccount(this.connection),ne=Keypair.generate(),oe=new Transaction$2;oe.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:ne.publicKey,lamports:re,space:AccountLayout.span,programId:this.programId}));const ie=this.publicKey;return oe.add(Token.createInitAccountInstruction(this.programId,ie,ne.publicKey,ee)),await sendAndConfirmTransaction("createAccount and InitializeAccount",this.connection,oe,this.payer,ne),ne.publicKey}async createAssociatedTokenAccount(ee){const re=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,ee);return this.createAssociatedTokenAccountInternal(ee,re)}async createAssociatedTokenAccountInternal(ee,re){return await sendAndConfirmTransaction("CreateAssociatedTokenAccount",this.connection,new Transaction$2().add(Token.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,re,ee,this.payer.publicKey)),this.payer),re}async getOrCreateAssociatedAccountInfo(ee){const re=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,ee);try{return await this.getAccountInfo(re)}catch(ne){if(ne.message===FAILED_TO_FIND_ACCOUNT||ne.message===INVALID_ACCOUNT_OWNER){try{await this.createAssociatedTokenAccountInternal(ee,re)}catch{}return await this.getAccountInfo(re)}else throw ne}}static async createWrappedNativeAccount(ee,re,ne,oe,ie){const se=await Token.getMinBalanceRentForExemptAccount(ee),ue=Keypair.generate(),he=new Transaction$2;return he.add(SystemProgram.createAccount({fromPubkey:oe.publicKey,newAccountPubkey:ue.publicKey,lamports:se,space:AccountLayout.span,programId:re})),he.add(SystemProgram.transfer({fromPubkey:oe.publicKey,toPubkey:ue.publicKey,lamports:ie})),he.add(Token.createInitAccountInstruction(re,NATIVE_MINT,ue.publicKey,ne)),await sendAndConfirmTransaction("createAccount, transfer, and initializeAccount",ee,he,oe,ue),ue.publicKey}async createMultisig(ee,re){const ne=Keypair.generate(),oe=await Token.getMinBalanceRentForExemptMultisig(this.connection),ie=new Transaction$2;ie.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:ne.publicKey,lamports:oe,space:MultisigLayout.span,programId:this.programId}));let se=[{pubkey:ne.publicKey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];re.forEach(ge=>se.push({pubkey:ge,isSigner:!1,isWritable:!1}));const ue=struct$1([u8("instruction"),u8("m")]),he=buffer$1.Buffer.alloc(ue.span);return ue.encode({instruction:2,m:ee},he),ie.add({keys:se,programId:this.programId,data:he}),await sendAndConfirmTransaction("createAccount and InitializeMultisig",this.connection,ie,this.payer,ne),ne.publicKey}async getMintInfo(){const ee=await this.connection.getAccountInfo(this.publicKey);if(ee===null)throw new Error("Failed to find mint account");if(!ee.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(ee.owner)}`);if(ee.data.length!=MintLayout.span)throw new Error("Invalid mint size");const re=buffer$1.Buffer.from(ee.data),ne=MintLayout.decode(re);return ne.mintAuthorityOption===0?ne.mintAuthority=null:ne.mintAuthority=new PublicKey(ne.mintAuthority),ne.supply=u64$1.fromBuffer(ne.supply),ne.isInitialized=ne.isInitialized!=0,ne.freezeAuthorityOption===0?ne.freezeAuthority=null:ne.freezeAuthority=new PublicKey(ne.freezeAuthority),ne}async getAccountInfo(ee,re){const ne=await this.connection.getAccountInfo(ee,re);if(ne===null)throw new Error(FAILED_TO_FIND_ACCOUNT);if(!ne.owner.equals(this.programId))throw new Error(INVALID_ACCOUNT_OWNER);if(ne.data.length!=AccountLayout.span)throw new Error("Invalid account size");const oe=buffer$1.Buffer.from(ne.data),ie=AccountLayout.decode(oe);if(ie.address=ee,ie.mint=new PublicKey(ie.mint),ie.owner=new PublicKey(ie.owner),ie.amount=u64$1.fromBuffer(ie.amount),ie.delegateOption===0?(ie.delegate=null,ie.delegatedAmount=new u64$1):(ie.delegate=new PublicKey(ie.delegate),ie.delegatedAmount=u64$1.fromBuffer(ie.delegatedAmount)),ie.isInitialized=ie.state!==0,ie.isFrozen=ie.state===2,ie.isNativeOption===1?(ie.rentExemptReserve=u64$1.fromBuffer(ie.isNative),ie.isNative=!0):(ie.rentExemptReserve=null,ie.isNative=!1),ie.closeAuthorityOption===0?ie.closeAuthority=null:ie.closeAuthority=new PublicKey(ie.closeAuthority),!ie.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(ie.mint)} !== ${JSON.stringify(this.publicKey)}`);return ie}async getMultisigInfo(ee){const re=await this.connection.getAccountInfo(ee);if(re===null)throw new Error("Failed to find multisig");if(!re.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(re.data.length!=MultisigLayout.span)throw new Error("Invalid multisig size");const ne=buffer$1.Buffer.from(re.data),oe=MultisigLayout.decode(ne);return oe.signer1=new PublicKey(oe.signer1),oe.signer2=new PublicKey(oe.signer2),oe.signer3=new PublicKey(oe.signer3),oe.signer4=new PublicKey(oe.signer4),oe.signer5=new PublicKey(oe.signer5),oe.signer6=new PublicKey(oe.signer6),oe.signer7=new PublicKey(oe.signer7),oe.signer8=new PublicKey(oe.signer8),oe.signer9=new PublicKey(oe.signer9),oe.signer10=new PublicKey(oe.signer10),oe.signer11=new PublicKey(oe.signer11),oe}async transfer(ee,re,ne,oe,ie){let se,ue;return isAccount(ne)?(se=ne.publicKey,ue=[ne]):(se=ne,ue=oe),await sendAndConfirmTransaction("Transfer",this.connection,new Transaction$2().add(Token.createTransferInstruction(this.programId,ee,re,se,oe,ie)),this.payer,...ue)}async approve(ee,re,ne,oe,ie){let se,ue;isAccount(ne)?(se=ne.publicKey,ue=[ne]):(se=ne,ue=oe),await sendAndConfirmTransaction("Approve",this.connection,new Transaction$2().add(Token.createApproveInstruction(this.programId,ee,re,se,oe,ie)),this.payer,...ue)}async revoke(ee,re,ne){let oe,ie;isAccount(re)?(oe=re.publicKey,ie=[re]):(oe=re,ie=ne),await sendAndConfirmTransaction("Revoke",this.connection,new Transaction$2().add(Token.createRevokeInstruction(this.programId,ee,oe,ne)),this.payer,...ie)}async setAuthority(ee,re,ne,oe,ie){let se,ue;isAccount(oe)?(se=oe.publicKey,ue=[oe]):(se=oe,ue=ie),await sendAndConfirmTransaction("SetAuthority",this.connection,new Transaction$2().add(Token.createSetAuthorityInstruction(this.programId,ee,re,ne,se,ie)),this.payer,...ue)}async mintTo(ee,re,ne,oe){let ie,se;isAccount(re)?(ie=re.publicKey,se=[re]):(ie=re,se=ne),await sendAndConfirmTransaction("MintTo",this.connection,new Transaction$2().add(Token.createMintToInstruction(this.programId,this.publicKey,ee,ie,ne,oe)),this.payer,...se)}async burn(ee,re,ne,oe){let ie,se;isAccount(re)?(ie=re.publicKey,se=[re]):(ie=re,se=ne),await sendAndConfirmTransaction("Burn",this.connection,new Transaction$2().add(Token.createBurnInstruction(this.programId,this.publicKey,ee,ie,ne,oe)),this.payer,...se)}async closeAccount(ee,re,ne,oe){let ie,se;isAccount(ne)?(ie=ne.publicKey,se=[ne]):(ie=ne,se=oe),await sendAndConfirmTransaction("CloseAccount",this.connection,new Transaction$2().add(Token.createCloseAccountInstruction(this.programId,ee,re,ie,oe)),this.payer,...se)}async freezeAccount(ee,re,ne){let oe,ie;isAccount(re)?(oe=re.publicKey,ie=[re]):(oe=re,ie=ne),await sendAndConfirmTransaction("FreezeAccount",this.connection,new Transaction$2().add(Token.createFreezeAccountInstruction(this.programId,ee,this.publicKey,oe,ne)),this.payer,...ie)}async thawAccount(ee,re,ne){let oe,ie;isAccount(re)?(oe=re.publicKey,ie=[re]):(oe=re,ie=ne),await sendAndConfirmTransaction("ThawAccount",this.connection,new Transaction$2().add(Token.createThawAccountInstruction(this.programId,ee,this.publicKey,oe,ne)),this.payer,...ie)}async transferChecked(ee,re,ne,oe,ie,se){let ue,he;return isAccount(ne)?(ue=ne.publicKey,he=[ne]):(ue=ne,he=oe),await sendAndConfirmTransaction("TransferChecked",this.connection,new Transaction$2().add(Token.createTransferCheckedInstruction(this.programId,ee,this.publicKey,re,ue,oe,ie,se)),this.payer,...he)}async approveChecked(ee,re,ne,oe,ie,se){let ue,he;isAccount(ne)?(ue=ne.publicKey,he=[ne]):(ue=ne,he=oe),await sendAndConfirmTransaction("ApproveChecked",this.connection,new Transaction$2().add(Token.createApproveCheckedInstruction(this.programId,ee,this.publicKey,re,ue,oe,ie,se)),this.payer,...he)}async mintToChecked(ee,re,ne,oe,ie){let se,ue;isAccount(re)?(se=re.publicKey,ue=[re]):(se=re,ue=ne),await sendAndConfirmTransaction("MintToChecked",this.connection,new Transaction$2().add(Token.createMintToCheckedInstruction(this.programId,this.publicKey,ee,se,ne,oe,ie)),this.payer,...ue)}async burnChecked(ee,re,ne,oe,ie){let se,ue;isAccount(re)?(se=re.publicKey,ue=[re]):(se=re,ue=ne),await sendAndConfirmTransaction("BurnChecked",this.connection,new Transaction$2().add(Token.createBurnCheckedInstruction(this.programId,this.publicKey,ee,se,ne,oe,ie)),this.payer,...ue)}async syncNative(ee){await sendAndConfirmTransaction("SyncNative",this.connection,new Transaction$2().add(Token.createSyncNativeInstruction(this.programId,ee)),this.payer)}static createInitMintInstruction(ee,re,ne,oe,ie){let se=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const ue=struct$1([u8("instruction"),u8("decimals"),publicKey("mintAuthority"),u8("option"),publicKey("freezeAuthority")]);let he=buffer$1.Buffer.alloc(1024);{const ge=ue.encode({instruction:0,decimals:ne,mintAuthority:pubkeyToBuffer(oe),option:ie===null?0:1,freezeAuthority:pubkeyToBuffer(ie||new PublicKey(0))},he);he=he.slice(0,ge)}return new TransactionInstruction({keys:se,programId:ee,data:he})}static createInitAccountInstruction(ee,re,ne,oe){const ie=[{pubkey:ne,isSigner:!1,isWritable:!0},{pubkey:re,isSigner:!1,isWritable:!1},{pubkey:oe,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],se=struct$1([u8("instruction")]),ue=buffer$1.Buffer.alloc(se.span);return se.encode({instruction:1},ue),new TransactionInstruction({keys:ie,programId:ee,data:ue})}static createTransferInstruction(ee,re,ne,oe,ie,se){const ue=struct$1([u8("instruction"),uint64("amount")]),he=buffer$1.Buffer.alloc(ue.span);ue.encode({instruction:3,amount:new u64$1(se).toBuffer()},he);let ge=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!0}];return ie.length===0?ge.push({pubkey:oe,isSigner:!0,isWritable:!1}):(ge.push({pubkey:oe,isSigner:!1,isWritable:!1}),ie.forEach(be=>ge.push({pubkey:be.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:ge,programId:ee,data:he})}static createApproveInstruction(ee,re,ne,oe,ie,se){const ue=struct$1([u8("instruction"),uint64("amount")]),he=buffer$1.Buffer.alloc(ue.span);ue.encode({instruction:4,amount:new u64$1(se).toBuffer()},he);let ge=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1}];return ie.length===0?ge.push({pubkey:oe,isSigner:!0,isWritable:!1}):(ge.push({pubkey:oe,isSigner:!1,isWritable:!1}),ie.forEach(be=>ge.push({pubkey:be.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:ge,programId:ee,data:he})}static createRevokeInstruction(ee,re,ne,oe){const ie=struct$1([u8("instruction")]),se=buffer$1.Buffer.alloc(ie.span);ie.encode({instruction:5},se);let ue=[{pubkey:re,isSigner:!1,isWritable:!0}];return oe.length===0?ue.push({pubkey:ne,isSigner:!0,isWritable:!1}):(ue.push({pubkey:ne,isSigner:!1,isWritable:!1}),oe.forEach(he=>ue.push({pubkey:he.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:ue,programId:ee,data:se})}static createSetAuthorityInstruction(ee,re,ne,oe,ie,se){const ue=struct$1([u8("instruction"),u8("authorityType"),u8("option"),publicKey("newAuthority")]);let he=buffer$1.Buffer.alloc(1024);{const be=ue.encode({instruction:6,authorityType:AuthorityTypeCodes[oe],option:ne===null?0:1,newAuthority:pubkeyToBuffer(ne||new PublicKey(0))},he);he=he.slice(0,be)}let ge=[{pubkey:re,isSigner:!1,isWritable:!0}];return se.length===0?ge.push({pubkey:ie,isSigner:!0,isWritable:!1}):(ge.push({pubkey:ie,isSigner:!1,isWritable:!1}),se.forEach(be=>ge.push({pubkey:be.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:ge,programId:ee,data:he})}static createMintToInstruction(ee,re,ne,oe,ie,se){const ue=struct$1([u8("instruction"),uint64("amount")]),he=buffer$1.Buffer.alloc(ue.span);ue.encode({instruction:7,amount:new u64$1(se).toBuffer()},he);let ge=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!0}];return ie.length===0?ge.push({pubkey:oe,isSigner:!0,isWritable:!1}):(ge.push({pubkey:oe,isSigner:!1,isWritable:!1}),ie.forEach(be=>ge.push({pubkey:be.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:ge,programId:ee,data:he})}static createBurnInstruction(ee,re,ne,oe,ie,se){const ue=struct$1([u8("instruction"),uint64("amount")]),he=buffer$1.Buffer.alloc(ue.span);ue.encode({instruction:8,amount:new u64$1(se).toBuffer()},he);let ge=[{pubkey:ne,isSigner:!1,isWritable:!0},{pubkey:re,isSigner:!1,isWritable:!0}];return ie.length===0?ge.push({pubkey:oe,isSigner:!0,isWritable:!1}):(ge.push({pubkey:oe,isSigner:!1,isWritable:!1}),ie.forEach(be=>ge.push({pubkey:be.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:ge,programId:ee,data:he})}static createCloseAccountInstruction(ee,re,ne,oe,ie){const se=struct$1([u8("instruction")]),ue=buffer$1.Buffer.alloc(se.span);se.encode({instruction:9},ue);let he=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!0}];return ie.length===0?he.push({pubkey:oe,isSigner:!0,isWritable:!1}):(he.push({pubkey:oe,isSigner:!1,isWritable:!1}),ie.forEach(ge=>he.push({pubkey:ge.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:he,programId:ee,data:ue})}static createFreezeAccountInstruction(ee,re,ne,oe,ie){const se=struct$1([u8("instruction")]),ue=buffer$1.Buffer.alloc(se.span);se.encode({instruction:10},ue);let he=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1}];return ie.length===0?he.push({pubkey:oe,isSigner:!0,isWritable:!1}):(he.push({pubkey:oe,isSigner:!1,isWritable:!1}),ie.forEach(ge=>he.push({pubkey:ge.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:he,programId:ee,data:ue})}static createThawAccountInstruction(ee,re,ne,oe,ie){const se=struct$1([u8("instruction")]),ue=buffer$1.Buffer.alloc(se.span);se.encode({instruction:11},ue);let he=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1}];return ie.length===0?he.push({pubkey:oe,isSigner:!0,isWritable:!1}):(he.push({pubkey:oe,isSigner:!1,isWritable:!1}),ie.forEach(ge=>he.push({pubkey:ge.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:he,programId:ee,data:ue})}static createTransferCheckedInstruction(ee,re,ne,oe,ie,se,ue,he){const ge=struct$1([u8("instruction"),uint64("amount"),u8("decimals")]),be=buffer$1.Buffer.alloc(ge.span);ge.encode({instruction:12,amount:new u64$1(ue).toBuffer(),decimals:he},be);let Se=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:oe,isSigner:!1,isWritable:!0}];return se.length===0?Se.push({pubkey:ie,isSigner:!0,isWritable:!1}):(Se.push({pubkey:ie,isSigner:!1,isWritable:!1}),se.forEach(Te=>Se.push({pubkey:Te.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Se,programId:ee,data:be})}static createApproveCheckedInstruction(ee,re,ne,oe,ie,se,ue,he){const ge=struct$1([u8("instruction"),uint64("amount"),u8("decimals")]),be=buffer$1.Buffer.alloc(ge.span);ge.encode({instruction:13,amount:new u64$1(ue).toBuffer(),decimals:he},be);let Se=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:oe,isSigner:!1,isWritable:!1}];return se.length===0?Se.push({pubkey:ie,isSigner:!0,isWritable:!1}):(Se.push({pubkey:ie,isSigner:!1,isWritable:!1}),se.forEach(Te=>Se.push({pubkey:Te.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Se,programId:ee,data:be})}static createMintToCheckedInstruction(ee,re,ne,oe,ie,se,ue){const he=struct$1([u8("instruction"),uint64("amount"),u8("decimals")]),ge=buffer$1.Buffer.alloc(he.span);he.encode({instruction:14,amount:new u64$1(se).toBuffer(),decimals:ue},ge);let be=[{pubkey:re,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!0}];return ie.length===0?be.push({pubkey:oe,isSigner:!0,isWritable:!1}):(be.push({pubkey:oe,isSigner:!1,isWritable:!1}),ie.forEach(Se=>be.push({pubkey:Se.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:be,programId:ee,data:ge})}static createBurnCheckedInstruction(ee,re,ne,oe,ie,se,ue){const he=struct$1([u8("instruction"),uint64("amount"),u8("decimals")]),ge=buffer$1.Buffer.alloc(he.span);he.encode({instruction:15,amount:new u64$1(se).toBuffer(),decimals:ue},ge);let be=[{pubkey:ne,isSigner:!1,isWritable:!0},{pubkey:re,isSigner:!1,isWritable:!0}];return ie.length===0?be.push({pubkey:oe,isSigner:!0,isWritable:!1}):(be.push({pubkey:oe,isSigner:!1,isWritable:!1}),ie.forEach(Se=>be.push({pubkey:Se.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:be,programId:ee,data:ge})}static createSyncNativeInstruction(ee,re){const ne=struct$1([u8("instruction")]),oe=buffer$1.Buffer.alloc(ne.span);ne.encode({instruction:17},oe);let ie=[{pubkey:re,isSigner:!1,isWritable:!0}];return new TransactionInstruction({keys:ie,programId:ee,data:oe})}static async getAssociatedTokenAddress(ee,re,ne,oe,ie=!1){if(!ie&&!PublicKey.isOnCurve(oe.toBuffer()))throw new Error(`Owner cannot sign: ${oe.toString()}`);return(await PublicKey.findProgramAddress([oe.toBuffer(),re.toBuffer(),ne.toBuffer()],ee))[0]}static createAssociatedTokenAccountInstruction(ee,re,ne,oe,ie,se){const ue=buffer$1.Buffer.alloc(0);let he=[{pubkey:se,isSigner:!0,isWritable:!0},{pubkey:oe,isSigner:!1,isWritable:!0},{pubkey:ie,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:re,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:he,programId:ee,data:ue})}}var index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID,AccountLayout,MintLayout,NATIVE_MINT,TOKEN_PROGRAM_ID:TOKEN_PROGRAM_ID$1,Token,u64:u64$1},Symbol.toStringTag,{value:"Module"})),require$$1$3=getAugmentedNamespace(index_browser_esm),lib$3={},market={},layout={},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(layout,"__esModule",{value:!0});layout.setLayoutEncoder=layout.setLayoutDecoder=layout.accountFlagsLayout=layout.selfTradeBehaviorLayout=layout.orderTypeLayout=layout.sideLayout=layout.VersionedLayout=layout.WideBits=layout.u128=layout.i64=layout.u64=layout.publicKeyLayout=layout.zeros=void 0;const buffer_layout_1$1=Layout$2,web3_js_1$2=require$$0$4,bn_js_1$1=__importDefault$2(bn$4.exports);class Zeros extends buffer_layout_1$1.Blob{decode(ee,re){const ne=super.decode(ee,re);if(!ne.every(oe=>oe===0))throw new Error("nonzero padding bytes");return ne}}function zeros(te){return new Zeros(te)}layout.zeros=zeros;class PublicKeyLayout extends buffer_layout_1$1.Blob{constructor(ee){super(32,ee)}decode(ee,re){return new web3_js_1$2.PublicKey(super.decode(ee,re))}encode(ee,re,ne){return super.encode(ee.toBuffer(),re,ne)}}function publicKeyLayout(te){return new PublicKeyLayout(te)}layout.publicKeyLayout=publicKeyLayout;class BNLayout extends buffer_layout_1$1.Blob{decode(ee,re){return new bn_js_1$1.default(super.decode(ee,re),10,"le")}encode(ee,re,ne){return super.encode(ee.toArrayLike(buffer$2.Buffer,"le",this.span),re,ne)}}function u64(te){return new BNLayout(8,te)}layout.u64=u64;function i64(te){return new BNLayout(8,te)}layout.i64=i64;function u128(te){return new BNLayout(16,te)}layout.u128=u128;class WideBits extends buffer_layout_1$1.Layout{constructor(ee){super(8,ee),this._lower=buffer_layout_1$1.bits(buffer_layout_1$1.u32(),!1),this._upper=buffer_layout_1$1.bits(buffer_layout_1$1.u32(),!1)}addBoolean(ee){this._lower.fields.length<32?this._lower.addBoolean(ee):this._upper.addBoolean(ee)}decode(ee,re=0){const ne=this._lower.decode(ee,re),oe=this._upper.decode(ee,re+this._lower.span);return Nr(Nr({},ne),oe)}encode(ee,re,ne=0){return this._lower.encode(ee,re,ne)+this._upper.encode(ee,re,ne+this._lower.span)}}layout.WideBits=WideBits;class VersionedLayout extends buffer_layout_1$1.Layout{constructor(ee,re,ne){super(re.span>0?re.span+1:re.span,ne),this.version=ee,this.inner=re}decode(ee,re=0){return this.inner.decode(ee,re+1)}encode(ee,re,ne=0){return re.writeUInt8(this.version,ne),1+this.inner.encode(ee,re,ne+1)}getSpan(ee,re=0){return 1+this.inner.getSpan(ee,re+1)}}layout.VersionedLayout=VersionedLayout;class EnumLayout extends buffer_layout_1$1.UInt{constructor(ee,re,ne){super(re,ne),this.values=ee}encode(ee,re,ne){if(this.values[ee]!==void 0)return super.encode(this.values[ee],re,ne);throw new Error("Invalid "+this.property)}decode(ee,re){const ne=super.decode(ee,re),oe=Object.entries(this.values).find(([,ie])=>ie===ne);if(oe)return oe[0];throw new Error("Invalid "+this.property)}}function sideLayout(te){return new EnumLayout({buy:0,sell:1},4,te)}layout.sideLayout=sideLayout;function orderTypeLayout(te){return new EnumLayout({limit:0,ioc:1,postOnly:2},4,te)}layout.orderTypeLayout=orderTypeLayout;function selfTradeBehaviorLayout(te){return new EnumLayout({decrementTake:0,cancelProvide:1,abortTransaction:2},4,te)}layout.selfTradeBehaviorLayout=selfTradeBehaviorLayout;const ACCOUNT_FLAGS_LAYOUT=new WideBits;ACCOUNT_FLAGS_LAYOUT.addBoolean("initialized");ACCOUNT_FLAGS_LAYOUT.addBoolean("market");ACCOUNT_FLAGS_LAYOUT.addBoolean("openOrders");ACCOUNT_FLAGS_LAYOUT.addBoolean("requestQueue");ACCOUNT_FLAGS_LAYOUT.addBoolean("eventQueue");ACCOUNT_FLAGS_LAYOUT.addBoolean("bids");ACCOUNT_FLAGS_LAYOUT.addBoolean("asks");function accountFlagsLayout(te="accountFlags"){return ACCOUNT_FLAGS_LAYOUT.replicate(te)}layout.accountFlagsLayout=accountFlagsLayout;function setLayoutDecoder(te,ee){const re=te.decode;te.decode=function(oe,ie=0){return ee(re.call(this,oe,ie))}}layout.setLayoutDecoder=setLayoutDecoder;function setLayoutEncoder(te,ee){const re=te.encode;return te.encode=function(oe,ie,se){return re.call(this,ee(oe),ie,se)},te}layout.setLayoutEncoder=setLayoutEncoder;var slab={};(function(te){var ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(he){return he&&he.__esModule?he:{default:he}};Object.defineProperty(te,"__esModule",{value:!0}),te.Slab=te.SLAB_LAYOUT=void 0;const re=ee(bn$4.exports),ne=Layout$2,oe=layout,ie=ne.struct([ne.u32("bumpIndex"),oe.zeros(4),ne.u32("freeListLen"),oe.zeros(4),ne.u32("freeListHead"),ne.u32("root"),ne.u32("leafCount"),oe.zeros(4)],"header"),se=ne.union(ne.u32("tag"),ne.blob(68),"node");se.addVariant(0,ne.struct([]),"uninitialized"),se.addVariant(1,ne.struct([ne.u32("prefixLen"),oe.u128("key"),ne.seq(ne.u32(),2,"children")]),"innerNode"),se.addVariant(2,ne.struct([ne.u8("ownerSlot"),ne.u8("feeTier"),ne.blob(2),oe.u128("key"),oe.publicKeyLayout("owner"),oe.u64("quantity"),oe.u64("clientOrderId")]),"leafNode"),se.addVariant(3,ne.struct([ne.u32("next")]),"freeNode"),se.addVariant(4,ne.struct([]),"lastFreeNode"),te.SLAB_LAYOUT=ne.struct([ie,ne.seq(se,ne.offset(ie.layoutFor("bumpIndex"),ie.offsetOf("bumpIndex")-ie.span),"nodes")]);class ue{constructor(ge,be){this.header=ge,this.nodes=be}static decode(ge){return te.SLAB_LAYOUT.decode(ge)}get(ge){if(this.header.leafCount===0)return null;ge instanceof re.default||(ge=new re.default(ge));let be=this.header.root;for(;;){const{leafNode:Se,innerNode:Te}=this.nodes[be];if(Se)return Se.key.eq(ge)?Se:null;if(Te){if(!Te.key.xor(ge).iushrn(128-Te.prefixLen).isZero())return null;be=Te.children[ge.testn(128-Te.prefixLen-1)?1:0]}else throw new Error("Invalid slab")}}[Symbol.iterator](){return this.items(!1)}*items(ge=!1){if(this.header.leafCount===0)return;const be=[this.header.root];for(;be.length>0;){const Se=be.pop(),{leafNode:Te,innerNode:ke}=this.nodes[Se];Te?yield Te:ke&&(ge?be.push(ke.children[0],ke.children[1]):be.push(ke.children[1],ke.children[0]))}}}te.Slab=ue,oe.setLayoutDecoder(te.SLAB_LAYOUT,({header:he,nodes:ge})=>new ue(he,ge))})(slab);var instructions$1={},tokenInstructions={};(function(te){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(He,Ke,Ge,ut){ut===void 0&&(ut=Ge),Object.defineProperty(He,ut,{enumerable:!0,get:function(){return Ke[Ge]}})}:function(He,Ke,Ge,ut){ut===void 0&&(ut=Ge),He[ut]=Ke[Ge]}),re=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(He,Ke){Object.defineProperty(He,"default",{enumerable:!0,value:Ke})}:function(He,Ke){He.default=Ke}),ne=commonjsGlobal&&commonjsGlobal.__importStar||function(He){if(He&&He.__esModule)return He;var Ke={};if(He!=null)for(var Ge in He)Ge!=="default"&&Object.prototype.hasOwnProperty.call(He,Ge)&&ee(Ke,He,Ge);return re(Ke,He),Ke};Object.defineProperty(te,"__esModule",{value:!0}),te.closeAccount=te.mintTo=te.setAuthority=te.revoke=te.approve=te.transfer=te.initializeAccount=te.initializeMint=te.decodeTokenInstructionData=te.SRM_DECIMALS=te.SRM_MINT=te.MSRM_DECIMALS=te.MSRM_MINT=te.WRAPPED_SOL_MINT=te.TOKEN_PROGRAM_ID=te.CLOSE_ACCOUNT_OWNER_INDEX=te.CLOSE_ACCOUNT_DESTINATION_INDEX=te.CLOSE_ACCOUNT_SOURCE_INDEX=te.TRANSFER_OWNER_INDEX=te.TRANSFER_DESTINATION_INDEX=te.TRANSFER_SOURCE_INDEX=te.INITIALIZE_ACCOUNT_OWNER_INDEX=te.INITIALIZE_ACCOUNT_MINT_INDEX=te.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=void 0;const oe=ne(Layout$2),ie=require$$0$4,se=layout;te.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=0,te.INITIALIZE_ACCOUNT_MINT_INDEX=1,te.INITIALIZE_ACCOUNT_OWNER_INDEX=2,te.TRANSFER_SOURCE_INDEX=0,te.TRANSFER_DESTINATION_INDEX=1,te.TRANSFER_OWNER_INDEX=2,te.CLOSE_ACCOUNT_SOURCE_INDEX=0,te.CLOSE_ACCOUNT_DESTINATION_INDEX=1,te.CLOSE_ACCOUNT_OWNER_INDEX=2,te.TOKEN_PROGRAM_ID=new ie.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),te.WRAPPED_SOL_MINT=new ie.PublicKey("So11111111111111111111111111111111111111112"),te.MSRM_MINT=new ie.PublicKey("MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L"),te.MSRM_DECIMALS=0,te.SRM_MINT=new ie.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),te.SRM_DECIMALS=6;const ue=oe.union(oe.u8("instruction"));ue.addVariant(0,oe.struct([oe.u8("decimals"),se.publicKeyLayout("mintAuthority"),oe.u8("freezeAuthorityOption"),se.publicKeyLayout("freezeAuthority")]),"initializeMint"),ue.addVariant(1,oe.struct([]),"initializeAccount"),ue.addVariant(3,oe.struct([oe.nu64("amount")]),"transfer"),ue.addVariant(4,oe.struct([oe.nu64("amount")]),"approve"),ue.addVariant(5,oe.struct([]),"revoke"),ue.addVariant(6,oe.struct([oe.u8("authorityType"),oe.u8("newAuthorityOption"),se.publicKeyLayout("newAuthority")]),"setAuthority"),ue.addVariant(7,oe.struct([oe.nu64("amount")]),"mintTo"),ue.addVariant(8,oe.struct([oe.nu64("amount")]),"burn"),ue.addVariant(9,oe.struct([]),"closeAccount");const he=Math.max(...Object.values(ue.registry).map(He=>He.span));function ge(He){const Ke=buffer$2.Buffer.alloc(he),Ge=ue.encode(He,Ke);return Ke.slice(0,Ge)}function be(He){return ue.decode(He)}te.decodeTokenInstructionData=be;function Se({mint:He,decimals:Ke,mintAuthority:Ge,freezeAuthority:ut=null}){const Ve=[{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:ie.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new ie.TransactionInstruction({keys:Ve,data:ge({initializeMint:{decimals:Ke,mintAuthority:Ge,freezeAuthorityOption:!!ut,freezeAuthority:ut||new ie.PublicKey(0)}}),programId:te.TOKEN_PROGRAM_ID})}te.initializeMint=Se;function Te({account:He,mint:Ke,owner:Ge}){const ut=[{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!1},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:ie.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new ie.TransactionInstruction({keys:ut,data:ge({initializeAccount:{}}),programId:te.TOKEN_PROGRAM_ID})}te.initializeAccount=Te;function ke({source:He,destination:Ke,amount:Ge,owner:ut}){const Ve=[{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!0},{pubkey:ut,isSigner:!0,isWritable:!1}];return new ie.TransactionInstruction({keys:Ve,data:ge({transfer:{amount:Ge}}),programId:te.TOKEN_PROGRAM_ID})}te.transfer=ke;function Re({source:He,delegate:Ke,amount:Ge,owner:ut}){const Ve=[{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!1},{pubkey:ut,isSigner:!0,isWritable:!1}];return new ie.TransactionInstruction({keys:Ve,data:ge({approve:{amount:Ge}}),programId:te.TOKEN_PROGRAM_ID})}te.approve=Re;function Ce({source:He,owner:Ke}){const Ge=[{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!0,isWritable:!1}];return new ie.TransactionInstruction({keys:Ge,data:ge({revoke:{}}),programId:te.TOKEN_PROGRAM_ID})}te.revoke=Ce;function Pe({target:He,currentAuthority:Ke,newAuthority:Ge,authorityType:ut}){const Ve=[{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!0,isWritable:!1}];return new ie.TransactionInstruction({keys:Ve,data:ge({setAuthority:{authorityType:ut,newAuthorityOption:!!Ge,newAuthority:Ge}}),programId:te.TOKEN_PROGRAM_ID})}te.setAuthority=Pe;function Ie({mint:He,destination:Ke,amount:Ge,mintAuthority:ut}){const Ve=[{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!0},{pubkey:ut,isSigner:!0,isWritable:!1}];return new ie.TransactionInstruction({keys:Ve,data:ge({mintTo:{amount:Ge}}),programId:te.TOKEN_PROGRAM_ID})}te.mintTo=Ie;function Ne({source:He,destination:Ke,owner:Ge}){const ut=[{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!0,isWritable:!1}];return new ie.TransactionInstruction({keys:ut,data:ge({closeAccount:{}}),programId:te.TOKEN_PROGRAM_ID})}te.closeAccount=Ne})(tokenInstructions);(function(te){var ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(ke){return ke&&ke.__esModule?ke:{default:ke}};Object.defineProperty(te,"__esModule",{value:!0}),te.DexInstructions=te.decodeInstructionV2=te.decodeInstruction=te.encodeInstructionV2=te.encodeInstruction=te.INSTRUCTION_LAYOUT_V2=te.INSTRUCTION_LAYOUT=te.NEW_ORDER_V3_OWNER_INDEX=te.NEW_ORDER_V3_OPEN_ORDERS_INDEX=te.NEW_ORDER_OWNER_INDEX=te.NEW_ORDER_OPEN_ORDERS_INDEX=te.SETTLE_FUNDS_QUOTE_WALLET_INDEX=te.SETTLE_FUNDS_BASE_WALLET_INDEX=void 0;const re=Layout$2,ne=layout,oe=require$$0$4,ie=tokenInstructions,se=ee(bn$4.exports);te.SETTLE_FUNDS_BASE_WALLET_INDEX=5,te.SETTLE_FUNDS_QUOTE_WALLET_INDEX=6,te.NEW_ORDER_OPEN_ORDERS_INDEX=1,te.NEW_ORDER_OWNER_INDEX=4,te.NEW_ORDER_V3_OPEN_ORDERS_INDEX=1,te.NEW_ORDER_V3_OWNER_INDEX=7,te.INSTRUCTION_LAYOUT=new ne.VersionedLayout(0,re.union(re.u32("instruction"))),te.INSTRUCTION_LAYOUT.inner.addVariant(0,re.struct([ne.u64("baseLotSize"),ne.u64("quoteLotSize"),re.u16("feeRateBps"),ne.u64("vaultSignerNonce"),ne.u64("quoteDustThreshold")]),"initializeMarket"),te.INSTRUCTION_LAYOUT.inner.addVariant(1,re.struct([ne.sideLayout("side"),ne.u64("limitPrice"),ne.u64("maxQuantity"),ne.orderTypeLayout("orderType"),ne.u64("clientId")]),"newOrder"),te.INSTRUCTION_LAYOUT.inner.addVariant(2,re.struct([re.u16("limit")]),"matchOrders"),te.INSTRUCTION_LAYOUT.inner.addVariant(3,re.struct([re.u16("limit")]),"consumeEvents"),te.INSTRUCTION_LAYOUT.inner.addVariant(4,re.struct([ne.sideLayout("side"),ne.u128("orderId"),ne.publicKeyLayout("openOrders"),re.u8("openOrdersSlot")]),"cancelOrder"),te.INSTRUCTION_LAYOUT.inner.addVariant(5,re.struct([]),"settleFunds"),te.INSTRUCTION_LAYOUT.inner.addVariant(6,re.struct([ne.u64("clientId")]),"cancelOrderByClientId"),te.INSTRUCTION_LAYOUT.inner.addVariant(10,re.struct([ne.sideLayout("side"),ne.u64("limitPrice"),ne.u64("maxBaseQuantity"),ne.u64("maxQuoteQuantity"),ne.selfTradeBehaviorLayout("selfTradeBehavior"),ne.orderTypeLayout("orderType"),ne.u64("clientId"),re.u16("limit")]),"newOrderV3"),te.INSTRUCTION_LAYOUT.inner.addVariant(11,re.struct([ne.sideLayout("side"),ne.u128("orderId")]),"cancelOrderV2"),te.INSTRUCTION_LAYOUT.inner.addVariant(12,re.struct([ne.u64("clientId")]),"cancelOrderByClientIdV2"),te.INSTRUCTION_LAYOUT.inner.addVariant(14,re.struct([]),"closeOpenOrders"),te.INSTRUCTION_LAYOUT.inner.addVariant(15,re.struct([]),"initOpenOrders"),te.INSTRUCTION_LAYOUT.inner.addVariant(16,re.struct([re.u16("limit")]),"prune"),te.INSTRUCTION_LAYOUT.inner.addVariant(17,re.struct([re.u16("limit")]),"consumeEventsPermissioned"),te.INSTRUCTION_LAYOUT.inner.addVariant(18,re.struct([re.seq(ne.u64(),8,"clientIds")]),"cancelOrdersByClientIds");const ue=()=>re.struct([ne.sideLayout("side"),ne.u64("limitPrice"),ne.u64("maxBaseQuantity"),ne.u64("maxQuoteQuantity"),ne.selfTradeBehaviorLayout("selfTradeBehavior"),ne.orderTypeLayout("orderType"),ne.u64("clientId"),re.u16("limit"),ne.i64("maxTs")]);te.INSTRUCTION_LAYOUT.inner.addVariant(19,ue(),"replaceOrderByClientId"),te.INSTRUCTION_LAYOUT.inner.addVariant(20,re.struct([ne.u64("orderAmount"),re.seq(ue(),8,"orders")]),"replaceOrdersByClientIds"),te.INSTRUCTION_LAYOUT_V2=new ne.VersionedLayout(0,re.union(re.u32("instruction"))),te.INSTRUCTION_LAYOUT_V2.inner.addVariant(10,ue(),"newOrderV3");function he(ke,Re=100){const Ce=buffer$2.Buffer.alloc(Re);return Ce.slice(0,te.INSTRUCTION_LAYOUT.encode(ke,Ce))}te.encodeInstruction=he;function ge(ke){const Re=buffer$2.Buffer.alloc(100);return Re.slice(0,te.INSTRUCTION_LAYOUT_V2.encode(ke,Re))}te.encodeInstructionV2=ge;function be(ke){return te.INSTRUCTION_LAYOUT.decode(ke)}te.decodeInstruction=be;function Se(ke){return te.INSTRUCTION_LAYOUT_V2.decode(ke)}te.decodeInstructionV2=Se;class Te{static initializeMarket({market:Re,requestQueue:Ce,eventQueue:Pe,bids:Ie,asks:Ne,baseVault:He,quoteVault:Ke,baseMint:Ge,quoteMint:ut,baseLotSize:Ve,quoteLotSize:nt,feeRateBps:st,vaultSignerNonce:qe,quoteDustThreshold:ye,programId:ae,authority:ce=void 0,pruneAuthority:le=void 0,crankAuthority:pe=void 0}){return new oe.PublicKey("SysvarRent111111111111111111111111111111111"),new oe.TransactionInstruction({keys:[{pubkey:Re,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!0},{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!1},{pubkey:ce?ut:oe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(ce?{pubkey:ce,isSigner:!1,isWritable:!1}:[]).concat(ce&&le?{pubkey:le,isSigner:!1,isWritable:!1}:[]).concat(ce&&le&&pe?{pubkey:pe,isSigner:!1,isWritable:!1}:[]),programId:ae,data:he({initializeMarket:{baseLotSize:Ve,quoteLotSize:nt,feeRateBps:st,vaultSignerNonce:qe,quoteDustThreshold:ye}})})}static newOrder({market:Re,openOrders:Ce,payer:Pe,owner:Ie,requestQueue:Ne,baseVault:He,quoteVault:Ke,side:Ge,limitPrice:ut,maxQuantity:Ve,orderType:nt,clientId:st,programId:qe,feeDiscountPubkey:ye=null}){const ae=[{pubkey:Re,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!0,isWritable:!1},{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!0},{pubkey:ie.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:oe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return ye&&ae.push({pubkey:ye,isSigner:!1,isWritable:!1}),new oe.TransactionInstruction({keys:ae,programId:qe,data:he({newOrder:st?{side:Ge,limitPrice:ut,maxQuantity:Ve,orderType:nt,clientId:st}:{side:Ge,limitPrice:ut,maxQuantity:Ve,orderType:nt}})})}static newOrderV3({market:Re,openOrders:Ce,payer:Pe,owner:Ie,requestQueue:Ne,eventQueue:He,bids:Ke,asks:Ge,baseVault:ut,quoteVault:Ve,side:nt,limitPrice:st,maxBaseQuantity:qe,maxQuoteQuantity:ye,orderType:ae,clientId:ce,programId:le,selfTradeBehavior:pe,feeDiscountPubkey:_e=null,maxTs:$e=null,replaceIfExists:Ee=!1}){const me=[{pubkey:Re,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!0},{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!0,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!0},{pubkey:Ve,isSigner:!1,isWritable:!0},{pubkey:ie.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:oe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];_e&&me.push({pubkey:_e,isSigner:!1,isWritable:!1});let fe,we;return Ee?(fe="replaceOrderByClientId",we=he):(fe="newOrderV3",we=$e?ge:he),new oe.TransactionInstruction({keys:me,programId:le,data:we({[fe]:{side:nt,limitPrice:st,maxBaseQuantity:qe,maxQuoteQuantity:ye,selfTradeBehavior:pe,orderType:ae,clientId:ce,limit:65535,maxTs:new se.default($e!=null?$e:"9223372036854775807")}})})}static replaceOrdersByClientIds({market:Re,openOrders:Ce,payer:Pe,owner:Ie,requestQueue:Ne,eventQueue:He,bids:Ke,asks:Ge,baseVault:ut,quoteVault:Ve,feeDiscountPubkey:nt=null,programId:st,orders:qe}){const ye=[{pubkey:Re,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!0},{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!0,isWritable:!1},{pubkey:ut,isSigner:!1,isWritable:!0},{pubkey:Ve,isSigner:!1,isWritable:!0},{pubkey:ie.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:oe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return nt&&ye.push({pubkey:nt,isSigner:!1,isWritable:!1}),new oe.TransactionInstruction({keys:ye,programId:st,data:he({replaceOrdersByClientIds:{orderAmount:new se.default(qe.length),orders:qe.map(ae=>{var ce;return jr(Nr({},ae),{maxTs:new se.default((ce=ae.maxTs)!==null&&ce!==void 0?ce:"9223372036854775807"),limit:65535})})}},15+qe.length*60).slice(0,13+qe.length*54)})}static matchOrders({market:Re,requestQueue:Ce,eventQueue:Pe,bids:Ie,asks:Ne,baseVault:He,quoteVault:Ke,limit:Ge,programId:ut}){return new oe.TransactionInstruction({keys:[{pubkey:Re,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!0},{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!0}],programId:ut,data:he({matchOrders:{limit:Ge}})})}static consumeEvents({market:Re,eventQueue:Ce,coinFee:Pe,pcFee:Ie,openOrdersAccounts:Ne,limit:He,programId:Ke}){return new oe.TransactionInstruction({keys:[...Ne.map(Ge=>({pubkey:Ge,isSigner:!1,isWritable:!0})),{pubkey:Re,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!1,isWriteable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0}],programId:Ke,data:he({consumeEvents:{limit:He}})})}static consumeEventsPermissioned({market:Re,eventQueue:Ce,crankAuthority:Pe,openOrdersAccounts:Ie,limit:Ne,programId:He}){return new oe.TransactionInstruction({keys:[...Ie.map(Ke=>({pubkey:Ke,isSigner:!1,isWritable:!0})),{pubkey:Re,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!0,isWritable:!1}],programId:He,data:he({consumeEventsPermissioned:{limit:Ne}})})}static cancelOrder({market:Re,openOrders:Ce,owner:Pe,requestQueue:Ie,side:Ne,orderId:He,openOrdersSlot:Ke,programId:Ge}){return new oe.TransactionInstruction({keys:[{pubkey:Re,isSigner:!1,isWritable:!1},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!0,isWritable:!1}],programId:Ge,data:he({cancelOrder:{side:Ne,orderId:He,openOrders:Ce,openOrdersSlot:Ke}})})}static cancelOrderV2(Re){const{market:Ce,bids:Pe,asks:Ie,eventQueue:Ne,openOrders:He,owner:Ke,side:Ge,orderId:ut,programId:Ve}=Re;return new oe.TransactionInstruction({keys:[{pubkey:Ce,isSigner:!1,isWritable:!1},{pubkey:Pe,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!0,isWritable:!1},{pubkey:Ne,isSigner:!1,isWritable:!0}],programId:Ve,data:he({cancelOrderV2:{side:Ge,orderId:ut}})})}static cancelOrderByClientId({market:Re,openOrders:Ce,owner:Pe,requestQueue:Ie,clientId:Ne,programId:He}){return new oe.TransactionInstruction({keys:[{pubkey:Re,isSigner:!1,isWritable:!1},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!0,isWritable:!1}],programId:He,data:he({cancelOrderByClientId:{clientId:Ne}})})}static cancelOrderByClientIdV2({market:Re,openOrders:Ce,owner:Pe,bids:Ie,asks:Ne,eventQueue:He,clientId:Ke,programId:Ge}){return new oe.TransactionInstruction({keys:[{pubkey:Re,isSigner:!1,isWritable:!1},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!0,isWritable:!1},{pubkey:He,isSigner:!1,isWritable:!0}],programId:Ge,data:he({cancelOrderByClientIdV2:{clientId:Ke}})})}static cancelOrdersByClientIds({market:Re,openOrders:Ce,owner:Pe,bids:Ie,asks:Ne,eventQueue:He,clientIds:Ke,programId:Ge}){if(Ke.length>8)throw new Error("Number of client ids cannot exceed 8!");for(;Ke.length<8;)Ke.push(new se.default(0));return new oe.TransactionInstruction({keys:[{pubkey:Re,isSigner:!1,isWritable:!1},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!0,isWritable:!1},{pubkey:He,isSigner:!1,isWritable:!0}],programId:Ge,data:he({cancelOrdersByClientIds:{clientIds:Ke}})})}static settleFunds({market:Re,openOrders:Ce,owner:Pe,baseVault:Ie,quoteVault:Ne,baseWallet:He,quoteWallet:Ke,vaultSigner:Ge,programId:ut,referrerQuoteWallet:Ve=null}){const nt=[{pubkey:Re,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!0,isWritable:!1},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!0},{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:ie.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return Ve&&nt.push({pubkey:Ve,isSigner:!1,isWritable:!0}),new oe.TransactionInstruction({keys:nt,programId:ut,data:he({settleFunds:{}})})}static closeOpenOrders({market:Re,openOrders:Ce,owner:Pe,solWallet:Ie,programId:Ne}){const He=[{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!0,isWritable:!1},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:Re,isSigner:!1,isWritable:!1}];return new oe.TransactionInstruction({keys:He,programId:Ne,data:he({closeOpenOrders:{}})})}static initOpenOrders({market:Re,openOrders:Ce,owner:Pe,programId:Ie,marketAuthority:Ne}){const He=[{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!0,isWritable:!1},{pubkey:Re,isSigner:!1,isWritable:!1},{pubkey:oe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(Ne?{pubkey:Ne,isSigner:!1,isWritable:!1}:[]);return new oe.TransactionInstruction({keys:He,programId:Ie,data:he({initOpenOrders:{}})})}static prune({market:Re,bids:Ce,asks:Pe,eventQueue:Ie,pruneAuthority:Ne,openOrders:He,openOrdersOwner:Ke,programId:Ge,limit:ut}){const Ve=[{pubkey:Re,isSigner:!1,isWritable:!0},{pubkey:Ce,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!1,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!1},{pubkey:He,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!1},{pubkey:Ie,isSigner:!1,isWritable:!0}];return new oe.TransactionInstruction({keys:Ve,programId:Ge,data:he({prune:{limit:ut}})})}}te.DexInstructions=Te})(instructions$1);var queue={};Object.defineProperty(queue,"__esModule",{value:!0});queue.EVENT_QUEUE_LAYOUT=queue.REQUEST_QUEUE_LAYOUT=queue.decodeEventQueue=queue.decodeRequestQueue=queue.decodeEventsSince=void 0;const buffer_layout_1=Layout$2,layout_1=layout,REQUEST_QUEUE_HEADER=buffer_layout_1.struct([buffer_layout_1.blob(5),layout_1.accountFlagsLayout("accountFlags"),buffer_layout_1.u32("head"),layout_1.zeros(4),buffer_layout_1.u32("count"),layout_1.zeros(4),buffer_layout_1.u32("nextSeqNum"),layout_1.zeros(4)]),REQUEST_FLAGS=buffer_layout_1.bits(buffer_layout_1.u8(),!1,"requestFlags");REQUEST_FLAGS.addBoolean("newOrder");REQUEST_FLAGS.addBoolean("cancelOrder");REQUEST_FLAGS.addBoolean("bid");REQUEST_FLAGS.addBoolean("postOnly");REQUEST_FLAGS.addBoolean("ioc");const REQUEST=buffer_layout_1.struct([REQUEST_FLAGS,buffer_layout_1.u8("openOrdersSlot"),buffer_layout_1.u8("feeTier"),buffer_layout_1.blob(5),layout_1.u64("maxBaseSizeOrCancelId"),layout_1.u64("nativeQuoteQuantityLocked"),layout_1.u128("orderId"),layout_1.publicKeyLayout("openOrders"),layout_1.u64("clientOrderId")]),EVENT_QUEUE_HEADER=buffer_layout_1.struct([buffer_layout_1.blob(5),layout_1.accountFlagsLayout("accountFlags"),buffer_layout_1.u32("head"),layout_1.zeros(4),buffer_layout_1.u32("count"),layout_1.zeros(4),buffer_layout_1.u32("seqNum"),layout_1.zeros(4)]),EVENT_FLAGS=buffer_layout_1.bits(buffer_layout_1.u8(),!1,"eventFlags");EVENT_FLAGS.addBoolean("fill");EVENT_FLAGS.addBoolean("out");EVENT_FLAGS.addBoolean("bid");EVENT_FLAGS.addBoolean("maker");const EVENT=buffer_layout_1.struct([EVENT_FLAGS,buffer_layout_1.u8("openOrdersSlot"),buffer_layout_1.u8("feeTier"),buffer_layout_1.blob(5),layout_1.u64("nativeQuantityReleased"),layout_1.u64("nativeQuantityPaid"),layout_1.u64("nativeFeeOrRebate"),layout_1.u128("orderId"),layout_1.publicKeyLayout("openOrders"),layout_1.u64("clientOrderId")]);function decodeQueueItem(te,ee,re,ne){return ee.decode(re,te.span+ne*ee.span)}function decodeQueue(te,ee,re,ne){const oe=te.decode(re),ie=Math.floor((re.length-te.span)/ee.span),se=[];if(ne)for(let ue=0;ue<Math.min(ne,ie);++ue){const he=(oe.head+oe.count+ie-1-ue)%ie;se.push(decodeQueueItem(te,ee,re,he))}else for(let ue=0;ue<oe.count;++ue){const he=(oe.head+ue)%ie;se.push(decodeQueueItem(te,ee,re,he))}return{header:oe,nodes:se}}function decodeEventsSince(te,ee){const re=EVENT_QUEUE_HEADER.decode(te),ne=Math.floor((te.length-EVENT_QUEUE_HEADER.span)/EVENT.span),oe=4294967296;let ie=(re.seqNum-ee+oe)%oe;ie>ne&&(ie=ne-1);const se=(re.seqNum-ie+oe)%oe,he=((re.head+re.count)%ne-ie+ne)%ne,ge=[];for(let be=0;be<ie;++be){const Se=(he+be)%ne,Te=decodeQueueItem(EVENT_QUEUE_HEADER,EVENT,te,Se);Te.seqNum=(se+be)%oe,ge.push(Te)}return ge}queue.decodeEventsSince=decodeEventsSince;function decodeRequestQueue(te,ee){const{header:re,nodes:ne}=decodeQueue(REQUEST_QUEUE_HEADER,REQUEST,te,ee);if(!re.accountFlags.initialized||!re.accountFlags.requestQueue)throw new Error("Invalid requests queue");return ne}queue.decodeRequestQueue=decodeRequestQueue;function decodeEventQueue(te,ee){const{header:re,nodes:ne}=decodeQueue(EVENT_QUEUE_HEADER,EVENT,te,ee);if(!re.accountFlags.initialized||!re.accountFlags.eventQueue)throw new Error("Invalid events queue");return ne}queue.decodeEventQueue=decodeEventQueue;queue.REQUEST_QUEUE_LAYOUT={HEADER:REQUEST_QUEUE_HEADER,NODE:REQUEST};queue.EVENT_QUEUE_LAYOUT={HEADER:EVENT_QUEUE_HEADER,NODE:EVENT};var fees$1={},tokens_and_markets={},require$$1$2=[{address:"B37pZmwrwXHjpgvd9hHDAx1yeDsNevTnbbrN9W12BoGK",deprecated:!0,name:"soALEPH/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"CAgAeMD7quTdnr6RPa7JySQpjf3irAmefYNdTb6anemq",deprecated:!0,name:"BTC/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"ASKiV944nKg1W9vsf7hf3fTsjawK6DwLwrnB2LH9n61c",deprecated:!0,name:"soETH/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"Cdp72gDcYMCLLk3aDkPxjeiirKoFqK38ECm8Ywvk94Wi",deprecated:!0,name:"SOL/soUSDC",programId:"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{address:"68J6nkWToik6oM9rTatKSR5ibVSykAtzftBUEAvpRsys",deprecated:!0,name:"SRM/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"8Jzed8Fafu1RU1CQDWdiETSrqAJy1ukZ5JL6Pma3p3a2",deprecated:!0,name:"SRM/SOL",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"9wDmxsfwaDb2ysmZpBLzxKzoWrF1zHzBN7PV5EmJe19R",deprecated:!0,name:"soSUSHI/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"GbQSffne1NcJbS4jsewZEpRGYVR4RNnuVUN8Ht6vAGb6",deprecated:!0,name:"soSXP/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"7kgkDyW7dmyMeP8KFXzbcUZz1R2WHsovDZ7n3ihZuNDS",deprecated:!0,name:"MSRM/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"FZqrBXz7ADGsmDf1TM9YgysPUfvtG8rJiNUrqDpHc9Au",deprecated:!0,name:"soFTT/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"FJg9FUtbN3fg3YFbMCFiZKjGh5Bn4gtzxZmtxFzmz9kT",deprecated:!0,name:"soYFI/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"7GZ59DMgJ7D6dfoJTpszPayTRyua9jwcaGJXaRMMF1my",deprecated:!0,name:"soLINK/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"uPNcBgFhrLW3FtvyYYbBUi53BBEQf9e4NPgwxaLu5Hn",deprecated:!0,name:"soHGET/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"3puWJFZyCso14EdxhywjD7xqyTarpsULx483mzvqxQRW",deprecated:!0,name:"soCREAM/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"8Ae7Uhigx8k4fKdJG7irdPCVDZLvWsJfeTH2t5fr3TVD",deprecated:!0,name:"soUBXT/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"Hze5AUX4Qp1cTujiJ4CsAMRGn4g6ZpgXsmptFn3xxhWg",deprecated:!0,name:"soHNT/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"FJq4HX3bUSgF3yQZ8ADALtJYfAyr9fz36SNG18hc3dgF",deprecated:!0,name:"soFRONT/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"BZMuoQ2i2noNUXMdrRDivc7MwjGspNJTCfZkdHMwK18T",deprecated:!0,name:"soALEPH/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"5LgJphS6D5zXwUVPU7eCryDBkyta3AidrJ5vjNU6BcGW",deprecated:!0,name:"BTC/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"DmEDKZPXXkWgaYiKgWws2ZXWWKCh41eryDPRVD4zKnD9",deprecated:!0,name:"soETH/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"EBFTQNg2QjyxV7WDDenoLbfLLXLcbSz6w1YrdTCGPWT5",deprecated:!0,name:"SOL/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"8YmQZRXGizZXYPCDmxgjwB8X8XN4PZG7MMwNg76iAmPZ",deprecated:!0,name:"SRM/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"9vFuX2BizwinWjkZLQTmThDcNMFEcY3wVXYuqnRQtcD",deprecated:!0,name:"soSUSHI/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"C5NReXAeQhfjiDCGPFj1UUmDxDqF8v2CUVKoYuQqb4eW",deprecated:!0,name:"soSXP/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"58H7ZRmiyWtsrz2sQGz1qQCMW6n7447xhNNehUSQGPj5",deprecated:!0,name:"MSRM/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"ES8skmkEeyH1BYFThd2FtyaFKhkqtwH7XWp8mXptv3vg",deprecated:!0,name:"soFTT/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"Gw78CYLLFbgmmn4rps9KoPAnNtBQ2S1foL2Mn6Z5ZHYB",deprecated:!0,name:"soYFI/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"WjfsTPyrvUUrhGJ9hVQFubMnKDcnQS8VxSXU7L2gLcA",deprecated:!0,name:"soLINK/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"2ZmB255T4FVUugpeXTFxD6Yz5GE47yTByYvqSTDUbk3G",deprecated:!0,name:"soHGET/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FGJtCDXoHLHjagP5Ht6xcUFt2rW3z8MJPe87rFKP2ZW6",deprecated:!0,name:"soCREAM/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7K6MPog6LskZmyaYwqtLvRUuedoiE68nirbQ9tK3LasE",deprecated:!0,name:"soUBXT/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"9RyozJe3bkAFfH3jmoiKHjkWCoLTxn7aBQSi6YfaV6ab",deprecated:!0,name:"soHNT/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"AGtBbGuJZiv3Ko3dfT4v6g4kCqnNc9DXfoGLe5HpjmWx",deprecated:!0,name:"soFRONT/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"AA1HSrsMcRNzjaQfRMTNarHR9B7e4U79LJ2319UtiqPF",deprecated:!0,name:"soAKRO/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"AUAobJdffexcoJBMeyLorpShu3ZtG9VvPEPjoeTN4u5Z",deprecated:!0,name:"soHXRO/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"GpdYLFbKHeSeDGqsnQ4jnP7D1294iBpQcsN1VPwhoaFS",deprecated:!0,name:"soUNI/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"sxS9EdTx1UPe4j2c6Au9f1GKZXrFj5pTgNKgjGGtGdY",deprecated:!0,name:"soKEEP/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"CfnnU38ACScF6pcurxSB3FLXeZmfFYunVKExeUyosu5P",deprecated:!0,name:"soMATH/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7NR5GDouQYkkfppVkNhpa4HfJ2LwqUQymE3b4CYQiYHa",deprecated:!0,name:"soALEPH/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"CVfYa8RGXnuDBeGmniCcdkBwoLqVxh92xB1JqgRQx3F",deprecated:!0,name:"BTC/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"H5uzEytiByuXt964KampmuNCurNDwkVVypkym75J2DQW",deprecated:!0,name:"soETH/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7xMDbYTCqQEcK2aM9LbetGtNFJpzKdfXzLL5juaLh4GJ",deprecated:!0,name:"SOL/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"CDdR97S8y96v3To93aKvi3nCnjUrbuVSuumw8FLvbVeg",deprecated:!0,name:"SRM/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7LVJtqSrF6RudMaz5rKGTmR3F3V5TKoDcN6bnk68biYZ",deprecated:!0,name:"soSUSHI/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"13vjJ8pxDMmzen26bQ5UrouX8dkXYPW1p3VLVDjxXrKR",deprecated:!0,name:"soSXP/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"AwvPwwSprfDZ86beBJDNH5vocFvuw4ZbVQ6upJDbSCXZ",deprecated:!0,name:"MSRM/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FfDb3QZUdMW2R2aqJQgzeieys4ETb3rPrFFfPSemzq7R",deprecated:!0,name:"soFTT/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"4QL5AQvXdMSCVZmnKXiuMMU83Kq3LCwVfU8CyznqZELG",deprecated:!0,name:"soYFI/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7JCG9TsCx3AErSV3pvhxiW4AbkKRcJ6ZAveRmJwrgQ16",deprecated:!0,name:"soLINK/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"3otQFkeQ7GNUKT3i2p3aGTQKS2SAw6NLYPE5qxh3PoqZ",deprecated:!0,name:"soHGET/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"2M8EBxFbLANnCoHydypL1jupnRHG782RofnvkatuKyLL",deprecated:!0,name:"soCREAM/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"3UqXdFtNBZsFrFtRGAWGvy9R8H6GJR2hAyGRdYT9BgG3",deprecated:!0,name:"soUBXT/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"9jiasgdYGGh34fAbBQSwkKe1dYSapXbjy2sLsYpetqFp",deprecated:!0,name:"soHNT/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7oKqJhnz9b8af8Mw47dieTiuxeaHnRYYGBiqCrRpzTRD",deprecated:!0,name:"soFRONT/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"F1rxD8Ns5w4WzVcTRdaJ96LG7YKaA5a25BBmM32yFP4b",deprecated:!0,name:"soAKRO/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"6ToedDwjRCvrcKX7fnHSTA9uABQe1dcLK6YgS5B9M3wo",deprecated:!0,name:"soHXRO/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FURvCsDUiuUaxZ13pZqQbbfktFGWmQVTHz7tL992LQVZ",deprecated:!0,name:"soUNI/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"EcfDRMrEJ3yW4SgrRyyxTPoKqAZDNSBV8EerigT7BNSS",deprecated:!0,name:"soKEEP/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"2bPsJ6bZ9KDLfJ8QgSN1Eb4mRsbAiaGyHN6cJkoVLpwd",deprecated:!0,name:"soMATH/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"B1GypajMh7S8zJVp6M1xMfu6zGsMgvYrt3cSn9wG7Dd6",deprecated:!0,name:"soTOMO/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"rPTGvVrNFYzBeTEcYnHiaWGNnkSXsWNNjUgk771LkwJ",deprecated:!0,name:"soLUA/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FrDavxi4QawYnQY259PVfYUjUvuyPNfqSXbLBqMnbfWJ",deprecated:!0,name:"FIDA/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"CVn1nJ5Utuseyy2qqwrpYoJz9Y7jjYonVL4UYvcCepDH",deprecated:!0,name:"KIN/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"BqjGW7ousAizgs8VrHo5SR1LxTksAQPtb8cKZZiNvX5D",deprecated:!0,name:"MAPS/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"GcoKtAmTy5QyuijXSmJKBtFdt99e6Buza18Js7j9AJ6e",deprecated:!1,name:"soALEPH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"A8YFbxQYFVqKZaoYJLLUVcQiWP7G2MeEgW5wsAQgMvFw",deprecated:!1,name:"BTC/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4tSvZvnbyzHXLMTiFonMyxZoHmFqau1XArcRCVHLZ5gX",deprecated:!1,name:"soETH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"ByRys5tuUWDgL73G8JBAEfkdFf8JWBzPBDHsBVQ5vbQA",deprecated:!1,name:"SRM/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"A1Q9iJDVVS8Wsswr9ajeZugmj64bQVCYLZQLra2TMBMo",deprecated:!1,name:"soSUSHI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4LUro5jaPaTurXK737QAxgJywdhABnFAMQkXX4ZyqqaZ",deprecated:!1,name:"soSXP/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4VKLSYdvrQ5ngQrt1d2VS8o4ewvb2MMUZLiejbnGPV33",deprecated:!1,name:"MSRM/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2Pbh1CvRVku1TgewMfycemghf6sU9EyuFDcNXqvRmSxc",deprecated:!1,name:"soFTT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7qcCo8jqepnjjvB5swP4Afsr3keVBs6gNpBTNubd1Kr2",deprecated:!1,name:"soYFI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3hwH1txjJVS8qv588tWrjHfRxdqNjBykM1kMcit484up",deprecated:!1,name:"soLINK/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"88vztw7RTN6yJQchVvxrs6oXUDryvpv9iJaFa1EEmg87",deprecated:!1,name:"soHGET/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7nZP6feE94eAz9jmfakNJWPwEKaeezuKKC5D1vrnqyo2",deprecated:!1,name:"soCREAM/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2wr3Ab29KNwGhtzr5HaPCyfU1qGJzTUAN4amCLZWaD1H",deprecated:!1,name:"soUBXT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"CnUV42ZykoKUnMDdyefv5kP6nDSJf7jFd7WXAecC6LYr",deprecated:!1,name:"soHNT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"9Zx1CvxSVdroKMMWf2z8RwrnrLiQZ9VkQ7Ex3syQqdSH",deprecated:!1,name:"soFRONT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5CZXTTgVZKSzgSA3AFMN5a2f3hmwmmJ6hU8BHTEJ3PX8",deprecated:!1,name:"soAKRO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"6Pn1cSiRos3qhBf54uBP9ZQg8x3JTardm1dL3n4p29tA",deprecated:!1,name:"soHXRO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"6JYHjaQBx6AtKSSsizDMwozAEDEZ5KBsSUzH7kRjGJon",deprecated:!1,name:"soUNI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"J7cPYBrXVy8Qeki2crZkZavcojf2sMRyQU7nx438Mf8t",deprecated:!1,name:"soMATH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"8BdpjpSD5n3nk8DQLqPUyTZvVqFu6kcff5bzUX5dqDpy",deprecated:!1,name:"soTOMO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4xyWjQ74Eifq17vbue5Ut9xfFNfuVB116tZLEpiZuAn8",deprecated:!1,name:"soLUA/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"jyei9Fpj2GtHLDDGgcuhDacxYLLiSyxU4TY7KxB2xai",deprecated:!1,name:"SRM/SOL",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT",deprecated:!1,name:"SOL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"E14BKBhDWD4EuTkWj1ooZezesGxMW8LPCps4W5PuzZJo",deprecated:!1,name:"FIDA/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"Bn6NPyr6UzrFAwC4WmvPvDr2Vm8XSUnFykM2aQroedgn",deprecated:!1,name:"KIN/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3A8XQRWXC7BjLpgLDDBhQJLT5yPCzS16cGYRKHkKxvYo",deprecated:!1,name:"MAPS/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3rgacody9SvM88QR83GHaNdEEx4Fe2V2ed5GJp2oeKDr",deprecated:!1,name:"soKEEP/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"EmCzMQfXMgNHcnRoFwAdPe1i2SuiSzMj1mx6wu3KN2uA",deprecated:!0,name:"soALEPH/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"8AcVjMG2LTbpkjNoyq8RwysokqZunkjy3d5JDzxC6BJa",deprecated:!0,name:"BTC/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"HfCZdJ1wfsWKfYP2qyWdXTT5PWAGWFctzFjLH48U1Hsd",deprecated:!0,name:"soETH/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"8mDuvJJSgoodovMRYArtVVYBbixWYdGzR47GPrRT65YJ",deprecated:!0,name:"SOL/soUSDT",programId:"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{address:"HARFLhSq8nECZk4DVFKvzqXMNMA9a3hjvridGMFizeLa",deprecated:!0,name:"SRM/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"DzFjazak6EKHnaB2w6qSsArnj28CV1TKd2Smcj9fqtHW",deprecated:!0,name:"soSUSHI/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"GuvWMATdEV6DExWnXncPYEzn4ePWYkvGdC8pu8gsn7m7",deprecated:!0,name:"soSXP/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"H4snTKK9adiU15gP22ErfZYtro3aqR9BTMXiH3AwiUTQ",deprecated:!0,name:"MSRM/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"DHDdghmkBhEpReno3tbzBPtsxCt6P3KrMzZvxavTktJt",deprecated:!0,name:"soFTT/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"5zu5bTZZvqESAAgFsr12CUMxdQvMrvU9CgvC1GW8vJdf",deprecated:!0,name:"soYFI/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"F5xschQBMpu1gD2q1babYEAVJHR1buj1YazLiXyQNqSW",deprecated:!0,name:"soLINK/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"BAbc9baz4hV1hnYjWSJ6cZDRjfvziWbYGQu9UFkcdUmx",deprecated:!0,name:"soHGET/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"EBxJWA2nLV57ZntbjizxH527ZjPNLT5cpUHMnY5k3oq",deprecated:!0,name:"soCREAM/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"46VdEkj4MJwZinwVb3Y7DUDpVXLNb9YW7P2waKU3vCqr",deprecated:!0,name:"soUBXT/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"Hc22rHKrhbrZBaQMmhJvPTkp1yDr31PDusU8wKoqFSZV",deprecated:!0,name:"soHNT/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"HFoca5HKwiTPpw9iUY5iXWqzkXdu88dS7YrpSvt2uhyF",deprecated:!0,name:"soFRONT/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"5xnYnWca2bFwC6cPufpdsCbDJhMjYCC59YgwoZHEfiee",deprecated:!0,name:"soALEPH/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"EXnGBBSamqzd3uxEdRLUiYzjJkTwQyorAaFXdfteuGXe",deprecated:!0,name:"BTC/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"5abZGhrELnUnfM9ZUnvK6XJPoBU5eShZwfFPkdhAC7o",deprecated:!0,name:"soETH/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7xLk17EQQ5KLDLDe44wCmupJKJjTGd8hs3eSVVhCx932",deprecated:!0,name:"SOL/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"H3APNWA8bZW2gLMSq5sRL41JSMmEJ648AqoEdDgLcdvB",deprecated:!0,name:"SRM/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"4uZTPc72sCDcVRfKKii67dTPm2Xe4ri3TYnGcUQrtnU9",deprecated:!0,name:"soSUSHI/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"33GHmwG9woY95JuWNi74Aa8uKvysSXxif9P1EwwkrCRz",deprecated:!0,name:"soSXP/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FUaF58sDrgbqakHTR8RUwRLauSofRTjqyCsqThFPh6YM",deprecated:!0,name:"MSRM/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"5NqjQVXLuLSDnsnQMfWp3rF9gbWDusWG4B1Xwtk3rZ5S",deprecated:!0,name:"soFTT/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"97NiXHUNkpYd1eb2HthSDGhaPfepuqMAV3QsZhAgb1wm",deprecated:!0,name:"soYFI/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"hBswhpNyz4m5nt4KwtCA7jYXvh7VmyZ4TuuPmpaKQb1",deprecated:!0,name:"soLINK/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"GaeUpY7CT8rjoeVGjY1t3mJJDd1bdXxYWtrGSpsVFors",deprecated:!0,name:"soHGET/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7qq9BABQvTWKZuJ5fX2PeTKX6XVtduEs9zW9WS21fSzN",deprecated:!0,name:"soCREAM/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"DCHvVahuLTNWBGUtEzF5GrTdx5FRpxqEJiS6Ru1hrDfD",deprecated:!0,name:"soUBXT/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"DWjJ8VHdGYBxDQYdrRBVDWkHswrgjuBFEv5pBhiRoPBz",deprecated:!0,name:"soHNT/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"56eqxJYzPigm4FkigiBdsfebjMgAbKNh24E7oiKLBtye",deprecated:!0,name:"soFRONT/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FQbCNSVH3RgosCPB4CJRstkLh5hXkvuXzAjQzT11oMYo",deprecated:!0,name:"soAKRO/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"Fs5xtGUmJTYo8Ao75M3R3m3mVX53KMUhzfXCmyRLnp2P",deprecated:!0,name:"soHXRO/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"ChKV7mxecPqFPGYJjhzowPHDiLKFWXXVujUiE3EWxFcg",deprecated:!0,name:"soUNI/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"6N3oU7ALvn2RPwdpYVzPBgQJ8njT29inBbS2tSrwx8fh",deprecated:!0,name:"soKEEP/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"5P6dJbyKySFXMYNWiEcNQu8xPRYsehYzCeVpae9Ueqrg",deprecated:!0,name:"soMATH/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"H7c8FcQPJ2E5tJmpWBPSi7xCAbk8immdtUxKFRUyE4Ro",deprecated:!0,name:"soTOMO/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7PSeX1AEtBY9KvgegF5rUh452VemMh7oDzFtJgH7sxMG",deprecated:!0,name:"soLUA/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"AF2oQQaLtcrTnQyVs3EPTdyw57TPaK6njKYDq2Qw7LqP",deprecated:!0,name:"soSWAG/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"9TE15E5h61zJ5VmQAAHkGrAuQdFTth33aBbKdcrppZBp",deprecated:!0,name:"FIDA/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"8HEaA1vSA5mGQoHcvRPNibnuZvnUpSjJJru9HJNH3SqM",deprecated:!0,name:"KIN/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"8EuuEwULFM7n7zthPjC7kA64LPRzYkpAyuLFiLuVg7D4",deprecated:!0,name:"soUSDT/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"8grUs4WZoTs4KJ8LfRNUBs6SNkMTp5BnVRzJgQ2ranDT",deprecated:!0,name:"MAPS/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FoCuWt4KboucUg2PwmQ3dbkvLqYPLnAo1Rsm8p7QPyf",deprecated:!0,name:"soALEPH/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5r8FfnbNYcQbS1m4CYmoHYGjBtu6bxfo6UJHNRfzPiYH",deprecated:!0,name:"BTC/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"71CtEComq2XdhGNbXBuYPmosAjMCPSedcgbNi5jDaGbR",deprecated:!0,name:"soETH/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"EZyQ9zyqQsw3QcsLksoWyd1UFVjHZkzRx8N4ZMnZQrS2",deprecated:!0,name:"SRM/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"6ERBjj692XHLWwWSRAUpiKenXshcwmPqhMy7RMapeoKa",deprecated:!0,name:"soSUSHI/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"CQ3kAGxPmpBbak2RSHWyMeRhyLYbH6oVZHJxgjzDLpLW",deprecated:!0,name:"soSXP/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2Hqn46jhwaQMQ3zEnHtxrWxQZom6qwLXAgdsFJM1Srwh",deprecated:!0,name:"MSRM/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"G5jqZNo2UVCTnJxgEhKCYvqFRs3MxsnH8Bervq3rfLoL",deprecated:!0,name:"soFTT/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"CbwtTHEpfTnCyLw4GoTbKk7WyrXkuATLfLadY2odBSsY",deprecated:!0,name:"soYFI/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5GjhBAYx8pYeCeUQt7rt93KQZnoQFuDq9Jx4iqq97Mip",deprecated:!0,name:"soLINK/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"9jMPV9E23pTirMjC7vz5suRNkd25311G3Httg7jTib8R",deprecated:!0,name:"soCREAM/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"DsSz9KWT97T4RewRTqTNDpNFQyxMPcuYNAJw2xHAzSiZ",deprecated:!0,name:"soUBXT/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3k1sURztjxhjYczjyioQ7y2UkMB6K5Ksi3SWvLeLx6Ex",deprecated:!0,name:"soHNT/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"B791G8UCahfmABVcR2wPAMK6LJnuqxSAqiG6wX3mmVVM",deprecated:!0,name:"soFRONT/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"95f7fxfUh8WqUTrdjorHRXm6rTfkWqr23ioGMmKMjedP",deprecated:!0,name:"soAKRO/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"H4RxtmQ4P3TYPt78G3DuHgaGzyFct6MfaeYneLB5PyeG",deprecated:!0,name:"soHXRO/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7myaZEGZf9m72T1Mqm8GTx5MnmSFS5NCXSwRP18W4EA3",deprecated:!0,name:"soUNI/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7cRKzNoqjF9VtzvdnP129VYP3izivk9iY3jMJBMzREVT",deprecated:!0,name:"soHGET/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"GV9fYzdwipoaagXFxe5tzDMPcmSVQati5CUvBPsEZThH",deprecated:!0,name:"soMATH/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"AaMLXcwYYi5fA41JNCB2ukAmQyKHitYx5NnpsiWWev6R",deprecated:!0,name:"soTOMO/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5ZeNLrduGi3WkH9CPwv2Zpbkh38MH8v63aSi2aBUW23g",deprecated:!0,name:"soLUA/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"Ec1aq54XKH9o5fe169cU2sCcxxTP54eeQCe77SpizKuc",deprecated:!0,name:"soUSDT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"G3uhFg2rBFunHUXtCera13vyQ5KCS8Hx3d4HohLoZbT5",deprecated:!0,name:"SOL/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2NMTG7tFZidRpQk9Sf4dgQyJb9HxKCyXjQdiuXww3sKm",deprecated:!0,name:"soSWAG/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7QpJAiwGmqY1SiucjfPXvgeWwCobyV6hZSgzMysZX6Ww",deprecated:!0,name:"FIDA/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"CmLhvXARncLncE1949XBfQWeJh6Zvw3FE5A3Z5ecPYQH",deprecated:!0,name:"KIN/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"FhP3X2ptdi7L1RtWK9Vfow5dyzD92gfXiA57e8eqxvka",deprecated:!0,name:"MAPS/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"DE7xJE2EkaV81wLabDMuhBzUwFhhwfURLdz1aXBBQZQ1",deprecated:!0,name:"soKEEP/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5nLJ22h1DUfeCfwbFxPYK8zbfbri7nA9bXoDcR8AcJjs",deprecated:!1,name:"MSRM/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7dLVkUfBVfCGkFhSXDCq1ukM9usathSgS716t643iFGF",deprecated:!1,name:"soETH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"8afKwzHR3wJE7W7Y5hvQkngXh6iTepSZuutRMMy96MjR",deprecated:!1,name:"soSXP/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"cgani53cMZgYfRMgSrNekJTMaLmccRfspsfTbXWRg7u",deprecated:!1,name:"soCEL/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"Gyp1UGRgbrb6z8t7fpssxEKQgEmcJ4pVnWW3ds2p6ZPY",deprecated:!1,name:"soALEPH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4ztJEvQyryoYagj2uieep3dyPwG2pyEwb2dKXTwmXe82",deprecated:!1,name:"soCREAM/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"HEGnaVL5i48ubPBqWAhodnZo8VsSLzEM3Gfc451DnFj9",deprecated:!1,name:"soKEEP/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"8FpuMGLtMZ7Wt9ZvyTGuTVwTwwzLYfS5NZWcHxbP1Wuh",deprecated:!1,name:"soHNT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5GAPymgnnWieGcRrcghZdA3aanefqa4cZx1ZSE8UTyMV",deprecated:!1,name:"soMAPS/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"AADohBGxvf7bvixs2HKC3dG2RuU3xpZDwaTzYFJThM8U",deprecated:!1,name:"TRYB/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"EbV7pPpEvheLizuYX3gUCvWM8iySbSRAhu2mQ5Vz2Mxf",deprecated:!1,name:"FIDA/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"FcPet5fz9NLdbXwVM6kw2WTHzRAD7mT78UjwTpawd7hJ",deprecated:!1,name:"soRSR/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"AtNnsY1AyRERWJ8xCskfz38YdvruWVJQUVXgScC1iPb",deprecated:!1,name:"SRM/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"teE55QrL4a4QSfydR9dnHF97jgCfptpuigbb53Lo95g",deprecated:!1,name:"RAY/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"C1EuT9VokAKLiW7i2ASnZUvxDoKuKkCpDDeNxAptuNe4",deprecated:!1,name:"BTC/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"Hr3wzG8mZXNHV7TuL6YqtgfVUesCqMxGYCEyP3otywZE",deprecated:!1,name:"soFTT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"HLvRdctRB48F9yLnu9E24LUTRt89D48Z35yi1HcxayDf",deprecated:!1,name:"soAKRO/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2SSnWNrc83otLpfRo792P6P3PESZpdr8cu2r8zCE6bMD",deprecated:!1,name:"soUNI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"F1T7b6pnR8Pge3qmfNUfW6ZipRDiGpMww6TKTrRU4NiL",deprecated:!1,name:"soUBXT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1",deprecated:!1,name:"SOL/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"35tV8UsHH8FnSAi3YFRrgCu4K9tb883wKnAXpnihot5r",deprecated:!1,name:"soLUA/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"6DgQRTpJTnAYBSShngAVZZDq7j9ogRN1GfSQ3cq9tubW",deprecated:!1,name:"soSUSHI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2WghiBkDL2yRhHdvm8CpprrkmfguuQGJTCDfPSudKBAZ",deprecated:!1,name:"soMATH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"ErQXxiNfJgd4fqQ58PuEw5xY35TZG84tHT6FXf5s4UxY",deprecated:!1,name:"soHGET/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"CGC4UgWwqA9PET6Tfx6o6dLv94EK2coVkPtxgNHuBtxj",deprecated:!1,name:"soFRONT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"GnKPri4thaGipzTbp8hhSGSrHgG4F8MFiZVrbRn16iG2",deprecated:!1,name:"soTOMO/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"6bxuB5N3bt3qW8UnPNLgMMzDq5sEH8pFmYJYGgzvE11V",deprecated:!1,name:"soAAVE/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7cknqHAuGpfVXPtFoJpFvUjJ8wkmyEfbFusmwMfNy3FE",deprecated:!1,name:"MAPS/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4absuMsgemvdjfkgdLQq1zKEjw3dHBoCWkzKoctndyqd",deprecated:!1,name:"soHXRO/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4nCFQr8sahhhL4XJ7kngGFBmpkmyf3xLzemuMhn6mWTm",deprecated:!1,name:"KIN/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3Xg9Q4VtZhD4bVYJbTfgGWFV5zjE3U7ztSHa938zizte",deprecated:!1,name:"soYFI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3yEZ9ZpXSQapmKjLAGKZEzUNA1rcupJtsDp5mPBWmGZR",deprecated:!1,name:"soLINK/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"J2XSt77XWim5HwtUM8RUwQvmRXNZsbMKpp5GTKpHafvf",deprecated:!1,name:"soSWAG/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"77quYg4MGneUdjgXCunt9GgM1usmrxKY31twEy3WHwcS",deprecated:!1,name:"USDT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"GKLev6UHeX1KSDCyo2bzyG6wqhByEzDBkmYTxEdmYJgB",deprecated:!1,name:"OXY/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"HdBhZrnrxpje39ggXnTb6WuTWVvj5YKcSHwYGQCRsVj",deprecated:!1,name:"OXY/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"OXY/USDC",address:"GZ3WBFsqntmERPwumFEYgrX2B7J7G11MzNZAy7Hje27X",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"xCOPE/USDC",address:"7MpMwArporUHEGW7quUpkPZp5L5cHPs9eKUfKCdaPHq2",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"COPE/USDC",address:"6fc7v3PmjZG9Lk2XTot6BywGyYLkBQuzuFKd4FpCsPxk",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"MER/USDC",address:"HhvDWug3ftYNx5148ZmrQxzvEmohN2pKVNiRT4TVoekF",deprecated:!0,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"MER/USDT",address:"6HwcY27nbeb933UkEcxqJejtjWLfNQFWkGCjAVNes6g7",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"MER/USDC",address:"G4LcexdCzzJUKZfqyVDQFzpkjhB1JoCNL8Kooxi9nJz5",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"SNY/USDC",address:"DPfj2jYwPaezkCmUNm5SSYfkrkz8WFqwGLcxDDUsN3gA",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"SLRS/USDC",address:"2Gx3UfV831BAh8uQv1FKSPKS9yajfeeD8GJ4ZNb2o2YP",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"ETHV/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"HrgkuJryyKRserkoz7LBFYkASzhXHWp9XA6fRYCA6PHb"},{name:"IETHV/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5aoLj1bySDhhWjo7cLfT3pF2gqNGd63uEJ9HMSfASESL"},{name:"SBR/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"HXBi8YBwbh4TXF6PjVw81m8Z3Cc4WBofvauj5SBFdgUs"},{name:"renBTC/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"74Ciu5yRzhe8TFTHvQuEVbFZJrbnCMRoohBK33NNiPtv"},{name:"renDOGE/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5FpKCWYXgHWZ9CdDMHjwxAfqxJLdw2PRXuAmtECkzADk"},{name:"DXL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"DYfigimKWc5VhavR4moPBibx9sMcWYVSjVdWvPztBPTa"},{name:"MNGO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"3d4rzwpy9iGdCZvgxcu7B1YocYffVLsQXPXkBZKt2zLc"},{name:"CYS/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"6V6y6QFi17QZC9qNRpVp7SaPiHpCTp2skbRQkUyZZXPW"},{name:"POLIS/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"HxFLKUAmAMLz1jtT3hbvCMELwH5H9tpM2QugP8sKyfhW"},{name:"ATLAS/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Di66GTLsV64JgCCYGVcY21RZ173BHkjJVgPyezNN7P1K"},{name:"LIKE/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"3WptgZZu34aiDrLMUiPntTYZGNZ72yT1yxHYxSdbTArX"},{name:"MSOL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"6oGsL2puUgySccKzn9XA9afqF217LfxP5ocq4B3LWsjy"},{name:"MSOL/SOL",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5cLrMai1DsLRYc1Nio9qMTicsWtvzjzZfJPXyAoF4t1Z"},{name:"AAVE/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"8WZrmdpLckptiVKd2fPHPjewRVYQGQkjxi9vzRYG1sfs"},{name:"AAVE/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"LghsMERQWQFK3zWMTrUkoyAJARQw2wSmcYZjexeN3zy"},{name:"AKRO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"G3h8NZgJozk9crme2me6sKDJuSQ12mNCtvC9NbSWqGuk"},{name:"AKRO/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"DvbiPxKzuXZPcmUcYDqBz1tvUrXYPsNrRAjSeuwHtmEA"},{name:"ALEPH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Fw4mvuE7KZmTjQPxP2sRpHwPDfRMWnKBupFZGyW9CAQH"},{name:"ALEPH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"GZeHR8uCTVoHVDZFRVXTgm386DK1EKehy9yMS3BFChcL"},{name:"CEL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"79ESpYSb2hM14KTRXPZUwDkxUGC5irE2esd1vxdXfnZz"},{name:"CEL/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"J9ww1yufRNDDbUbDXmew2mW2ozkx7cme7dMvKjMQVHrL"},{name:"CREAM/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"4pdQ2D4gehMhGu4z9jeQbEPUFbTxB5qcPr3zCynjJGyp"},{name:"CREAM/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"6fspxMfBmYFTGFBDN5MU33A55i2MkGr7eSjBLPCAU6y9"},{name:"ETH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"8Gmi2HhZmwQPVdCwzS7CM66MGstMXPcTVHA7jF19cLZz"},{name:"ETH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"ch7kmPrtoQUSEPBggcNAvLGiMQkJagVwd3gDYfd8m7Q"},{name:"FRONT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"B95oZN5HCLGmFAhbzReWBA9cuSGPFQAXeuhm2FfpdrML"},{name:"FRONT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"DZTYyy1L5Pr6DmTtYY5bEuU9g3LQ4XGvuYiN3zS25yG7"},{name:"FTT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"2wteg25ch227n4Rh1CN4WNrDZXBpRBpWJ48mEC2K7f4r"},{name:"FTT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"BoHojHESAv4McZx9gXd1bWTZMq25JYyGz4qL1m5C3nvk"},{name:"HGET/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"27e1mB6UoPohbc3MmwMXu5QM7b2E3k5Mbhwv6JguwyXg"},{name:"HGET/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"BdRzTEKb7Qdu4tWts5zXjwcpQErZxEzvShKZ5QcthMag"},{name:"HXRO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"CBb5zXwNRB73WVjs2m21P5prcEZa6SWmej74Vzxh8dRm"},{name:"HXRO/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"3BScwNxtMrEcQ5VTHyXHYQR98dTaxfyXGaLkuSjBY1dW"},{name:"LINK/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"FJMjxMCiDKn16TLhXUdEbVDH5wC6k9EHYJTcrH6NcbDE"},{name:"LINK/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Gr2KmhK7Upr4uW56B1QQrJuhhgmot6zAHJeZALTMStiX"},{name:"LUA/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"J9imTcEeahZqKuaoQaPcCeSGCMWL8qSACpK4B7bC8NN4"},{name:"LUA/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"BMJ3CvQZ57cNnuc3Lz5Pb6cW6Sr9kZGz3qz2bJQTE24A"},{name:"MATH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"G8L1YLrktaG1t8YBMJs3CwV96nExvJJCSpw3DARPDjE2"},{name:"MATH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"CkvNfATB7nky8zPLuwS9bgcFbVRkQdkd5zuKEovyo9rs"},{name:"RAY/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"2xiv8A5xrJ7RnGdxXB42uFEkYHJjszEhaJyKKt4WaLep"},{name:"RSR/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"GqgkxEswUwHBntmzb5GpUhKrVpJhzreSruZycuJwdNwB"},{name:"RSR/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"2j2or38X2FUbpkK4gkgvjDtqN3ibkKw3v5yn7o2gHqPc"},{name:"SUSHI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"3uWVMWu7cwMnYMAAdtsZNwaaqeeeZHARGZwcExnQiFay"},{name:"SUSHI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"T3aC6qcPAJtX1gqkckfSxBPdPWziz5fLYRt5Dz3Nafq"},{name:"SWAG/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"wSkeLMv3ktJyLm51bvQWxY2saGKqGxbnUFimPxbgEvQ"},{name:"SWAG/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"6URQ4zFWvPm1fhJCKKWorrh8X3mmTFiDDyXEUmSf8Rb2"},{name:"SXP/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"G5F84rfqmWqzZv5GBpSn8mMwW8zJ2B4Y1GpGupiwjHNM"},{name:"SXP/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"2FQbPW1ticJz2SMMbEXxbKWJKmw1wLc6ggSP2HyzdMen"},{name:"UBXT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Hh4p7tJpqkGW6xsHM2LiPPMpJg43fwn5TbmVmfrURdLY"},{name:"UBXT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5xhjc3ZtAwnBK3qsaro28VChL7WrxY9N4SG6UZpYxpGc"},{name:"UNI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"B7b5rjQuqQCuGqmUBWmcCTqaL3Z1462mo4NArqty6QFR"},{name:"UNI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"FrKM6kJtAjXknHPEpkrQtJSXZwUxV5dq26wDpc4YjQST"},{name:"YFI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"BiJXGFc1c4gyPpv9HLRJoKbZewWQrTCHGuxYKjYMQJpC"},{name:"YFI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"9sue9TZAeUhNtNAPPGb9dke7rkJeXktGD3u8ZC37GWnQ"},{name:"AVAX/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"E8JQstcwjuqN5kdMyUJLNuaectymnhffkvfg1j286UCr"},{name:"AXSet/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"HZCheduA4nsSuQpVww1TiyKZpXSAitqaXxjBD2ymg22X"},{name:"BNB/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"4UPUurKveNEJgBqJzqHPyi8DhedvpYsMXi7d43CjAg2f"},{name:"BNB/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"FjbKNZME5yVSC1R3HJM99kB3yir3q3frS5MteMFD72sV"},{name:"GALA/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"F7WJsoxTWQRmAwAyFe9APmuVv4HqmhchFtdbR9dvAUDm"},{name:"MATICpo/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5WRoQxE59966N2XfD2wYy1uhuyKeoVJ9NBMH6r6RNYEF"},{name:"ROSE/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"EybAYkmRKCyD4w8AErTG1bqmnvT85LFuPQPMCc8J3yD"},{name:"SAND/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"3FE2g3cadTJjN3C7gNRavwnv7Yh9Midq7h9KgTVUE7tR"},{name:"LUNA/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"HBTu8hNaoT3VyiSSzJYa8jwt9sDGKtJviSwFa11iXdmE"},{name:"SHIB/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Er7Jp4PADPVHifykFwbVoHdkL1RtZSsx9zGJrPJTrCgW"},{name:"UST/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"8WmckvEoVGZvtN8knjdzFGbWJ3Sr4BcWdyzSYuCrD4YK"},{name:"FAB/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Cud48DK2qoxsWNzQeTL5D8sAiHsGwG8Ev1VMNcYLayxt"},{name:"JET/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"6pQMoHDC2o8eeFxyTKtfnsr8d48hKFWsRpLHAqVHH2ZP"},{name:"scnSOL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"D52sefGCWho2nd5UGxWd7wCftAzeNEMNYZkdEPGEdQTb"},{name:"stSOL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5F7LGsP1LPtaRV7vVKgxwNYX4Vf22xvuzyXjyar7jJqp"}],require$$2=[{address:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",name:"BTC"},{address:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",name:"ETH"},{address:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",name:"FTT"},{address:"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB",name:"YFI"},{address:"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG",name:"LINK"},{address:"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8",name:"XRP"},{address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",name:"USDT"},{address:"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4",name:"WUSDT"},{address:"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW",name:"WUSDC"},{address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USDC"},{address:"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L",name:"MSRM"},{address:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",name:"SRM"},{address:"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy",name:"SUSHI"},{address:"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX",name:"SXP"},{address:"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K",name:"ALEPH"},{address:"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN",name:"HGET"},{address:"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv",name:"CREAM"},{address:"873KLxCbz7s9Kc4ZzgYRtNmhfkQrhfyWGZJBmyCbC3ei",name:"UBXT"},{address:"HqB7uswoVg4suaQiDP3wjxob1G5WdZ144zhdStwMCq7e",name:"HNT"},{address:"9S4t2NEAiJVMvPdRYKVrfJpBafPBLtvbvyS3DecojQHw",name:"FRONT"},{address:"6WNVCuxCGJzNjmMZoKyhZJwvJ5tYpsLyAtagzYASqBoF",name:"AKRO"},{address:"DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc",name:"HXRO"},{address:"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw",name:"UNI"},{address:"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht",name:"KEEP"},{address:"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza",name:"MATH"},{address:"So11111111111111111111111111111111111111112",name:"SOL"},{address:"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd",name:"TOMO"},{address:"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX",name:"LUA"},{address:"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy",name:"SWAG"},{address:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",name:"FIDA"},{address:"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6",name:"KIN"},{address:"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb",name:"MAPS"},{address:"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M",name:"OXY"},{address:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",name:"RAY"},{address:"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE",name:"xCOPE"},{address:"dK83wTVypEpa1pqiBbHY3MNuUnT3ADUZM4wk9VZXZEc",name:"AAVE"},{address:"DgHK9mfhMtUwwv54GChRrU54T2Em5cuszq2uMuen1ZVE",name:"CEL"},{address:"7ncCLJpP3MNww17LW8bRvx8odQQnubNtfNZBL5BgAEHW",name:"RSR"},{address:"6ry4WBDvAwAnrYJVv6MCog4J8zx6S3cPgSqnTsDZ73AR",name:"TRYB"},{address:"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh",name:"COPE"},{address:"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K",name:"MER"},{address:"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y",name:"SNY"},{address:"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr",name:"SLRS"},{address:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",name:"renBTC"},{address:"ArUkYE2XDKzqy77PRRGjo4wREWwqk6RXTfM9NeqzPvjU",name:"renDOGE"},{address:"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z",name:"DXL"}];(function(te){var ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(se){return se&&se.__esModule?se:{default:se}};Object.defineProperty(te,"__esModule",{value:!0}),te.MARKETS=te.TOKEN_MINTS=te.getLayoutVersion=te.PROGRAM_LAYOUT_VERSIONS=void 0;const re=require$$0$4,ne=ee(require$$1$2),oe=ee(require$$2);te.PROGRAM_LAYOUT_VERSIONS={"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn":1,BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg:1,EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o:2,"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin":3};function ie(se){return te.PROGRAM_LAYOUT_VERSIONS[se.toString()]||3}te.getLayoutVersion=ie,te.TOKEN_MINTS=oe.default.map(se=>({address:new re.PublicKey(se.address),name:se.name})),te.MARKETS=ne.default.map(se=>({address:new re.PublicKey(se.address),name:se.name,programId:new re.PublicKey(se.programId),deprecated:se.deprecated}))})(tokens_and_markets);Object.defineProperty(fees$1,"__esModule",{value:!0});fees$1.getFeeTier=fees$1.getFeeRates=fees$1.supportsSrmFeeDiscounts=void 0;const tokens_and_markets_1=tokens_and_markets;function supportsSrmFeeDiscounts(te){return tokens_and_markets_1.getLayoutVersion(te)>1}fees$1.supportsSrmFeeDiscounts=supportsSrmFeeDiscounts;function getFeeRates(te){return te===1?{taker:.002,maker:-3e-4}:te===2?{taker:.0018,maker:-3e-4}:te===3?{taker:.0016,maker:-3e-4}:te===4?{taker:.0014,maker:-3e-4}:te===5?{taker:.0012,maker:-3e-4}:te===6?{taker:.001,maker:-5e-4}:{taker:.0022,maker:-3e-4}}fees$1.getFeeRates=getFeeRates;function getFeeTier(te,ee){return te>=1?6:ee>=1e6?5:ee>=1e5?4:ee>=1e4?3:ee>=1e3?2:ee>=100?1:0}fees$1.getFeeTier=getFeeTier;(function(te){var ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(ut){return ut&&ut.__esModule?ut:{default:ut}};Object.defineProperty(te,"__esModule",{value:!0}),te.getMintDecimals=te.Orderbook=te.ORDERBOOK_LAYOUT=te.OpenOrders=te._OPEN_ORDERS_LAYOUT_V2=te._OPEN_ORDERS_LAYOUT_V1=te.Market=te.MARKET_STATE_LAYOUT_V3=te.MARKET_STATE_LAYOUT_V2=te._MARKET_STAT_LAYOUT_V1=void 0;const re=Layout$2,ne=layout,oe=slab,ie=instructions$1,se=ee(bn$4.exports),ue=require$$0$4,he=queue,ge=buffer$2,be=fees$1,Se=tokenInstructions,Te=tokens_and_markets;te._MARKET_STAT_LAYOUT_V1=re.struct([re.blob(5),ne.accountFlagsLayout("accountFlags"),ne.publicKeyLayout("ownAddress"),ne.u64("vaultSignerNonce"),ne.publicKeyLayout("baseMint"),ne.publicKeyLayout("quoteMint"),ne.publicKeyLayout("baseVault"),ne.u64("baseDepositsTotal"),ne.u64("baseFeesAccrued"),ne.publicKeyLayout("quoteVault"),ne.u64("quoteDepositsTotal"),ne.u64("quoteFeesAccrued"),ne.u64("quoteDustThreshold"),ne.publicKeyLayout("requestQueue"),ne.publicKeyLayout("eventQueue"),ne.publicKeyLayout("bids"),ne.publicKeyLayout("asks"),ne.u64("baseLotSize"),ne.u64("quoteLotSize"),ne.u64("feeRateBps"),re.blob(7)]),te.MARKET_STATE_LAYOUT_V2=re.struct([re.blob(5),ne.accountFlagsLayout("accountFlags"),ne.publicKeyLayout("ownAddress"),ne.u64("vaultSignerNonce"),ne.publicKeyLayout("baseMint"),ne.publicKeyLayout("quoteMint"),ne.publicKeyLayout("baseVault"),ne.u64("baseDepositsTotal"),ne.u64("baseFeesAccrued"),ne.publicKeyLayout("quoteVault"),ne.u64("quoteDepositsTotal"),ne.u64("quoteFeesAccrued"),ne.u64("quoteDustThreshold"),ne.publicKeyLayout("requestQueue"),ne.publicKeyLayout("eventQueue"),ne.publicKeyLayout("bids"),ne.publicKeyLayout("asks"),ne.u64("baseLotSize"),ne.u64("quoteLotSize"),ne.u64("feeRateBps"),ne.u64("referrerRebatesAccrued"),re.blob(7)]),te.MARKET_STATE_LAYOUT_V3=re.struct([re.blob(5),ne.accountFlagsLayout("accountFlags"),ne.publicKeyLayout("ownAddress"),ne.u64("vaultSignerNonce"),ne.publicKeyLayout("baseMint"),ne.publicKeyLayout("quoteMint"),ne.publicKeyLayout("baseVault"),ne.u64("baseDepositsTotal"),ne.u64("baseFeesAccrued"),ne.publicKeyLayout("quoteVault"),ne.u64("quoteDepositsTotal"),ne.u64("quoteFeesAccrued"),ne.u64("quoteDustThreshold"),ne.publicKeyLayout("requestQueue"),ne.publicKeyLayout("eventQueue"),ne.publicKeyLayout("bids"),ne.publicKeyLayout("asks"),ne.u64("baseLotSize"),ne.u64("quoteLotSize"),ne.u64("feeRateBps"),ne.u64("referrerRebatesAccrued"),ne.publicKeyLayout("authority"),ne.publicKeyLayout("pruneAuthority"),ne.publicKeyLayout("consumeEventsAuthority"),re.blob(992),re.blob(7)]);class ke{constructor(Ve,nt,st,qe={},ye,ae){const{skipPreflight:ce=!1,commitment:le="recent"}=qe;if(!Ve.accountFlags.initialized||!Ve.accountFlags.market)throw new Error("Invalid market state");this._decoded=Ve,this._baseSplTokenDecimals=nt,this._quoteSplTokenDecimals=st,this._skipPreflight=ce,this._commitment=le,this._programId=ye,this._openOrdersAccountsCache={},this._feeDiscountKeysCache={},this._layoutOverride=ae}static getLayout(Ve){return Te.getLayoutVersion(Ve)===1?te._MARKET_STAT_LAYOUT_V1:te.MARKET_STATE_LAYOUT_V2}static async findAccountsByMints(Ve,nt,st,qe){const ye=[{memcmp:{offset:this.getLayout(qe).offsetOf("baseMint"),bytes:nt.toBase58()}},{memcmp:{offset:ke.getLayout(qe).offsetOf("quoteMint"),bytes:st.toBase58()}}];return Ke(Ve,qe,ye)}static async load(Ve,nt,st={},qe,ye){const{owner:ae,data:ce}=Ge(await Ve.getAccountInfo(nt),"Market not found");if(!ae.equals(qe))throw new Error("Address not owned by program: "+ae.toBase58());const le=(ye!=null?ye:this.getLayout(qe)).decode(ce);if(!le.accountFlags.initialized||!le.accountFlags.market||!le.ownAddress.equals(nt))throw new Error("Invalid market");const[pe,_e]=await Promise.all([He(Ve,le.baseMint),He(Ve,le.quoteMint)]);return new ke(le,pe,_e,st,qe,ye)}get programId(){return this._programId}get address(){return this._decoded.ownAddress}get publicKey(){return this.address}get baseMintAddress(){return this._decoded.baseMint}get quoteMintAddress(){return this._decoded.quoteMint}get bidsAddress(){return this._decoded.bids}get asksAddress(){return this._decoded.asks}get decoded(){return this._decoded}async loadBids(Ve){const{data:nt}=Ge(await Ve.getAccountInfo(this._decoded.bids));return Ce.decode(this,nt)}async loadAsks(Ve){const{data:nt}=Ge(await Ve.getAccountInfo(this._decoded.asks));return Ce.decode(this,nt)}async loadOrdersForOwner(Ve,nt,st=0){const[qe,ye,ae]=await Promise.all([this.loadBids(Ve),this.loadAsks(Ve),this.findOpenOrdersAccountsForOwner(Ve,nt,st)]);return this.filterForOpenOrders(qe,ye,ae)}filterForOpenOrders(Ve,nt,st){return[...Ve,...nt].filter(qe=>st.some(ye=>qe.openOrdersAddress.equals(ye.address)))}async findBaseTokenAccountsForOwner(Ve,nt,st=!1){if(this.baseMintAddress.equals(Se.WRAPPED_SOL_MINT)&&st){const[qe,ye]=await Promise.all([this.findBaseTokenAccountsForOwner(Ve,nt,!1),Ve.getAccountInfo(nt)]);return ye!==null?[{pubkey:nt,account:ye},...qe]:qe}return await this.getTokenAccountsByOwnerForMint(Ve,nt,this.baseMintAddress)}async getTokenAccountsByOwnerForMint(Ve,nt,st){return(await Ve.getTokenAccountsByOwner(nt,{mint:st})).value}async findQuoteTokenAccountsForOwner(Ve,nt,st=!1){if(this.quoteMintAddress.equals(Se.WRAPPED_SOL_MINT)&&st){const[qe,ye]=await Promise.all([this.findQuoteTokenAccountsForOwner(Ve,nt,!1),Ve.getAccountInfo(nt)]);return ye!==null?[{pubkey:nt,account:ye},...qe]:qe}return await this.getTokenAccountsByOwnerForMint(Ve,nt,this.quoteMintAddress)}async findOpenOrdersAccountsForOwner(Ve,nt,st=0){const qe=nt.toBase58(),ye=new Date().getTime();if(qe in this._openOrdersAccountsCache&&ye-this._openOrdersAccountsCache[qe].ts<st)return this._openOrdersAccountsCache[qe].accounts;const ae=await Re.findForMarketAndOwner(Ve,this.address,nt,this._programId);return this._openOrdersAccountsCache[qe]={accounts:ae,ts:ye},ae}async replaceOrders(Ve,nt,st,qe=0){var ye;if(!nt.openOrdersAccount&&!nt.openOrdersAddressKey){const ce=(ye=nt.owner.publicKey)!==null&&ye!==void 0?ye:nt.owner,le=await this.findOpenOrdersAccountsForOwner(Ve,ce,qe);nt.openOrdersAddressKey=le[0].address}const ae=new ue.Transaction;return ae.add(this.makeReplaceOrdersByClientIdsInstruction(nt,st)),await this._sendTransaction(Ve,ae,[nt.owner])}async placeOrder(Ve,{owner:nt,payer:st,side:qe,price:ye,size:ae,orderType:ce="limit",clientId:le,openOrdersAddressKey:pe,openOrdersAccount:_e,feeDiscountPubkey:$e,maxTs:Ee,replaceIfExists:me=!1}){const{transaction:fe,signers:we}=await this.makePlaceOrderTransaction(Ve,{owner:nt,payer:st,side:qe,price:ye,size:ae,orderType:ce,clientId:le,openOrdersAddressKey:pe,openOrdersAccount:_e,feeDiscountPubkey:$e,maxTs:Ee,replaceIfExists:me});return await this._sendTransaction(Ve,fe,[nt,...we])}getSplTokenBalanceFromAccountInfo(Ve,nt){return Ie(new se.default(Ve.data.slice(64,72),10,"le"),new se.default(10).pow(new se.default(nt)))}get supportsSrmFeeDiscounts(){return be.supportsSrmFeeDiscounts(this._programId)}get supportsReferralFees(){return Te.getLayoutVersion(this._programId)>1}get usesRequestQueue(){return Te.getLayoutVersion(this._programId)<=2}async findFeeDiscountKeys(Ve,nt,st=0){let qe=[];const ye=new Date().getTime(),ae=nt.toBase58();if(ae in this._feeDiscountKeysCache&&ye-this._feeDiscountKeysCache[ae].ts<st)return this._feeDiscountKeysCache[ae].accounts;if(this.supportsSrmFeeDiscounts){const ce=(await this.getTokenAccountsByOwnerForMint(Ve,nt,Se.MSRM_MINT)).map(({pubkey:pe,account:_e})=>{const $e=this.getSplTokenBalanceFromAccountInfo(_e,Se.MSRM_DECIMALS);return{pubkey:pe,mint:Se.MSRM_MINT,balance:$e,feeTier:be.getFeeTier($e,0)}}),le=(await this.getTokenAccountsByOwnerForMint(Ve,nt,Se.SRM_MINT)).map(({pubkey:pe,account:_e})=>{const $e=this.getSplTokenBalanceFromAccountInfo(_e,Se.SRM_DECIMALS);return{pubkey:pe,mint:Se.SRM_MINT,balance:$e,feeTier:be.getFeeTier(0,$e)}});qe=ce.concat(le).sort((pe,_e)=>pe.feeTier>_e.feeTier?-1:pe.feeTier<_e.feeTier?1:pe.balance>_e.balance?-1:pe.balance<_e.balance?1:0)}return this._feeDiscountKeysCache[ae]={accounts:qe,ts:ye},qe}async findBestFeeDiscountKey(Ve,nt,st=3e4){const qe=await this.findFeeDiscountKeys(Ve,nt,st);return qe.length>0?{pubkey:qe[0].pubkey,feeTier:qe[0].feeTier}:{pubkey:null,feeTier:0}}async makePlaceOrderTransaction(Ve,{owner:nt,payer:st,side:qe,price:ye,size:ae,orderType:ce="limit",clientId:le,openOrdersAddressKey:pe,openOrdersAccount:_e,feeDiscountPubkey:$e=void 0,selfTradeBehavior:Ee="decrementTake",maxTs:me,replaceIfExists:fe=!1},we=0,Me=0){var Le,Je;const Ue=(Le=nt.publicKey)!==null&&Le!==void 0?Le:nt,ct=await this.findOpenOrdersAccountsForOwner(Ve,Ue,we),gt=new ue.Transaction,$t=[];let vt;$e?vt=$e:$e===void 0&&this.supportsSrmFeeDiscounts?vt=(await this.findBestFeeDiscountKey(Ve,Ue,Me)).pubkey:vt=null;let Tt;if(ct.length===0){let lt;_e?lt=_e:lt=new ue.Account,gt.add(await Re.makeCreateAccountTransaction(Ve,this.address,Ue,lt.publicKey,this._programId)),Tt=lt.publicKey,$t.push(lt),this._openOrdersAccountsCache[Ue.toBase58()].ts=0}else _e?Tt=_e.publicKey:pe?Tt=pe:Tt=ct[0].address;let qt=null;if(st.equals(Ue))if(qe==="buy"&&this.quoteMintAddress.equals(Se.WRAPPED_SOL_MINT)||qe==="sell"&&this.baseMintAddress.equals(Se.WRAPPED_SOL_MINT)){qt=new ue.Account;let lt;qe==="buy"?(lt=Math.round(ye*ae*1.01*ue.LAMPORTS_PER_SOL),ct.length>0&&(lt-=ct[0].quoteTokenFree.toNumber())):(lt=Math.round(ae*ue.LAMPORTS_PER_SOL),ct.length>0&&(lt-=ct[0].baseTokenFree.toNumber())),lt=Math.max(lt,0)+1e7,gt.add(ue.SystemProgram.createAccount({fromPubkey:Ue,newAccountPubkey:qt.publicKey,lamports:lt,space:165,programId:Se.TOKEN_PROGRAM_ID})),gt.add(Se.initializeAccount({account:qt.publicKey,mint:Se.WRAPPED_SOL_MINT,owner:Ue})),$t.push(qt)}else throw new Error("Invalid payer account");const Rt=this.makePlaceOrderInstruction(Ve,{owner:nt,payer:(Je=qt==null?void 0:qt.publicKey)!==null&&Je!==void 0?Je:st,side:qe,price:ye,size:ae,orderType:ce,clientId:le,openOrdersAddressKey:Tt,feeDiscountPubkey:vt,selfTradeBehavior:Ee,maxTs:me,replaceIfExists:fe});return gt.add(Rt),qt&&gt.add(Se.closeAccount({source:qt.publicKey,destination:Ue,owner:Ue})),{transaction:gt,signers:$t,payer:nt}}makePlaceOrderInstruction(Ve,nt){var st;const{owner:qe,payer:ye,side:ae,price:ce,size:le,orderType:pe="limit",clientId:_e,openOrdersAddressKey:$e,openOrdersAccount:Ee,feeDiscountPubkey:me=null}=nt,fe=(st=qe.publicKey)!==null&&st!==void 0?st:qe;if(this.baseSizeNumberToLots(le).lte(new se.default(0)))throw new Error("size too small");if(this.priceNumberToLots(ce).lte(new se.default(0)))throw new Error("invalid price");return this.usesRequestQueue?ie.DexInstructions.newOrder({market:this.address,requestQueue:this._decoded.requestQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:Ee?Ee.publicKey:$e,owner:fe,payer:ye,side:ae,limitPrice:this.priceNumberToLots(ce),maxQuantity:this.baseSizeNumberToLots(le),orderType:pe,clientId:_e,programId:this._programId,feeDiscountPubkey:this.supportsSrmFeeDiscounts?me:null}):this.makeNewOrderV3Instruction(nt)}makeNewOrderV3Instruction(Ve){var nt;const{owner:st,payer:qe,side:ye,price:ae,size:ce,orderType:le="limit",clientId:pe,openOrdersAddressKey:_e,openOrdersAccount:$e,feeDiscountPubkey:Ee=null,selfTradeBehavior:me="decrementTake",programId:fe,maxTs:we,replaceIfExists:Me}=Ve,Le=(nt=st.publicKey)!==null&&nt!==void 0?nt:st;return ie.DexInstructions.newOrderV3({market:this.address,bids:this._decoded.bids,asks:this._decoded.asks,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:$e?$e.publicKey:_e,owner:Le,payer:qe,side:ye,limitPrice:this.priceNumberToLots(ae),maxBaseQuantity:this.baseSizeNumberToLots(ce),maxQuoteQuantity:new se.default(this._decoded.quoteLotSize.toNumber()).mul(this.baseSizeNumberToLots(ce).mul(this.priceNumberToLots(ae))),orderType:le,clientId:pe,programId:fe!=null?fe:this._programId,selfTradeBehavior:me,feeDiscountPubkey:this.supportsSrmFeeDiscounts?Ee:null,maxTs:we,replaceIfExists:Me})}makeReplaceOrdersByClientIdsInstruction(Ve,nt){var st,qe;const ye=(st=Ve.owner.publicKey)!==null&&st!==void 0?st:Ve.owner;return ie.DexInstructions.replaceOrdersByClientIds({market:this.address,bids:this._decoded.bids,asks:this._decoded.asks,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:Ve.openOrdersAccount?Ve.openOrdersAccount.publicKey:Ve.openOrdersAddressKey,owner:ye,payer:Ve.payer,programId:(qe=Ve.programId)!==null&&qe!==void 0?qe:this._programId,feeDiscountPubkey:this.supportsSrmFeeDiscounts?Ve.feeDiscountPubkey:null,orders:nt.map(ae=>{var ce;return{side:ae.side,limitPrice:this.priceNumberToLots(ae.price),maxBaseQuantity:this.baseSizeNumberToLots(ae.size),maxQuoteQuantity:new se.default(this._decoded.quoteLotSize.toNumber()).mul(this.baseSizeNumberToLots(ae.size).mul(this.priceNumberToLots(ae.price))),orderType:ae.orderType,clientId:ae.clientId,programId:(ce=Ve.programId)!==null&&ce!==void 0?ce:this._programId,selfTradeBehavior:ae.selfTradeBehavior,maxTs:ae.maxTs}})})}async _sendTransaction(Ve,nt,st){const qe=await Ve.sendTransaction(nt,st,{skipPreflight:this._skipPreflight}),{value:ye}=await Ve.confirmTransaction(qe,this._commitment);if(ye!=null&&ye.err)throw new Error(JSON.stringify(ye.err));return qe}async cancelOrderByClientId(Ve,nt,st,qe){const ye=await this.makeCancelOrderByClientIdTransaction(Ve,nt.publicKey,st,qe);return await this._sendTransaction(Ve,ye,[nt])}async cancelOrdersByClientIds(Ve,nt,st,qe){const ye=await this.makeCancelOrdersByClientIdsTransaction(Ve,nt.publicKey,st,qe);return await this._sendTransaction(Ve,ye,[nt])}async makeCancelOrderByClientIdTransaction(Ve,nt,st,qe){const ye=new ue.Transaction;return this.usesRequestQueue?ye.add(ie.DexInstructions.cancelOrderByClientId({market:this.address,owner:nt,openOrders:st,requestQueue:this._decoded.requestQueue,clientId:qe,programId:this._programId})):ye.add(ie.DexInstructions.cancelOrderByClientIdV2({market:this.address,openOrders:st,owner:nt,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientId:qe,programId:this._programId})),ye}async makeCancelOrdersByClientIdsTransaction(Ve,nt,st,qe){const ye=new ue.Transaction;return ye.add(ie.DexInstructions.cancelOrdersByClientIds({market:this.address,openOrders:st,owner:nt,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientIds:qe,programId:this._programId})),ye}async cancelOrder(Ve,nt,st){const qe=await this.makeCancelOrderTransaction(Ve,nt.publicKey,st);return await this._sendTransaction(Ve,qe,[nt])}async makeCancelOrderTransaction(Ve,nt,st){const qe=new ue.Transaction;return qe.add(this.makeCancelOrderInstruction(Ve,nt,st)),qe}makeCancelOrderInstruction(Ve,nt,st){return this.usesRequestQueue?ie.DexInstructions.cancelOrder({market:this.address,owner:nt,openOrders:st.openOrdersAddress,requestQueue:this._decoded.requestQueue,side:st.side,orderId:st.orderId,openOrdersSlot:st.openOrdersSlot,programId:this._programId}):ie.DexInstructions.cancelOrderV2({market:this.address,owner:nt,openOrders:st.openOrdersAddress,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,side:st.side,orderId:st.orderId,openOrdersSlot:st.openOrdersSlot,programId:this._programId})}makeConsumeEventsInstruction(Ve,nt){return ie.DexInstructions.consumeEvents({market:this.address,eventQueue:this._decoded.eventQueue,coinFee:this._decoded.eventQueue,pcFee:this._decoded.eventQueue,openOrdersAccounts:Ve,limit:nt,programId:this._programId})}makeConsumeEventsPermissionedInstruction(Ve,nt){return ie.DexInstructions.consumeEventsPermissioned({market:this.address,eventQueue:this._decoded.eventQueue,crankAuthority:this._decoded.consumeEventsAuthority,openOrdersAccounts:Ve,limit:nt,programId:this._programId})}async settleFunds(Ve,nt,st,qe,ye,ae=null){if(!st.owner.equals(nt.publicKey))throw new Error("Invalid open orders account");if(ae&&!this.supportsReferralFees)throw new Error("This program ID does not support referrerQuoteWallet");const{transaction:ce,signers:le}=await this.makeSettleFundsTransaction(Ve,st,qe,ye,ae);return await this._sendTransaction(Ve,ce,[nt,...le])}async makeSettleFundsTransaction(Ve,nt,st,qe,ye=null){const ae=await ue.PublicKey.createProgramAddress([this.address.toBuffer(),this._decoded.vaultSignerNonce.toArrayLike(ge.Buffer,"le",8)],this._programId),ce=new ue.Transaction,le=[];let pe=null;return(this.baseMintAddress.equals(Se.WRAPPED_SOL_MINT)&&st.equals(nt.owner)||this.quoteMintAddress.equals(Se.WRAPPED_SOL_MINT)&&qe.equals(nt.owner))&&(pe=new ue.Account,ce.add(ue.SystemProgram.createAccount({fromPubkey:nt.owner,newAccountPubkey:pe.publicKey,lamports:await Ve.getMinimumBalanceForRentExemption(165),space:165,programId:Se.TOKEN_PROGRAM_ID})),ce.add(Se.initializeAccount({account:pe.publicKey,mint:Se.WRAPPED_SOL_MINT,owner:nt.owner})),le.push(pe)),ce.add(ie.DexInstructions.settleFunds({market:this.address,openOrders:nt.address,owner:nt.owner,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,baseWallet:st.equals(nt.owner)&&pe?pe.publicKey:st,quoteWallet:qe.equals(nt.owner)&&pe?pe.publicKey:qe,vaultSigner:ae,programId:this._programId,referrerQuoteWallet:ye})),pe&&ce.add(Se.closeAccount({source:pe.publicKey,destination:nt.owner,owner:nt.owner})),{transaction:ce,signers:le,payer:nt.owner}}async matchOrders(Ve,nt,st){const qe=this.makeMatchOrdersTransaction(st);return await this._sendTransaction(Ve,qe,[nt])}makeMatchOrdersTransaction(Ve){const nt=new ue.Transaction;return nt.add(ie.DexInstructions.matchOrders({market:this.address,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,bids:this._decoded.bids,asks:this._decoded.asks,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,limit:Ve,programId:this._programId})),nt}async loadRequestQueue(Ve){const{data:nt}=Ge(await Ve.getAccountInfo(this._decoded.requestQueue));return he.decodeRequestQueue(nt)}async loadEventQueue(Ve){const{data:nt}=Ge(await Ve.getAccountInfo(this._decoded.eventQueue));return he.decodeEventQueue(nt)}async loadFills(Ve,nt=100){const{data:st}=Ge(await Ve.getAccountInfo(this._decoded.eventQueue));return he.decodeEventQueue(st,nt).filter(ye=>ye.eventFlags.fill&&ye.nativeQuantityPaid.gtn(0)).map(this.parseFillEvent.bind(this))}parseFillEvent(Ve){let nt,st,qe,ye;return Ve.eventFlags.bid?(qe="buy",ye=Ve.eventFlags.maker?Ve.nativeQuantityPaid.add(Ve.nativeFeeOrRebate):Ve.nativeQuantityPaid.sub(Ve.nativeFeeOrRebate),st=Ie(ye.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(Ve.nativeQuantityReleased)),nt=Ie(Ve.nativeQuantityReleased,this._baseSplTokenMultiplier)):(qe="sell",ye=Ve.eventFlags.maker?Ve.nativeQuantityReleased.sub(Ve.nativeFeeOrRebate):Ve.nativeQuantityReleased.add(Ve.nativeFeeOrRebate),st=Ie(ye.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(Ve.nativeQuantityPaid)),nt=Ie(Ve.nativeQuantityPaid,this._baseSplTokenMultiplier)),jr(Nr({},Ve),{side:qe,price:st,feeCost:this.quoteSplSizeToNumber(Ve.nativeFeeOrRebate)*(Ve.eventFlags.maker?-1:1),size:nt})}get _baseSplTokenMultiplier(){return new se.default(10).pow(new se.default(this._baseSplTokenDecimals))}get _quoteSplTokenMultiplier(){return new se.default(10).pow(new se.default(this._quoteSplTokenDecimals))}priceLotsToNumber(Ve){return Ie(Ve.mul(this._decoded.quoteLotSize).mul(this._baseSplTokenMultiplier),this._decoded.baseLotSize.mul(this._quoteSplTokenMultiplier))}priceNumberToLots(Ve){return new se.default(Math.round(Ve*Math.pow(10,this._quoteSplTokenDecimals)*this._decoded.baseLotSize.toNumber()/(Math.pow(10,this._baseSplTokenDecimals)*this._decoded.quoteLotSize.toNumber())))}baseSplSizeToNumber(Ve){return Ie(Ve,this._baseSplTokenMultiplier)}quoteSplSizeToNumber(Ve){return Ie(Ve,this._quoteSplTokenMultiplier)}baseSizeLotsToNumber(Ve){return Ie(Ve.mul(this._decoded.baseLotSize),this._baseSplTokenMultiplier)}baseSizeNumberToLots(Ve){return new se.default(Math.round(Ve*Math.pow(10,this._baseSplTokenDecimals))).div(this._decoded.baseLotSize)}quoteSizeLotsToNumber(Ve){return Ie(Ve.mul(this._decoded.quoteLotSize),this._quoteSplTokenMultiplier)}quoteSizeNumberToLots(Ve){return new se.default(Math.round(Ve*Math.pow(10,this._quoteSplTokenDecimals))).div(this._decoded.quoteLotSize)}get minOrderSize(){return this.baseSizeLotsToNumber(new se.default(1))}get tickSize(){return this.priceLotsToNumber(new se.default(1))}}te.Market=ke,te._OPEN_ORDERS_LAYOUT_V1=re.struct([re.blob(5),ne.accountFlagsLayout("accountFlags"),ne.publicKeyLayout("market"),ne.publicKeyLayout("owner"),ne.u64("baseTokenFree"),ne.u64("baseTokenTotal"),ne.u64("quoteTokenFree"),ne.u64("quoteTokenTotal"),ne.u128("freeSlotBits"),ne.u128("isBidBits"),re.seq(ne.u128(),128,"orders"),re.seq(ne.u64(),128,"clientIds"),re.blob(7)]),te._OPEN_ORDERS_LAYOUT_V2=re.struct([re.blob(5),ne.accountFlagsLayout("accountFlags"),ne.publicKeyLayout("market"),ne.publicKeyLayout("owner"),ne.u64("baseTokenFree"),ne.u64("baseTokenTotal"),ne.u64("quoteTokenFree"),ne.u64("quoteTokenTotal"),ne.u128("freeSlotBits"),ne.u128("isBidBits"),re.seq(ne.u128(),128,"orders"),re.seq(ne.u64(),128,"clientIds"),ne.u64("referrerRebatesAccrued"),re.blob(7)]);class Re{constructor(Ve,nt,st){this.address=Ve,this._programId=st,Object.assign(this,nt)}static getLayout(Ve){return Te.getLayoutVersion(Ve)===1?te._OPEN_ORDERS_LAYOUT_V1:te._OPEN_ORDERS_LAYOUT_V2}static async findForOwner(Ve,nt,st){const qe=[{memcmp:{offset:this.getLayout(st).offsetOf("owner"),bytes:nt.toBase58()}},{dataSize:this.getLayout(st).span}];return(await Ke(Ve,st,qe)).map(({publicKey:ae,accountInfo:ce})=>Re.fromAccountInfo(ae,ce,st))}static async findForMarketAndOwner(Ve,nt,st,qe){const ye=[{memcmp:{offset:this.getLayout(qe).offsetOf("market"),bytes:nt.toBase58()}},{memcmp:{offset:this.getLayout(qe).offsetOf("owner"),bytes:st.toBase58()}},{dataSize:this.getLayout(qe).span}];return(await Ke(Ve,qe,ye)).map(({publicKey:ce,accountInfo:le})=>Re.fromAccountInfo(ce,le,qe))}static async load(Ve,nt,st){const qe=await Ve.getAccountInfo(nt);if(qe===null)throw new Error("Open orders account not found");return Re.fromAccountInfo(nt,qe,st)}static fromAccountInfo(Ve,nt,st){const{owner:qe,data:ye}=nt;if(!qe.equals(st))throw new Error("Address not owned by program");const ae=this.getLayout(st).decode(ye);if(!ae.accountFlags.initialized||!ae.accountFlags.openOrders)throw new Error("Invalid open orders account");return new Re(Ve,ae,st)}static async makeCreateAccountTransaction(Ve,nt,st,qe,ye){return ue.SystemProgram.createAccount({fromPubkey:st,newAccountPubkey:qe,lamports:await Ve.getMinimumBalanceForRentExemption(this.getLayout(ye).span),space:this.getLayout(ye).span,programId:ye})}get publicKey(){return this.address}}te.OpenOrders=Re,te.ORDERBOOK_LAYOUT=re.struct([re.blob(5),ne.accountFlagsLayout("accountFlags"),oe.SLAB_LAYOUT.replicate("slab"),re.blob(7)]);class Ce{constructor(Ve,nt,st){if(!nt.initialized||!(nt.bids^nt.asks))throw new Error("Invalid orderbook");this.market=Ve,this.isBids=nt.bids,this.slab=st}static get LAYOUT(){return te.ORDERBOOK_LAYOUT}static decode(Ve,nt){const{accountFlags:st,slab:qe}=te.ORDERBOOK_LAYOUT.decode(nt);return new Ce(Ve,st,qe)}getL2(Ve){const nt=this.isBids,st=[];for(const{key:qe,quantity:ye}of this.slab.items(nt)){const ae=Pe(qe);if(st.length>0&&st[st.length-1][0].eq(ae))st[st.length-1][1]=st[st.length-1][1].add(ye);else{if(st.length===Ve)break;st.push([ae,ye])}}return st.map(([qe,ye])=>[this.market.priceLotsToNumber(qe),this.market.baseSizeLotsToNumber(ye),qe,ye])}[Symbol.iterator](){return this.items(!1)}*items(Ve=!1){for(const{key:nt,ownerSlot:st,owner:qe,quantity:ye,feeTier:ae,clientOrderId:ce}of this.slab.items(Ve)){const le=Pe(nt);yield{orderId:nt,clientId:ce,openOrdersAddress:qe,openOrdersSlot:st,feeTier:ae,price:this.market.priceLotsToNumber(le),priceLots:le,size:this.market.baseSizeLotsToNumber(ye),sizeLots:ye,side:this.isBids?"buy":"sell"}}}}te.Orderbook=Ce;function Pe(ut){return ut.ushrn(64)}function Ie(ut,Ve){const nt=ut.div(Ve).toNumber(),st=ut.umod(Ve),qe=st.gcd(Ve);return nt+st.div(qe).toNumber()/Ve.div(qe).toNumber()}const Ne=re.struct([re.blob(44),re.u8("decimals"),re.blob(37)]);async function He(ut,Ve){if(Ve.equals(Se.WRAPPED_SOL_MINT))return 9;const{data:nt}=Ge(await ut.getAccountInfo(Ve),"mint not found"),{decimals:st}=Ne.decode(nt);return st}te.getMintDecimals=He;async function Ke(ut,Ve,nt){const st=await ut._rpcRequest("getProgramAccounts",[Ve.toBase58(),{commitment:ut.commitment,filters:nt,encoding:"base64"}]);if(st.error)throw new Error(st.error.message);return st.result.map(({pubkey:qe,account:{data:ye,executable:ae,owner:ce,lamports:le}})=>({publicKey:new ue.PublicKey(qe),accountInfo:{data:ge.Buffer.from(ye[0],"base64"),executable:ae,owner:new ue.PublicKey(ce),lamports:le}}))}function Ge(ut,Ve="account not found"){if(ut===null)throw new Error(Ve);return ut}})(market);var error$1={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.parseInstructionErrorResponse=te.KNOWN_PROGRAMS=te.DexError=void 0;const ee=require$$0$4,re=tokens_and_markets,ne=tokenInstructions;var oe;(function(se){se[se.InvalidMarketFlags=0]="InvalidMarketFlags",se[se.InvalidAskFlags=1]="InvalidAskFlags",se[se.InvalidBidFlags=2]="InvalidBidFlags",se[se.InvalidQueueLength=3]="InvalidQueueLength",se[se.OwnerAccountNotProvided=4]="OwnerAccountNotProvided",se[se.ConsumeEventsQueueFailure=5]="ConsumeEventsQueueFailure",se[se.WrongCoinVault=6]="WrongCoinVault",se[se.WrongPcVault=7]="WrongPcVault",se[se.WrongCoinMint=8]="WrongCoinMint",se[se.WrongPcMint=9]="WrongPcMint",se[se.CoinVaultProgramId=10]="CoinVaultProgramId",se[se.PcVaultProgramId=11]="PcVaultProgramId",se[se.CoinMintProgramId=12]="CoinMintProgramId",se[se.PcMintProgramId=13]="PcMintProgramId",se[se.WrongCoinMintSize=14]="WrongCoinMintSize",se[se.WrongPcMintSize=15]="WrongPcMintSize",se[se.WrongCoinVaultSize=16]="WrongCoinVaultSize",se[se.WrongPcVaultSize=17]="WrongPcVaultSize",se[se.UninitializedVault=18]="UninitializedVault",se[se.UninitializedMint=19]="UninitializedMint",se[se.CoinMintUninitialized=20]="CoinMintUninitialized",se[se.PcMintUninitialized=21]="PcMintUninitialized",se[se.WrongMint=22]="WrongMint",se[se.WrongVaultOwner=23]="WrongVaultOwner",se[se.VaultHasDelegate=24]="VaultHasDelegate",se[se.AlreadyInitialized=25]="AlreadyInitialized",se[se.WrongAccountDataAlignment=26]="WrongAccountDataAlignment",se[se.WrongAccountDataPaddingLength=27]="WrongAccountDataPaddingLength",se[se.WrongAccountHeadPadding=28]="WrongAccountHeadPadding",se[se.WrongAccountTailPadding=29]="WrongAccountTailPadding",se[se.RequestQueueEmpty=30]="RequestQueueEmpty",se[se.EventQueueTooSmall=31]="EventQueueTooSmall",se[se.SlabTooSmall=32]="SlabTooSmall",se[se.BadVaultSignerNonce=33]="BadVaultSignerNonce",se[se.InsufficientFunds=34]="InsufficientFunds",se[se.SplAccountProgramId=35]="SplAccountProgramId",se[se.SplAccountLen=36]="SplAccountLen",se[se.WrongFeeDiscountAccountOwner=37]="WrongFeeDiscountAccountOwner",se[se.WrongFeeDiscountMint=38]="WrongFeeDiscountMint",se[se.CoinPayerProgramId=39]="CoinPayerProgramId",se[se.PcPayerProgramId=40]="PcPayerProgramId",se[se.ClientIdNotFound=41]="ClientIdNotFound",se[se.TooManyOpenOrders=42]="TooManyOpenOrders",se[se.FakeErrorSoWeDontChangeNumbers=43]="FakeErrorSoWeDontChangeNumbers",se[se.BorrowError=44]="BorrowError",se[se.WrongOrdersAccount=45]="WrongOrdersAccount",se[se.WrongBidsAccount=46]="WrongBidsAccount",se[se.WrongAsksAccount=47]="WrongAsksAccount",se[se.WrongRequestQueueAccount=48]="WrongRequestQueueAccount",se[se.WrongEventQueueAccount=49]="WrongEventQueueAccount",se[se.RequestQueueFull=50]="RequestQueueFull",se[se.EventQueueFull=51]="EventQueueFull",se[se.MarketIsDisabled=52]="MarketIsDisabled",se[se.WrongSigner=53]="WrongSigner",se[se.TransferFailed=54]="TransferFailed",se[se.ClientOrderIdIsZero=55]="ClientOrderIdIsZero",se[se.WrongRentSysvarAccount=56]="WrongRentSysvarAccount",se[se.RentNotProvided=57]="RentNotProvided",se[se.OrdersNotRentExempt=58]="OrdersNotRentExempt",se[se.OrderNotFound=59]="OrderNotFound",se[se.OrderNotYours=60]="OrderNotYours",se[se.WouldSelfTrade=61]="WouldSelfTrade",se[se.Unknown=1e3]="Unknown"})(oe=te.DexError||(te.DexError={})),te.KNOWN_PROGRAMS={[ne.TOKEN_PROGRAM_ID.toString()]:"Token program",[ee.SystemProgram.programId.toString()]:"System program"};function ie(se,ue){const[he,ge]=ue,be=se.instructions[he];let Se;return be.programId.toString()in re.PROGRAM_LAYOUT_VERSIONS?Se=oe[ge.Custom]:be.programId.toString()in te.KNOWN_PROGRAMS?Se=`${te.KNOWN_PROGRAMS[be.programId.toString()]} error ${ge.Custom}`:Se=`Unknown program ${be.programId.toString()} custom error: ${ge.Custom}`,{failedInstructionIndex:he,error:Se,failedProgram:be.programId.toString()}}te.parseInstructionErrorResponse=ie})(error$1);var marketProxy={},_a;const isBrowser$2=typeof window!="undefined"&&!(!((_a=window.process)===null||_a===void 0)&&_a.hasOwnProperty("type"));class Provider$1{constructor(ee,re,ne){this.connection=ee,this.wallet=re,this.opts=ne}static defaultOptions(){return{preflightCommitment:"recent",commitment:"recent"}}static local(ee,re){re=re!=null?re:Provider$1.defaultOptions();const ne=new Connection(ee!=null?ee:"http://localhost:8899",re.preflightCommitment),oe=NodeWallet$1.local();return new Provider$1(ne,oe,re)}static env(){if(isBrowser$2)return;const ee={}.ANCHOR_PROVIDER_URL;if(ee===void 0)throw new Error("ANCHOR_PROVIDER_URL is not defined");const re=Provider$1.defaultOptions(),ne=new Connection(ee,re.commitment),oe=NodeWallet$1.local();return new Provider$1(ne,oe,re)}async send(ee,re,ne){re===void 0&&(re=[]),ne===void 0&&(ne=this.opts),ee.feePayer=this.wallet.publicKey,ee.recentBlockhash=(await this.connection.getRecentBlockhash(ne.preflightCommitment)).blockhash,await this.wallet.signTransaction(ee),re.filter(se=>se!==void 0).forEach(se=>{ee.partialSign(se)});const oe=ee.serialize();return await sendAndConfirmRawTransaction$1(this.connection,oe,ne)}async sendAll(ee,re){re===void 0&&(re=this.opts);const ne=await this.connection.getRecentBlockhash(re.preflightCommitment);let oe=ee.map(ue=>{let he=ue.tx,ge=ue.signers;return ge===void 0&&(ge=[]),he.feePayer=this.wallet.publicKey,he.recentBlockhash=ne.blockhash,ge.filter(be=>be!==void 0).forEach(be=>{he.partialSign(be)}),he});const ie=await this.wallet.signAllTransactions(oe),se=[];for(let ue=0;ue<oe.length;ue+=1){const ge=ie[ue].serialize();se.push(await sendAndConfirmRawTransaction$1(this.connection,ge,re))}return se}async simulate(ee,re,ne){var oe,ie;return re===void 0&&(re=[]),ne===void 0&&(ne=this.opts),ee.feePayer=this.wallet.publicKey,ee.recentBlockhash=(await this.connection.getRecentBlockhash((oe=ne.preflightCommitment)!==null&&oe!==void 0?oe:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(ee),re.filter(se=>se!==void 0).forEach(se=>{ee.partialSign(se)}),await simulateTransaction$2(this.connection,ee,(ie=ne.commitment)!==null&&ie!==void 0?ie:this.opts.commitment)}}class NodeWallet$1{constructor(ee){this.payer=ee}static local(){const ee=Keypair.fromSecretKey(buffer$2.Buffer.from(JSON.parse(require$$3$1.readFileSync(require$$3$1.homedir()+"/.config/solana/id.json",{encoding:"utf-8"}))));return new NodeWallet$1(ee)}async signTransaction(ee){return ee.partialSign(this.payer),ee}async signAllTransactions(ee){return ee.map(re=>(re.partialSign(this.payer),re))}get publicKey(){return this.payer.publicKey}}async function simulateTransaction$2(te,ee,re){ee.recentBlockhash=await te._recentBlockhash(te._disableBlockhashCaching);const ne=ee.serializeMessage(),ue=[ee._serialize(ne).toString("base64"),{encoding:"base64",commitment:re}],he=await te._rpcRequest("simulateTransaction",ue);if(he.error)throw new Error("failed to simulate transaction: "+he.error.message);return he.result}function setProvider(te){_provider=te}function getProvider(){return _provider===null?Provider$1.local():_provider}let _provider=null;class IdlError extends Error{}class ProgramError extends Error{constructor(ee,re,...ne){super(...ne),this.code=ee,this.msg=re}static parse(ee,re){let ne=ee.toString().split("custom program error: ");if(ne.length!==2)return null;let oe;try{oe=parseInt(ne[1])}catch{return null}let ie=re.get(oe);return ie!==void 0?new ProgramError(oe,ie):(ie=LangErrorMessage.get(oe),ie!==void 0?new ProgramError(oe,ie):null)}toString(){return this.msg}}const LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:120,IdlInstructionInvalidProgram:121,ConstraintMut:140,ConstraintHasOne:141,ConstraintSigner:142,ConstraintRaw:143,ConstraintOwner:144,ConstraintRentExempt:145,ConstraintSeeds:146,ConstraintExecutable:147,ConstraintState:148,ConstraintAssociated:149,ConstraintAssociatedInit:150,ConstraintClose:151,ConstraintAddress:152,AccountDiscriminatorAlreadySet:160,AccountDiscriminatorNotFound:161,AccountDiscriminatorMismatch:162,AccountDidNotDeserialize:163,AccountDidNotSerialize:164,AccountNotEnoughKeys:165,AccountNotMutable:166,AccountNotProgramOwned:167,StateInvalidAddress:180,Deprecated:299},LangErrorMessage=new Map([[LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[LangErrorCode.ConstraintMut,"A mut constraint was violated"],[LangErrorCode.ConstraintHasOne,"A has_one constraint was violated"],[LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[LangErrorCode.ConstraintRaw,"A raw constraint as violated"],[LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[LangErrorCode.ConstraintRentExempt,"A rent exempt constraint was violated"],[LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[LangErrorCode.ConstraintState,"A state constraint was violated"],[LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[LangErrorCode.ConstraintClose,"A close constraint was violated"],[LangErrorCode.ConstraintAddress,"An address constraint was violated"],[LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[LangErrorCode.AccountNotMutable,"The given account is not mutable"],[LangErrorCode.AccountNotProgramOwned,"The given account is not owned by the executing program"],[LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]]);class IdlCoder{static fieldLayout(ee,re){const ne=ee.name!==void 0?camelCase$1(ee.name):void 0;switch(ee.type){case"bool":return lib$5.bool(ne);case"u8":return lib$5.u8(ne);case"i8":return lib$5.i8(ne);case"u16":return lib$5.u16(ne);case"i16":return lib$5.i16(ne);case"u32":return lib$5.u32(ne);case"i32":return lib$5.i32(ne);case"u64":return lib$5.u64(ne);case"i64":return lib$5.i64(ne);case"u128":return lib$5.u128(ne);case"i128":return lib$5.i128(ne);case"bytes":return lib$5.vecU8(ne);case"string":return lib$5.str(ne);case"publicKey":return lib$5.publicKey(ne);default:{if(ee.type.vec)return lib$5.vec(IdlCoder.fieldLayout({name:void 0,type:ee.type.vec},re),ne);if(ee.type.option)return lib$5.option(IdlCoder.fieldLayout({name:void 0,type:ee.type.option},re),ne);if(ee.type.defined){if(re===void 0)throw new IdlError("User defined types not provided");const oe=re.filter(ie=>ie.name===ee.type.defined);if(oe.length!==1)throw new IdlError(`Type not found: ${JSON.stringify(ee)}`);return IdlCoder.typeDefLayout(oe[0],re,ne)}else if(ee.type.array){let oe=ee.type.array[0],ie=ee.type.array[1],se=IdlCoder.fieldLayout({name:void 0,type:oe},re);return lib$5.array(se,ie,ne)}else throw new Error(`Not yet implemented: ${ee}`)}}}static typeDefLayout(ee,re,ne){if(ee.type.kind==="struct"){const oe=ee.type.fields.map(ie=>IdlCoder.fieldLayout(ie,re));return lib$5.struct(oe,ne)}else if(ee.type.kind==="enum"){let oe=ee.type.variants.map(ie=>{const se=camelCase$1(ie.name);if(ie.fields===void 0)return lib$5.struct([],se);const ue=ie.fields.map(he=>{if(he.name===void 0)throw new Error("Tuple enum variants not yet implemented.");return IdlCoder.fieldLayout(he,re)});return lib$5.struct(ue,se)});return ne!==void 0?lib$5.rustEnum(oe).replicate(ne):lib$5.rustEnum(oe,ne)}else throw new Error(`Unknown type kint: ${ee}`)}}function accountSize(te,ee){if(ee.type.kind==="enum"){let re=ee.type.variants.map(ne=>ne.fields===void 0?0:ne.fields.map(oe=>{if(oe.name===void 0)throw new Error("Tuple enum variants not yet implemented.");return typeSize(te,oe.type)}).reduce((oe,ie)=>oe+ie));return Math.max(...re)+1}return ee.type.fields===void 0?0:ee.type.fields.map(re=>typeSize(te,re.type)).reduce((re,ne)=>re+ne)}function typeSize(te,ee){switch(ee){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"u64":return 8;case"i64":return 8;case"u128":return 16;case"i128":return 16;case"bytes":return 1;case"string":return 1;case"publicKey":return 32;default:if(ee.vec!==void 0)return 1;if(ee.option!==void 0)return 1+typeSize(te,ee.option);if(ee.defined!==void 0){const re=te.types.filter(oe=>oe.name===ee.defined);if(re.length!==1)throw new IdlError(`Type not found: ${JSON.stringify(ee)}`);let ne=re[0];return accountSize(te,ne)}if(ee.array!==void 0){let re=ee.array[0],ne=ee.array[1];return typeSize(te,re)*ne}throw new Error(`Invalid type ${JSON.stringify(ee)}`)}}function sighash(te,ee){let re=snakeCase(ee),ne=`${te}:${re}`;return buffer$2.Buffer.from(sha256$2.exports.sha256.digest(ne)).slice(0,8)}const SIGHASH_STATE_NAMESPACE="state",SIGHASH_GLOBAL_NAMESPACE="globalThis";class InstructionCoder{constructor(ee){this.idl=ee,this.ixLayout=InstructionCoder.parseIxLayout(ee);const re=new Map;ee.instructions.forEach(ne=>{const oe=sighash(SIGHASH_GLOBAL_NAMESPACE,ne.name);re.set(bs58$1.encode(oe),{layout:this.ixLayout.get(ne.name),name:ne.name})}),ee.state&&ee.state.methods.map(ne=>{const oe=sighash(SIGHASH_STATE_NAMESPACE,ne.name);re.set(bs58$1.encode(oe),{layout:this.ixLayout.get(ne.name),name:ne.name})}),this.sighashLayouts=re}encode(ee,re){return this._encode(SIGHASH_GLOBAL_NAMESPACE,ee,re)}encodeState(ee,re){return this._encode(SIGHASH_STATE_NAMESPACE,ee,re)}_encode(ee,re,ne){const oe=buffer$2.Buffer.alloc(1e3),ie=camelCase$1(re),se=this.ixLayout.get(ie).encode(ne,oe),ue=oe.slice(0,se);return buffer$2.Buffer.concat([sighash(ee,re),ue])}static parseIxLayout(ee){const ne=(ee.state?ee.state.methods:[]).map(oe=>{let ie=oe.args.map(ue=>IdlCoder.fieldLayout(ue,ee.types));const se=camelCase$1(oe.name);return[se,lib$5.struct(ie,se)]}).concat(ee.instructions.map(oe=>{let ie=oe.args.map(ue=>IdlCoder.fieldLayout(ue,ee.types));const se=camelCase$1(oe.name);return[se,lib$5.struct(ie,se)]}));return new Map(ne)}decode(ee){typeof ee=="string"&&(ee=bs58$1.decode(ee));let re=bs58$1.encode(ee.slice(0,8)),ne=ee.slice(8);const oe=this.sighashLayouts.get(re);return oe?{data:oe.layout.decode(ne),name:oe.name}:null}format(ee,re){return InstructionFormatter.format(ee,re,this.idl)}}class InstructionFormatter{static format(ee,re,ne){const oe=ne.instructions.filter(he=>ee.name===he.name)[0];if(oe===void 0)return console.error("Invalid instruction given"),null;const ie=oe.args.map(he=>({name:he.name,type:InstructionFormatter.formatIdlType(he.type),data:InstructionFormatter.formatIdlData(he,ee.data[he.name],ne.types)})),se=InstructionFormatter.flattenIdlAccounts(oe.accounts),ue=re.map((he,ge)=>ge<se.length?Nr({name:se[ge].name},he):Nr({name:void 0},he));return{args:ie,accounts:ue}}static formatIdlType(ee){if(typeof ee=="string")return ee;if(ee.vec)return`Vec<${this.formatIdlType(ee.vec)}>`;if(ee.option)return`Option<${this.formatIdlType(ee.option)}>`;if(ee.defined)return ee.defined}static formatIdlData(ee,re,ne){if(typeof ee.type=="string")return re.toString();if(ee.type.vec)return"["+re.map(oe=>this.formatIdlData({name:"",type:ee.type.vec},oe)).join(", ")+"]";if(ee.type.option)return re===null?"null":this.formatIdlData({name:"",type:ee.type.option},re);if(ee.type.defined){if(ne===void 0)throw new Error("User defined types not provided");const oe=ne.filter(ie=>ie.name===ee.type.defined);if(oe.length!==1)throw new Error(`Type not found: ${ee.type.defined}`);return InstructionFormatter.formatIdlDataDefined(oe[0],re,ne)}return"unknown"}static formatIdlDataDefined(ee,re,ne){if(ee.type.kind==="struct"){const oe=Object.keys(re).map(ie=>{const se=ee.type.fields.filter(ue=>ue.name===ie)[0];if(se===void 0)throw new Error("Unable to find type");return ie+": "+InstructionFormatter.formatIdlData(se,re[ie],ne)}).join(", ");return"{ "+oe+" }"}else{if(ee.type.variants.length===0)return"{}";if(ee.type.variants[0].name){const oe=Object.keys(re)[0],ie=re[oe],se=Object.keys(ie).map(he=>{var ge;const be=ie[he],Se=(ge=ee.type.variants[oe])===null||ge===void 0?void 0:ge.filter(Te=>Te.name===he)[0];if(Se===void 0)throw new Error("Unable to find variant");return he+": "+InstructionFormatter.formatIdlData(Se,be,ne)}).join(", "),ue=camelCase$1(oe,{pascalCase:!0});return se.length===0?ue:`${ue} { ${se} }`}else return"Tuple formatting not yet implemented"}}static flattenIdlAccounts(ee,re){return ee.map(ne=>{const oe=sentenceCase(ne.name);if(ne.accounts){const ie=re?`${re} > ${oe}`:oe;return InstructionFormatter.flattenIdlAccounts(ne.accounts,ie)}else return jr(Nr({},ne),{name:re?`${re} > ${oe}`:oe})}).flat()}}function sentenceCase(te){const ee=te.replace(/([A-Z])/g," $1");return ee.charAt(0).toUpperCase()+ee.slice(1)}const ACCOUNT_DISCRIMINATOR_SIZE=8;class AccountsCoder{constructor(ee){if(ee.accounts===void 0){this.accountLayouts=new Map;return}const re=ee.accounts.map(ne=>[ne.name,IdlCoder.typeDefLayout(ne,ee.types)]);this.accountLayouts=new Map(re)}async encode(ee,re){const ne=buffer$2.Buffer.alloc(1e3),ie=this.accountLayouts.get(ee).encode(re,ne);let se=ne.slice(0,ie),ue=await accountDiscriminator(ee);return buffer$2.Buffer.concat([ue,se])}decode(ee,re){const ne=re.slice(8);return this.accountLayouts.get(ee).decode(ne)}}async function accountDiscriminator(te){return buffer$2.Buffer.from(sha256$2.exports.sha256.digest(`account:${te}`)).slice(0,8)}class TypesCoder{constructor(ee){if(ee.types===void 0){this.layouts=new Map;return}const re=ee.types.map(ne=>[ne.name,IdlCoder.typeDefLayout(ne,ee.types)]);this.layouts=new Map(re)}encode(ee,re){const ne=buffer$2.Buffer.alloc(1e3),ie=this.layouts.get(ee).encode(re,ne);return ne.slice(0,ie)}decode(ee,re){return this.layouts.get(ee).decode(re)}}class EventCoder{constructor(ee){if(ee.events===void 0){this.layouts=new Map;return}const re=ee.events.map(ne=>{let oe={name:ne.name,type:{kind:"struct",fields:ne.fields.map(ie=>({name:ie.name,type:ie.type}))}};return[ne.name,IdlCoder.typeDefLayout(oe,ee.types)]});this.layouts=new Map(re),this.discriminators=new Map(ee.events===void 0?[]:ee.events.map(ne=>[fromByteArray_1(eventDiscriminator(ne.name)),ne.name]))}decode(ee){let re;try{re=buffer$2.Buffer.from(toByteArray_1(ee))}catch{return null}const ne=fromByteArray_1(re.slice(0,8)),oe=this.discriminators.get(ne);return oe===void 0?null:{data:this.layouts.get(oe).decode(re.slice(8)),name:oe}}}function eventDiscriminator(te){return buffer$2.Buffer.from(sha256$2.exports.sha256.digest(`event:${te}`)).slice(0,8)}const _AVAILABLE_FEATURES=new Set(["anchor-deprecated-state"]),_FEATURES=new Map;function set(te){if(!_AVAILABLE_FEATURES.has(te))throw new Error("Invalid feature");_FEATURES.set(te,!0)}function isSet(te){return _FEATURES.get(te)!==void 0}var features=Object.freeze(Object.defineProperty({__proto__:null,set,isSet},Symbol.toStringTag,{value:"Module"}));class StateCoder{constructor(ee){if(ee.state===void 0)throw new Error("Idl state not defined.");this.layout=IdlCoder.typeDefLayout(ee.state.struct,ee.types)}async encode(ee,re){const ne=buffer$2.Buffer.alloc(1e3),oe=this.layout.encode(re,ne),ie=await stateDiscriminator(ee),se=ne.slice(0,oe);return buffer$2.Buffer.concat([ie,se])}decode(ee){const re=ee.slice(8);return this.layout.decode(re)}}async function stateDiscriminator(te){let ee=isSet("anchor-deprecated-state")?"account":"state";return buffer$2.Buffer.from(sha256$2.exports.sha256.digest(`${ee}:${te}`)).slice(0,8)}class Coder{constructor(ee){this.instruction=new InstructionCoder(ee),this.accounts=new AccountsCoder(ee),this.types=new TypesCoder(ee),this.events=new EventCoder(ee),ee.state&&(this.state=new StateCoder(ee))}sighash(ee,re){return sighash(ee,re)}}async function idlAddress(te){const ee=(await PublicKey.findProgramAddress([],te))[0];return await PublicKey.createWithSeed(ee,seed(),te)}function seed(){return"anchor:idl"}const IDL_ACCOUNT_LAYOUT=lib$5.struct([lib$5.publicKey("authority"),lib$5.vecU8("data")]);function decodeIdlAccount(te){return IDL_ACCOUNT_LAYOUT.decode(te)}function parseIdlErrors(te){const ee=new Map;return te.errors&&te.errors.forEach(re=>{var ne;let oe=(ne=re.msg)!==null&&ne!==void 0?ne:re.name;ee.set(re.code,oe)}),ee}function toInstruction(te,...ee){if(te.args.length!=ee.length)throw new Error("Invalid argument length");const re={};let ne=0;return te.args.forEach(oe=>{re[oe.name]=ee[ne],ne+=1}),re}function validateAccounts(te,ee){te.forEach(re=>{if(re.accounts!==void 0)validateAccounts(re.accounts,ee[re.name]);else if(ee[re.name]===void 0)throw new Error(`Invalid arguments: ${re.name} not provided.`)})}function translateAddress(te){return typeof te=="string"?new PublicKey(te):te}function createWithSeedSync(te,ee,re){const ne=buffer$2.Buffer.concat([te.toBuffer(),buffer$2.Buffer.from(ee),re.toBuffer()]),oe=sha256$2.exports.sha256.digest(ne);return new PublicKey(buffer$2.Buffer.from(oe))}function createProgramAddressSync(te,ee){let ne=buffer$2.Buffer.alloc(0);te.forEach(function(se){if(se.length>32)throw new TypeError("Max seed length exceeded");ne=buffer$2.Buffer.concat([ne,toBuffer$1(se)])}),ne=buffer$2.Buffer.concat([ne,ee.toBuffer(),buffer$2.Buffer.from("ProgramDerivedAddress")]);let oe=sha256$2.exports.sha256(new Uint8Array(ne)),ie=new BN$f(oe,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(ie)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(ie)}function findProgramAddressSync(te,ee){let re=255,ne;for(;re!=0;){try{const oe=te.concat(buffer$2.Buffer.from([re]));ne=createProgramAddressSync(oe,ee)}catch(oe){if(oe instanceof TypeError)throw oe;re--;continue}return[ne,re]}throw new Error("Unable to find a viable program address nonce")}const toBuffer$1=te=>te instanceof buffer$2.Buffer?te:te instanceof Uint8Array?buffer$2.Buffer.from(te.buffer,te.byteOffset,te.byteLength):buffer$2.Buffer.from(te);async function associated(te,...ee){let re=[buffer$2.Buffer.from([97,110,99,104,111,114])];ee.forEach(oe=>{re.push(oe.buffer!==void 0?oe:translateAddress(oe).toBuffer())});const[ne]=await PublicKey.findProgramAddress(re,translateAddress(te));return ne}var pubkey=Object.freeze(Object.defineProperty({__proto__:null,createWithSeedSync,createProgramAddressSync,findProgramAddressSync,associated},Symbol.toStringTag,{value:"Module"}));function splitArgsAndCtx(te,ee){let re={};const ne=te.args?te.args.length:0;if(ee.length>ne){if(ee.length!==ne+1)throw new Error("provided too many arguments ${args}");re=ee.pop()}return[ee,re]}class InstructionNamespaceFactory{static build(ee,re,ne){if(ee.name==="_inner")throw new IdlError("the _inner name is reserved");const oe=(...ie)=>{const[se,ue]=splitArgsAndCtx(ee,[...ie]);validateAccounts(ee.accounts,ue.accounts),validateInstruction(ee,...ie);const he=oe.accounts(ue.accounts);return ue.remainingAccounts!==void 0&&he.push(...ue.remainingAccounts),ue.__private&&ue.__private.logAccounts&&console.log("Outgoing account metas:",he),new TransactionInstruction({keys:he,programId:ne,data:re(ee.name,toInstruction(ee,...se))})};return oe.accounts=ie=>InstructionNamespaceFactory.accountsArray(ie,ee.accounts),oe}static accountsArray(ee,re){return re.map(ne=>{const oe=ne.accounts;if(oe!==void 0){const ie=ee[ne.name];return InstructionNamespaceFactory.accountsArray(ie,oe).flat()}else{const ie=ne;return{pubkey:translateAddress(ee[ne.name]),isWritable:ie.isMut,isSigner:ie.isSigner}}}).flat()}}function validateInstruction(te,...ee){}class RpcFactory{static build(ee,re,ne,oe){return async(...se)=>{const ue=re(...se),[,he]=splitArgsAndCtx(ee,[...se]);try{return await oe.send(ue,he.signers,he.options)}catch(ge){console.log("Translating error",ge);let be=ProgramError.parse(ge,ne);throw be===null?ge:be}}}}class TransactionFactory{static build(ee,re){return(...oe)=>{const[,ie]=splitArgsAndCtx(ee,[...oe]),se=new Transaction$2;return ie.instructions!==void 0&&se.add(...ie.instructions),se.add(re(...oe)),se}}}class StateFactory{static build(ee,re,ne,oe){if(ee.state!==void 0)return new StateClient(ee,ne,oe,re)}}class StateClient{constructor(ee,re,ne,oe){this._idl=ee,this._programId=re,this._address=programStateAddress(re),this._provider=ne!=null?ne:getProvider(),this._coder=oe!=null?oe:new Coder(ee),this._sub=null;const[ie,se,ue]=(()=>{let he={},ge={},be={};return ee.state.methods.forEach(Se=>{const Te=InstructionNamespaceFactory.build(Se,(Pe,Ie)=>oe.instruction.encodeState(Pe,Ie),re);Te.accounts=Pe=>stateInstructionKeys(re,ne,Se,Pe).concat(InstructionNamespaceFactory.accountsArray(Pe,Se.accounts));const ke=TransactionFactory.build(Se,Te),Re=RpcFactory.build(Se,ke,parseIdlErrors(ee),ne),Ce=camelCase$1(Se.name);he[Ce]=Te,ge[Ce]=ke,be[Ce]=Re}),[he,ge,be]})();this.instruction=ie,this.transaction=se,this.rpc=ue}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(){const ee=this.address(),re=await this.provider.connection.getAccountInfo(ee);if(re===null)throw new Error(`Account does not exist ${ee.toString()}`);if((await stateDiscriminator(this._idl.state.struct.name)).compare(re.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(re.data)}address(){return this._address}subscribe(ee){if(this._sub!==null)return this._sub.ee;const re=new EventEmitter$4,ne=this.provider.connection.onAccountChange(this.address(),oe=>{const ie=this.coder.state.decode(oe.data);re.emit("change",ie)},ee);return this._sub={ee:re,listener:ne},re}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function programStateAddress(te){let[ee]=findProgramAddressSync([],te);return createWithSeedSync(ee,"unversioned",te)}function stateInstructionKeys(te,ee,re,ne){if(re.name==="new"){const[oe]=findProgramAddressSync([],te);return[{pubkey:ee.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:programStateAddress(te),isWritable:!0,isSigner:!1},{pubkey:oe,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:te,isWritable:!1,isSigner:!1},{pubkey:SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}]}else return validateAccounts(re.accounts,ne),[{pubkey:programStateAddress(te),isWritable:!0,isSigner:!1}]}class AccountFactory{static build(ee,re,ne,oe){const ie={};return ee.accounts.forEach(se=>{const ue=camelCase$1(se.name);ie[ue]=new AccountClient(ee,se,ne,oe,re)}),ie}}class AccountClient{constructor(ee,re,ne,oe,ie){this._idlAccount=re,this._programId=ne,this._provider=oe!=null?oe:getProvider(),this._coder=ie!=null?ie:new Coder(ee),this._size=ACCOUNT_DISCRIMINATOR_SIZE+accountSize(ee,re)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(ee){const re=await this._provider.connection.getAccountInfo(translateAddress(ee));if(re===null)throw new Error(`Account does not exist ${ee.toString()}`);if((await accountDiscriminator(this._idlAccount.name)).compare(re.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,re.data)}async all(ee){let re=await accountDiscriminator(this._idlAccount.name);return ee!==void 0&&(re=buffer$2.Buffer.concat([re,ee])),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:bs58$1.encode(re)}}]})).map(({pubkey:oe,account:ie})=>({publicKey:oe,account:this._coder.accounts.decode(this._idlAccount.name,ie.data)}))}subscribe(ee,re){if(subscriptions$1.get(ee.toString()))return subscriptions$1.get(ee.toString()).ee;const ne=new EventEmitter$4;ee=translateAddress(ee);const oe=this._provider.connection.onAccountChange(ee,ie=>{const se=this._coder.accounts.decode(this._idlAccount.name,ie.data);ne.emit("change",se)},re);return subscriptions$1.set(ee.toString(),{ee:ne,listener:oe}),ne}unsubscribe(ee){let re=subscriptions$1.get(ee.toString());if(!re){console.warn("Address is not subscribed");return}subscriptions$1&&this._provider.connection.removeAccountChangeListener(re.listener).then(()=>{subscriptions$1.delete(ee.toString())}).catch(console.error)}async createInstruction(ee,re){const ne=this.size;return SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:ee.publicKey,space:re!=null?re:ne,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(re!=null?re:ne),programId:this._programId})}async associated(...ee){const re=await this.associatedAddress(...ee);return await this.fetch(re)}async associatedAddress(...ee){return await associated(this._programId,...ee)}}const subscriptions$1=new Map,LOG_START_INDEX=13;class EventParser{constructor(ee,re){this.coder=ee,this.programId=re}parseLogs(ee,re){const ne=new LogScanner(ee),oe=new ExecutionContext(ne.next());let ie=ne.next();for(;ie!==null;){let[se,ue,he]=this.handleLog(oe,ie);se&&re(se),ue&&oe.push(ue),he&&oe.pop(),ie=ne.next()}}handleLog(ee,re){return ee.program()===this.programId.toString()?this.handleProgramLog(re):[null,...this.handleSystemLog(re)]}handleProgramLog(ee){if(ee.startsWith("Program log:")){const re=ee.slice(LOG_START_INDEX);return[this.coder.events.decode(re),null,!1]}else return[null,...this.handleSystemLog(ee)]}handleSystemLog(ee){const re=ee.split(":")[0];return re.match(/^Program (.*) success/g)!==null?[null,!0]:re.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:re.includes("invoke")?["cpi",!1]:[null,!1]}}class ExecutionContext{constructor(ee){const re=/^Program (.*) invoke.*$/g.exec(ee)[1];this.stack=[re]}program(){return(void 0)(this.stack.length>0),this.stack[this.stack.length-1]}push(ee){this.stack.push(ee)}pop(){(void 0)(this.stack.length>0),this.stack.pop()}}class LogScanner{constructor(ee){this.logs=ee}next(){if(this.logs.length===0)return null;let ee=this.logs[0];return this.logs=this.logs.slice(1),ee}}class SimulateFactory{static build(ee,re,ne,oe,ie,se,ue){return async(...ge)=>{const be=re(...ge),[,Se]=splitArgsAndCtx(ee,[...ge]);let Te;try{Te=await oe.simulate(be,Se.signers,Se.options)}catch(Ce){console.log("Translating error",Ce);let Pe=ProgramError.parse(Ce,ne);throw Pe===null?Ce:Pe}if(Te===void 0)throw new Error("Unable to simulate transaction");if(Te.value.err)throw new Error(`Simulate error: ${Te.value.err.toString()}`);const ke=Te.value.logs;if(!ke)throw new Error("Simulated logs not found");const Re=[];return ue.events&&new EventParser(ie,se).parseLogs(ke,Pe=>{Re.push(Pe)}),{events:Re,raw:ke}}}}class NamespaceFactory{static build(ee,re,ne,oe){const ie={},se={},ue={},he={},ge=parseIdlErrors(ee),be=StateFactory.build(ee,re,ne,oe);ee.instructions.forEach(Te=>{const ke=InstructionNamespaceFactory.build(Te,(Ne,He)=>re.instruction.encode(Ne,He),ne),Re=TransactionFactory.build(Te,ke),Ce=RpcFactory.build(Te,Re,ge,oe),Pe=SimulateFactory.build(Te,Re,ge,oe,re,ne,ee),Ie=camelCase$1(Te.name);se[Ie]=ke,ue[Ie]=Re,ie[Ie]=Ce,he[Ie]=Pe});const Se=ee.accounts?AccountFactory.build(ee,re,ne,oe):{};return[ie,se,ue,Se,he,be]}}function encode$5(te){return te.reduce((ee,re)=>ee+re.toString(16).padStart(2,"0"),"0x")}function decode$5(te){te.indexOf("0x")===0&&(te=te.substr(2)),te.length%2===1&&(te="0"+te);let ee=te.match(/.{2}/g);return ee===null?buffer$2.Buffer.from([]):buffer$2.Buffer.from(ee.map(re=>parseInt(re,16)))}var hex=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$5,decode:decode$5},Symbol.toStringTag,{value:"Module"}));function decode$4(te){return(typeof TextDecoder=="undefined"?new util$1.TextDecoder("utf-8"):new TextDecoder("utf-8")).decode(te)}function encode$4(te){return(typeof TextEncoder=="undefined"?new util$1.TextEncoder("utf-8"):new TextEncoder).encode(te)}var utf8=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$4,encode:encode$4},Symbol.toStringTag,{value:"Module"}));function encode$3(te){return bs58$1.encode(te)}function decode$3(te){return bs58$1.decode(te)}var bs58=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$3,decode:decode$3},Symbol.toStringTag,{value:"Module"}));function encode$2(te){return fromByteArray_1(te)}function decode$2(te){return buffer$2.Buffer.from(toByteArray_1(te))}var base64=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$2,decode:decode$2},Symbol.toStringTag,{value:"Module"})),index$2=Object.freeze(Object.defineProperty({__proto__:null,hex,utf8,bs58,base64},Symbol.toStringTag,{value:"Module"}));class Program{constructor(ee,re,ne){re=translateAddress(re),this._idl=ee,this._programId=re,this._provider=ne!=null?ne:getProvider(),this._coder=new Coder(ee);const[oe,ie,se,ue,he,ge]=NamespaceFactory.build(ee,this._coder,re,this._provider);this.rpc=oe,this.instruction=ie,this.transaction=se,this.account=ue,this.simulate=he,this.state=ge}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(ee,re){const ne=translateAddress(ee),oe=await Program.fetchIdl(ne,re);return new Program(oe,ne,re)}static async fetchIdl(ee,re){re=re!=null?re:getProvider();const ne=translateAddress(ee),oe=await idlAddress(ne),ie=await re.connection.getAccountInfo(oe);let se=decodeIdlAccount(ie.data.slice(8));const ue=inflate_1(se.data);return JSON.parse(decode$4(ue))}addEventListener(ee,re){const ne=new EventParser(this._coder,this._programId);return this._provider.connection.onLogs(this._programId,(oe,ie)=>{if(oe.err){console.error(oe);return}ne.parseLogs(oe.logs,se=>{se.name===ee&&re(se.data,ie.slot)})})}async removeEventListener(ee){return this._provider.connection.removeOnLogsListener(ee)}}let _populatedWorkspace=!1;const workspace=new Proxy({},{get(te,ee){if(isBrowser$2){console.log("Workspaces aren't available in the browser");return}const re=require$$3$1,ne=browser$7.exports;if(!_populatedWorkspace){const oe=require$$3$1;let ie=ne.cwd();for(;!re.existsSync(oe.join(ie,"Anchor.toml"));){const be=oe.dirname(ie);be===ie&&(ie=void 0),ie=be}if(ie===void 0)throw new Error("Could not find workspace root.");const se=`${ie}/target/idl`;if(!re.existsSync(se))throw new Error(`${se} doesn't exist. Did you use "anchor build"?`);const ue=new Map;re.readdirSync(se).forEach(be=>{const Se=`${se}/${be}`,Te=re.readFileSync(Se),ke=JSON.parse(Te);ue.set(ke.name,ke);const Re=camelCase$1(ke.name,{pascalCase:!0});ke.metadata&&ke.metadata.address&&(te[Re]=new Program(ke,new PublicKey(ke.metadata.address)))});const he=toml.parse(re.readFileSync(oe.join(ie,"Anchor.toml"),"utf-8")),ge=he.provider.cluster;he.clusters&&he.clusters[ge]&&attachWorkspaceOverride(te,he.clusters[ge],ue),_populatedWorkspace=!0}return te[ee]}});function attachWorkspaceOverride(te,ee,re){Object.keys(ee).forEach(ne=>{const oe=camelCase$1(ne,{pascalCase:!0}),ie=ee[ne],se=new PublicKey(typeof ie=="string"?ie:ie.address);let ue=re.get(ne);typeof ie!="string"&&ie.idl&&(ue=JSON.parse(require$$3$1.readFileSync(ie.idl,"utf-8"))),te[oe]=new Program(ue,se)})}function hash$2(te){return sha256$2.exports.sha256(te)}var sha256$1=Object.freeze(Object.defineProperty({__proto__:null,hash:hash$2},Symbol.toStringTag,{value:"Module"}));async function invoke(te,ee,re,ne){te=translateAddress(te),ne||(ne=getProvider());const oe=new Transaction$2;return oe.add(new TransactionInstruction({programId:te,keys:ee!=null?ee:[],data:re})),await ne.send(oe)}async function getMultipleAccounts(te,ee){const re=[ee.map(ie=>ie.toBase58()),{commitment:"recent"}],ne=await te._rpcRequest("getMultipleAccounts",re);if(ne.error)throw new Error("failed to get info about accounts "+ee.map(ie=>ie.toBase58()).join(", ")+": "+ne.error.message);assert$k(typeof ne.result!="undefined");const oe=[];for(const ie of ne.result.value){let se=null;if(ie===null){oe.push(null);continue}if(ne.result.value){const{executable:ue,owner:he,lamports:ge,data:be}=ie;assert$k(be[1]==="base64"),se={executable:ue,owner:new PublicKey(he),lamports:ge,data:buffer$2.Buffer.from(be[0],"base64")}}if(se===null)throw new Error("Invalid response");oe.push(se)}return oe.map((ie,se)=>ie===null?null:{publicKey:ee[se],account:ie})}var rpc=Object.freeze(Object.defineProperty({__proto__:null,invoke,getMultipleAccounts},Symbol.toStringTag,{value:"Module"}));const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function associatedAddress({mint:te,owner:ee}){return(await PublicKey.findProgramAddress([ee.toBuffer(),TOKEN_PROGRAM_ID.toBuffer(),te.toBuffer()],ASSOCIATED_PROGRAM_ID))[0]}var token$2=Object.freeze(Object.defineProperty({__proto__:null,associatedAddress},Symbol.toStringTag,{value:"Module"})),index$1=Object.freeze(Object.defineProperty({__proto__:null,sha256:sha256$1,rpc,publicKey:pubkey,bytes:index$2,token:token$2,features},Symbol.toStringTag,{value:"Module"})),esm$1=Object.freeze(Object.defineProperty({__proto__:null,workspace,Program,AccountClient,StateClient,Coder,InstructionCoder,EventCoder,StateCoder,TypesCoder,AccountsCoder,setProvider,getProvider,Provider:Provider$1,BN:BN$f,web3:index_browser_esm$1,utils:index$1,Wallet:NodeWallet$1},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(esm$1);Object.defineProperty(marketProxy,"__esModule",{value:!0});marketProxy.MarketProxyBuilder=marketProxy.MarketProxyInstruction=marketProxy.MarketProxy=void 0;const anchor_1$1=require$$0$2,market_1=market,instructions_1=instructions$1;class MarketProxy{constructor(ee,re){this._market=ee,this._instruction=re}get market(){return this._market}get instruction(){return this._instruction}get dexProgramId(){return this._market.programId}get proxyProgramId(){return this._instruction.proxyProgramId}}marketProxy.MarketProxy=MarketProxy;class MarketProxyInstruction{constructor(ee,re,ne,oe){this._proxyProgramId=ee,this._dexProgramId=re,this._market=ne,this._middlewares=oe}get proxyProgramId(){return this._proxyProgramId}newOrderV3(ee){const re=this._market.makeNewOrderV3Instruction(jr(Nr({},ee),{programId:this._proxyProgramId}));return this._middlewares.forEach(ne=>ne.newOrderV3(re)),this.proxy(re)}initOpenOrders(ee,re,ne,oe){const ie=instructions_1.DexInstructions.initOpenOrders({market:re,openOrders:ne,owner:ee,programId:this._proxyProgramId,marketAuthority:oe});return this._middlewares.forEach(se=>se.initOpenOrders(ie)),this.proxy(ie)}cancelOrder(ee,re){const ne=instructions_1.DexInstructions.cancelOrderV2({market:this._market.address,owner:ee,openOrders:re.openOrdersAddress,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,side:re.side,orderId:re.orderId,openOrdersSlot:re.openOrdersSlot,programId:this._proxyProgramId});return this._middlewares.forEach(oe=>oe.cancelOrderV2(ne)),this.proxy(ne)}cancelOrderByClientId(ee,re,ne){const oe=instructions_1.DexInstructions.cancelOrderByClientIdV2({market:this._market.address,openOrders:re,owner:ee,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,clientId:ne,programId:this._proxyProgramId});return this._middlewares.forEach(ie=>ie.cancelOrderByClientIdV2(oe)),this.proxy(oe)}settleFunds(ee,re,ne,oe,ie){const se=instructions_1.DexInstructions.settleFunds({market:this._market.address,openOrders:ee,owner:re,baseVault:this._market.decoded.baseVault,quoteVault:this._market.decoded.quoteVault,baseWallet:ne,quoteWallet:oe,vaultSigner:anchor_1$1.utils.publicKey.createProgramAddressSync([this._market.address.toBuffer(),this._market.decoded.vaultSignerNonce.toArrayLike(buffer$2.Buffer,"le",8)],this._dexProgramId),programId:this._proxyProgramId,referrerQuoteWallet:ie});return this._middlewares.forEach(ue=>ue.settleFunds(se)),this.proxy(se)}closeOpenOrders(ee,re,ne){const oe=instructions_1.DexInstructions.closeOpenOrders({market:this._market.address,openOrders:ee,owner:re,solWallet:ne,programId:this._proxyProgramId});return this._middlewares.forEach(ie=>ie.closeOpenOrders(oe)),this.proxy(oe)}prune(ee,re,ne){ne||(ne=65535);const oe=instructions_1.DexInstructions.prune({market:this._market.address,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,pruneAuthority:this._market.decoded.pruneAuthority,openOrders:ee,openOrdersOwner:re,programId:this._proxyProgramId,limit:ne});return this._middlewares.forEach(ie=>ie.prune(oe)),this.proxy(oe)}consumeEvents(ee,re){const ne=instructions_1.DexInstructions.consumeEvents({market:this._market.address,eventQueue:this._market.decoded.eventQueue,coinFee:this._market.decoded.eventQueue,pcFee:this._market.decoded.eventQueue,openOrdersAccounts:ee,limit:re,programId:this._proxyProgramId});return this._middlewares.forEach(oe=>oe.consumeEvents(ne)),this.proxy(ne)}consumeEventsPermissioned(ee,re){const ne=instructions_1.DexInstructions.consumeEventsPermissioned({market:this._market.address,eventQueue:this._market.decoded.eventQueue,crankAuthority:this._market.decoded.consumeEventsAuthority,openOrdersAccounts:ee,limit:re,programId:this._proxyProgramId});return this._middlewares.forEach(oe=>oe.consumeEventsPermissioned(ne)),this.proxy(ne)}proxy(ee){return ee.keys=[{pubkey:this._dexProgramId,isWritable:!1,isSigner:!1},...ee.keys],ee}}marketProxy.MarketProxyInstruction=MarketProxyInstruction;class MarketProxyBuilder{constructor(){this._middlewares=[]}middleware(ee){return this._middlewares.push(ee),this}async load({connection:ee,market:re,options:ne={},dexProgramId:oe,proxyProgramId:ie}){const se=await market_1.Market.load(ee,re,ne,oe,market_1.MARKET_STATE_LAYOUT_V3),ue=new MarketProxyInstruction(ie,oe,se,this._middlewares);return new MarketProxy(se,ue)}}marketProxy.MarketProxyBuilder=MarketProxyBuilder;var middleware={};Object.defineProperty(middleware,"__esModule",{value:!0});middleware.Logger=middleware.PermissionedCrank=middleware.ReferralFees=middleware.OpenOrdersPda=void 0;const anchor_1=require$$0$2,web3_js_1$1=require$$0$4;class OpenOrdersPda{constructor({proxyProgramId:ee,dexProgramId:re}){this._proxyProgramId=ee,this._dexProgramId=re}static async marketAuthority(ee,re,ne){const oe=buffer$2.Buffer.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[ie]=await web3_js_1$1.PublicKey.findProgramAddress([oe,re.toBuffer(),ee.toBuffer()],ne);return ie}static async openOrdersAddress(ee,re,ne,oe){const ie=buffer$2.Buffer.from([111,112,101,110,45,111,114,100,101,114,115]),[se]=await web3_js_1$1.PublicKey.findProgramAddress([ie,ne.toBuffer(),ee.toBuffer(),re.toBuffer()],oe);return se}initOpenOrders(ee){const re=ee.keys[2].pubkey,ne=ee.keys[1].pubkey,oe=buffer$2.Buffer.from([111,112,101,110,45,111,114,100,101,114,115]),ie=buffer$2.Buffer.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[se,ue]=anchor_1.utils.publicKey.findProgramAddressSync([oe,this._dexProgramId.toBuffer(),re.toBuffer(),ne.toBuffer()],this._proxyProgramId),[he,ge]=anchor_1.utils.publicKey.findProgramAddressSync([ie,this._dexProgramId.toBuffer(),re.toBuffer()],this._proxyProgramId);ee.keys[0].pubkey=se,ee.keys[4].pubkey=he,ee.keys[1].isWritable=!0,ee.keys=[{pubkey:this._dexProgramId,isSigner:!1,isWritable:!1},{pubkey:web3_js_1$1.SystemProgram.programId,isSigner:!1,isWritable:!1},...ee.keys],ee.data=buffer$2.Buffer.concat([buffer$2.Buffer.from([0,ue,ge]),ee.data])}newOrderV3(ee){ee.data=buffer$2.Buffer.concat([buffer$2.Buffer.from([1]),ee.data])}cancelOrderV2(ee){ee.data=buffer$2.Buffer.concat([buffer$2.Buffer.from([2]),ee.data])}cancelOrderByClientIdV2(ee){ee.data=buffer$2.Buffer.concat([buffer$2.Buffer.from([3]),ee.data])}settleFunds(ee){ee.data=buffer$2.Buffer.concat([buffer$2.Buffer.from([4]),ee.data])}closeOpenOrders(ee){ee.data=buffer$2.Buffer.concat([buffer$2.Buffer.from([5]),ee.data])}prune(ee){ee.data=buffer$2.Buffer.concat([buffer$2.Buffer.from([6]),ee.data])}consumeEvents(ee){ee.data=buffer$2.Buffer.concat([buffer$2.Buffer.from([7]),ee.data])}consumeEventsPermissioned(ee){ee.data=buffer$2.Buffer.concat([buffer$2.Buffer.from([8]),ee.data])}}middleware.OpenOrdersPda=OpenOrdersPda;class ReferralFees{initOpenOrders(ee){}newOrderV3(ee){}cancelOrderV2(ee){}cancelOrderByClientIdV2(ee){}settleFunds(ee){}closeOpenOrders(ee){}prune(ee){}consumeEvents(ee){}consumeEventsPermissioned(ee){}}middleware.ReferralFees=ReferralFees;class PermissionedCrank{initOpenOrders(ee){}newOrderV3(ee){}cancelOrderV2(ee){}cancelOrderByClientIdV2(ee){}settleFunds(ee){}closeOpenOrders(ee){}prune(ee){}consumeEvents(ee){}consumeEventsPermissioned(ee){ee.keys[ee.keys.length-1].isSigner=!1}}middleware.PermissionedCrank=PermissionedCrank;class Logger{initOpenOrders(ee){console.log("Proxying initOpenOrders",this.ixToDisplay(ee))}newOrderV3(ee){console.log("Proxying newOrderV3",this.ixToDisplay(ee))}cancelOrderV2(ee){console.log("Proxying cancelOrderV2",this.ixToDisplay(ee))}cancelOrderByClientIdV2(ee){console.log("Proxying cancelOrderByClientIdV2",this.ixToDisplay(ee))}settleFunds(ee){console.log("Proxying settleFunds",this.ixToDisplay(ee))}closeOpenOrders(ee){console.log("Proxying closeOpenOrders",this.ixToDisplay(ee))}prune(ee){console.log("Proxying prune",this.ixToDisplay(ee))}consumeEvents(ee){console.log("Proxying consumeEvents",this.ixToDisplay(ee))}consumeEventsPermissioned(ee){console.log("Proxying consumeEventsPermissioned",this.ixToDisplay(ee))}ixToDisplay(ee){const re=ee.keys.map(ie=>jr(Nr({},ie),{pubkey:ie.pubkey.toString()})),ne=ee.programId.toString(),oe=new Uint8Array(ee.data);return{keys:re,programId:ne,data:oe}}}middleware.Logger=Logger;(function(te){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Te,ke,Re,Ce){Ce===void 0&&(Ce=Re),Object.defineProperty(Te,Ce,{enumerable:!0,get:function(){return ke[Re]}})}:function(Te,ke,Re,Ce){Ce===void 0&&(Ce=Re),Te[Ce]=ke[Re]}),re=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Te,ke){Object.defineProperty(Te,"default",{enumerable:!0,value:ke})}:function(Te,ke){Te.default=ke}),ne=commonjsGlobal&&commonjsGlobal.__importStar||function(Te){if(Te&&Te.__esModule)return Te;var ke={};if(Te!=null)for(var Re in Te)Re!=="default"&&Object.prototype.hasOwnProperty.call(Te,Re)&&ee(ke,Te,Re);return re(ke,Te),ke},oe=commonjsGlobal&&commonjsGlobal.__exportStar||function(Te,ke){for(var Re in Te)Re!=="default"&&!Object.prototype.hasOwnProperty.call(ke,Re)&&ee(ke,Te,Re)};Object.defineProperty(te,"__esModule",{value:!0}),te.Logger=te.PermissionedCrank=te.ReferralFees=te.OpenOrdersPda=te.MarketProxyBuilder=te.MarketProxy=te.TokenInstructions=te.EVENT_QUEUE_LAYOUT=te.REQUEST_QUEUE_LAYOUT=te.decodeRequestQueue=te.decodeEventQueue=te.getLayoutVersion=te.MARKETS=te.TOKEN_MINTS=te.supportsSrmFeeDiscounts=te.getFeeRates=te.getFeeTier=te.NEW_ORDER_V3_OWNER_INDEX=te.NEW_ORDER_V3_OPEN_ORDERS_INDEX=te.NEW_ORDER_OWNER_INDEX=te.NEW_ORDER_OPEN_ORDERS_INDEX=te.SETTLE_FUNDS_QUOTE_WALLET_INDEX=te.SETTLE_FUNDS_BASE_WALLET_INDEX=te.decodeInstructionV2=te.decodeInstruction=te.DexInstructions=te.MARKET_STATE_LAYOUT_V2=te.MARKET_STATE_LAYOUT_V3=te.OpenOrders=te.Orderbook=te.Market=void 0;var ie=market;Object.defineProperty(te,"Market",{enumerable:!0,get:function(){return ie.Market}}),Object.defineProperty(te,"Orderbook",{enumerable:!0,get:function(){return ie.Orderbook}}),Object.defineProperty(te,"OpenOrders",{enumerable:!0,get:function(){return ie.OpenOrders}}),Object.defineProperty(te,"MARKET_STATE_LAYOUT_V3",{enumerable:!0,get:function(){return ie.MARKET_STATE_LAYOUT_V3}}),Object.defineProperty(te,"MARKET_STATE_LAYOUT_V2",{enumerable:!0,get:function(){return ie.MARKET_STATE_LAYOUT_V2}});var se=instructions$1;Object.defineProperty(te,"DexInstructions",{enumerable:!0,get:function(){return se.DexInstructions}}),Object.defineProperty(te,"decodeInstruction",{enumerable:!0,get:function(){return se.decodeInstruction}}),Object.defineProperty(te,"decodeInstructionV2",{enumerable:!0,get:function(){return se.decodeInstructionV2}}),Object.defineProperty(te,"SETTLE_FUNDS_BASE_WALLET_INDEX",{enumerable:!0,get:function(){return se.SETTLE_FUNDS_BASE_WALLET_INDEX}}),Object.defineProperty(te,"SETTLE_FUNDS_QUOTE_WALLET_INDEX",{enumerable:!0,get:function(){return se.SETTLE_FUNDS_QUOTE_WALLET_INDEX}}),Object.defineProperty(te,"NEW_ORDER_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return se.NEW_ORDER_OPEN_ORDERS_INDEX}}),Object.defineProperty(te,"NEW_ORDER_OWNER_INDEX",{enumerable:!0,get:function(){return se.NEW_ORDER_OWNER_INDEX}}),Object.defineProperty(te,"NEW_ORDER_V3_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return se.NEW_ORDER_V3_OPEN_ORDERS_INDEX}}),Object.defineProperty(te,"NEW_ORDER_V3_OWNER_INDEX",{enumerable:!0,get:function(){return se.NEW_ORDER_V3_OWNER_INDEX}});var ue=fees$1;Object.defineProperty(te,"getFeeTier",{enumerable:!0,get:function(){return ue.getFeeTier}}),Object.defineProperty(te,"getFeeRates",{enumerable:!0,get:function(){return ue.getFeeRates}}),Object.defineProperty(te,"supportsSrmFeeDiscounts",{enumerable:!0,get:function(){return ue.supportsSrmFeeDiscounts}});var he=tokens_and_markets;Object.defineProperty(te,"TOKEN_MINTS",{enumerable:!0,get:function(){return he.TOKEN_MINTS}}),Object.defineProperty(te,"MARKETS",{enumerable:!0,get:function(){return he.MARKETS}}),Object.defineProperty(te,"getLayoutVersion",{enumerable:!0,get:function(){return he.getLayoutVersion}});var ge=queue;Object.defineProperty(te,"decodeEventQueue",{enumerable:!0,get:function(){return ge.decodeEventQueue}}),Object.defineProperty(te,"decodeRequestQueue",{enumerable:!0,get:function(){return ge.decodeRequestQueue}}),Object.defineProperty(te,"REQUEST_QUEUE_LAYOUT",{enumerable:!0,get:function(){return ge.REQUEST_QUEUE_LAYOUT}}),Object.defineProperty(te,"EVENT_QUEUE_LAYOUT",{enumerable:!0,get:function(){return ge.EVENT_QUEUE_LAYOUT}}),te.TokenInstructions=ne(tokenInstructions),oe(error$1,te);var be=marketProxy;Object.defineProperty(te,"MarketProxy",{enumerable:!0,get:function(){return be.MarketProxy}}),Object.defineProperty(te,"MarketProxyBuilder",{enumerable:!0,get:function(){return be.MarketProxyBuilder}});var Se=middleware;Object.defineProperty(te,"OpenOrdersPda",{enumerable:!0,get:function(){return Se.OpenOrdersPda}}),Object.defineProperty(te,"ReferralFees",{enumerable:!0,get:function(){return Se.ReferralFees}}),Object.defineProperty(te,"PermissionedCrank",{enumerable:!0,get:function(){return Se.PermissionedCrank}}),Object.defineProperty(te,"Logger",{enumerable:!0,get:function(){return Se.Logger}})})(lib$3);var provider$1={},simulateTransaction$1={};Object.defineProperty(simulateTransaction$1,"__esModule",{value:!0});simulateTransaction$1.simulateTransaction=void 0;async function simulateTransaction(te,ee,re){ee.recentBlockhash=await te._recentBlockhash(te._disableBlockhashCaching);const ne=ee.serializeMessage(),ue=[ee._serialize(ne).toString("base64"),{encoding:"base64",commitment:re}],he=await te._rpcRequest("simulateTransaction",ue);if(he.error)throw new Error("failed to simulate transaction: "+he.error.message);return he.result}simulateTransaction$1.simulateTransaction=simulateTransaction;Object.defineProperty(provider$1,"__esModule",{value:!0});provider$1.NodeWallet=provider$1.Provider=void 0;const web3_js_1=require$$0$4,simulate_transaction_1=simulateTransaction$1;class Provider{constructor(ee,re,ne){this.connection=ee,this.wallet=re,this.opts=ne}static defaultOptions(){return{preflightCommitment:"recent",commitment:"recent"}}static local(ee,re){re=re||Provider.defaultOptions();const ne=new web3_js_1.Connection(ee||"http://localhost:8899",re.preflightCommitment),oe=NodeWallet.local();return new Provider(ne,oe,re)}async send(ee,re,ne){var oe;re===void 0&&(re=[]),ne===void 0&&(ne=this.opts);const ie=re.filter(he=>he!==void 0),se=[this.wallet.publicKey].concat(ie.map(he=>he.publicKey));ee.setSigners(...se),ee.recentBlockhash=(await this.connection.getRecentBlockhash(ne.preflightCommitment)).blockhash,await this.wallet.signTransaction(ee),ie.forEach(he=>{ee.partialSign(he)});const ue=ee.serialize();try{return await web3_js_1.sendAndConfirmRawTransaction(this.connection,ue,ne)}catch(he){console.error("Transaction failed. Simulating for logs...");const ge=await simulate_transaction_1.simulateTransaction(this.connection,ee,(oe=ne.commitment)!==null&&oe!==void 0?oe:"recent");throw console.error(ge),he}}async sendAll(ee,re){var ne;re===void 0&&(re=this.opts);const oe=await this.connection.getRecentBlockhash(re.preflightCommitment);let ie=ee.map(he=>{let ge=he.tx,be=he.signers;be===void 0&&(be=[]);const Se=be.filter(ke=>ke!==void 0),Te=[this.wallet.publicKey].concat(Se.map(ke=>ke.publicKey));return ge.setSigners(...Te),ge.recentBlockhash=oe.blockhash,Se.forEach(ke=>{ge.partialSign(ke)}),ge});const se=await this.wallet.signAllTransactions(ie),ue=[];for(let he=0;he<ie.length;he+=1){const ge=se[he],be=ge.serialize();try{ue.push(await web3_js_1.sendAndConfirmRawTransaction(this.connection,be,re))}catch(Se){console.error("Transaction failed. Simulating for logs...");const Te=await simulate_transaction_1.simulateTransaction(this.connection,ge,(ne=re.commitment)!==null&&ne!==void 0?ne:"recent");throw console.error(Te),Se}}return ue}}provider$1.Provider=Provider;class NodeWallet{constructor(ee){this.payer=ee}static local(){const ee=new web3_js_1.Account(buffer$2.Buffer.from(JSON.parse(require$$3$1.readFileSync(require$$3$1.homedir()+"/.config/solana/id.json",{encoding:"utf-8"}))));return new NodeWallet(ee)}async signTransaction(ee){return ee.partialSign(this.payer),ee}async signAllTransactions(ee){return ee.map(re=>(re.partialSign(this.payer),re))}get publicKey(){return this.payer.publicKey}}provider$1.NodeWallet=NodeWallet;var token$1={};(function(te){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Te,ke,Re,Ce){Ce===void 0&&(Ce=Re),Object.defineProperty(Te,Ce,{enumerable:!0,get:function(){return ke[Re]}})}:function(Te,ke,Re,Ce){Ce===void 0&&(Ce=Re),Te[Ce]=ke[Re]}),re=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Te,ke){Object.defineProperty(Te,"default",{enumerable:!0,value:ke})}:function(Te,ke){Te.default=ke}),ne=commonjsGlobal&&commonjsGlobal.__importStar||function(Te){if(Te&&Te.__esModule)return Te;var ke={};if(Te!=null)for(var Re in Te)Re!=="default"&&Object.prototype.hasOwnProperty.call(Te,Re)&&ee(ke,Te,Re);return re(ke,Te),ke};Object.defineProperty(te,"__esModule",{value:!0}),te.getOwnedAccountsFilters=te.parseMintData=te.parseTokenAccountData=te.MINT_LAYOUT=te.ACCOUNT_LAYOUT=te.getOwnedTokenAccounts=void 0;const oe=require$$0$4,ie=lib$3,se=ne(bs58$1),ue=ne(Layout$2);async function he(Te,ke){let Re=Se(ke),Ce=await Te._rpcRequest("getProgramAccounts",[ie.TokenInstructions.TOKEN_PROGRAM_ID.toBase58(),{commitment:Te.commitment,filters:Re}]);if(Ce.error)throw new Error("failed to get token accounts owned by "+ke.toBase58()+": "+Ce.error.message);return Ce.result.map(({pubkey:Pe,account:{data:Ie}})=>(Ie=se.decode(Ie),{publicKey:new oe.PublicKey(Pe),account:ge(Ie)}))}te.getOwnedTokenAccounts=he,te.ACCOUNT_LAYOUT=ue.struct([ue.blob(32,"mint"),ue.blob(32,"owner"),ue.nu64("amount"),ue.blob(93)]),te.MINT_LAYOUT=ue.struct([ue.blob(44),ue.u8("decimals"),ue.blob(37)]);function ge(Te){let{mint:ke,owner:Re,amount:Ce}=te.ACCOUNT_LAYOUT.decode(Te);return{mint:new oe.PublicKey(ke),owner:new oe.PublicKey(Re),amount:Ce}}te.parseTokenAccountData=ge;function be(Te){let{decimals:ke}=te.MINT_LAYOUT.decode(Te);return{decimals:ke}}te.parseMintData=be;function Se(Te){return[{memcmp:{offset:te.ACCOUNT_LAYOUT.offsetOf("owner"),bytes:Te.toBase58()}},{dataSize:te.ACCOUNT_LAYOUT.span}]}te.getOwnedAccountsFilters=Se})(token$1);var connection={};function _defineProperty$2(te,ee,re){return ee in te?Object.defineProperty(te,ee,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[ee]=re,te}function ownKeys$1(te,ee){var re=Object.keys(te);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(te);ee&&(ne=ne.filter(function(oe){return Object.getOwnPropertyDescriptor(te,oe).enumerable})),re.push.apply(re,ne)}return re}function _objectSpread2(te){for(var ee=1;ee<arguments.length;ee++){var re=arguments[ee]!=null?arguments[ee]:{};ee%2?ownKeys$1(Object(re),!0).forEach(function(ne){_defineProperty$2(te,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(re)):ownKeys$1(Object(re)).forEach(function(ne){Object.defineProperty(te,ne,Object.getOwnPropertyDescriptor(re,ne))})}return te}function _inheritsLoose$1(te,ee){te.prototype=Object.create(ee.prototype),te.prototype.constructor=te,te.__proto__=ee}function _getPrototypeOf(te){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(re){return re.__proto__||Object.getPrototypeOf(re)},_getPrototypeOf(te)}function _setPrototypeOf(te,ee){return _setPrototypeOf=Object.setPrototypeOf||function(ne,oe){return ne.__proto__=oe,ne},_setPrototypeOf(te,ee)}function isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _construct(te,ee,re){return isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(oe,ie,se){var ue=[null];ue.push.apply(ue,ie);var he=Function.bind.apply(oe,ue),ge=new he;return se&&_setPrototypeOf(ge,se.prototype),ge},_construct.apply(null,arguments)}function _isNativeFunction(te){return Function.toString.call(te).indexOf("[native code]")!==-1}function _wrapNativeSuper(te){var ee=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(ne){if(ne===null||!_isNativeFunction(ne))return ne;if(typeof ne!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ee!="undefined"){if(ee.has(ne))return ee.get(ne);ee.set(ne,oe)}function oe(){return _construct(ne,arguments,_getPrototypeOf(this).constructor)}return oe.prototype=Object.create(ne.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(oe,ne)},_wrapNativeSuper(te)}function _objectWithoutPropertiesLoose(te,ee){if(te==null)return{};var re={},ne=Object.keys(te),oe,ie;for(ie=0;ie<ne.length;ie++)oe=ne[ie],!(ee.indexOf(oe)>=0)&&(re[oe]=te[oe]);return re}function _assertThisInitialized(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}var toString$3=Object.prototype.toString,kindOf$1=function te(ee){if(ee===void 0)return"undefined";if(ee===null)return"null";var re=typeof ee;if(re==="boolean")return"boolean";if(re==="string")return"string";if(re==="number")return"number";if(re==="symbol")return"symbol";if(re==="function")return isGeneratorFn(ee)?"generatorfunction":"function";if(isArray$7(ee))return"array";if(isBuffer$3(ee))return"buffer";if(isArguments$2(ee))return"arguments";if(isDate$1(ee))return"date";if(isError(ee))return"error";if(isRegexp(ee))return"regexp";switch(ctorName(ee)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(isGeneratorObj(ee))return"generator";switch(re=toString$3.call(ee),re){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return re.slice(8,-1).toLowerCase().replace(/\s/g,"")};function ctorName(te){return te.constructor?te.constructor.name:null}function isArray$7(te){return Array.isArray?Array.isArray(te):te instanceof Array}function isError(te){return te instanceof Error||typeof te.message=="string"&&te.constructor&&typeof te.constructor.stackTraceLimit=="number"}function isDate$1(te){return te instanceof Date?!0:typeof te.toDateString=="function"&&typeof te.getDate=="function"&&typeof te.setDate=="function"}function isRegexp(te){return te instanceof RegExp?!0:typeof te.flags=="string"&&typeof te.ignoreCase=="boolean"&&typeof te.multiline=="boolean"&&typeof te.global=="boolean"}function isGeneratorFn(te,ee){return ctorName(te)==="GeneratorFunction"}function isGeneratorObj(te){return typeof te.throw=="function"&&typeof te.return=="function"&&typeof te.next=="function"}function isArguments$2(te){try{if(typeof te.length=="number"&&typeof te.callee=="function")return!0}catch(ee){if(ee.message.indexOf("callee")!==-1)return!0}return!1}function isBuffer$3(te){return te.constructor&&typeof te.constructor.isBuffer=="function"?te.constructor.isBuffer(te):!1}var Types={any:function te(ee){return ee!==void 0},arguments:function te(ee){return kindOf$1(ee)==="arguments"},array:function te(ee){return kindOf$1(ee)==="array"},boolean:function te(ee){return kindOf$1(ee)==="boolean"},buffer:function te(ee){return kindOf$1(ee)==="buffer"},date:function te(ee){return kindOf$1(ee)==="date"&&!isNaN(ee)},error:function te(ee){return kindOf$1(ee)==="error"},float32array:function te(ee){return kindOf$1(ee)==="float32array"},float64array:function te(ee){return kindOf$1(ee)==="float64array"},function:function te(ee){return kindOf$1(ee)==="function"},generatorfunction:function te(ee){return kindOf$1(ee)==="generatorfunction"},int16array:function te(ee){return kindOf$1(ee)==="int16array"},int32array:function te(ee){return kindOf$1(ee)==="int32array"},int8array:function te(ee){return kindOf$1(ee)==="int8array"},map:function te(ee){return kindOf$1(ee)==="map"},null:function te(ee){return kindOf$1(ee)==="null"},number:function te(ee){return kindOf$1(ee)==="number"},object:function te(ee){return kindOf$1(ee)==="object"},promise:function te(ee){return kindOf$1(ee)==="promise"},regexp:function te(ee){return kindOf$1(ee)==="regexp"},set:function te(ee){return kindOf$1(ee)==="set"},string:function te(ee){return kindOf$1(ee)==="string"},symbol:function te(ee){return kindOf$1(ee)==="symbol"},uint16array:function te(ee){return kindOf$1(ee)==="uint16array"},uint32array:function te(ee){return kindOf$1(ee)==="uint32array"},uint8array:function te(ee){return kindOf$1(ee)==="uint8array"},uint8clampedarray:function te(ee){return kindOf$1(ee)==="uint8clampedarray"},undefined:function te(ee){return kindOf$1(ee)==="undefined"},weakmap:function te(ee){return kindOf$1(ee)==="weakmap"},weakset:function te(ee){return kindOf$1(ee)==="weakset"}},prefix="Invariant failed";function invariant(te,ee){if(!te)throw new Error(prefix)}var StructError=function(te){_inheritsLoose$1(ee,te);function ee(re){var ne;invariant(re.length>0);var oe=re[0],ie=oe.path,se=oe.value,ue=oe.type,he=oe.branch,ge=_objectWithoutPropertiesLoose(oe,["path","value","type","branch"]),be="Expected a value of type `"+ue+"`"+(ie.length?" for `"+ie.join(".")+"`":"")+" but received `"+JSON.stringify(se)+"`.";return ne=te.call(this,be)||this,ne.type=ue,ne.value=se,Object.assign(_assertThisInitialized(ne),ge),ne.path=ie,ne.branch=he,ne.failures=re,ne.stack=new Error().stack,ne.__proto__=ee.prototype,ne}return ee}(_wrapNativeSuper(TypeError)),STRUCT=Symbol("STRUCT"),isStruct=function te(ee){return typeof ee=="function"&&ee[STRUCT]},createStruct=function te(ee){var re=ee.struct,ne=re.Error,oe=function ie(se){return ie.assert(se)};return Object.defineProperty(oe,STRUCT,{value:!0}),oe.kind=ee.kind,oe.type=ee.type,oe.default=function(){return typeof ee.defaults=="function"?ee.defaults():ee.defaults},oe.test=function(ie){var se=oe.check(ie,[ie],[]),ue=se[0];return!ue},oe.assert=function(ie){var se=oe.check(ie,[ie],[]),ue=se[0],he=se[1];if(ue)throw new ne(ue);return he},oe.validate=function(ie){var se=oe.check(ie,[ie],[]),ue=se[0],he=se[1];return ue?[new ne(ue)]:[void 0,he]},oe.check=function(ie,se,ue){ie===void 0&&(ie=oe.default());var he=[oe.fail({value:ie,branch:se,path:ue})];return[he]},oe.fail=function(ie){return _objectSpread2({},ie,{type:"type"in ie?ie.type:oe.type})},oe},createArray=function te(ee,re,ne){invariant(Array.isArray(ee)&&ee.length===1);var oe=ne(ee[0],void 0),ie=createStruct({kind:"array",type:oe.type+"[]",defaults:re,struct:ne});return ie.check=function(se,ue,he){if(se===void 0&&(se=ie.default()),!Array.isArray(se))return[[ie.fail({value:se,branch:ue,path:he})]];for(var ge=[],be=[],Se=0;Se<se.length;Se++){var Te=se[Se],ke=oe.check(Te,ue.concat(Te),he.concat(Se)),Re=ke[0],Ce=ke[1];if(Re){be.push.apply(be,Re);continue}ge[Se]=Ce}return be.length?[be]:[void 0,ge]},ie},createDynamic=function te(ee,re,ne){invariant(typeof ee=="function");var oe=createStruct({kind:"dynamic",type:"dynamic<\u2026>",defaults:re,struct:ne});return oe.check=function(ie,se,ue){ie===void 0&&(ie=oe.default());var he=ee(ie,se,ue);return he.check(ie,se,ue)},oe},createEnum=function te(ee,re,ne){invariant(Array.isArray(ee));var oe=function(ue){return ee.includes(ue)},ie=ne(oe,re);return ie.kind="enum",ie.type=ee.map(function(se){return typeof se=="string"?'"'+se+'"':""+se}).join(" | "),ie},createFunction=function te(ee,re,ne){var oe=createStruct({kind:"function",type:"function<\u2026>",defaults:re,struct:ne});return oe.check=function(ie,se,ue){ie===void 0&&(ie=oe.default());var he=ee(ie,se,ue);if(he===!0)return[void 0,ie];var ge=[];if(he===!1)ge.push(oe.fail({value:ie,branch:se,path:ue}));else if(Array.isArray(he)&&he.length>0)for(var Te=he,be=Array.isArray(Te),Se=0,Te=be?Te:Te[Symbol.iterator]();;){var ke;if(be){if(Se>=Te.length)break;ke=Te[Se++]}else{if(Se=Te.next(),Se.done)break;ke=Se.value}var Re=ke;ge.push(oe.fail(_objectSpread2({value:ie,branch:se,path:ue},Re)))}else typeof he=="object"?ge.push(oe.fail(_objectSpread2({value:ie,branch:se,path:ue},he))):invariant(!1);return[ge]},oe},createInstance$1=function te(ee,re,ne){invariant(typeof ee=="function");var oe=function(ue){return ue instanceof ee},ie=ne(oe,re);return ie.kind="instance",ie.type="instance<"+ee.name+">",ie},createInterface=function te(ee,re,ne){invariant(typeof ee=="object");var oe={};for(var ie in ee)oe[ie]=ne(ee[ie]);var se=createStruct({kind:"interface",type:"interface<{"+Object.keys(ee).join()+"}>",defaults:re,struct:ne});return se.check=function(ue,he,ge){if(ue===void 0&&(ue=se.default()),typeof ue!="object"&&typeof ue!="function")return[[se.fail({value:ue,branch:he,path:ge})]];var be=[];for(var Se in oe){var Te=oe[Se],ke=ue[Se],Re=Te.check(ke,he.concat(ke),ge.concat(Se)),Ce=Re[0];Ce&&be.push.apply(be,Ce)}return be.length?[be]:[void 0,ue]},se},createIntersection=function te(ee,re,ne){invariant(Array.isArray(ee)&&ee.length!==0);var oe=ee.map(function(ue){return ne(ue)}),ie=oe.map(function(ue){return ue.type}).join(" & "),se=createStruct({kind:"intersection",type:ie,defaults:re,struct:ne});return se.check=function(ue,he,ge){ue===void 0&&(ue=se.default());for(var be=ue,ke=oe,Se=Array.isArray(ke),Te=0,ke=Se?ke:ke[Symbol.iterator]();;){var Re;if(Se){if(Te>=ke.length)break;Re=ke[Te++]}else{if(Te=ke.next(),Te.done)break;Re=Te.value}var Ce=Re,Pe=Ce.check(ue,he,ge),Ie=Pe[0],Ne=Pe[1];if(Ie)return[[se.fail({value:ue,branch:he,path:ge})]];be=Ne}return[void 0,be]},se},createLazy=function te(ee,re,ne){invariant(typeof ee=="function");var oe=createStruct({kind:"lazy",type:"lazy<\u2026>",defaults:re,struct:ne});return oe.check=function(){return Object.assign(oe,ee()),oe.check.apply(oe,arguments)},oe},createSize=function te(ee,re,ne){invariant(Array.isArray(ee)&&ee.length===2&&ee.every(function(he){return typeof he=="number"}));var oe=ee[0],ie=ee[1],se=function(ge){return ge!=null&&typeof ge.length=="number"&&ge.length>=oe&&ge.length<=ie},ue=ne(se,re);return ue.kind="size",ue.type="size<"+oe+","+ie+">",ue},createLiteral=function te(ee,re,ne){var oe=function(ue){return ue===ee},ie=ne(oe,re);return ie.kind="literal",ie.type=typeof ee=="string"?'"'+ee+'"':""+ee,ie},createObject=function te(ee,re,ne){invariant(typeof ee=="object");var oe={};for(var ie in ee)oe[ie]=ne(ee[ie]);var se=createStruct({kind:"object",type:"{"+Object.keys(ee).join()+"}",defaults:re,struct:ne});return se.check=function(ue,he,ge){ue===void 0&&(ue=se.default());var be=se.default();if(ue===void 0&&(ue=be),kindOf$1(ue)!=="object")return[[se.fail({value:ue,branch:he,path:ge})]];for(var Se={},Te=[],ke=new Set(Object.keys(oe).concat(Object.keys(ue))),Pe=ke,Re=Array.isArray(Pe),Ce=0,Pe=Re?Pe:Pe[Symbol.iterator]();;){var Ie;if(Re){if(Ce>=Pe.length)break;Ie=Pe[Ce++]}else{if(Ce=Pe.next(),Ce.done)break;Ie=Ce.value}var Ne=Ie,He=ue[Ne],Ke=ge.concat(Ne),Ge=he.concat(He),ut=oe[Ne];if(He===void 0&&be!=null&&Ne in be&&(He=typeof be[Ne]=="function"?be[Ne](ue,he,ge):be[Ne]),!(Ne in oe)){Te.push(se.fail({type:void 0,value:He,path:Ke,branch:ue}));continue}var Ve=ut.check(He,Ge,Ke),nt=Ve[0],st=Ve[1];nt?Te.push.apply(Te,nt):st!==void 0&&Ne in oe&&(Se[Ne]=st)}return Te.length?[Te]:[void 0,Se]},se},createPartial=function te(ee,re,ne){invariant(typeof ee=="object");var oe={};for(var ie in ee)oe[ie]=ne.union([ee[ie],"undefined"]);var se=createStruct({kind:"object",type:"{"+Object.keys(ee).join()+"}",defaults:re,struct:ne});return se.check=function(ue,he,ge){ue===void 0&&(ue=se.default());var be=se.default();if(ue===void 0&&(ue=be),kindOf$1(ue)!=="object")return[[se.fail({value:ue,branch:he,path:ge})]];for(var Se={},Te=[],Ce=ue,ke=Array.isArray(Ce),Re=0,Ce=ke?Ce:Ce[Symbol.iterator]();;){var Pe;if(ke){if(Re>=Ce.length)break;Pe=Ce[Re++]}else{if(Re=Ce.next(),Re.done)break;Pe=Re.value}var Ie=Pe,Ne=ue[Ie],He=ge.concat(Ie),Ke=he.concat(Ne),Ge=oe[Ie];if(Ne===void 0&&be!=null&&Ie in be&&(Ne=typeof be[Ie]=="function"?be[Ie](ue,he,ge):be[Ie]),!(Ie in oe)){Te.push(se.fail({type:void 0,value:Ne,path:He,branch:ue}));continue}var ut=Ge.check(Ne,Ke,He),Ve=ut[0],nt=ut[1];Ve?Te.push.apply(Te,Ve):nt!==void 0&&Ie in oe&&(Se[Ie]=nt)}return Te.length?[Te]:[void 0,Se]},se},createPick=function te(ee,re,ne){invariant(typeof ee=="object");var oe={};for(var ie in ee)oe[ie]=ne(ee[ie]);var se=createStruct({kind:"pick",type:"pick<{"+Object.keys(ee).join()+"}>",defaults:re,struct:ne});return se.check=function(ue,he,ge){ue===void 0&&(ue=se.default());var be=se.default();if(ue===void 0&&(ue=be),kindOf$1(ue)!=="object")return[[se.fail({value:ue,branch:he,path:ge})]];var Se={},Te=[];for(var ke in oe){var Re=ue[ke],Ce=ge.concat(ke),Pe=he.concat(Re),Ie=oe[ke];Re===void 0&&be!=null&&ke in be&&(Re=typeof be[ke]=="function"?be[ke](ue,he,ge):be[ke]);var Ne=Ie.check(Re,Pe,Ce),He=Ne[0],Ke=Ne[1];He?Te.push.apply(Te,He):Ke!==void 0&&ke in oe&&(Se[ke]=Ke)}return Te.length?[Te]:[void 0,Se]},se},createRecord=function te(ee,re,ne){invariant(Array.isArray(ee)&&ee.length===2);var oe=ne(ee[0]),ie=ne(ee[1]),se=createStruct({kind:"record",type:"record<"+oe.type+","+ie.type+">",defaults:re,struct:ne});return se.check=function(ue,he,ge){var be=se.default();if(ue=be?_objectSpread2({},be,{},ue):ue,kindOf$1(ue)!=="object")return[[se.fail({value:ue,branch:he,path:ge})]];var Se={},Te=[];for(var ke in ue){var Re=ue[ke],Ce=ge.concat(ke),Pe=he.concat(Re),Ie=oe.check(ke,Pe,Ce),Ne=Ie[0],He=Ie[1];if(Ne)Te.push.apply(Te,Ne);else{var Ke=ie.check(Re,Pe,Ce),Ge=Ke[0],ut=Ke[1];Ge?Te.push.apply(Te,Ge):Se[He]=ut}}return Te.length?[Te]:[void 0,Se]},se},createScalar=function te(ee,re,ne){invariant(typeof ee=="string");var oe=ne.Types;invariant(ee in oe);var ie=ne(oe[ee],re);return ie.kind="scalar",ie.type=ee,ie},createShorthand=function te(ee,re,ne){if(isStruct(ee))return ee;if(Array.isArray(ee)){if(ee.length===1){var oe=ee,ie=oe[0];return ne.array([ie],re)}else if(ee.length>1)return ne.tuple(ee,re)}if(typeof ee=="function")return ne.function(ee,re);if(typeof ee=="object")return ne.object(ee,re);if(typeof ee=="string"){var se=!1,ue;if(ee.endsWith("?")&&(se=!0,ee=ee.slice(0,-1)),ee.includes("|")){var he=ee.split(/\s*\|\s*/g);ue=ne.union(he,re)}else if(ee.includes("&")){var ge=ee.split(/\s*&\s*/g);ue=ne.intersection(ge,re)}else ue=ne.scalar(ee,re);return se&&(ue=ne.union([ue,"undefined"],void 0)),ue}throw new Error("A schema definition must be an object, array, string or function, but you passed: "+ee)},createTuple=function te(ee,re,ne){invariant(Array.isArray(ee));var oe=ee.map(function(se){return ne(se)}),ie=createStruct({kind:"tuple",type:"["+oe.map(function(se){return se.type}).join()+"]",defaults:re,struct:ne});return ie.check=function(se,ue,he){if(se===void 0&&(se=ie.default()),!Array.isArray(se))return[[ie.fail({value:se,branch:ue,path:he})]];for(var ge=[],be=[],Se=Math.max(se.length,oe.length),Te=0;Te<Se;Te++){var ke=oe[Te],Re=se[Te],Ce=he.concat(Te),Pe=ue.concat(Re);if(!ke)be.push(ie.fail({type:void 0,value:Re,path:Ce,branch:Pe}));else{var Ie=ke.check(Re,Pe,Ce),Ne=Ie[0],He=Ie[1];Ne?be.push.apply(be,Ne):ge[Te]=He}}return be.length?[be]:[void 0,ge]},ie},createUnion=function te(ee,re,ne){invariant(Array.isArray(ee)&&ee.length!==0);var oe=ee.map(function(ue){return ne(ue)}),ie=oe.map(function(ue){return ue.type}).join(" | "),se=createStruct({kind:"union",type:ie,defaults:re,struct:ne});return se.check=function(ue,he,ge){ue===void 0&&(ue=se.default());for(var Te=oe,be=Array.isArray(Te),Se=0,Te=be?Te:Te[Symbol.iterator]();;){var ke;if(be){if(Se>=Te.length)break;ke=Te[Se++]}else{if(Se=Te.next(),Se.done)break;ke=Se.value}var Re=ke,Ce=Re.check(ue,he,ge),Pe=Ce[0],Ie=Ce[1];if(!Pe)return[void 0,Ie]}return[[se.fail({value:ue,branch:he,path:ge})]]},se},superstruct=function te(ee){ee===void 0&&(ee={});var re=function ne(oe,ie){return createShorthand(oe,ie,ne)};return re.array=function(ne,oe){return createArray(ne,oe,re)},re.dynamic=function(ne,oe){return createDynamic(ne,oe,re)},re.enum=function(ne,oe){return createEnum(ne,oe,re)},re.function=function(ne,oe){return createFunction(ne,oe,re)},re.instance=function(ne,oe){return createInstance$1(ne,oe,re)},re.interface=function(ne,oe){return createInterface(ne,oe,re)},re.intersection=function(ne,oe){return createIntersection(ne,oe,re)},re.lazy=function(ne,oe){return createLazy(ne,oe,re)},re.literal=function(ne,oe){return createLiteral(ne,oe,re)},re.object=function(ne,oe){return createObject(ne,oe,re)},re.optional=function(ne,oe){return createUnion([ne,"undefined"],oe,re)},re.partial=function(ne,oe){return createPartial(ne,oe,re)},re.pick=function(ne,oe){return createPick(ne,oe,re)},re.record=function(ne,oe){return createRecord(ne,oe,re)},re.scalar=function(ne,oe){return createScalar(ne,oe,re)},re.size=function(ne,oe){return createSize(ne,oe,re)},re.tuple=function(ne,oe){return createTuple(ne,oe,re)},re.union=function(ne,oe){return createUnion(ne,oe,re)},re.Error=ee.error||StructError,re.Types=_objectSpread2({},Types,{},ee.types),re},struct=superstruct(),index_es=Object.freeze(Object.defineProperty({__proto__:null,StructError,Types,isStruct,struct,superstruct},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(index_es);(function(te){var ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(ge){return ge&&ge.__esModule?ge:{default:ge}};Object.defineProperty(te,"__esModule",{value:!0}),te.GetMultipleAccountsAndContextRpcResult=te.getMultipleSolanaAccounts=void 0;const re=require$$0$4,ne=require$$1$1,oe=ee(require$$3$1);async function ie(ge,be){const Se=[be.map(Ce=>Ce.toBase58()),{commitment:"recent"}],Te=await ge._rpcRequest("getMultipleAccounts",Se),ke=te.GetMultipleAccountsAndContextRpcResult(Te);if(ke.error)throw new Error("failed to get info about accounts "+be.map(Ce=>Ce.toBase58()).join(", ")+": "+ke.error.message);oe.default(typeof ke.result!="undefined");const Re=[];for(const Ce of ke.result.value){let Pe=null;if(ke.result.value){const{executable:Ie,owner:Ne,lamports:He,data:Ke}=Ce;oe.default(Ke[1]==="base64"),Pe={executable:Ie,owner:new re.PublicKey(Ne),lamports:He,data:buffer$2.Buffer.from(Ke[0],"base64")}}if(Pe===null)throw new Error("Invalid response");Re.push(Pe)}return Re.map((Ce,Pe)=>({publicKey:be[Pe],account:Ce}))}te.getMultipleSolanaAccounts=ie;function se(ge){const be=ne.struct.literal("2.0");return ne.struct.union([ne.struct({jsonrpc:be,id:"string",error:"any"}),ne.struct({jsonrpc:be,id:"string",error:"null?",result:ge})])}function ue(ge){return se({context:ne.struct({slot:"number"}),value:ge})}const he=ne.struct({executable:"boolean",owner:"string",lamports:"number",data:"any",rentEpoch:"number?"});te.GetMultipleAccountsAndContextRpcResult=ue(ne.struct.array([ne.struct.union(["null",he])]))})(connection);(function(te){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Ke,Ge,ut,Ve){Ve===void 0&&(Ve=ut),Object.defineProperty(Ke,Ve,{enumerable:!0,get:function(){return Ge[ut]}})}:function(Ke,Ge,ut,Ve){Ve===void 0&&(Ve=ut),Ke[Ve]=Ge[ut]}),re=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Ke,Ge){Object.defineProperty(Ke,"default",{enumerable:!0,value:Ge})}:function(Ke,Ge){Ke.default=Ge}),ne=commonjsGlobal&&commonjsGlobal.__exportStar||function(Ke,Ge){for(var ut in Ke)ut!=="default"&&!Object.prototype.hasOwnProperty.call(Ge,ut)&&ee(Ge,Ke,ut)},oe=commonjsGlobal&&commonjsGlobal.__importStar||function(Ke){if(Ke&&Ke.__esModule)return Ke;var Ge={};if(Ke!=null)for(var ut in Ke)ut!=="default"&&Object.prototype.hasOwnProperty.call(Ke,ut)&&ee(Ge,Ke,ut);return re(Ge,Ke),Ge};Object.defineProperty(te,"__esModule",{value:!0}),te.sleep=te.parseTokenAccount=te.getTokenAccount=te.parseMintAccount=te.getMintInfo=te.createAccountRentExempt=te.createTokenAccountInstrs=te.createTokenAccount=te.createMintAndVault=te.createMintInstructions=te.createMint=te.SPL_SHARED_MEMORY_ID=te.connection=te.simulateTransaction=te.token=void 0;const ie=require$$0$4,se=require$$1$3,ue=lib$3;ne(provider$1,te),te.token=oe(token$1);var he=simulateTransaction$1;Object.defineProperty(te,"simulateTransaction",{enumerable:!0,get:function(){return he.simulateTransaction}}),te.connection=oe(connection),te.SPL_SHARED_MEMORY_ID=new ie.PublicKey("shmem4EWT2sPdVGvTZCzXXRAURL9G5vpPxNwSeKhHUL");async function ge(Ke,Ge,ut){Ge===void 0&&(Ge=Ke.wallet.publicKey);const Ve=new ie.Account,nt=await be(Ke,Ge,Ve.publicKey,ut),st=new ie.Transaction;return st.add(...nt),await Ke.send(st,[Ve]),Ve.publicKey}te.createMint=ge;async function be(Ke,Ge,ut,Ve){return[ie.SystemProgram.createAccount({fromPubkey:Ke.wallet.publicKey,newAccountPubkey:ut,space:82,lamports:await Ke.connection.getMinimumBalanceForRentExemption(82),programId:ue.TokenInstructions.TOKEN_PROGRAM_ID}),ue.TokenInstructions.initializeMint({mint:ut,decimals:Ve!=null?Ve:0,mintAuthority:Ge})]}te.createMintInstructions=be;async function Se(Ke,Ge,ut,Ve){ut===void 0&&(ut=Ke.wallet.publicKey);const nt=new ie.Account,st=new ie.Account,qe=new ie.Transaction;return qe.add(ie.SystemProgram.createAccount({fromPubkey:Ke.wallet.publicKey,newAccountPubkey:nt.publicKey,space:82,lamports:await Ke.connection.getMinimumBalanceForRentExemption(82),programId:ue.TokenInstructions.TOKEN_PROGRAM_ID}),ue.TokenInstructions.initializeMint({mint:nt.publicKey,decimals:Ve!=null?Ve:0,mintAuthority:Ke.wallet.publicKey}),ie.SystemProgram.createAccount({fromPubkey:Ke.wallet.publicKey,newAccountPubkey:st.publicKey,space:165,lamports:await Ke.connection.getMinimumBalanceForRentExemption(165),programId:ue.TokenInstructions.TOKEN_PROGRAM_ID}),ue.TokenInstructions.initializeAccount({account:st.publicKey,mint:nt.publicKey,owner:ut}),ue.TokenInstructions.mintTo({mint:nt.publicKey,destination:st.publicKey,amount:Ge,mintAuthority:Ke.wallet.publicKey})),await Ke.send(qe,[nt,st]),[nt.publicKey,st.publicKey]}te.createMintAndVault=Se;async function Te(Ke,Ge,ut){const Ve=new ie.Account,nt=new ie.Transaction;return nt.add(...await ke(Ke,Ve.publicKey,Ge,ut)),await Ke.send(nt,[Ve]),Ve.publicKey}te.createTokenAccount=Te;async function ke(Ke,Ge,ut,Ve,nt){return nt===void 0&&(nt=await Ke.connection.getMinimumBalanceForRentExemption(165)),[ie.SystemProgram.createAccount({fromPubkey:Ke.wallet.publicKey,newAccountPubkey:Ge,space:165,lamports:nt,programId:ue.TokenInstructions.TOKEN_PROGRAM_ID}),ue.TokenInstructions.initializeAccount({account:Ge,mint:ut,owner:Ve})]}te.createTokenAccountInstrs=ke;async function Re(Ke,Ge,ut){const Ve=new ie.Account,nt=new ie.Transaction;return nt.add(ie.SystemProgram.createAccount({fromPubkey:Ke.wallet.publicKey,newAccountPubkey:Ve.publicKey,space:ut,lamports:await Ke.connection.getMinimumBalanceForRentExemption(ut),programId:Ge})),await Ke.send(nt,[Ve]),Ve}te.createAccountRentExempt=Re;async function Ce(Ke,Ge){let ut=await Ke.connection.getAccountInfo(Ge);if(ut===null)throw new Error("Failed to find token account");return Pe(ut.data)}te.getMintInfo=Ce;function Pe(Ke){const Ge=se.MintLayout.decode(Ke);return Ge.mintAuthority=new ie.PublicKey(Ge.mintAuthority),Ge.supply=se.u64.fromBuffer(Ge.supply),Ge.isInitialized=Ge.state!==0,Ge}te.parseMintAccount=Pe;async function Ie(Ke,Ge){let ut=await Ke.connection.getAccountInfo(Ge);if(ut===null)throw new Error("Failed to find token account");return Ne(ut.data)}te.getTokenAccount=Ie;function Ne(Ke){const Ge=se.AccountLayout.decode(Ke);return Ge.mint=new ie.PublicKey(Ge.mint),Ge.owner=new ie.PublicKey(Ge.owner),Ge.amount=se.u64.fromBuffer(Ge.amount),Ge.delegateOption===0?(Ge.delegate=null,Ge.delegatedAmount=new se.u64(0)):(Ge.delegate=new ie.PublicKey(Ge.delegate),Ge.delegatedAmount=se.u64.fromBuffer(Ge.delegatedAmount)),Ge.isInitialized=Ge.state!==0,Ge.isFrozen=Ge.state===2,Ge.isNativeOption===1?(Ge.rentExemptReserve=se.u64.fromBuffer(Ge.isNative),Ge.isNative=!0):(Ge.rentExemptReserve=null,Ge.isNative=!1),Ge.closeAuthorityOption===0?Ge.closeAuthority=null:Ge.closeAuthority=new ie.PublicKey(Ge.closeAuthority),Ge}te.parseTokenAccount=Ne;function He(Ke){return new Promise(Ge=>setTimeout(Ge,Ke))}te.sleep=He})(lib$4);const version$1="0.1.0",name="neonomad_bridge",instructions=[{name:"initialize",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"settingsAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"token",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"feeAddress",type:"publicKey"},{name:"backendSigners",type:{array:["publicKey",10]}},{name:"size",type:"u32"}]},{name:"addSigner",accounts:[{name:"caller",isMut:!0,isSigner:!0},{name:"settingsAccount",isMut:!0,isSigner:!1}],args:[{name:"newSigner",type:"publicKey"}]},{name:"removeSigner",accounts:[{name:"caller",isMut:!0,isSigner:!0},{name:"settingsAccount",isMut:!0,isSigner:!1}],args:[{name:"signerToRemove",type:"publicKey"}]},{name:"dispense",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"pdaDepositTokenAccount",isMut:!0,isSigner:!1},{name:"receiver",isMut:!0,isSigner:!1},{name:"feeReceiver",isMut:!0,isSigner:!1},{name:"settingsAccount",isMut:!1,isSigner:!1},{name:"pda",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"userAmount",type:"u64"},{name:"feeAmount",type:"u64"}]},{name:"collect",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"pdaTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"settingsAccount",isMut:!1,isSigner:!1},{name:"lockAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"target",type:{array:["u8",20]}},{name:"amount",type:"u64"},{name:"ethereum",type:"bool"}]},{name:"clearLock",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"lockAccount",isMut:!0,isSigner:!1},{name:"settingsAccount",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateLock",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"pdaTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"settingsAccount",isMut:!1,isSigner:!1},{name:"lockAccount",isMut:!0,isSigner:!1}],args:[{name:"target",type:{array:["u8",20]}},{name:"amount",type:"u64"},{name:"ethereum",type:"bool"}]}],accounts=[{name:"LockInfo",type:{kind:"struct",fields:[{name:"target",type:{array:["u8",20]}},{name:"amount",type:"u64"},{name:"user",type:"publicKey"},{name:"ethereum",type:"bool"},{name:"bump",type:"u8"}]}},{name:"Settings",type:{kind:"struct",fields:[{name:"feeAddress",type:"publicKey"},{name:"backendSigners",type:{array:["publicKey",10]}},{name:"initialized",type:"bool"},{name:"size",type:"u32"},{name:"bump",type:"u8"}]}}],errors$2=[{code:6e3,name:"Backend",msg:"Invalid backend address"},{code:6001,name:"Lock",msg:"Invalid lock owner"},{code:6002,name:"Fee",msg:"Invalid fee address"},{code:6003,name:"Signer",msg:"Invalid signer"},{code:6004,name:"NotInitialize",msg:"Not initialized"},{code:6005,name:"Settings",msg:"Invalid settings account"},{code:6006,name:"AddNewSigner",msg:"Cannot add new signer. Signers array is full"},{code:6007,name:"SignerNotFound",msg:"Signer not found in signers array"},{code:6008,name:"SignerArrayIsEmpty",msg:"Signer array is empty"},{code:6009,name:"InvalidSignerManager",msg:"Signer is invalid"},{code:6010,name:"InvalidInitCaller",msg:"Init caller is invalid"}];var idl={version:version$1,name,instructions,accounts,errors:errors$2},axios$2={exports:{}},bind$2=function te(ee,re){return function(){for(var oe=new Array(arguments.length),ie=0;ie<oe.length;ie++)oe[ie]=arguments[ie];return ee.apply(re,oe)}},bind$1=bind$2,toString$2=Object.prototype.toString,kindOf=function(te){return function(ee){var re=toString$2.call(ee);return te[re]||(te[re]=re.slice(8,-1).toLowerCase())}}(Object.create(null));function kindOfTest(te){return te=te.toLowerCase(),function(re){return kindOf(re)===te}}function isArray$6(te){return Array.isArray(te)}function isUndefined(te){return typeof te=="undefined"}function isBuffer$2(te){return te!==null&&!isUndefined(te)&&te.constructor!==null&&!isUndefined(te.constructor)&&typeof te.constructor.isBuffer=="function"&&te.constructor.isBuffer(te)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(te){var ee;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ee=ArrayBuffer.isView(te):ee=te&&te.buffer&&isArrayBuffer(te.buffer),ee}function isString(te){return typeof te=="string"}function isNumber(te){return typeof te=="number"}function isObject$2(te){return te!==null&&typeof te=="object"}function isPlainObject(te){if(kindOf(te)!=="object")return!1;var ee=Object.getPrototypeOf(te);return ee===null||ee===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction$2(te){return toString$2.call(te)==="[object Function]"}function isStream(te){return isObject$2(te)&&isFunction$2(te.pipe)}function isFormData(te){var ee="[object FormData]";return te&&(typeof FormData=="function"&&te instanceof FormData||toString$2.call(te)===ee||isFunction$2(te.toString)&&te.toString()===ee)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim(te){return te.trim?te.trim():te.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach(te,ee){if(!(te===null||typeof te=="undefined"))if(typeof te!="object"&&(te=[te]),isArray$6(te))for(var re=0,ne=te.length;re<ne;re++)ee.call(null,te[re],re,te);else for(var oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&ee.call(null,te[oe],oe,te)}function merge(){var te={};function ee(oe,ie){isPlainObject(te[ie])&&isPlainObject(oe)?te[ie]=merge(te[ie],oe):isPlainObject(oe)?te[ie]=merge({},oe):isArray$6(oe)?te[ie]=oe.slice():te[ie]=oe}for(var re=0,ne=arguments.length;re<ne;re++)forEach(arguments[re],ee);return te}function extend$4(te,ee,re){return forEach(ee,function(oe,ie){re&&typeof oe=="function"?te[ie]=bind$1(oe,re):te[ie]=oe}),te}function stripBOM(te){return te.charCodeAt(0)===65279&&(te=te.slice(1)),te}function inherits$g(te,ee,re,ne){te.prototype=Object.create(ee.prototype,ne),te.prototype.constructor=te,re&&Object.assign(te.prototype,re)}function toFlatObject(te,ee,re){var ne,oe,ie,se={};ee=ee||{};do{for(ne=Object.getOwnPropertyNames(te),oe=ne.length;oe-- >0;)ie=ne[oe],se[ie]||(ee[ie]=te[ie],se[ie]=!0);te=Object.getPrototypeOf(te)}while(te&&(!re||re(te,ee))&&te!==Object.prototype);return ee}function endsWith$1(te,ee,re){te=String(te),(re===void 0||re>te.length)&&(re=te.length),re-=ee.length;var ne=te.indexOf(ee,re);return ne!==-1&&ne===re}function toArray(te){if(!te)return null;var ee=te.length;if(isUndefined(ee))return null;for(var re=new Array(ee);ee-- >0;)re[ee]=te[ee];return re}var isTypedArray$4=function(te){return function(ee){return te&&ee instanceof te}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),utils$l={isArray:isArray$6,isArrayBuffer,isBuffer:isBuffer$2,isFormData,isArrayBufferView,isString,isNumber,isObject:isObject$2,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction:isFunction$2,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend:extend$4,trim,stripBOM,inherits:inherits$g,toFlatObject,kindOf,kindOfTest,endsWith:endsWith$1,toArray,isTypedArray:isTypedArray$4,isFileList},utils$k=utils$l;function encode$1(te){return encodeURIComponent(te).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function te(ee,re,ne){if(!re)return ee;var oe;if(ne)oe=ne(re);else if(utils$k.isURLSearchParams(re))oe=re.toString();else{var ie=[];utils$k.forEach(re,function(he,ge){he===null||typeof he=="undefined"||(utils$k.isArray(he)?ge=ge+"[]":he=[he],utils$k.forEach(he,function(Se){utils$k.isDate(Se)?Se=Se.toISOString():utils$k.isObject(Se)&&(Se=JSON.stringify(Se)),ie.push(encode$1(ge)+"="+encode$1(Se))}))}),oe=ie.join("&")}if(oe){var se=ee.indexOf("#");se!==-1&&(ee=ee.slice(0,se)),ee+=(ee.indexOf("?")===-1?"?":"&")+oe}return ee},utils$j=utils$l;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function te(ee,re,ne){return this.handlers.push({fulfilled:ee,rejected:re,synchronous:ne?ne.synchronous:!1,runWhen:ne?ne.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function te(ee){this.handlers[ee]&&(this.handlers[ee]=null)};InterceptorManager$1.prototype.forEach=function te(ee){utils$j.forEach(this.handlers,function(ne){ne!==null&&ee(ne)})};var InterceptorManager_1=InterceptorManager$1,utils$i=utils$l,normalizeHeaderName$1=function te(ee,re){utils$i.forEach(ee,function(oe,ie){ie!==re&&ie.toUpperCase()===re.toUpperCase()&&(ee[re]=oe,delete ee[ie])})},utils$h=utils$l;function AxiosError$5(te,ee,re,ne,oe){Error.call(this),this.message=te,this.name="AxiosError",ee&&(this.code=ee),re&&(this.config=re),ne&&(this.request=ne),oe&&(this.response=oe)}utils$h.inherits(AxiosError$5,Error,{toJSON:function te(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$5.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(te){descriptors[te]={value:te}});Object.defineProperties(AxiosError$5,descriptors);Object.defineProperty(prototype,"isAxiosError",{value:!0});AxiosError$5.from=function(te,ee,re,ne,oe,ie){var se=Object.create(prototype);return utils$h.toFlatObject(te,se,function(he){return he!==Error.prototype}),AxiosError$5.call(se,te.message,ee,re,ne,oe),se.name=te.name,ie&&Object.assign(se,ie),se};var AxiosError_1=AxiosError$5,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utils$g=utils$l;function toFormData$1(te,ee){ee=ee||new FormData;var re=[];function ne(ie){return ie===null?"":utils$g.isDate(ie)?ie.toISOString():utils$g.isArrayBuffer(ie)||utils$g.isTypedArray(ie)?typeof Blob=="function"?new Blob([ie]):buffer$2.Buffer.from(ie):ie}function oe(ie,se){if(utils$g.isPlainObject(ie)||utils$g.isArray(ie)){if(re.indexOf(ie)!==-1)throw Error("Circular reference detected in "+se);re.push(ie),utils$g.forEach(ie,function(he,ge){if(!utils$g.isUndefined(he)){var be=se?se+"."+ge:ge,Se;if(he&&!se&&typeof he=="object"){if(utils$g.endsWith(ge,"{}"))he=JSON.stringify(he);else if(utils$g.endsWith(ge,"[]")&&(Se=utils$g.toArray(he))){Se.forEach(function(Te){!utils$g.isUndefined(Te)&&ee.append(be,ne(Te))});return}}oe(he,be)}}),re.pop()}else ee.append(se,ne(ie))}return oe(te),ee}var toFormData_1=toFormData$1,AxiosError$4=AxiosError_1,settle$1=function te(ee,re,ne){var oe=ne.config.validateStatus;!ne.status||!oe||oe(ne.status)?ee(ne):re(new AxiosError$4("Request failed with status code "+ne.status,[AxiosError$4.ERR_BAD_REQUEST,AxiosError$4.ERR_BAD_RESPONSE][Math.floor(ne.status/100)-4],ne.config,ne.request,ne))},utils$f=utils$l,cookies$1=utils$f.isStandardBrowserEnv()?function te(){return{write:function(re,ne,oe,ie,se,ue){var he=[];he.push(re+"="+encodeURIComponent(ne)),utils$f.isNumber(oe)&&he.push("expires="+new Date(oe).toGMTString()),utils$f.isString(ie)&&he.push("path="+ie),utils$f.isString(se)&&he.push("domain="+se),ue===!0&&he.push("secure"),document.cookie=he.join("; ")},read:function(re){var ne=document.cookie.match(new RegExp("(^|;\\s*)("+re+")=([^;]*)"));return ne?decodeURIComponent(ne[3]):null},remove:function(re){this.write(re,"",Date.now()-864e5)}}}():function te(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function te(ee){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(ee)},combineURLs$1=function te(ee,re){return re?ee.replace(/\/+$/,"")+"/"+re.replace(/^\/+/,""):ee},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$2=function te(ee,re){return ee&&!isAbsoluteURL(re)?combineURLs(ee,re):re},utils$e=utils$l,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function te(ee){var re={},ne,oe,ie;return ee&&utils$e.forEach(ee.split(`
`),function(ue){if(ie=ue.indexOf(":"),ne=utils$e.trim(ue.substr(0,ie)).toLowerCase(),oe=utils$e.trim(ue.substr(ie+1)),ne){if(re[ne]&&ignoreDuplicateOf.indexOf(ne)>=0)return;ne==="set-cookie"?re[ne]=(re[ne]?re[ne]:[]).concat([oe]):re[ne]=re[ne]?re[ne]+", "+oe:oe}}),re},utils$d=utils$l,isURLSameOrigin$1=utils$d.isStandardBrowserEnv()?function te(){var ee=/(msie|trident)/i.test(navigator.userAgent),re=document.createElement("a"),ne;function oe(ie){var se=ie;return ee&&(re.setAttribute("href",se),se=re.href),re.setAttribute("href",se),{href:re.href,protocol:re.protocol?re.protocol.replace(/:$/,""):"",host:re.host,search:re.search?re.search.replace(/^\?/,""):"",hash:re.hash?re.hash.replace(/^#/,""):"",hostname:re.hostname,port:re.port,pathname:re.pathname.charAt(0)==="/"?re.pathname:"/"+re.pathname}}return ne=oe(window.location.href),function(se){var ue=utils$d.isString(se)?oe(se):se;return ue.protocol===ne.protocol&&ue.host===ne.host}}():function te(){return function(){return!0}}(),AxiosError$3=AxiosError_1,utils$c=utils$l;function CanceledError$3(te){AxiosError$3.call(this,te==null?"canceled":te,AxiosError$3.ERR_CANCELED),this.name="CanceledError"}utils$c.inherits(CanceledError$3,AxiosError$3,{__CANCEL__:!0});var CanceledError_1=CanceledError$3,parseProtocol$1=function te(ee){var re=/^([-+\w]{1,25})(:?\/\/|:)/.exec(ee);return re&&re[1]||""},utils$b=utils$l,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath$1=buildFullPath$2,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,transitionalDefaults$1=transitional,AxiosError$2=AxiosError_1,CanceledError$2=CanceledError_1,parseProtocol=parseProtocol$1,xhr=function te(ee){return new Promise(function(ne,oe){var ie=ee.data,se=ee.headers,ue=ee.responseType,he;function ge(){ee.cancelToken&&ee.cancelToken.unsubscribe(he),ee.signal&&ee.signal.removeEventListener("abort",he)}utils$b.isFormData(ie)&&utils$b.isStandardBrowserEnv()&&delete se["Content-Type"];var be=new XMLHttpRequest;if(ee.auth){var Se=ee.auth.username||"",Te=ee.auth.password?unescape(encodeURIComponent(ee.auth.password)):"";se.Authorization="Basic "+btoa(Se+":"+Te)}var ke=buildFullPath$1(ee.baseURL,ee.url);be.open(ee.method.toUpperCase(),buildURL$1(ke,ee.params,ee.paramsSerializer),!0),be.timeout=ee.timeout;function Re(){if(!!be){var Ie="getAllResponseHeaders"in be?parseHeaders(be.getAllResponseHeaders()):null,Ne=!ue||ue==="text"||ue==="json"?be.responseText:be.response,He={data:Ne,status:be.status,statusText:be.statusText,headers:Ie,config:ee,request:be};settle(function(Ge){ne(Ge),ge()},function(Ge){oe(Ge),ge()},He),be=null}}if("onloadend"in be?be.onloadend=Re:be.onreadystatechange=function(){!be||be.readyState!==4||be.status===0&&!(be.responseURL&&be.responseURL.indexOf("file:")===0)||setTimeout(Re)},be.onabort=function(){!be||(oe(new AxiosError$2("Request aborted",AxiosError$2.ECONNABORTED,ee,be)),be=null)},be.onerror=function(){oe(new AxiosError$2("Network Error",AxiosError$2.ERR_NETWORK,ee,be,be)),be=null},be.ontimeout=function(){var Ne=ee.timeout?"timeout of "+ee.timeout+"ms exceeded":"timeout exceeded",He=ee.transitional||transitionalDefaults$1;ee.timeoutErrorMessage&&(Ne=ee.timeoutErrorMessage),oe(new AxiosError$2(Ne,He.clarifyTimeoutError?AxiosError$2.ETIMEDOUT:AxiosError$2.ECONNABORTED,ee,be)),be=null},utils$b.isStandardBrowserEnv()){var Ce=(ee.withCredentials||isURLSameOrigin(ke))&&ee.xsrfCookieName?cookies.read(ee.xsrfCookieName):void 0;Ce&&(se[ee.xsrfHeaderName]=Ce)}"setRequestHeader"in be&&utils$b.forEach(se,function(Ne,He){typeof ie=="undefined"&&He.toLowerCase()==="content-type"?delete se[He]:be.setRequestHeader(He,Ne)}),utils$b.isUndefined(ee.withCredentials)||(be.withCredentials=!!ee.withCredentials),ue&&ue!=="json"&&(be.responseType=ee.responseType),typeof ee.onDownloadProgress=="function"&&be.addEventListener("progress",ee.onDownloadProgress),typeof ee.onUploadProgress=="function"&&be.upload&&be.upload.addEventListener("progress",ee.onUploadProgress),(ee.cancelToken||ee.signal)&&(he=function(Ie){!be||(oe(!Ie||Ie&&Ie.type?new CanceledError$2:Ie),be.abort(),be=null)},ee.cancelToken&&ee.cancelToken.subscribe(he),ee.signal&&(ee.signal.aborted?he():ee.signal.addEventListener("abort",he))),ie||(ie=null);var Pe=parseProtocol(ke);if(Pe&&["http","https","file"].indexOf(Pe)===-1){oe(new AxiosError$2("Unsupported protocol "+Pe+":",AxiosError$2.ERR_BAD_REQUEST,ee));return}be.send(ie)})},_null=null,utils$a=utils$l,normalizeHeaderName=normalizeHeaderName$1,AxiosError$1=AxiosError_1,transitionalDefaults=transitional,toFormData=toFormData_1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(te,ee){!utils$a.isUndefined(te)&&utils$a.isUndefined(te["Content-Type"])&&(te["Content-Type"]=ee)}function getDefaultAdapter(){var te;return(typeof XMLHttpRequest!="undefined"||typeof process$1!="undefined"&&Object.prototype.toString.call(process$1)==="[object process]")&&(te=xhr),te}function stringifySafely(te,ee,re){if(utils$a.isString(te))try{return(ee||JSON.parse)(te),utils$a.trim(te)}catch(ne){if(ne.name!=="SyntaxError")throw ne}return(re||JSON.stringify)(te)}var defaults$3={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function te(ee,re){if(normalizeHeaderName(re,"Accept"),normalizeHeaderName(re,"Content-Type"),utils$a.isFormData(ee)||utils$a.isArrayBuffer(ee)||utils$a.isBuffer(ee)||utils$a.isStream(ee)||utils$a.isFile(ee)||utils$a.isBlob(ee))return ee;if(utils$a.isArrayBufferView(ee))return ee.buffer;if(utils$a.isURLSearchParams(ee))return setContentTypeIfUnset(re,"application/x-www-form-urlencoded;charset=utf-8"),ee.toString();var ne=utils$a.isObject(ee),oe=re&&re["Content-Type"],ie;if((ie=utils$a.isFileList(ee))||ne&&oe==="multipart/form-data"){var se=this.env&&this.env.FormData;return toFormData(ie?{"files[]":ee}:ee,se&&new se)}else if(ne||oe==="application/json")return setContentTypeIfUnset(re,"application/json"),stringifySafely(ee);return ee}],transformResponse:[function te(ee){var re=this.transitional||defaults$3.transitional,ne=re&&re.silentJSONParsing,oe=re&&re.forcedJSONParsing,ie=!ne&&this.responseType==="json";if(ie||oe&&utils$a.isString(ee)&&ee.length)try{return JSON.parse(ee)}catch(se){if(ie)throw se.name==="SyntaxError"?AxiosError$1.from(se,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):se}return ee}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_null},validateStatus:function te(ee){return ee>=200&&ee<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$a.forEach(["delete","get","head"],function te(ee){defaults$3.headers[ee]={}});utils$a.forEach(["post","put","patch"],function te(ee){defaults$3.headers[ee]=utils$a.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$9=utils$l,defaults$2=defaults_1,transformData$1=function te(ee,re,ne){var oe=this||defaults$2;return utils$9.forEach(ne,function(se){ee=se.call(oe,ee,re)}),ee},isCancel$1=function te(ee){return!!(ee&&ee.__CANCEL__)},utils$8=utils$l,transformData=transformData$1,isCancel=isCancel$1,defaults$1=defaults_1,CanceledError$1=CanceledError_1;function throwIfCancellationRequested(te){if(te.cancelToken&&te.cancelToken.throwIfRequested(),te.signal&&te.signal.aborted)throw new CanceledError$1}var dispatchRequest$1=function te(ee){throwIfCancellationRequested(ee),ee.headers=ee.headers||{},ee.data=transformData.call(ee,ee.data,ee.headers,ee.transformRequest),ee.headers=utils$8.merge(ee.headers.common||{},ee.headers[ee.method]||{},ee.headers),utils$8.forEach(["delete","get","head","post","put","patch","common"],function(oe){delete ee.headers[oe]});var re=ee.adapter||defaults$1.adapter;return re(ee).then(function(oe){return throwIfCancellationRequested(ee),oe.data=transformData.call(ee,oe.data,oe.headers,ee.transformResponse),oe},function(oe){return isCancel(oe)||(throwIfCancellationRequested(ee),oe&&oe.response&&(oe.response.data=transformData.call(ee,oe.response.data,oe.response.headers,ee.transformResponse))),Promise.reject(oe)})},utils$7=utils$l,mergeConfig$2=function te(ee,re){re=re||{};var ne={};function oe(be,Se){return utils$7.isPlainObject(be)&&utils$7.isPlainObject(Se)?utils$7.merge(be,Se):utils$7.isPlainObject(Se)?utils$7.merge({},Se):utils$7.isArray(Se)?Se.slice():Se}function ie(be){if(utils$7.isUndefined(re[be])){if(!utils$7.isUndefined(ee[be]))return oe(void 0,ee[be])}else return oe(ee[be],re[be])}function se(be){if(!utils$7.isUndefined(re[be]))return oe(void 0,re[be])}function ue(be){if(utils$7.isUndefined(re[be])){if(!utils$7.isUndefined(ee[be]))return oe(void 0,ee[be])}else return oe(void 0,re[be])}function he(be){if(be in re)return oe(ee[be],re[be]);if(be in ee)return oe(void 0,ee[be])}var ge={url:se,method:se,data:se,baseURL:ue,transformRequest:ue,transformResponse:ue,paramsSerializer:ue,timeout:ue,timeoutMessage:ue,withCredentials:ue,adapter:ue,responseType:ue,xsrfCookieName:ue,xsrfHeaderName:ue,onUploadProgress:ue,onDownloadProgress:ue,decompress:ue,maxContentLength:ue,maxBodyLength:ue,beforeRedirect:ue,transport:ue,httpAgent:ue,httpsAgent:ue,cancelToken:ue,socketPath:ue,responseEncoding:ue,validateStatus:he};return utils$7.forEach(Object.keys(ee).concat(Object.keys(re)),function(Se){var Te=ge[Se]||ie,ke=Te(Se);utils$7.isUndefined(ke)&&Te!==he||(ne[Se]=ke)}),ne},data={version:"0.27.2"},VERSION=data.version,AxiosError=AxiosError_1,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(te,ee){validators$1[te]=function(ne){return typeof ne===te||"a"+(ee<1?"n ":" ")+te}});var deprecatedWarnings={};validators$1.transitional=function te(ee,re,ne){function oe(ie,se){return"[Axios v"+VERSION+"] Transitional option '"+ie+"'"+se+(ne?". "+ne:"")}return function(ie,se,ue){if(ee===!1)throw new AxiosError(oe(se," has been removed"+(re?" in "+re:"")),AxiosError.ERR_DEPRECATED);return re&&!deprecatedWarnings[se]&&(deprecatedWarnings[se]=!0,console.warn(oe(se," has been deprecated since v"+re+" and will be removed in the near future"))),ee?ee(ie,se,ue):!0}};function assertOptions(te,ee,re){if(typeof te!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);for(var ne=Object.keys(te),oe=ne.length;oe-- >0;){var ie=ne[oe],se=ee[ie];if(se){var ue=te[ie],he=ue===void 0||se(ue,ie,te);if(he!==!0)throw new AxiosError("option "+ie+" must be "+he,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(re!==!0)throw new AxiosError("Unknown option "+ie,AxiosError.ERR_BAD_OPTION)}}var validator$1={assertOptions,validators:validators$1},utils$6=utils$l,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,buildFullPath=buildFullPath$2,validator=validator$1,validators=validator.validators;function Axios$1(te){this.defaults=te,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function te(ee,re){typeof ee=="string"?(re=re||{},re.url=ee):re=ee||{},re=mergeConfig$1(this.defaults,re),re.method?re.method=re.method.toLowerCase():this.defaults.method?re.method=this.defaults.method.toLowerCase():re.method="get";var ne=re.transitional;ne!==void 0&&validator.assertOptions(ne,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var oe=[],ie=!0;this.interceptors.request.forEach(function(ke){typeof ke.runWhen=="function"&&ke.runWhen(re)===!1||(ie=ie&&ke.synchronous,oe.unshift(ke.fulfilled,ke.rejected))});var se=[];this.interceptors.response.forEach(function(ke){se.push(ke.fulfilled,ke.rejected)});var ue;if(!ie){var he=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(he,oe),he=he.concat(se),ue=Promise.resolve(re);he.length;)ue=ue.then(he.shift(),he.shift());return ue}for(var ge=re;oe.length;){var be=oe.shift(),Se=oe.shift();try{ge=be(ge)}catch(Te){Se(Te);break}}try{ue=dispatchRequest(ge)}catch(Te){return Promise.reject(Te)}for(;se.length;)ue=ue.then(se.shift(),se.shift());return ue};Axios$1.prototype.getUri=function te(ee){ee=mergeConfig$1(this.defaults,ee);var re=buildFullPath(ee.baseURL,ee.url);return buildURL(re,ee.params,ee.paramsSerializer)};utils$6.forEach(["delete","get","head","options"],function te(ee){Axios$1.prototype[ee]=function(re,ne){return this.request(mergeConfig$1(ne||{},{method:ee,url:re,data:(ne||{}).data}))}});utils$6.forEach(["post","put","patch"],function te(ee){function re(ne){return function(ie,se,ue){return this.request(mergeConfig$1(ue||{},{method:ee,headers:ne?{"Content-Type":"multipart/form-data"}:{},url:ie,data:se}))}}Axios$1.prototype[ee]=re(),Axios$1.prototype[ee+"Form"]=re(!0)});var Axios_1=Axios$1,CanceledError=CanceledError_1;function CancelToken(te){if(typeof te!="function")throw new TypeError("executor must be a function.");var ee;this.promise=new Promise(function(oe){ee=oe});var re=this;this.promise.then(function(ne){if(!!re._listeners){var oe,ie=re._listeners.length;for(oe=0;oe<ie;oe++)re._listeners[oe](ne);re._listeners=null}}),this.promise.then=function(ne){var oe,ie=new Promise(function(se){re.subscribe(se),oe=se}).then(ne);return ie.cancel=function(){re.unsubscribe(oe)},ie},te(function(oe){re.reason||(re.reason=new CanceledError(oe),ee(re.reason))})}CancelToken.prototype.throwIfRequested=function te(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function te(ee){if(this.reason){ee(this.reason);return}this._listeners?this._listeners.push(ee):this._listeners=[ee]};CancelToken.prototype.unsubscribe=function te(ee){if(!!this._listeners){var re=this._listeners.indexOf(ee);re!==-1&&this._listeners.splice(re,1)}};CancelToken.source=function te(){var ee,re=new CancelToken(function(oe){ee=oe});return{token:re,cancel:ee}};var CancelToken_1=CancelToken,spread=function te(ee){return function(ne){return ee.apply(null,ne)}},utils$5=utils$l,isAxiosError=function te(ee){return utils$5.isObject(ee)&&ee.isAxiosError===!0},utils$4=utils$l,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(te){var ee=new Axios(te),re=bind(Axios.prototype.request,ee);return utils$4.extend(re,Axios.prototype,ee),utils$4.extend(re,ee),re.create=function(oe){return createInstance(mergeConfig(te,oe))},re}var axios$1=createInstance(defaults);axios$1.Axios=Axios;axios$1.CanceledError=CanceledError_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data.version;axios$1.toFormData=toFormData_1;axios$1.AxiosError=AxiosError_1;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function te(ee){return Promise.all(ee)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports,events={exports:{}},R$2=typeof Reflect=="object"?Reflect:null,ReflectApply$1=R$2&&typeof R$2.apply=="function"?R$2.apply:function te(ee,re,ne){return Function.prototype.apply.call(ee,re,ne)},ReflectOwnKeys;R$2&&typeof R$2.ownKeys=="function"?ReflectOwnKeys=R$2.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(ee){return Object.getOwnPropertyNames(ee).concat(Object.getOwnPropertySymbols(ee))}:ReflectOwnKeys=function(ee){return Object.getOwnPropertyNames(ee)};function ProcessEmitWarning(te){console&&console.warn&&console.warn(te)}var NumberIsNaN=Number.isNaN||function te(ee){return ee!==ee};function EventEmitter$3(){EventEmitter$3.init.call(this)}events.exports=EventEmitter$3;events.exports.once=once$3;EventEmitter$3.EventEmitter=EventEmitter$3;EventEmitter$3.prototype._events=void 0;EventEmitter$3.prototype._eventsCount=0;EventEmitter$3.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(te){if(typeof te!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof te)}Object.defineProperty(EventEmitter$3,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(te){if(typeof te!="number"||te<0||NumberIsNaN(te))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+te+".");defaultMaxListeners=te}});EventEmitter$3.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$3.prototype.setMaxListeners=function te(ee){if(typeof ee!="number"||ee<0||NumberIsNaN(ee))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ee+".");return this._maxListeners=ee,this};function _getMaxListeners(te){return te._maxListeners===void 0?EventEmitter$3.defaultMaxListeners:te._maxListeners}EventEmitter$3.prototype.getMaxListeners=function te(){return _getMaxListeners(this)};EventEmitter$3.prototype.emit=function te(ee){for(var re=[],ne=1;ne<arguments.length;ne++)re.push(arguments[ne]);var oe=ee==="error",ie=this._events;if(ie!==void 0)oe=oe&&ie.error===void 0;else if(!oe)return!1;if(oe){var se;if(re.length>0&&(se=re[0]),se instanceof Error)throw se;var ue=new Error("Unhandled error."+(se?" ("+se.message+")":""));throw ue.context=se,ue}var he=ie[ee];if(he===void 0)return!1;if(typeof he=="function")ReflectApply$1(he,this,re);else for(var ge=he.length,be=arrayClone$2(he,ge),ne=0;ne<ge;++ne)ReflectApply$1(be[ne],this,re);return!0};function _addListener(te,ee,re,ne){var oe,ie,se;if(checkListener(re),ie=te._events,ie===void 0?(ie=te._events=Object.create(null),te._eventsCount=0):(ie.newListener!==void 0&&(te.emit("newListener",ee,re.listener?re.listener:re),ie=te._events),se=ie[ee]),se===void 0)se=ie[ee]=re,++te._eventsCount;else if(typeof se=="function"?se=ie[ee]=ne?[re,se]:[se,re]:ne?se.unshift(re):se.push(re),oe=_getMaxListeners(te),oe>0&&se.length>oe&&!se.warned){se.warned=!0;var ue=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+String(ee)+" listeners added. Use emitter.setMaxListeners() to increase limit");ue.name="MaxListenersExceededWarning",ue.emitter=te,ue.type=ee,ue.count=se.length,ProcessEmitWarning(ue)}return te}EventEmitter$3.prototype.addListener=function te(ee,re){return _addListener(this,ee,re,!1)};EventEmitter$3.prototype.on=EventEmitter$3.prototype.addListener;EventEmitter$3.prototype.prependListener=function te(ee,re){return _addListener(this,ee,re,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(te,ee,re){var ne={fired:!1,wrapFn:void 0,target:te,type:ee,listener:re},oe=onceWrapper.bind(ne);return oe.listener=re,ne.wrapFn=oe,oe}EventEmitter$3.prototype.once=function te(ee,re){return checkListener(re),this.on(ee,_onceWrap(this,ee,re)),this};EventEmitter$3.prototype.prependOnceListener=function te(ee,re){return checkListener(re),this.prependListener(ee,_onceWrap(this,ee,re)),this};EventEmitter$3.prototype.removeListener=function te(ee,re){var ne,oe,ie,se,ue;if(checkListener(re),oe=this._events,oe===void 0)return this;if(ne=oe[ee],ne===void 0)return this;if(ne===re||ne.listener===re)--this._eventsCount===0?this._events=Object.create(null):(delete oe[ee],oe.removeListener&&this.emit("removeListener",ee,ne.listener||re));else if(typeof ne!="function"){for(ie=-1,se=ne.length-1;se>=0;se--)if(ne[se]===re||ne[se].listener===re){ue=ne[se].listener,ie=se;break}if(ie<0)return this;ie===0?ne.shift():spliceOne(ne,ie),ne.length===1&&(oe[ee]=ne[0]),oe.removeListener!==void 0&&this.emit("removeListener",ee,ue||re)}return this};EventEmitter$3.prototype.off=EventEmitter$3.prototype.removeListener;EventEmitter$3.prototype.removeAllListeners=function te(ee){var re,ne,oe;if(ne=this._events,ne===void 0)return this;if(ne.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ne[ee]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete ne[ee]),this;if(arguments.length===0){var ie=Object.keys(ne),se;for(oe=0;oe<ie.length;++oe)se=ie[oe],se!=="removeListener"&&this.removeAllListeners(se);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(re=ne[ee],typeof re=="function")this.removeListener(ee,re);else if(re!==void 0)for(oe=re.length-1;oe>=0;oe--)this.removeListener(ee,re[oe]);return this};function _listeners(te,ee,re){var ne=te._events;if(ne===void 0)return[];var oe=ne[ee];return oe===void 0?[]:typeof oe=="function"?re?[oe.listener||oe]:[oe]:re?unwrapListeners(oe):arrayClone$2(oe,oe.length)}EventEmitter$3.prototype.listeners=function te(ee){return _listeners(this,ee,!0)};EventEmitter$3.prototype.rawListeners=function te(ee){return _listeners(this,ee,!1)};EventEmitter$3.listenerCount=function(te,ee){return typeof te.listenerCount=="function"?te.listenerCount(ee):listenerCount.call(te,ee)};EventEmitter$3.prototype.listenerCount=listenerCount;function listenerCount(te){var ee=this._events;if(ee!==void 0){var re=ee[te];if(typeof re=="function")return 1;if(re!==void 0)return re.length}return 0}EventEmitter$3.prototype.eventNames=function te(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone$2(te,ee){for(var re=new Array(ee),ne=0;ne<ee;++ne)re[ne]=te[ne];return re}function spliceOne(te,ee){for(;ee+1<te.length;ee++)te[ee]=te[ee+1];te.pop()}function unwrapListeners(te){for(var ee=new Array(te.length),re=0;re<ee.length;++re)ee[re]=te[re].listener||te[re];return ee}function once$3(te,ee){return new Promise(function(re,ne){function oe(se){te.removeListener(ee,ie),ne(se)}function ie(){typeof te.removeListener=="function"&&te.removeListener("error",oe),re([].slice.call(arguments))}eventTargetAgnosticAddListener(te,ee,ie,{once:!0}),ee!=="error"&&addErrorHandlerIfEventEmitter(te,oe,{once:!0})})}function addErrorHandlerIfEventEmitter(te,ee,re){typeof te.on=="function"&&eventTargetAgnosticAddListener(te,"error",ee,re)}function eventTargetAgnosticAddListener(te,ee,re,ne){if(typeof te.on=="function")ne.once?te.once(ee,re):te.on(ee,re);else if(typeof te.addEventListener=="function")te.addEventListener(ee,function oe(ie){ne.once&&te.removeEventListener(ee,oe),re(ie)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof te)}var dist$4={},keccak$2={},hashUtils={};Object.defineProperty(hashUtils,"__esModule",{value:!0});function createHashFunction(te){return function(ee){var re=te();return re.update(ee),buffer$2.Buffer.from(re.digest())}}hashUtils.createHashFunction=createHashFunction;var readableBrowser={exports:{}},streamBrowser=events.exports.EventEmitter;function ownKeys(te,ee){var re=Object.keys(te);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(te);ee&&(ne=ne.filter(function(oe){return Object.getOwnPropertyDescriptor(te,oe).enumerable})),re.push.apply(re,ne)}return re}function _objectSpread(te){for(var ee=1;ee<arguments.length;ee++){var re=arguments[ee]!=null?arguments[ee]:{};ee%2?ownKeys(Object(re),!0).forEach(function(ne){_defineProperty$1(te,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(re)):ownKeys(Object(re)).forEach(function(ne){Object.defineProperty(te,ne,Object.getOwnPropertyDescriptor(re,ne))})}return te}function _defineProperty$1(te,ee,re){return ee in te?Object.defineProperty(te,ee,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[ee]=re,te}function _classCallCheck$1(te,ee){if(!(te instanceof ee))throw new TypeError("Cannot call a class as a function")}function _defineProperties(te,ee){for(var re=0;re<ee.length;re++){var ne=ee[re];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}}function _createClass(te,ee,re){return ee&&_defineProperties(te.prototype,ee),re&&_defineProperties(te,re),te}var _require$2=buffer$2,Buffer$j=_require$2.Buffer,_require2=require$$3$1,inspect=_require2.inspect,custom=inspect&&inspect.custom||"inspect";function copyBuffer(te,ee,re){Buffer$j.prototype.copy.call(te,ee,re)}var buffer_list=function(){function te(){_classCallCheck$1(this,te),this.head=null,this.tail=null,this.length=0}return _createClass(te,[{key:"push",value:function(re){var ne={data:re,next:null};this.length>0?this.tail.next=ne:this.head=ne,this.tail=ne,++this.length}},{key:"unshift",value:function(re){var ne={data:re,next:this.head};this.length===0&&(this.tail=ne),this.head=ne,++this.length}},{key:"shift",value:function(){if(this.length!==0){var re=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,re}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(re){if(this.length===0)return"";for(var ne=this.head,oe=""+ne.data;ne=ne.next;)oe+=re+ne.data;return oe}},{key:"concat",value:function(re){if(this.length===0)return Buffer$j.alloc(0);for(var ne=Buffer$j.allocUnsafe(re>>>0),oe=this.head,ie=0;oe;)copyBuffer(oe.data,ne,ie),ie+=oe.data.length,oe=oe.next;return ne}},{key:"consume",value:function(re,ne){var oe;return re<this.head.data.length?(oe=this.head.data.slice(0,re),this.head.data=this.head.data.slice(re)):re===this.head.data.length?oe=this.shift():oe=ne?this._getString(re):this._getBuffer(re),oe}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(re){var ne=this.head,oe=1,ie=ne.data;for(re-=ie.length;ne=ne.next;){var se=ne.data,ue=re>se.length?se.length:re;if(ue===se.length?ie+=se:ie+=se.slice(0,re),re-=ue,re===0){ue===se.length?(++oe,ne.next?this.head=ne.next:this.head=this.tail=null):(this.head=ne,ne.data=se.slice(ue));break}++oe}return this.length-=oe,ie}},{key:"_getBuffer",value:function(re){var ne=Buffer$j.allocUnsafe(re),oe=this.head,ie=1;for(oe.data.copy(ne),re-=oe.data.length;oe=oe.next;){var se=oe.data,ue=re>se.length?se.length:re;if(se.copy(ne,ne.length-re,0,ue),re-=ue,re===0){ue===se.length?(++ie,oe.next?this.head=oe.next:this.head=this.tail=null):(this.head=oe,oe.data=se.slice(ue));break}++ie}return this.length-=ie,ne}},{key:custom,value:function(re,ne){return inspect(this,_objectSpread({},ne,{depth:0,customInspect:!1}))}}]),te}();function destroy(te,ee){var re=this,ne=this._readableState&&this._readableState.destroyed,oe=this._writableState&&this._writableState.destroyed;return ne||oe?(ee?ee(te):te&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(emitErrorNT,this,te)):process$1.nextTick(emitErrorNT,this,te)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(te||null,function(ie){!ee&&ie?re._writableState?re._writableState.errorEmitted?process$1.nextTick(emitCloseNT,re):(re._writableState.errorEmitted=!0,process$1.nextTick(emitErrorAndCloseNT,re,ie)):process$1.nextTick(emitErrorAndCloseNT,re,ie):ee?(process$1.nextTick(emitCloseNT,re),ee(ie)):process$1.nextTick(emitCloseNT,re)}),this)}function emitErrorAndCloseNT(te,ee){emitErrorNT(te,ee),emitCloseNT(te)}function emitCloseNT(te){te._writableState&&!te._writableState.emitClose||te._readableState&&!te._readableState.emitClose||te.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(te,ee){te.emit("error",ee)}function errorOrDestroy$2(te,ee){var re=te._readableState,ne=te._writableState;re&&re.autoDestroy||ne&&ne.autoDestroy?te.destroy(ee):te.emit("error",ee)}var destroy_1={destroy,undestroy,errorOrDestroy:errorOrDestroy$2},errorsBrowser={};function _inheritsLoose(te,ee){te.prototype=Object.create(ee.prototype),te.prototype.constructor=te,te.__proto__=ee}var codes={};function createErrorType(te,ee,re){re||(re=Error);function ne(ie,se,ue){return typeof ee=="string"?ee:ee(ie,se,ue)}var oe=function(ie){_inheritsLoose(se,ie);function se(ue,he,ge){return ie.call(this,ne(ue,he,ge))||this}return se}(re);oe.prototype.name=re.name,oe.prototype.code=te,codes[te]=oe}function oneOf(te,ee){if(Array.isArray(te)){var re=te.length;return te=te.map(function(ne){return String(ne)}),re>2?"one of ".concat(ee," ").concat(te.slice(0,re-1).join(", "),", or ")+te[re-1]:re===2?"one of ".concat(ee," ").concat(te[0]," or ").concat(te[1]):"of ".concat(ee," ").concat(te[0])}else return"of ".concat(ee," ").concat(String(te))}function startsWith(te,ee,re){return te.substr(!re||re<0?0:+re,ee.length)===ee}function endsWith(te,ee,re){return(re===void 0||re>te.length)&&(re=te.length),te.substring(re-ee.length,re)===ee}function includes(te,ee,re){return typeof re!="number"&&(re=0),re+ee.length>te.length?!1:te.indexOf(ee,re)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(te,ee){return'The value "'+ee+'" is invalid for option "'+te+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(te,ee,re){var ne;typeof ee=="string"&&startsWith(ee,"not ")?(ne="must not be",ee=ee.replace(/^not /,"")):ne="must be";var oe;if(endsWith(te," argument"))oe="The ".concat(te," ").concat(ne," ").concat(oneOf(ee,"type"));else{var ie=includes(te,".")?"property":"argument";oe='The "'.concat(te,'" ').concat(ie," ").concat(ne," ").concat(oneOf(ee,"type"))}return oe+=". Received type ".concat(typeof re),oe},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(te){return"The "+te+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(te){return"Cannot call "+te+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(te){return"Unknown encoding: "+te},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(te,ee,re){return te.highWaterMark!=null?te.highWaterMark:ee?te[re]:null}function getHighWaterMark$2(te,ee,re,ne){var oe=highWaterMarkFrom(ee,ne,re);if(oe!=null){if(!(isFinite(oe)&&Math.floor(oe)===oe)||oe<0){var ie=ne?re:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(ie,oe)}return Math.floor(oe)}return te.objectMode?16:16*1024}var state={getHighWaterMark:getHighWaterMark$2},browser$4=deprecate;function deprecate(te,ee){if(config("noDeprecation"))return te;var re=!1;function ne(){if(!re){if(config("throwDeprecation"))throw new Error(ee);config("traceDeprecation")?console.trace(ee):console.warn(ee),re=!0}return te.apply(this,arguments)}return ne}function config(te){try{if(!globalThis.localStorage)return!1}catch{return!1}var ee=globalThis.localStorage[te];return ee==null?!1:String(ee).toLowerCase()==="true"}var _stream_writable=Writable$1;function CorkedRequest(te){var ee=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(ee,te)}}var Duplex$3;Writable$1.WritableState=WritableState;var internalUtil={deprecate:browser$4},Stream$1=streamBrowser,Buffer$i=buffer$2.Buffer,OurUint8Array$1=globalThis.Uint8Array||function(){};function _uint8ArrayToBuffer$1(te){return Buffer$i.from(te)}function _isUint8Array$1(te){return Buffer$i.isBuffer(te)||te instanceof OurUint8Array$1}var destroyImpl$1=destroy_1,_require$1=state,getHighWaterMark$1=_require$1.getHighWaterMark,_require$codes$3=errorsBrowser.codes,ERR_INVALID_ARG_TYPE$1=_require$codes$3.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED$2=_require$codes$3.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$1=_require$codes$3.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes$3.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED$1=_require$codes$3.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes$3.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes$3.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes$3.ERR_UNKNOWN_ENCODING,errorOrDestroy$1=destroyImpl$1.errorOrDestroy;inherits_browser$2.exports(Writable$1,Stream$1);function nop(){}function WritableState(te,ee,re){Duplex$3=Duplex$3||_stream_duplex,te=te||{},typeof re!="boolean"&&(re=ee instanceof Duplex$3),this.objectMode=!!te.objectMode,re&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=getHighWaterMark$1(this,te,"writableHighWaterMark",re),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=te.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){onwrite(ee,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function te(){for(var ee=this.bufferedRequest,re=[];ee;)re.push(ee),ee=ee.next;return re};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var realHasInstance;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable$1,Symbol.hasInstance,{value:function(ee){return realHasInstance.call(this,ee)?!0:this!==Writable$1?!1:ee&&ee._writableState instanceof WritableState}})):realHasInstance=function(ee){return ee instanceof this};function Writable$1(te){Duplex$3=Duplex$3||_stream_duplex;var ee=this instanceof Duplex$3;if(!ee&&!realHasInstance.call(Writable$1,this))return new Writable$1(te);this._writableState=new WritableState(te,this,ee),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),Stream$1.call(this)}Writable$1.prototype.pipe=function(){errorOrDestroy$1(this,new ERR_STREAM_CANNOT_PIPE)};function writeAfterEnd(te,ee){var re=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy$1(te,re),process$1.nextTick(ee,re)}function validChunk(te,ee,re,ne){var oe;return re===null?oe=new ERR_STREAM_NULL_VALUES:typeof re!="string"&&!ee.objectMode&&(oe=new ERR_INVALID_ARG_TYPE$1("chunk",["string","Buffer"],re)),oe?(errorOrDestroy$1(te,oe),process$1.nextTick(ne,oe),!1):!0}Writable$1.prototype.write=function(te,ee,re){var ne=this._writableState,oe=!1,ie=!ne.objectMode&&_isUint8Array$1(te);return ie&&!Buffer$i.isBuffer(te)&&(te=_uint8ArrayToBuffer$1(te)),typeof ee=="function"&&(re=ee,ee=null),ie?ee="buffer":ee||(ee=ne.defaultEncoding),typeof re!="function"&&(re=nop),ne.ending?writeAfterEnd(this,re):(ie||validChunk(this,ne,te,re))&&(ne.pendingcb++,oe=writeOrBuffer(this,ne,ie,te,ee,re)),oe};Writable$1.prototype.cork=function(){this._writableState.corked++};Writable$1.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&clearBuffer(this,te))};Writable$1.prototype.setDefaultEncoding=function te(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(ee);return this._writableState.defaultEncoding=ee,this};Object.defineProperty(Writable$1.prototype,"writableBuffer",{enumerable:!1,get:function te(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(te,ee,re){return!te.objectMode&&te.decodeStrings!==!1&&typeof ee=="string"&&(ee=Buffer$i.from(ee,re)),ee}Object.defineProperty(Writable$1.prototype,"writableHighWaterMark",{enumerable:!1,get:function te(){return this._writableState.highWaterMark}});function writeOrBuffer(te,ee,re,ne,oe,ie){if(!re){var se=decodeChunk(ee,ne,oe);ne!==se&&(re=!0,oe="buffer",ne=se)}var ue=ee.objectMode?1:ne.length;ee.length+=ue;var he=ee.length<ee.highWaterMark;if(he||(ee.needDrain=!0),ee.writing||ee.corked){var ge=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:ne,encoding:oe,isBuf:re,callback:ie,next:null},ge?ge.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else doWrite(te,ee,!1,ue,ne,oe,ie);return he}function doWrite(te,ee,re,ne,oe,ie,se){ee.writelen=ne,ee.writecb=se,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new ERR_STREAM_DESTROYED$1("write")):re?te._writev(oe,ee.onwrite):te._write(oe,ie,ee.onwrite),ee.sync=!1}function onwriteError(te,ee,re,ne,oe){--ee.pendingcb,re?(process$1.nextTick(oe,ne),process$1.nextTick(finishMaybe,te,ee),te._writableState.errorEmitted=!0,errorOrDestroy$1(te,ne)):(oe(ne),te._writableState.errorEmitted=!0,errorOrDestroy$1(te,ne),finishMaybe(te,ee))}function onwriteStateUpdate(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function onwrite(te,ee){var re=te._writableState,ne=re.sync,oe=re.writecb;if(typeof oe!="function")throw new ERR_MULTIPLE_CALLBACK$1;if(onwriteStateUpdate(re),ee)onwriteError(te,re,ne,ee,oe);else{var ie=needFinish(re)||te.destroyed;!ie&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&clearBuffer(te,re),ne?process$1.nextTick(afterWrite,te,re,ie,oe):afterWrite(te,re,ie,oe)}}function afterWrite(te,ee,re,ne){re||onwriteDrain(te,ee),ee.pendingcb--,ne(),finishMaybe(te,ee)}function onwriteDrain(te,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,te.emit("drain"))}function clearBuffer(te,ee){ee.bufferProcessing=!0;var re=ee.bufferedRequest;if(te._writev&&re&&re.next){var ne=ee.bufferedRequestCount,oe=new Array(ne),ie=ee.corkedRequestsFree;ie.entry=re;for(var se=0,ue=!0;re;)oe[se]=re,re.isBuf||(ue=!1),re=re.next,se+=1;oe.allBuffers=ue,doWrite(te,ee,!0,ee.length,oe,"",ie.finish),ee.pendingcb++,ee.lastBufferedRequest=null,ie.next?(ee.corkedRequestsFree=ie.next,ie.next=null):ee.corkedRequestsFree=new CorkedRequest(ee),ee.bufferedRequestCount=0}else{for(;re;){var he=re.chunk,ge=re.encoding,be=re.callback,Se=ee.objectMode?1:he.length;if(doWrite(te,ee,!1,Se,he,ge,be),re=re.next,ee.bufferedRequestCount--,ee.writing)break}re===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=re,ee.bufferProcessing=!1}Writable$1.prototype._write=function(te,ee,re){re(new ERR_METHOD_NOT_IMPLEMENTED$2("_write()"))};Writable$1.prototype._writev=null;Writable$1.prototype.end=function(te,ee,re){var ne=this._writableState;return typeof te=="function"?(re=te,te=null,ee=null):typeof ee=="function"&&(re=ee,ee=null),te!=null&&this.write(te,ee),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||endWritable(this,ne,re),this};Object.defineProperty(Writable$1.prototype,"writableLength",{enumerable:!1,get:function te(){return this._writableState.length}});function needFinish(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function callFinal(te,ee){te._final(function(re){ee.pendingcb--,re&&errorOrDestroy$1(te,re),ee.prefinished=!0,te.emit("prefinish"),finishMaybe(te,ee)})}function prefinish$1(te,ee){!ee.prefinished&&!ee.finalCalled&&(typeof te._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,process$1.nextTick(callFinal,te,ee)):(ee.prefinished=!0,te.emit("prefinish")))}function finishMaybe(te,ee){var re=needFinish(ee);if(re&&(prefinish$1(te,ee),ee.pendingcb===0&&(ee.finished=!0,te.emit("finish"),ee.autoDestroy))){var ne=te._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&te.destroy()}return re}function endWritable(te,ee,re){ee.ending=!0,finishMaybe(te,ee),re&&(ee.finished?process$1.nextTick(re):te.once("finish",re)),ee.ended=!0,te.writable=!1}function onCorkedFinish(te,ee,re){var ne=te.entry;for(te.entry=null;ne;){var oe=ne.callback;ee.pendingcb--,oe(re),ne=ne.next}ee.corkedRequestsFree.next=te}Object.defineProperty(Writable$1.prototype,"destroyed",{enumerable:!1,get:function te(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function te(ee){!this._writableState||(this._writableState.destroyed=ee)}});Writable$1.prototype.destroy=destroyImpl$1.destroy;Writable$1.prototype._undestroy=destroyImpl$1.undestroy;Writable$1.prototype._destroy=function(te,ee){ee(te)};var objectKeys$1=Object.keys||function(te){var ee=[];for(var re in te)ee.push(re);return ee},_stream_duplex=Duplex$2,Readable$1=_stream_readable,Writable=_stream_writable;inherits_browser$2.exports(Duplex$2,Readable$1);for(var keys$1=objectKeys$1(Writable.prototype),v$2=0;v$2<keys$1.length;v$2++){var method=keys$1[v$2];Duplex$2.prototype[method]||(Duplex$2.prototype[method]=Writable.prototype[method])}function Duplex$2(te){if(!(this instanceof Duplex$2))return new Duplex$2(te);Readable$1.call(this,te),Writable.call(this,te),this.allowHalfOpen=!0,te&&(te.readable===!1&&(this.readable=!1),te.writable===!1&&(this.writable=!1),te.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",onend)))}Object.defineProperty(Duplex$2.prototype,"writableHighWaterMark",{enumerable:!1,get:function te(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex$2.prototype,"writableBuffer",{enumerable:!1,get:function te(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex$2.prototype,"writableLength",{enumerable:!1,get:function te(){return this._writableState.length}});function onend(){this._writableState.ended||process$1.nextTick(onEndNT,this)}function onEndNT(te){te.end()}Object.defineProperty(Duplex$2.prototype,"destroyed",{enumerable:!1,get:function te(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function te(ee){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ee,this._writableState.destroyed=ee)}});var string_decoder$1={},Buffer$h=safeBuffer.exports.Buffer,isEncoding=Buffer$h.isEncoding||function(te){switch(te=""+te,te&&te.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(te){if(!te)return"utf8";for(var ee;;)switch(te){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return te;default:if(ee)return;te=(""+te).toLowerCase(),ee=!0}}function normalizeEncoding(te){var ee=_normalizeEncoding(te);if(typeof ee!="string"&&(Buffer$h.isEncoding===isEncoding||!isEncoding(te)))throw new Error("Unknown encoding: "+te);return ee||te}string_decoder$1.StringDecoder=StringDecoder$3;function StringDecoder$3(te){this.encoding=normalizeEncoding(te);var ee;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,ee=4;break;case"utf8":this.fillLast=utf8FillLast,ee=4;break;case"base64":this.text=base64Text,this.end=base64End,ee=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$h.allocUnsafe(ee)}StringDecoder$3.prototype.write=function(te){if(te.length===0)return"";var ee,re;if(this.lastNeed){if(ee=this.fillLast(te),ee===void 0)return"";re=this.lastNeed,this.lastNeed=0}else re=0;return re<te.length?ee?ee+this.text(te,re):this.text(te,re):ee||""};StringDecoder$3.prototype.end=utf8End;StringDecoder$3.prototype.text=utf8Text;StringDecoder$3.prototype.fillLast=function(te){if(this.lastNeed<=te.length)return te.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);te.copy(this.lastChar,this.lastTotal-this.lastNeed,0,te.length),this.lastNeed-=te.length};function utf8CheckByte(te){return te<=127?0:te>>5===6?2:te>>4===14?3:te>>3===30?4:te>>6===2?-1:-2}function utf8CheckIncomplete(te,ee,re){var ne=ee.length-1;if(ne<re)return 0;var oe=utf8CheckByte(ee[ne]);return oe>=0?(oe>0&&(te.lastNeed=oe-1),oe):--ne<re||oe===-2?0:(oe=utf8CheckByte(ee[ne]),oe>=0?(oe>0&&(te.lastNeed=oe-2),oe):--ne<re||oe===-2?0:(oe=utf8CheckByte(ee[ne]),oe>=0?(oe>0&&(oe===2?oe=0:te.lastNeed=oe-3),oe):0))}function utf8CheckExtraBytes(te,ee,re){if((ee[0]&192)!==128)return te.lastNeed=0,"\uFFFD";if(te.lastNeed>1&&ee.length>1){if((ee[1]&192)!==128)return te.lastNeed=1,"\uFFFD";if(te.lastNeed>2&&ee.length>2&&(ee[2]&192)!==128)return te.lastNeed=2,"\uFFFD"}}function utf8FillLast(te){var ee=this.lastTotal-this.lastNeed,re=utf8CheckExtraBytes(this,te);if(re!==void 0)return re;if(this.lastNeed<=te.length)return te.copy(this.lastChar,ee,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);te.copy(this.lastChar,ee,0,te.length),this.lastNeed-=te.length}function utf8Text(te,ee){var re=utf8CheckIncomplete(this,te,ee);if(!this.lastNeed)return te.toString("utf8",ee);this.lastTotal=re;var ne=te.length-(re-this.lastNeed);return te.copy(this.lastChar,0,ne),te.toString("utf8",ee,ne)}function utf8End(te){var ee=te&&te.length?this.write(te):"";return this.lastNeed?ee+"\uFFFD":ee}function utf16Text(te,ee){if((te.length-ee)%2===0){var re=te.toString("utf16le",ee);if(re){var ne=re.charCodeAt(re.length-1);if(ne>=55296&&ne<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=te[te.length-2],this.lastChar[1]=te[te.length-1],re.slice(0,-1)}return re}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=te[te.length-1],te.toString("utf16le",ee,te.length-1)}function utf16End(te){var ee=te&&te.length?this.write(te):"";if(this.lastNeed){var re=this.lastTotal-this.lastNeed;return ee+this.lastChar.toString("utf16le",0,re)}return ee}function base64Text(te,ee){var re=(te.length-ee)%3;return re===0?te.toString("base64",ee):(this.lastNeed=3-re,this.lastTotal=3,re===1?this.lastChar[0]=te[te.length-1]:(this.lastChar[0]=te[te.length-2],this.lastChar[1]=te[te.length-1]),te.toString("base64",ee,te.length-re))}function base64End(te){var ee=te&&te.length?this.write(te):"";return this.lastNeed?ee+this.lastChar.toString("base64",0,3-this.lastNeed):ee}function simpleWrite(te){return te.toString(this.encoding)}function simpleEnd(te){return te&&te.length?this.write(te):""}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$2(te){var ee=!1;return function(){if(!ee){ee=!0;for(var re=arguments.length,ne=new Array(re),oe=0;oe<re;oe++)ne[oe]=arguments[oe];te.apply(this,ne)}}}function noop$3(){}function isRequest$1(te){return te.setHeader&&typeof te.abort=="function"}function eos$1(te,ee,re){if(typeof ee=="function")return eos$1(te,null,ee);ee||(ee={}),re=once$2(re||noop$3);var ne=ee.readable||ee.readable!==!1&&te.readable,oe=ee.writable||ee.writable!==!1&&te.writable,ie=function(){te.writable||ue()},se=te._writableState&&te._writableState.finished,ue=function(){oe=!1,se=!0,ne||re.call(te)},he=te._readableState&&te._readableState.endEmitted,ge=function(){ne=!1,he=!0,oe||re.call(te)},be=function(Re){re.call(te,Re)},Se=function(){var Re;if(ne&&!he)return(!te._readableState||!te._readableState.ended)&&(Re=new ERR_STREAM_PREMATURE_CLOSE),re.call(te,Re);if(oe&&!se)return(!te._writableState||!te._writableState.ended)&&(Re=new ERR_STREAM_PREMATURE_CLOSE),re.call(te,Re)},Te=function(){te.req.on("finish",ue)};return isRequest$1(te)?(te.on("complete",ue),te.on("abort",Se),te.req?Te():te.on("request",Te)):oe&&!te._writableState&&(te.on("end",ie),te.on("close",ie)),te.on("end",ge),te.on("finish",ue),ee.error!==!1&&te.on("error",be),te.on("close",Se),function(){te.removeListener("complete",ue),te.removeListener("abort",Se),te.removeListener("request",Te),te.req&&te.req.removeListener("finish",ue),te.removeListener("end",ie),te.removeListener("close",ie),te.removeListener("finish",ue),te.removeListener("end",ge),te.removeListener("error",be),te.removeListener("close",Se)}}var endOfStream=eos$1,_Object$setPrototypeO;function _defineProperty(te,ee,re){return ee in te?Object.defineProperty(te,ee,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[ee]=re,te}var finished=endOfStream,kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(te,ee){return{value:te,done:ee}}function readAndResolve(te){var ee=te[kLastResolve];if(ee!==null){var re=te[kStream].read();re!==null&&(te[kLastPromise]=null,te[kLastResolve]=null,te[kLastReject]=null,ee(createIterResult(re,!1)))}}function onReadable(te){process$1.nextTick(readAndResolve,te)}function wrapForNext(te,ee){return function(re,ne){te.then(function(){if(ee[kEnded]){re(createIterResult(void 0,!0));return}ee[kHandlePromise](re,ne)},ne)}}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function te(){var ee=this,re=this[kError];if(re!==null)return Promise.reject(re);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise(function(se,ue){process$1.nextTick(function(){ee[kError]?ue(ee[kError]):se(createIterResult(void 0,!0))})});var ne=this[kLastPromise],oe;if(ne)oe=new Promise(wrapForNext(ne,this));else{var ie=this[kStream].read();if(ie!==null)return Promise.resolve(createIterResult(ie,!1));oe=new Promise(this[kHandlePromise])}return this[kLastPromise]=oe,oe}},_defineProperty(_Object$setPrototypeO,Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function te(){var ee=this;return new Promise(function(re,ne){ee[kStream].destroy(null,function(oe){if(oe){ne(oe);return}re(createIterResult(void 0,!0))})})}),_Object$setPrototypeO),AsyncIteratorPrototype),createReadableStreamAsyncIterator$1=function te(ee){var re,ne=Object.create(ReadableStreamAsyncIteratorPrototype,(re={},_defineProperty(re,kStream,{value:ee,writable:!0}),_defineProperty(re,kLastResolve,{value:null,writable:!0}),_defineProperty(re,kLastReject,{value:null,writable:!0}),_defineProperty(re,kError,{value:null,writable:!0}),_defineProperty(re,kEnded,{value:ee._readableState.endEmitted,writable:!0}),_defineProperty(re,kHandlePromise,{value:function(ie,se){var ue=ne[kStream].read();ue?(ne[kLastPromise]=null,ne[kLastResolve]=null,ne[kLastReject]=null,ie(createIterResult(ue,!1))):(ne[kLastResolve]=ie,ne[kLastReject]=se)},writable:!0}),re));return ne[kLastPromise]=null,finished(ee,function(oe){if(oe&&oe.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=ne[kLastReject];ie!==null&&(ne[kLastPromise]=null,ne[kLastResolve]=null,ne[kLastReject]=null,ie(oe)),ne[kError]=oe;return}var se=ne[kLastResolve];se!==null&&(ne[kLastPromise]=null,ne[kLastResolve]=null,ne[kLastReject]=null,se(createIterResult(void 0,!0))),ne[kEnded]=!0}),ee.on("readable",onReadable.bind(null,ne)),ne},async_iterator=createReadableStreamAsyncIterator$1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")},_stream_readable=Readable,Duplex$1;Readable.ReadableState=ReadableState;events.exports.EventEmitter;var EElistenerCount=function te(ee,re){return ee.listeners(re).length},Stream=streamBrowser,Buffer$g=buffer$2.Buffer,OurUint8Array=globalThis.Uint8Array||function(){};function _uint8ArrayToBuffer(te){return Buffer$g.from(te)}function _isUint8Array(te){return Buffer$g.isBuffer(te)||te instanceof OurUint8Array}var debugUtil=require$$3$1,debug;debugUtil&&debugUtil.debuglog?debug=debugUtil.debuglog("stream"):debug=function(){};var BufferList=buffer_list,destroyImpl=destroy_1,_require=state,getHighWaterMark=_require.getHighWaterMark,_require$codes$2=errorsBrowser.codes,ERR_INVALID_ARG_TYPE=_require$codes$2.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes$2.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED$1=_require$codes$2.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes$2.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,StringDecoder$2,createReadableStreamAsyncIterator,from$1;inherits_browser$2.exports(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(te,ee,re){if(typeof te.prependListener=="function")return te.prependListener(ee,re);!te._events||!te._events[ee]?te.on(ee,re):Array.isArray(te._events[ee])?te._events[ee].unshift(re):te._events[ee]=[re,te._events[ee]]}function ReadableState(te,ee,re){Duplex$1=Duplex$1||_stream_duplex,te=te||{},typeof re!="boolean"&&(re=ee instanceof Duplex$1),this.objectMode=!!te.objectMode,re&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=getHighWaterMark(this,te,"readableHighWaterMark",re),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(StringDecoder$2||(StringDecoder$2=string_decoder$1.StringDecoder),this.decoder=new StringDecoder$2(te.encoding),this.encoding=te.encoding)}function Readable(te){if(Duplex$1=Duplex$1||_stream_duplex,!(this instanceof Readable))return new Readable(te);var ee=this instanceof Duplex$1;this._readableState=new ReadableState(te,this,ee),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),Stream.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function te(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function te(ee){!this._readableState||(this._readableState.destroyed=ee)}});Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(te,ee){ee(te)};Readable.prototype.push=function(te,ee){var re=this._readableState,ne;return re.objectMode?ne=!0:typeof te=="string"&&(ee=ee||re.defaultEncoding,ee!==re.encoding&&(te=Buffer$g.from(te,ee),ee=""),ne=!0),readableAddChunk(this,te,ee,!1,ne)};Readable.prototype.unshift=function(te){return readableAddChunk(this,te,null,!0,!1)};function readableAddChunk(te,ee,re,ne,oe){debug("readableAddChunk",ee);var ie=te._readableState;if(ee===null)ie.reading=!1,onEofChunk(te,ie);else{var se;if(oe||(se=chunkInvalid(ie,ee)),se)errorOrDestroy(te,se);else if(ie.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!ie.objectMode&&Object.getPrototypeOf(ee)!==Buffer$g.prototype&&(ee=_uint8ArrayToBuffer(ee)),ne)ie.endEmitted?errorOrDestroy(te,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(te,ie,ee,!0);else if(ie.ended)errorOrDestroy(te,new ERR_STREAM_PUSH_AFTER_EOF);else{if(ie.destroyed)return!1;ie.reading=!1,ie.decoder&&!re?(ee=ie.decoder.write(ee),ie.objectMode||ee.length!==0?addChunk(te,ie,ee,!1):maybeReadMore(te,ie)):addChunk(te,ie,ee,!1)}else ne||(ie.reading=!1,maybeReadMore(te,ie))}return!ie.ended&&(ie.length<ie.highWaterMark||ie.length===0)}function addChunk(te,ee,re,ne){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,te.emit("data",re)):(ee.length+=ee.objectMode?1:re.length,ne?ee.buffer.unshift(re):ee.buffer.push(re),ee.needReadable&&emitReadable(te)),maybeReadMore(te,ee)}function chunkInvalid(te,ee){var re;return!_isUint8Array(ee)&&typeof ee!="string"&&ee!==void 0&&!te.objectMode&&(re=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],ee)),re}Readable.prototype.isPaused=function(){return this._readableState.flowing===!1};Readable.prototype.setEncoding=function(te){StringDecoder$2||(StringDecoder$2=string_decoder$1.StringDecoder);var ee=new StringDecoder$2(te);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var re=this._readableState.buffer.head,ne="";re!==null;)ne+=ee.write(re.data),re=re.next;return this._readableState.buffer.clear(),ne!==""&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var MAX_HWM=1073741824;function computeNewHighWaterMark(te){return te>=MAX_HWM?te=MAX_HWM:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function howMuchToRead(te,ee){return te<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:te!==te?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(te>ee.highWaterMark&&(ee.highWaterMark=computeNewHighWaterMark(te)),te<=ee.length?te:ee.ended?ee.length:(ee.needReadable=!0,0))}Readable.prototype.read=function(te){debug("read",te),te=parseInt(te,10);var ee=this._readableState,re=te;if(te!==0&&(ee.emittedReadable=!1),te===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return debug("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?endReadable(this):emitReadable(this),null;if(te=howMuchToRead(te,ee),te===0&&ee.ended)return ee.length===0&&endReadable(this),null;var ne=ee.needReadable;debug("need readable",ne),(ee.length===0||ee.length-te<ee.highWaterMark)&&(ne=!0,debug("length less than watermark",ne)),ee.ended||ee.reading?(ne=!1,debug("reading or ended",ne)):ne&&(debug("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(te=howMuchToRead(re,ee)));var oe;return te>0?oe=fromList(te,ee):oe=null,oe===null?(ee.needReadable=ee.length<=ee.highWaterMark,te=0):(ee.length-=te,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),re!==te&&ee.ended&&endReadable(this)),oe!==null&&this.emit("data",oe),oe};function onEofChunk(te,ee){if(debug("onEofChunk"),!ee.ended){if(ee.decoder){var re=ee.decoder.end();re&&re.length&&(ee.buffer.push(re),ee.length+=ee.objectMode?1:re.length)}ee.ended=!0,ee.sync?emitReadable(te):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,emitReadable_(te)))}}function emitReadable(te){var ee=te._readableState;debug("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(debug("emitReadable",ee.flowing),ee.emittedReadable=!0,process$1.nextTick(emitReadable_,te))}function emitReadable_(te){var ee=te._readableState;debug("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(te.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,flow(te)}function maybeReadMore(te,ee){ee.readingMore||(ee.readingMore=!0,process$1.nextTick(maybeReadMore_,te,ee))}function maybeReadMore_(te,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var re=ee.length;if(debug("maybeReadMore read 0"),te.read(0),re===ee.length)break}ee.readingMore=!1}Readable.prototype._read=function(te){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED$1("_read()"))};Readable.prototype.pipe=function(te,ee){var re=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=te;break;case 1:ne.pipes=[ne.pipes,te];break;default:ne.pipes.push(te);break}ne.pipesCount+=1,debug("pipe count=%d opts=%j",ne.pipesCount,ee);var oe=(!ee||ee.end!==!1)&&te!==process$1.stdout&&te!==process$1.stderr,ie=oe?ue:Ce;ne.endEmitted?process$1.nextTick(ie):re.once("end",ie),te.on("unpipe",se);function se(Pe,Ie){debug("onunpipe"),Pe===re&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,be())}function ue(){debug("onend"),te.end()}var he=pipeOnDrain(re);te.on("drain",he);var ge=!1;function be(){debug("cleanup"),te.removeListener("close",ke),te.removeListener("finish",Re),te.removeListener("drain",he),te.removeListener("error",Te),te.removeListener("unpipe",se),re.removeListener("end",ue),re.removeListener("end",Ce),re.removeListener("data",Se),ge=!0,ne.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&he()}re.on("data",Se);function Se(Pe){debug("ondata");var Ie=te.write(Pe);debug("dest.write",Ie),Ie===!1&&((ne.pipesCount===1&&ne.pipes===te||ne.pipesCount>1&&indexOf(ne.pipes,te)!==-1)&&!ge&&(debug("false write response, pause",ne.awaitDrain),ne.awaitDrain++),re.pause())}function Te(Pe){debug("onerror",Pe),Ce(),te.removeListener("error",Te),EElistenerCount(te,"error")===0&&errorOrDestroy(te,Pe)}prependListener(te,"error",Te);function ke(){te.removeListener("finish",Re),Ce()}te.once("close",ke);function Re(){debug("onfinish"),te.removeListener("close",ke),Ce()}te.once("finish",Re);function Ce(){debug("unpipe"),re.unpipe(te)}return te.emit("pipe",re),ne.flowing||(debug("pipe resume"),re.resume()),te};function pipeOnDrain(te){return function(){var re=te._readableState;debug("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&EElistenerCount(te,"data")&&(re.flowing=!0,flow(te))}}Readable.prototype.unpipe=function(te){var ee=this._readableState,re={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return te&&te!==ee.pipes?this:(te||(te=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,te&&te.emit("unpipe",this,re),this);if(!te){var ne=ee.pipes,oe=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var ie=0;ie<oe;ie++)ne[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var se=indexOf(ee.pipes,te);return se===-1?this:(ee.pipes.splice(se,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),te.emit("unpipe",this,re),this)};Readable.prototype.on=function(te,ee){var re=Stream.prototype.on.call(this,te,ee),ne=this._readableState;return te==="data"?(ne.readableListening=this.listenerCount("readable")>0,ne.flowing!==!1&&this.resume()):te==="readable"&&!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,debug("on readable",ne.length,ne.reading),ne.length?emitReadable(this):ne.reading||process$1.nextTick(nReadingNextTick,this)),re};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(te,ee){var re=Stream.prototype.removeListener.call(this,te,ee);return te==="readable"&&process$1.nextTick(updateReadableListening,this),re};Readable.prototype.removeAllListeners=function(te){var ee=Stream.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&process$1.nextTick(updateReadableListening,this),ee};function updateReadableListening(te){var ee=te._readableState;ee.readableListening=te.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:te.listenerCount("data")>0&&te.resume()}function nReadingNextTick(te){debug("readable nexttick read 0"),te.read(0)}Readable.prototype.resume=function(){var te=this._readableState;return te.flowing||(debug("resume"),te.flowing=!te.readableListening,resume(this,te)),te.paused=!1,this};function resume(te,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,process$1.nextTick(resume_,te,ee))}function resume_(te,ee){debug("resume",ee.reading),ee.reading||te.read(0),ee.resumeScheduled=!1,te.emit("resume"),flow(te),ee.flowing&&!ee.reading&&te.read(0)}Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function flow(te){var ee=te._readableState;for(debug("flow",ee.flowing);ee.flowing&&te.read()!==null;);}Readable.prototype.wrap=function(te){var ee=this,re=this._readableState,ne=!1;te.on("end",function(){if(debug("wrapped end"),re.decoder&&!re.ended){var se=re.decoder.end();se&&se.length&&ee.push(se)}ee.push(null)}),te.on("data",function(se){if(debug("wrapped data"),re.decoder&&(se=re.decoder.write(se)),!(re.objectMode&&se==null)&&!(!re.objectMode&&(!se||!se.length))){var ue=ee.push(se);ue||(ne=!0,te.pause())}});for(var oe in te)this[oe]===void 0&&typeof te[oe]=="function"&&(this[oe]=function(ue){return function(){return te[ue].apply(te,arguments)}}(oe));for(var ie=0;ie<kProxyEvents.length;ie++)te.on(kProxyEvents[ie],this.emit.bind(this,kProxyEvents[ie]));return this._read=function(se){debug("wrapped _read",se),ne&&(ne=!1,te.resume())},this};typeof Symbol=="function"&&(Readable.prototype[Symbol.asyncIterator]=function(){return createReadableStreamAsyncIterator===void 0&&(createReadableStreamAsyncIterator=async_iterator),createReadableStreamAsyncIterator(this)});Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function te(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function te(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function te(){return this._readableState.flowing},set:function te(ee){this._readableState&&(this._readableState.flowing=ee)}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function te(){return this._readableState.length}});function fromList(te,ee){if(ee.length===0)return null;var re;return ee.objectMode?re=ee.buffer.shift():!te||te>=ee.length?(ee.decoder?re=ee.buffer.join(""):ee.buffer.length===1?re=ee.buffer.first():re=ee.buffer.concat(ee.length),ee.buffer.clear()):re=ee.buffer.consume(te,ee.decoder),re}function endReadable(te){var ee=te._readableState;debug("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,process$1.nextTick(endReadableNT,ee,te))}function endReadableNT(te,ee){if(debug("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,ee.readable=!1,ee.emit("end"),te.autoDestroy)){var re=ee._writableState;(!re||re.autoDestroy&&re.finished)&&ee.destroy()}}typeof Symbol=="function"&&(Readable.from=function(te,ee){return from$1===void 0&&(from$1=fromBrowser),from$1(Readable,te,ee)});function indexOf(te,ee){for(var re=0,ne=te.length;re<ne;re++)if(te[re]===ee)return re;return-1}var _stream_transform=Transform$5,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=_stream_duplex;inherits_browser$2.exports(Transform$5,Duplex);function afterTransform(te,ee){var re=this._transformState;re.transforming=!1;var ne=re.writecb;if(ne===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);re.writechunk=null,re.writecb=null,ee!=null&&this.push(ee),ne(te);var oe=this._readableState;oe.reading=!1,(oe.needReadable||oe.length<oe.highWaterMark)&&this._read(oe.highWaterMark)}function Transform$5(te){if(!(this instanceof Transform$5))return new Transform$5(te);Duplex.call(this,te),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,te&&(typeof te.transform=="function"&&(this._transform=te.transform),typeof te.flush=="function"&&(this._flush=te.flush)),this.on("prefinish",prefinish)}function prefinish(){var te=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(ee,re){done(te,ee,re)}):done(this,null,null)}Transform$5.prototype.push=function(te,ee){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,te,ee)};Transform$5.prototype._transform=function(te,ee,re){re(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$5.prototype._write=function(te,ee,re){var ne=this._transformState;if(ne.writecb=re,ne.writechunk=te,ne.writeencoding=ee,!ne.transforming){var oe=this._readableState;(ne.needTransform||oe.needReadable||oe.length<oe.highWaterMark)&&this._read(oe.highWaterMark)}};Transform$5.prototype._read=function(te){var ee=this._transformState;ee.writechunk!==null&&!ee.transforming?(ee.transforming=!0,this._transform(ee.writechunk,ee.writeencoding,ee.afterTransform)):ee.needTransform=!0};Transform$5.prototype._destroy=function(te,ee){Duplex.prototype._destroy.call(this,te,function(re){ee(re)})};function done(te,ee,re){if(ee)return te.emit("error",ee);if(re!=null&&te.push(re),te._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(te._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return te.push(null)}var _stream_passthrough=PassThrough,Transform$4=_stream_transform;inherits_browser$2.exports(PassThrough,Transform$4);function PassThrough(te){if(!(this instanceof PassThrough))return new PassThrough(te);Transform$4.call(this,te)}PassThrough.prototype._transform=function(te,ee,re){re(null,te)};var eos;function once$1(te){var ee=!1;return function(){ee||(ee=!0,te.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$2(te){if(te)throw te}function isRequest(te){return te.setHeader&&typeof te.abort=="function"}function destroyer(te,ee,re,ne){ne=once$1(ne);var oe=!1;te.on("close",function(){oe=!0}),eos===void 0&&(eos=endOfStream),eos(te,{readable:ee,writable:re},function(se){if(se)return ne(se);oe=!0,ne()});var ie=!1;return function(se){if(!oe&&!ie){if(ie=!0,isRequest(te))return te.abort();if(typeof te.destroy=="function")return te.destroy();ne(se||new ERR_STREAM_DESTROYED("pipe"))}}}function call(te){te()}function pipe(te,ee){return te.pipe(ee)}function popCallback(te){return!te.length||typeof te[te.length-1]!="function"?noop$2:te.pop()}function pipeline(){for(var te=arguments.length,ee=new Array(te),re=0;re<te;re++)ee[re]=arguments[re];var ne=popCallback(ee);if(Array.isArray(ee[0])&&(ee=ee[0]),ee.length<2)throw new ERR_MISSING_ARGS("streams");var oe,ie=ee.map(function(se,ue){var he=ue<ee.length-1,ge=ue>0;return destroyer(se,he,ge,function(be){oe||(oe=be),be&&ie.forEach(call),!he&&(ie.forEach(call),ne(oe))})});return ee.reduce(pipe)}var pipeline_1=pipeline;(function(te,ee){ee=te.exports=_stream_readable,ee.Stream=ee,ee.Readable=ee,ee.Writable=_stream_writable,ee.Duplex=_stream_duplex,ee.Transform=_stream_transform,ee.PassThrough=_stream_passthrough,ee.finished=endOfStream,ee.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);const{Transform:Transform$3}=readableBrowser.exports;var keccak$1=te=>class Qn extends Transform$3{constructor(re,ne,oe,ie,se){super(se),this._rate=re,this._capacity=ne,this._delimitedSuffix=oe,this._hashBitLength=ie,this._options=se,this._state=new te,this._state.initialize(re,ne),this._finalized=!1}_transform(re,ne,oe){let ie=null;try{this.update(re,ne)}catch(se){ie=se}oe(ie)}_flush(re){let ne=null;try{this.push(this.digest())}catch(oe){ne=oe}re(ne)}update(re,ne){if(!buffer$2.Buffer.isBuffer(re)&&typeof re!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return buffer$2.Buffer.isBuffer(re)||(re=buffer$2.Buffer.from(re,ne)),this._state.absorb(re),this}digest(re){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let ne=this._state.squeeze(this._hashBitLength/8);return re!==void 0&&(ne=ne.toString(re)),this._resetState(),ne}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const re=new Qn(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(re._state),re._finalized=this._finalized,re}};const{Transform:Transform$2}=readableBrowser.exports;var shake=te=>class ei extends Transform$2{constructor(re,ne,oe,ie){super(ie),this._rate=re,this._capacity=ne,this._delimitedSuffix=oe,this._options=ie,this._state=new te,this._state.initialize(re,ne),this._finalized=!1}_transform(re,ne,oe){let ie=null;try{this.update(re,ne)}catch(se){ie=se}oe(ie)}_flush(){}_read(re){this.push(this.squeeze(re))}update(re,ne){if(!buffer$2.Buffer.isBuffer(re)&&typeof re!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return buffer$2.Buffer.isBuffer(re)||(re=buffer$2.Buffer.from(re,ne)),this._state.absorb(re),this}squeeze(re,ne){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let oe=this._state.squeeze(re);return ne!==void 0&&(oe=oe.toString(ne)),oe}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const re=new ei(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(re._state),re._finalized=this._finalized,re}};const createKeccak=keccak$1,createShake=shake;var api=function(te){const ee=createKeccak(te),re=createShake(te);return function(ne,oe){switch(typeof ne=="string"?ne.toLowerCase():ne){case"keccak224":return new ee(1152,448,null,224,oe);case"keccak256":return new ee(1088,512,null,256,oe);case"keccak384":return new ee(832,768,null,384,oe);case"keccak512":return new ee(576,1024,null,512,oe);case"sha3-224":return new ee(1152,448,6,224,oe);case"sha3-256":return new ee(1088,512,6,256,oe);case"sha3-384":return new ee(832,768,6,384,oe);case"sha3-512":return new ee(576,1024,6,512,oe);case"shake128":return new re(1344,256,31,oe);case"shake256":return new re(1088,512,31,oe);default:throw new Error("Invald algorithm: "+ne)}}},keccakStateUnroll={};const P1600_ROUND_CONSTANTS=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];keccakStateUnroll.p1600=function(te){for(let ee=0;ee<24;++ee){const re=te[0]^te[10]^te[20]^te[30]^te[40],ne=te[1]^te[11]^te[21]^te[31]^te[41],oe=te[2]^te[12]^te[22]^te[32]^te[42],ie=te[3]^te[13]^te[23]^te[33]^te[43],se=te[4]^te[14]^te[24]^te[34]^te[44],ue=te[5]^te[15]^te[25]^te[35]^te[45],he=te[6]^te[16]^te[26]^te[36]^te[46],ge=te[7]^te[17]^te[27]^te[37]^te[47],be=te[8]^te[18]^te[28]^te[38]^te[48],Se=te[9]^te[19]^te[29]^te[39]^te[49];let Te=be^(oe<<1|ie>>>31),ke=Se^(ie<<1|oe>>>31);const Re=te[0]^Te,Ce=te[1]^ke,Pe=te[10]^Te,Ie=te[11]^ke,Ne=te[20]^Te,He=te[21]^ke,Ke=te[30]^Te,Ge=te[31]^ke,ut=te[40]^Te,Ve=te[41]^ke;Te=re^(se<<1|ue>>>31),ke=ne^(ue<<1|se>>>31);const nt=te[2]^Te,st=te[3]^ke,qe=te[12]^Te,ye=te[13]^ke,ae=te[22]^Te,ce=te[23]^ke,le=te[32]^Te,pe=te[33]^ke,_e=te[42]^Te,$e=te[43]^ke;Te=oe^(he<<1|ge>>>31),ke=ie^(ge<<1|he>>>31);const Ee=te[4]^Te,me=te[5]^ke,fe=te[14]^Te,we=te[15]^ke,Me=te[24]^Te,Le=te[25]^ke,Je=te[34]^Te,Ue=te[35]^ke,ct=te[44]^Te,gt=te[45]^ke;Te=se^(be<<1|Se>>>31),ke=ue^(Se<<1|be>>>31);const $t=te[6]^Te,vt=te[7]^ke,Tt=te[16]^Te,qt=te[17]^ke,Rt=te[26]^Te,lt=te[27]^ke,_t=te[36]^Te,bt=te[37]^ke,Qe=te[46]^Te,ze=te[47]^ke;Te=he^(re<<1|ne>>>31),ke=ge^(ne<<1|re>>>31);const De=te[8]^Te,Ze=te[9]^ke,yt=te[18]^Te,dt=te[19]^ke,mt=te[28]^Te,Lt=te[29]^ke,St=te[38]^Te,Bt=te[39]^ke,Gt=te[48]^Te,Ae=te[49]^ke,ve=Re,xe=Ce,Be=Ie<<4|Pe>>>28,We=Pe<<4|Ie>>>28,et=Ne<<3|He>>>29,Xe=He<<3|Ne>>>29,Mt=Ge<<9|Ke>>>23,Vt=Ke<<9|Ge>>>23,At=ut<<18|Ve>>>14,Nt=Ve<<18|ut>>>14,zt=nt<<1|st>>>31,Ht=st<<1|nt>>>31,Qt=ye<<12|qe>>>20,Ir=qe<<12|ye>>>20,jt=ae<<10|ce>>>22,Xt=ce<<10|ae>>>22,$r=pe<<13|le>>>19,Ft=le<<13|pe>>>19,Zt=_e<<2|$e>>>30,kr=$e<<2|_e>>>30,Wt=me<<30|Ee>>>2,er=Ee<<30|me>>>2,Pr=fe<<6|we>>>26,Ot=we<<6|fe>>>26,tr=Le<<11|Me>>>21,Ye=Me<<11|Le>>>21,rt=Je<<15|Ue>>>17,it=Ue<<15|Je>>>17,Fe=gt<<29|ct>>>3,ot=ct<<29|gt>>>3,wt=$t<<28|vt>>>4,Pt=vt<<28|$t>>>4,Et=qt<<23|Tt>>>9,Ct=Tt<<23|qt>>>9,or=Rt<<25|lt>>>7,Yt=lt<<25|Rt>>>7,Rr=_t<<21|bt>>>11,cr=bt<<21|_t>>>11,wr=ze<<24|Qe>>>8,xr=Qe<<24|ze>>>8,Er=De<<27|Ze>>>5,Mr=Ze<<27|De>>>5,Sr=yt<<20|dt>>>12,Ar=dt<<20|yt>>>12,Tr=Lt<<7|mt>>>25,pr=mt<<7|Lt>>>25,_r=St<<8|Bt>>>24,lr=Bt<<8|St>>>24,gr=Gt<<14|Ae>>>18,mr=Ae<<14|Gt>>>18;te[0]=ve^~Qt&tr,te[1]=xe^~Ir&Ye,te[10]=wt^~Sr&et,te[11]=Pt^~Ar&Xe,te[20]=zt^~Pr&or,te[21]=Ht^~Ot&Yt,te[30]=Er^~Be&jt,te[31]=Mr^~We&Xt,te[40]=Wt^~Et&Tr,te[41]=er^~Ct&pr,te[2]=Qt^~tr&Rr,te[3]=Ir^~Ye&cr,te[12]=Sr^~et&$r,te[13]=Ar^~Xe&Ft,te[22]=Pr^~or&_r,te[23]=Ot^~Yt&lr,te[32]=Be^~jt&rt,te[33]=We^~Xt&it,te[42]=Et^~Tr&Mt,te[43]=Ct^~pr&Vt,te[4]=tr^~Rr&gr,te[5]=Ye^~cr&mr,te[14]=et^~$r&Fe,te[15]=Xe^~Ft&ot,te[24]=or^~_r&At,te[25]=Yt^~lr&Nt,te[34]=jt^~rt&wr,te[35]=Xt^~it&xr,te[44]=Tr^~Mt&Zt,te[45]=pr^~Vt&kr,te[6]=Rr^~gr&ve,te[7]=cr^~mr&xe,te[16]=$r^~Fe&wt,te[17]=Ft^~ot&Pt,te[26]=_r^~At&zt,te[27]=lr^~Nt&Ht,te[36]=rt^~wr&Er,te[37]=it^~xr&Mr,te[46]=Mt^~Zt&Wt,te[47]=Vt^~kr&er,te[8]=gr^~ve&Qt,te[9]=mr^~xe&Ir,te[18]=Fe^~wt&Sr,te[19]=ot^~Pt&Ar,te[28]=At^~zt&Pr,te[29]=Nt^~Ht&Ot,te[38]=wr^~Er&Be,te[39]=xr^~Mr&We,te[48]=Zt^~Wt&Et,te[49]=kr^~er&Ct,te[0]^=P1600_ROUND_CONSTANTS[ee*2],te[1]^=P1600_ROUND_CONSTANTS[ee*2+1]}};const keccakState=keccakStateUnroll;function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Keccak.prototype.initialize=function(te,ee){for(let re=0;re<50;++re)this.state[re]=0;this.blockSize=te/8,this.count=0,this.squeezing=!1};Keccak.prototype.absorb=function(te){for(let ee=0;ee<te.length;++ee)this.state[~~(this.count/4)]^=te[ee]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0)};Keccak.prototype.absorbLastFewBits=function(te){this.state[~~(this.count/4)]^=te<<8*(this.count%4),(te&128)!==0&&this.count===this.blockSize-1&&keccakState.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),keccakState.p1600(this.state),this.count=0,this.squeezing=!0};Keccak.prototype.squeeze=function(te){this.squeezing||this.absorbLastFewBits(1);const ee=buffer$2.Buffer.alloc(te);for(let re=0;re<te;++re)ee[re]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0);return ee};Keccak.prototype.copy=function(te){for(let ee=0;ee<50;++ee)te.state[ee]=this.state[ee];te.blockSize=this.blockSize,te.count=this.count,te.squeezing=this.squeezing};var keccak=Keccak,js=api(keccak);Object.defineProperty(keccak$2,"__esModule",{value:!0});var hash_utils_1=hashUtils,createKeccakHash=js;keccak$2.keccak224=hash_utils_1.createHashFunction(function(){return createKeccakHash("keccak224")});keccak$2.keccak256=hash_utils_1.createHashFunction(function(){return createKeccakHash("keccak256")});keccak$2.keccak384=hash_utils_1.createHashFunction(function(){return createKeccakHash("keccak384")});keccak$2.keccak512=hash_utils_1.createHashFunction(function(){return createKeccakHash("keccak512")});var secp256k1$2={},random={},browser$3={exports:{}},MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer$f=safeBuffer.exports.Buffer,crypto$2=globalThis.crypto||globalThis.msCrypto;crypto$2&&crypto$2.getRandomValues?browser$3.exports=randomBytes$1:browser$3.exports=oldBrowser;function randomBytes$1(te,ee){if(te>MAX_UINT32)throw new RangeError("requested too many random bytes");var re=Buffer$f.allocUnsafe(te);if(te>0)if(te>MAX_BYTES)for(var ne=0;ne<te;ne+=MAX_BYTES)crypto$2.getRandomValues(re.slice(ne,ne+MAX_BYTES));else crypto$2.getRandomValues(re);return typeof ee=="function"?process$1.nextTick(function(){ee(null,re)}):re}Object.defineProperty(random,"__esModule",{value:!0});var randombytes=browser$3.exports;function getRandomBytes(te){return new Promise(function(ee,re){randombytes(te,function(ne,oe){if(ne){re(ne);return}ee(oe)})})}random.getRandomBytes=getRandomBytes;function getRandomBytesSync(te){return randombytes(te)}random.getRandomBytesSync=getRandomBytesSync;(function(te){var ee=commonjsGlobal&&commonjsGlobal.__awaiter||function(ge,be,Se,Te){function ke(Re){return Re instanceof Se?Re:new Se(function(Ce){Ce(Re)})}return new(Se||(Se=Promise))(function(Re,Ce){function Pe(He){try{Ne(Te.next(He))}catch(Ke){Ce(Ke)}}function Ie(He){try{Ne(Te.throw(He))}catch(Ke){Ce(Ke)}}function Ne(He){He.done?Re(He.value):ke(He.value).then(Pe,Ie)}Ne((Te=Te.apply(ge,be||[])).next())})},re=commonjsGlobal&&commonjsGlobal.__generator||function(ge,be){var Se={label:0,sent:function(){if(Re[0]&1)throw Re[1];return Re[1]},trys:[],ops:[]},Te,ke,Re,Ce;return Ce={next:Pe(0),throw:Pe(1),return:Pe(2)},typeof Symbol=="function"&&(Ce[Symbol.iterator]=function(){return this}),Ce;function Pe(Ne){return function(He){return Ie([Ne,He])}}function Ie(Ne){if(Te)throw new TypeError("Generator is already executing.");for(;Se;)try{if(Te=1,ke&&(Re=Ne[0]&2?ke.return:Ne[0]?ke.throw||((Re=ke.return)&&Re.call(ke),0):ke.next)&&!(Re=Re.call(ke,Ne[1])).done)return Re;switch(ke=0,Re&&(Ne=[Ne[0]&2,Re.value]),Ne[0]){case 0:case 1:Re=Ne;break;case 4:return Se.label++,{value:Ne[1],done:!1};case 5:Se.label++,ke=Ne[1],Ne=[0];continue;case 7:Ne=Se.ops.pop(),Se.trys.pop();continue;default:if(Re=Se.trys,!(Re=Re.length>0&&Re[Re.length-1])&&(Ne[0]===6||Ne[0]===2)){Se=0;continue}if(Ne[0]===3&&(!Re||Ne[1]>Re[0]&&Ne[1]<Re[3])){Se.label=Ne[1];break}if(Ne[0]===6&&Se.label<Re[1]){Se.label=Re[1],Re=Ne;break}if(Re&&Se.label<Re[2]){Se.label=Re[2],Se.ops.push(Ne);break}Re[2]&&Se.ops.pop(),Se.trys.pop();continue}Ne=be.call(ge,Se)}catch(He){Ne=[6,He],ke=0}finally{Te=Re=0}if(Ne[0]&5)throw Ne[1];return{value:Ne[0]?Ne[1]:void 0,done:!0}}};function ne(ge){for(var be in ge)te.hasOwnProperty(be)||(te[be]=ge[be])}Object.defineProperty(te,"__esModule",{value:!0});var oe=elliptic,ie=random,se=32;function ue(){return ee(this,void 0,void 0,function(){var ge;return re(this,function(be){switch(be.label){case 0:return[4,ie.getRandomBytes(se)];case 1:return ge=be.sent(),oe.privateKeyVerify(ge)?[2,ge]:[3,0];case 2:return[2]}})})}te.createPrivateKey=ue;function he(){for(;;){var ge=ie.getRandomBytesSync(se);if(oe.privateKeyVerify(ge))return ge}}te.createPrivateKeySync=he,ne(elliptic)})(secp256k1$2);var secp256k1Lib={},bn$2={exports:{}};(function(te){(function(ee,re){function ne(ye,ae){if(!ye)throw new Error(ae||"Assertion failed")}function oe(ye,ae){ye.super_=ae;var ce=function(){};ce.prototype=ae.prototype,ye.prototype=new ce,ye.prototype.constructor=ye}function ie(ye,ae,ce){if(ie.isBN(ye))return ye;this.negative=0,this.words=null,this.length=0,this.red=null,ye!==null&&((ae==="le"||ae==="be")&&(ce=ae,ae=10),this._init(ye||0,ae||10,ce||"be"))}typeof ee=="object"?ee.exports=ie:re.BN=ie,ie.BN=ie,ie.wordSize=26;var se;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?se=window.Buffer:se=require("buffer").Buffer}catch{}ie.isBN=function(ae){return ae instanceof ie?!0:ae!==null&&typeof ae=="object"&&ae.constructor.wordSize===ie.wordSize&&Array.isArray(ae.words)},ie.max=function(ae,ce){return ae.cmp(ce)>0?ae:ce},ie.min=function(ae,ce){return ae.cmp(ce)<0?ae:ce},ie.prototype._init=function(ae,ce,le){if(typeof ae=="number")return this._initNumber(ae,ce,le);if(typeof ae=="object")return this._initArray(ae,ce,le);ce==="hex"&&(ce=16),ne(ce===(ce|0)&&ce>=2&&ce<=36),ae=ae.toString().replace(/\s+/g,"");var pe=0;ae[0]==="-"&&(pe++,this.negative=1),pe<ae.length&&(ce===16?this._parseHex(ae,pe,le):(this._parseBase(ae,ce,pe),le==="le"&&this._initArray(this.toArray(),ce,le)))},ie.prototype._initNumber=function(ae,ce,le){ae<0&&(this.negative=1,ae=-ae),ae<67108864?(this.words=[ae&67108863],this.length=1):ae<4503599627370496?(this.words=[ae&67108863,ae/67108864&67108863],this.length=2):(ne(ae<9007199254740992),this.words=[ae&67108863,ae/67108864&67108863,1],this.length=3),le==="le"&&this._initArray(this.toArray(),ce,le)},ie.prototype._initArray=function(ae,ce,le){if(ne(typeof ae.length=="number"),ae.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ae.length/3),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var _e,$e,Ee=0;if(le==="be")for(pe=ae.length-1,_e=0;pe>=0;pe-=3)$e=ae[pe]|ae[pe-1]<<8|ae[pe-2]<<16,this.words[_e]|=$e<<Ee&67108863,this.words[_e+1]=$e>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,_e++);else if(le==="le")for(pe=0,_e=0;pe<ae.length;pe+=3)$e=ae[pe]|ae[pe+1]<<8|ae[pe+2]<<16,this.words[_e]|=$e<<Ee&67108863,this.words[_e+1]=$e>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,_e++);return this.strip()};function ue(ye,ae){var ce=ye.charCodeAt(ae);return ce>=65&&ce<=70?ce-55:ce>=97&&ce<=102?ce-87:ce-48&15}function he(ye,ae,ce){var le=ue(ye,ce);return ce-1>=ae&&(le|=ue(ye,ce-1)<<4),le}ie.prototype._parseHex=function(ae,ce,le){this.length=Math.ceil((ae.length-ce)/6),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var _e=0,$e=0,Ee;if(le==="be")for(pe=ae.length-1;pe>=ce;pe-=2)Ee=he(ae,ce,pe)<<_e,this.words[$e]|=Ee&67108863,_e>=18?(_e-=18,$e+=1,this.words[$e]|=Ee>>>26):_e+=8;else{var me=ae.length-ce;for(pe=me%2===0?ce+1:ce;pe<ae.length;pe+=2)Ee=he(ae,ce,pe)<<_e,this.words[$e]|=Ee&67108863,_e>=18?(_e-=18,$e+=1,this.words[$e]|=Ee>>>26):_e+=8}this.strip()};function ge(ye,ae,ce,le){for(var pe=0,_e=Math.min(ye.length,ce),$e=ae;$e<_e;$e++){var Ee=ye.charCodeAt($e)-48;pe*=le,Ee>=49?pe+=Ee-49+10:Ee>=17?pe+=Ee-17+10:pe+=Ee}return pe}ie.prototype._parseBase=function(ae,ce,le){this.words=[0],this.length=1;for(var pe=0,_e=1;_e<=67108863;_e*=ce)pe++;pe--,_e=_e/ce|0;for(var $e=ae.length-le,Ee=$e%pe,me=Math.min($e,$e-Ee)+le,fe=0,we=le;we<me;we+=pe)fe=ge(ae,we,we+pe,ce),this.imuln(_e),this.words[0]+fe<67108864?this.words[0]+=fe:this._iaddn(fe);if(Ee!==0){var Me=1;for(fe=ge(ae,we,ae.length,ce),we=0;we<Ee;we++)Me*=ce;this.imuln(Me),this.words[0]+fe<67108864?this.words[0]+=fe:this._iaddn(fe)}this.strip()},ie.prototype.copy=function(ae){ae.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)ae.words[ce]=this.words[ce];ae.length=this.length,ae.negative=this.negative,ae.red=this.red},ie.prototype.clone=function(){var ae=new ie(null);return this.copy(ae),ae},ie.prototype._expand=function(ae){for(;this.length<ae;)this.words[this.length++]=0;return this},ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var be=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Se=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Te=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(ae,ce){ae=ae||10,ce=ce|0||1;var le;if(ae===16||ae==="hex"){le="";for(var pe=0,_e=0,$e=0;$e<this.length;$e++){var Ee=this.words[$e],me=((Ee<<pe|_e)&16777215).toString(16);_e=Ee>>>24-pe&16777215,_e!==0||$e!==this.length-1?le=be[6-me.length]+me+le:le=me+le,pe+=2,pe>=26&&(pe-=26,$e--)}for(_e!==0&&(le=_e.toString(16)+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}if(ae===(ae|0)&&ae>=2&&ae<=36){var fe=Se[ae],we=Te[ae];le="";var Me=this.clone();for(Me.negative=0;!Me.isZero();){var Le=Me.modn(we).toString(ae);Me=Me.idivn(we),Me.isZero()?le=Le+le:le=be[fe-Le.length]+Le+le}for(this.isZero()&&(le="0"+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var ae=this.words[0];return this.length===2?ae+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ae+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ae:ae},ie.prototype.toJSON=function(){return this.toString(16)},ie.prototype.toBuffer=function(ae,ce){return ne(typeof se!="undefined"),this.toArrayLike(se,ae,ce)},ie.prototype.toArray=function(ae,ce){return this.toArrayLike(Array,ae,ce)},ie.prototype.toArrayLike=function(ae,ce,le){var pe=this.byteLength(),_e=le||Math.max(1,pe);ne(pe<=_e,"byte array longer than desired length"),ne(_e>0,"Requested array length <= 0"),this.strip();var $e=ce==="le",Ee=new ae(_e),me,fe,we=this.clone();if($e){for(fe=0;!we.isZero();fe++)me=we.andln(255),we.iushrn(8),Ee[fe]=me;for(;fe<_e;fe++)Ee[fe]=0}else{for(fe=0;fe<_e-pe;fe++)Ee[fe]=0;for(fe=0;!we.isZero();fe++)me=we.andln(255),we.iushrn(8),Ee[_e-fe-1]=me}return Ee},Math.clz32?ie.prototype._countBits=function(ae){return 32-Math.clz32(ae)}:ie.prototype._countBits=function(ae){var ce=ae,le=0;return ce>=4096&&(le+=13,ce>>>=13),ce>=64&&(le+=7,ce>>>=7),ce>=8&&(le+=4,ce>>>=4),ce>=2&&(le+=2,ce>>>=2),le+ce},ie.prototype._zeroBits=function(ae){if(ae===0)return 26;var ce=ae,le=0;return(ce&8191)===0&&(le+=13,ce>>>=13),(ce&127)===0&&(le+=7,ce>>>=7),(ce&15)===0&&(le+=4,ce>>>=4),(ce&3)===0&&(le+=2,ce>>>=2),(ce&1)===0&&le++,le},ie.prototype.bitLength=function(){var ae=this.words[this.length-1],ce=this._countBits(ae);return(this.length-1)*26+ce};function ke(ye){for(var ae=new Array(ye.bitLength()),ce=0;ce<ae.length;ce++){var le=ce/26|0,pe=ce%26;ae[ce]=(ye.words[le]&1<<pe)>>>pe}return ae}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ae=0,ce=0;ce<this.length;ce++){var le=this._zeroBits(this.words[ce]);if(ae+=le,le!==26)break}return ae},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(ae){return this.negative!==0?this.abs().inotn(ae).iaddn(1):this.clone()},ie.prototype.fromTwos=function(ae){return this.testn(ae-1)?this.notn(ae).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(ae){for(;this.length<ae.length;)this.words[this.length++]=0;for(var ce=0;ce<ae.length;ce++)this.words[ce]=this.words[ce]|ae.words[ce];return this.strip()},ie.prototype.ior=function(ae){return ne((this.negative|ae.negative)===0),this.iuor(ae)},ie.prototype.or=function(ae){return this.length>ae.length?this.clone().ior(ae):ae.clone().ior(this)},ie.prototype.uor=function(ae){return this.length>ae.length?this.clone().iuor(ae):ae.clone().iuor(this)},ie.prototype.iuand=function(ae){var ce;this.length>ae.length?ce=ae:ce=this;for(var le=0;le<ce.length;le++)this.words[le]=this.words[le]&ae.words[le];return this.length=ce.length,this.strip()},ie.prototype.iand=function(ae){return ne((this.negative|ae.negative)===0),this.iuand(ae)},ie.prototype.and=function(ae){return this.length>ae.length?this.clone().iand(ae):ae.clone().iand(this)},ie.prototype.uand=function(ae){return this.length>ae.length?this.clone().iuand(ae):ae.clone().iuand(this)},ie.prototype.iuxor=function(ae){var ce,le;this.length>ae.length?(ce=this,le=ae):(ce=ae,le=this);for(var pe=0;pe<le.length;pe++)this.words[pe]=ce.words[pe]^le.words[pe];if(this!==ce)for(;pe<ce.length;pe++)this.words[pe]=ce.words[pe];return this.length=ce.length,this.strip()},ie.prototype.ixor=function(ae){return ne((this.negative|ae.negative)===0),this.iuxor(ae)},ie.prototype.xor=function(ae){return this.length>ae.length?this.clone().ixor(ae):ae.clone().ixor(this)},ie.prototype.uxor=function(ae){return this.length>ae.length?this.clone().iuxor(ae):ae.clone().iuxor(this)},ie.prototype.inotn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=Math.ceil(ae/26)|0,le=ae%26;this._expand(ce),le>0&&ce--;for(var pe=0;pe<ce;pe++)this.words[pe]=~this.words[pe]&67108863;return le>0&&(this.words[pe]=~this.words[pe]&67108863>>26-le),this.strip()},ie.prototype.notn=function(ae){return this.clone().inotn(ae)},ie.prototype.setn=function(ae,ce){ne(typeof ae=="number"&&ae>=0);var le=ae/26|0,pe=ae%26;return this._expand(le+1),ce?this.words[le]=this.words[le]|1<<pe:this.words[le]=this.words[le]&~(1<<pe),this.strip()},ie.prototype.iadd=function(ae){var ce;if(this.negative!==0&&ae.negative===0)return this.negative=0,ce=this.isub(ae),this.negative^=1,this._normSign();if(this.negative===0&&ae.negative!==0)return ae.negative=0,ce=this.isub(ae),ae.negative=1,ce._normSign();var le,pe;this.length>ae.length?(le=this,pe=ae):(le=ae,pe=this);for(var _e=0,$e=0;$e<pe.length;$e++)ce=(le.words[$e]|0)+(pe.words[$e]|0)+_e,this.words[$e]=ce&67108863,_e=ce>>>26;for(;_e!==0&&$e<le.length;$e++)ce=(le.words[$e]|0)+_e,this.words[$e]=ce&67108863,_e=ce>>>26;if(this.length=le.length,_e!==0)this.words[this.length]=_e,this.length++;else if(le!==this)for(;$e<le.length;$e++)this.words[$e]=le.words[$e];return this},ie.prototype.add=function(ae){var ce;return ae.negative!==0&&this.negative===0?(ae.negative=0,ce=this.sub(ae),ae.negative^=1,ce):ae.negative===0&&this.negative!==0?(this.negative=0,ce=ae.sub(this),this.negative=1,ce):this.length>ae.length?this.clone().iadd(ae):ae.clone().iadd(this)},ie.prototype.isub=function(ae){if(ae.negative!==0){ae.negative=0;var ce=this.iadd(ae);return ae.negative=1,ce._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ae),this.negative=1,this._normSign();var le=this.cmp(ae);if(le===0)return this.negative=0,this.length=1,this.words[0]=0,this;var pe,_e;le>0?(pe=this,_e=ae):(pe=ae,_e=this);for(var $e=0,Ee=0;Ee<_e.length;Ee++)ce=(pe.words[Ee]|0)-(_e.words[Ee]|0)+$e,$e=ce>>26,this.words[Ee]=ce&67108863;for(;$e!==0&&Ee<pe.length;Ee++)ce=(pe.words[Ee]|0)+$e,$e=ce>>26,this.words[Ee]=ce&67108863;if($e===0&&Ee<pe.length&&pe!==this)for(;Ee<pe.length;Ee++)this.words[Ee]=pe.words[Ee];return this.length=Math.max(this.length,Ee),pe!==this&&(this.negative=1),this.strip()},ie.prototype.sub=function(ae){return this.clone().isub(ae)};function Re(ye,ae,ce){ce.negative=ae.negative^ye.negative;var le=ye.length+ae.length|0;ce.length=le,le=le-1|0;var pe=ye.words[0]|0,_e=ae.words[0]|0,$e=pe*_e,Ee=$e&67108863,me=$e/67108864|0;ce.words[0]=Ee;for(var fe=1;fe<le;fe++){for(var we=me>>>26,Me=me&67108863,Le=Math.min(fe,ae.length-1),Je=Math.max(0,fe-ye.length+1);Je<=Le;Je++){var Ue=fe-Je|0;pe=ye.words[Ue]|0,_e=ae.words[Je]|0,$e=pe*_e+Me,we+=$e/67108864|0,Me=$e&67108863}ce.words[fe]=Me|0,me=we|0}return me!==0?ce.words[fe]=me|0:ce.length--,ce.strip()}var Ce=function(ae,ce,le){var pe=ae.words,_e=ce.words,$e=le.words,Ee=0,me,fe,we,Me=pe[0]|0,Le=Me&8191,Je=Me>>>13,Ue=pe[1]|0,ct=Ue&8191,gt=Ue>>>13,$t=pe[2]|0,vt=$t&8191,Tt=$t>>>13,qt=pe[3]|0,Rt=qt&8191,lt=qt>>>13,_t=pe[4]|0,bt=_t&8191,Qe=_t>>>13,ze=pe[5]|0,De=ze&8191,Ze=ze>>>13,yt=pe[6]|0,dt=yt&8191,mt=yt>>>13,Lt=pe[7]|0,St=Lt&8191,Bt=Lt>>>13,Gt=pe[8]|0,Ae=Gt&8191,ve=Gt>>>13,xe=pe[9]|0,Be=xe&8191,We=xe>>>13,et=_e[0]|0,Xe=et&8191,Mt=et>>>13,Vt=_e[1]|0,At=Vt&8191,Nt=Vt>>>13,zt=_e[2]|0,Ht=zt&8191,Qt=zt>>>13,Ir=_e[3]|0,jt=Ir&8191,Xt=Ir>>>13,$r=_e[4]|0,Ft=$r&8191,Zt=$r>>>13,kr=_e[5]|0,Wt=kr&8191,er=kr>>>13,Pr=_e[6]|0,Ot=Pr&8191,tr=Pr>>>13,Ye=_e[7]|0,rt=Ye&8191,it=Ye>>>13,Fe=_e[8]|0,ot=Fe&8191,wt=Fe>>>13,Pt=_e[9]|0,Et=Pt&8191,Ct=Pt>>>13;le.negative=ae.negative^ce.negative,le.length=19,me=Math.imul(Le,Xe),fe=Math.imul(Le,Mt),fe=fe+Math.imul(Je,Xe)|0,we=Math.imul(Je,Mt);var or=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(or>>>26)|0,or&=67108863,me=Math.imul(ct,Xe),fe=Math.imul(ct,Mt),fe=fe+Math.imul(gt,Xe)|0,we=Math.imul(gt,Mt),me=me+Math.imul(Le,At)|0,fe=fe+Math.imul(Le,Nt)|0,fe=fe+Math.imul(Je,At)|0,we=we+Math.imul(Je,Nt)|0;var Yt=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,me=Math.imul(vt,Xe),fe=Math.imul(vt,Mt),fe=fe+Math.imul(Tt,Xe)|0,we=Math.imul(Tt,Mt),me=me+Math.imul(ct,At)|0,fe=fe+Math.imul(ct,Nt)|0,fe=fe+Math.imul(gt,At)|0,we=we+Math.imul(gt,Nt)|0,me=me+Math.imul(Le,Ht)|0,fe=fe+Math.imul(Le,Qt)|0,fe=fe+Math.imul(Je,Ht)|0,we=we+Math.imul(Je,Qt)|0;var Rr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,me=Math.imul(Rt,Xe),fe=Math.imul(Rt,Mt),fe=fe+Math.imul(lt,Xe)|0,we=Math.imul(lt,Mt),me=me+Math.imul(vt,At)|0,fe=fe+Math.imul(vt,Nt)|0,fe=fe+Math.imul(Tt,At)|0,we=we+Math.imul(Tt,Nt)|0,me=me+Math.imul(ct,Ht)|0,fe=fe+Math.imul(ct,Qt)|0,fe=fe+Math.imul(gt,Ht)|0,we=we+Math.imul(gt,Qt)|0,me=me+Math.imul(Le,jt)|0,fe=fe+Math.imul(Le,Xt)|0,fe=fe+Math.imul(Je,jt)|0,we=we+Math.imul(Je,Xt)|0;var cr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(cr>>>26)|0,cr&=67108863,me=Math.imul(bt,Xe),fe=Math.imul(bt,Mt),fe=fe+Math.imul(Qe,Xe)|0,we=Math.imul(Qe,Mt),me=me+Math.imul(Rt,At)|0,fe=fe+Math.imul(Rt,Nt)|0,fe=fe+Math.imul(lt,At)|0,we=we+Math.imul(lt,Nt)|0,me=me+Math.imul(vt,Ht)|0,fe=fe+Math.imul(vt,Qt)|0,fe=fe+Math.imul(Tt,Ht)|0,we=we+Math.imul(Tt,Qt)|0,me=me+Math.imul(ct,jt)|0,fe=fe+Math.imul(ct,Xt)|0,fe=fe+Math.imul(gt,jt)|0,we=we+Math.imul(gt,Xt)|0,me=me+Math.imul(Le,Ft)|0,fe=fe+Math.imul(Le,Zt)|0,fe=fe+Math.imul(Je,Ft)|0,we=we+Math.imul(Je,Zt)|0;var wr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(wr>>>26)|0,wr&=67108863,me=Math.imul(De,Xe),fe=Math.imul(De,Mt),fe=fe+Math.imul(Ze,Xe)|0,we=Math.imul(Ze,Mt),me=me+Math.imul(bt,At)|0,fe=fe+Math.imul(bt,Nt)|0,fe=fe+Math.imul(Qe,At)|0,we=we+Math.imul(Qe,Nt)|0,me=me+Math.imul(Rt,Ht)|0,fe=fe+Math.imul(Rt,Qt)|0,fe=fe+Math.imul(lt,Ht)|0,we=we+Math.imul(lt,Qt)|0,me=me+Math.imul(vt,jt)|0,fe=fe+Math.imul(vt,Xt)|0,fe=fe+Math.imul(Tt,jt)|0,we=we+Math.imul(Tt,Xt)|0,me=me+Math.imul(ct,Ft)|0,fe=fe+Math.imul(ct,Zt)|0,fe=fe+Math.imul(gt,Ft)|0,we=we+Math.imul(gt,Zt)|0,me=me+Math.imul(Le,Wt)|0,fe=fe+Math.imul(Le,er)|0,fe=fe+Math.imul(Je,Wt)|0,we=we+Math.imul(Je,er)|0;var xr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(xr>>>26)|0,xr&=67108863,me=Math.imul(dt,Xe),fe=Math.imul(dt,Mt),fe=fe+Math.imul(mt,Xe)|0,we=Math.imul(mt,Mt),me=me+Math.imul(De,At)|0,fe=fe+Math.imul(De,Nt)|0,fe=fe+Math.imul(Ze,At)|0,we=we+Math.imul(Ze,Nt)|0,me=me+Math.imul(bt,Ht)|0,fe=fe+Math.imul(bt,Qt)|0,fe=fe+Math.imul(Qe,Ht)|0,we=we+Math.imul(Qe,Qt)|0,me=me+Math.imul(Rt,jt)|0,fe=fe+Math.imul(Rt,Xt)|0,fe=fe+Math.imul(lt,jt)|0,we=we+Math.imul(lt,Xt)|0,me=me+Math.imul(vt,Ft)|0,fe=fe+Math.imul(vt,Zt)|0,fe=fe+Math.imul(Tt,Ft)|0,we=we+Math.imul(Tt,Zt)|0,me=me+Math.imul(ct,Wt)|0,fe=fe+Math.imul(ct,er)|0,fe=fe+Math.imul(gt,Wt)|0,we=we+Math.imul(gt,er)|0,me=me+Math.imul(Le,Ot)|0,fe=fe+Math.imul(Le,tr)|0,fe=fe+Math.imul(Je,Ot)|0,we=we+Math.imul(Je,tr)|0;var Er=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Er>>>26)|0,Er&=67108863,me=Math.imul(St,Xe),fe=Math.imul(St,Mt),fe=fe+Math.imul(Bt,Xe)|0,we=Math.imul(Bt,Mt),me=me+Math.imul(dt,At)|0,fe=fe+Math.imul(dt,Nt)|0,fe=fe+Math.imul(mt,At)|0,we=we+Math.imul(mt,Nt)|0,me=me+Math.imul(De,Ht)|0,fe=fe+Math.imul(De,Qt)|0,fe=fe+Math.imul(Ze,Ht)|0,we=we+Math.imul(Ze,Qt)|0,me=me+Math.imul(bt,jt)|0,fe=fe+Math.imul(bt,Xt)|0,fe=fe+Math.imul(Qe,jt)|0,we=we+Math.imul(Qe,Xt)|0,me=me+Math.imul(Rt,Ft)|0,fe=fe+Math.imul(Rt,Zt)|0,fe=fe+Math.imul(lt,Ft)|0,we=we+Math.imul(lt,Zt)|0,me=me+Math.imul(vt,Wt)|0,fe=fe+Math.imul(vt,er)|0,fe=fe+Math.imul(Tt,Wt)|0,we=we+Math.imul(Tt,er)|0,me=me+Math.imul(ct,Ot)|0,fe=fe+Math.imul(ct,tr)|0,fe=fe+Math.imul(gt,Ot)|0,we=we+Math.imul(gt,tr)|0,me=me+Math.imul(Le,rt)|0,fe=fe+Math.imul(Le,it)|0,fe=fe+Math.imul(Je,rt)|0,we=we+Math.imul(Je,it)|0;var Mr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,me=Math.imul(Ae,Xe),fe=Math.imul(Ae,Mt),fe=fe+Math.imul(ve,Xe)|0,we=Math.imul(ve,Mt),me=me+Math.imul(St,At)|0,fe=fe+Math.imul(St,Nt)|0,fe=fe+Math.imul(Bt,At)|0,we=we+Math.imul(Bt,Nt)|0,me=me+Math.imul(dt,Ht)|0,fe=fe+Math.imul(dt,Qt)|0,fe=fe+Math.imul(mt,Ht)|0,we=we+Math.imul(mt,Qt)|0,me=me+Math.imul(De,jt)|0,fe=fe+Math.imul(De,Xt)|0,fe=fe+Math.imul(Ze,jt)|0,we=we+Math.imul(Ze,Xt)|0,me=me+Math.imul(bt,Ft)|0,fe=fe+Math.imul(bt,Zt)|0,fe=fe+Math.imul(Qe,Ft)|0,we=we+Math.imul(Qe,Zt)|0,me=me+Math.imul(Rt,Wt)|0,fe=fe+Math.imul(Rt,er)|0,fe=fe+Math.imul(lt,Wt)|0,we=we+Math.imul(lt,er)|0,me=me+Math.imul(vt,Ot)|0,fe=fe+Math.imul(vt,tr)|0,fe=fe+Math.imul(Tt,Ot)|0,we=we+Math.imul(Tt,tr)|0,me=me+Math.imul(ct,rt)|0,fe=fe+Math.imul(ct,it)|0,fe=fe+Math.imul(gt,rt)|0,we=we+Math.imul(gt,it)|0,me=me+Math.imul(Le,ot)|0,fe=fe+Math.imul(Le,wt)|0,fe=fe+Math.imul(Je,ot)|0,we=we+Math.imul(Je,wt)|0;var Sr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,me=Math.imul(Be,Xe),fe=Math.imul(Be,Mt),fe=fe+Math.imul(We,Xe)|0,we=Math.imul(We,Mt),me=me+Math.imul(Ae,At)|0,fe=fe+Math.imul(Ae,Nt)|0,fe=fe+Math.imul(ve,At)|0,we=we+Math.imul(ve,Nt)|0,me=me+Math.imul(St,Ht)|0,fe=fe+Math.imul(St,Qt)|0,fe=fe+Math.imul(Bt,Ht)|0,we=we+Math.imul(Bt,Qt)|0,me=me+Math.imul(dt,jt)|0,fe=fe+Math.imul(dt,Xt)|0,fe=fe+Math.imul(mt,jt)|0,we=we+Math.imul(mt,Xt)|0,me=me+Math.imul(De,Ft)|0,fe=fe+Math.imul(De,Zt)|0,fe=fe+Math.imul(Ze,Ft)|0,we=we+Math.imul(Ze,Zt)|0,me=me+Math.imul(bt,Wt)|0,fe=fe+Math.imul(bt,er)|0,fe=fe+Math.imul(Qe,Wt)|0,we=we+Math.imul(Qe,er)|0,me=me+Math.imul(Rt,Ot)|0,fe=fe+Math.imul(Rt,tr)|0,fe=fe+Math.imul(lt,Ot)|0,we=we+Math.imul(lt,tr)|0,me=me+Math.imul(vt,rt)|0,fe=fe+Math.imul(vt,it)|0,fe=fe+Math.imul(Tt,rt)|0,we=we+Math.imul(Tt,it)|0,me=me+Math.imul(ct,ot)|0,fe=fe+Math.imul(ct,wt)|0,fe=fe+Math.imul(gt,ot)|0,we=we+Math.imul(gt,wt)|0,me=me+Math.imul(Le,Et)|0,fe=fe+Math.imul(Le,Ct)|0,fe=fe+Math.imul(Je,Et)|0,we=we+Math.imul(Je,Ct)|0;var Ar=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,me=Math.imul(Be,At),fe=Math.imul(Be,Nt),fe=fe+Math.imul(We,At)|0,we=Math.imul(We,Nt),me=me+Math.imul(Ae,Ht)|0,fe=fe+Math.imul(Ae,Qt)|0,fe=fe+Math.imul(ve,Ht)|0,we=we+Math.imul(ve,Qt)|0,me=me+Math.imul(St,jt)|0,fe=fe+Math.imul(St,Xt)|0,fe=fe+Math.imul(Bt,jt)|0,we=we+Math.imul(Bt,Xt)|0,me=me+Math.imul(dt,Ft)|0,fe=fe+Math.imul(dt,Zt)|0,fe=fe+Math.imul(mt,Ft)|0,we=we+Math.imul(mt,Zt)|0,me=me+Math.imul(De,Wt)|0,fe=fe+Math.imul(De,er)|0,fe=fe+Math.imul(Ze,Wt)|0,we=we+Math.imul(Ze,er)|0,me=me+Math.imul(bt,Ot)|0,fe=fe+Math.imul(bt,tr)|0,fe=fe+Math.imul(Qe,Ot)|0,we=we+Math.imul(Qe,tr)|0,me=me+Math.imul(Rt,rt)|0,fe=fe+Math.imul(Rt,it)|0,fe=fe+Math.imul(lt,rt)|0,we=we+Math.imul(lt,it)|0,me=me+Math.imul(vt,ot)|0,fe=fe+Math.imul(vt,wt)|0,fe=fe+Math.imul(Tt,ot)|0,we=we+Math.imul(Tt,wt)|0,me=me+Math.imul(ct,Et)|0,fe=fe+Math.imul(ct,Ct)|0,fe=fe+Math.imul(gt,Et)|0,we=we+Math.imul(gt,Ct)|0;var Tr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,me=Math.imul(Be,Ht),fe=Math.imul(Be,Qt),fe=fe+Math.imul(We,Ht)|0,we=Math.imul(We,Qt),me=me+Math.imul(Ae,jt)|0,fe=fe+Math.imul(Ae,Xt)|0,fe=fe+Math.imul(ve,jt)|0,we=we+Math.imul(ve,Xt)|0,me=me+Math.imul(St,Ft)|0,fe=fe+Math.imul(St,Zt)|0,fe=fe+Math.imul(Bt,Ft)|0,we=we+Math.imul(Bt,Zt)|0,me=me+Math.imul(dt,Wt)|0,fe=fe+Math.imul(dt,er)|0,fe=fe+Math.imul(mt,Wt)|0,we=we+Math.imul(mt,er)|0,me=me+Math.imul(De,Ot)|0,fe=fe+Math.imul(De,tr)|0,fe=fe+Math.imul(Ze,Ot)|0,we=we+Math.imul(Ze,tr)|0,me=me+Math.imul(bt,rt)|0,fe=fe+Math.imul(bt,it)|0,fe=fe+Math.imul(Qe,rt)|0,we=we+Math.imul(Qe,it)|0,me=me+Math.imul(Rt,ot)|0,fe=fe+Math.imul(Rt,wt)|0,fe=fe+Math.imul(lt,ot)|0,we=we+Math.imul(lt,wt)|0,me=me+Math.imul(vt,Et)|0,fe=fe+Math.imul(vt,Ct)|0,fe=fe+Math.imul(Tt,Et)|0,we=we+Math.imul(Tt,Ct)|0;var pr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(pr>>>26)|0,pr&=67108863,me=Math.imul(Be,jt),fe=Math.imul(Be,Xt),fe=fe+Math.imul(We,jt)|0,we=Math.imul(We,Xt),me=me+Math.imul(Ae,Ft)|0,fe=fe+Math.imul(Ae,Zt)|0,fe=fe+Math.imul(ve,Ft)|0,we=we+Math.imul(ve,Zt)|0,me=me+Math.imul(St,Wt)|0,fe=fe+Math.imul(St,er)|0,fe=fe+Math.imul(Bt,Wt)|0,we=we+Math.imul(Bt,er)|0,me=me+Math.imul(dt,Ot)|0,fe=fe+Math.imul(dt,tr)|0,fe=fe+Math.imul(mt,Ot)|0,we=we+Math.imul(mt,tr)|0,me=me+Math.imul(De,rt)|0,fe=fe+Math.imul(De,it)|0,fe=fe+Math.imul(Ze,rt)|0,we=we+Math.imul(Ze,it)|0,me=me+Math.imul(bt,ot)|0,fe=fe+Math.imul(bt,wt)|0,fe=fe+Math.imul(Qe,ot)|0,we=we+Math.imul(Qe,wt)|0,me=me+Math.imul(Rt,Et)|0,fe=fe+Math.imul(Rt,Ct)|0,fe=fe+Math.imul(lt,Et)|0,we=we+Math.imul(lt,Ct)|0;var _r=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(_r>>>26)|0,_r&=67108863,me=Math.imul(Be,Ft),fe=Math.imul(Be,Zt),fe=fe+Math.imul(We,Ft)|0,we=Math.imul(We,Zt),me=me+Math.imul(Ae,Wt)|0,fe=fe+Math.imul(Ae,er)|0,fe=fe+Math.imul(ve,Wt)|0,we=we+Math.imul(ve,er)|0,me=me+Math.imul(St,Ot)|0,fe=fe+Math.imul(St,tr)|0,fe=fe+Math.imul(Bt,Ot)|0,we=we+Math.imul(Bt,tr)|0,me=me+Math.imul(dt,rt)|0,fe=fe+Math.imul(dt,it)|0,fe=fe+Math.imul(mt,rt)|0,we=we+Math.imul(mt,it)|0,me=me+Math.imul(De,ot)|0,fe=fe+Math.imul(De,wt)|0,fe=fe+Math.imul(Ze,ot)|0,we=we+Math.imul(Ze,wt)|0,me=me+Math.imul(bt,Et)|0,fe=fe+Math.imul(bt,Ct)|0,fe=fe+Math.imul(Qe,Et)|0,we=we+Math.imul(Qe,Ct)|0;var lr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(lr>>>26)|0,lr&=67108863,me=Math.imul(Be,Wt),fe=Math.imul(Be,er),fe=fe+Math.imul(We,Wt)|0,we=Math.imul(We,er),me=me+Math.imul(Ae,Ot)|0,fe=fe+Math.imul(Ae,tr)|0,fe=fe+Math.imul(ve,Ot)|0,we=we+Math.imul(ve,tr)|0,me=me+Math.imul(St,rt)|0,fe=fe+Math.imul(St,it)|0,fe=fe+Math.imul(Bt,rt)|0,we=we+Math.imul(Bt,it)|0,me=me+Math.imul(dt,ot)|0,fe=fe+Math.imul(dt,wt)|0,fe=fe+Math.imul(mt,ot)|0,we=we+Math.imul(mt,wt)|0,me=me+Math.imul(De,Et)|0,fe=fe+Math.imul(De,Ct)|0,fe=fe+Math.imul(Ze,Et)|0,we=we+Math.imul(Ze,Ct)|0;var gr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(gr>>>26)|0,gr&=67108863,me=Math.imul(Be,Ot),fe=Math.imul(Be,tr),fe=fe+Math.imul(We,Ot)|0,we=Math.imul(We,tr),me=me+Math.imul(Ae,rt)|0,fe=fe+Math.imul(Ae,it)|0,fe=fe+Math.imul(ve,rt)|0,we=we+Math.imul(ve,it)|0,me=me+Math.imul(St,ot)|0,fe=fe+Math.imul(St,wt)|0,fe=fe+Math.imul(Bt,ot)|0,we=we+Math.imul(Bt,wt)|0,me=me+Math.imul(dt,Et)|0,fe=fe+Math.imul(dt,Ct)|0,fe=fe+Math.imul(mt,Et)|0,we=we+Math.imul(mt,Ct)|0;var mr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(mr>>>26)|0,mr&=67108863,me=Math.imul(Be,rt),fe=Math.imul(Be,it),fe=fe+Math.imul(We,rt)|0,we=Math.imul(We,it),me=me+Math.imul(Ae,ot)|0,fe=fe+Math.imul(Ae,wt)|0,fe=fe+Math.imul(ve,ot)|0,we=we+Math.imul(ve,wt)|0,me=me+Math.imul(St,Et)|0,fe=fe+Math.imul(St,Ct)|0,fe=fe+Math.imul(Bt,Et)|0,we=we+Math.imul(Bt,Ct)|0;var dr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(dr>>>26)|0,dr&=67108863,me=Math.imul(Be,ot),fe=Math.imul(Be,wt),fe=fe+Math.imul(We,ot)|0,we=Math.imul(We,wt),me=me+Math.imul(Ae,Et)|0,fe=fe+Math.imul(Ae,Ct)|0,fe=fe+Math.imul(ve,Et)|0,we=we+Math.imul(ve,Ct)|0;var Ut=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,me=Math.imul(Be,Et),fe=Math.imul(Be,Ct),fe=fe+Math.imul(We,Et)|0,we=Math.imul(We,Ct);var Dt=(Ee+me|0)+((fe&8191)<<13)|0;return Ee=(we+(fe>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,$e[0]=or,$e[1]=Yt,$e[2]=Rr,$e[3]=cr,$e[4]=wr,$e[5]=xr,$e[6]=Er,$e[7]=Mr,$e[8]=Sr,$e[9]=Ar,$e[10]=Tr,$e[11]=pr,$e[12]=_r,$e[13]=lr,$e[14]=gr,$e[15]=mr,$e[16]=dr,$e[17]=Ut,$e[18]=Dt,Ee!==0&&($e[19]=Ee,le.length++),le};Math.imul||(Ce=Re);function Pe(ye,ae,ce){ce.negative=ae.negative^ye.negative,ce.length=ye.length+ae.length;for(var le=0,pe=0,_e=0;_e<ce.length-1;_e++){var $e=pe;pe=0;for(var Ee=le&67108863,me=Math.min(_e,ae.length-1),fe=Math.max(0,_e-ye.length+1);fe<=me;fe++){var we=_e-fe,Me=ye.words[we]|0,Le=ae.words[fe]|0,Je=Me*Le,Ue=Je&67108863;$e=$e+(Je/67108864|0)|0,Ue=Ue+Ee|0,Ee=Ue&67108863,$e=$e+(Ue>>>26)|0,pe+=$e>>>26,$e&=67108863}ce.words[_e]=Ee,le=$e,$e=pe}return le!==0?ce.words[_e]=le:ce.length--,ce.strip()}function Ie(ye,ae,ce){var le=new Ne;return le.mulp(ye,ae,ce)}ie.prototype.mulTo=function(ae,ce){var le,pe=this.length+ae.length;return this.length===10&&ae.length===10?le=Ce(this,ae,ce):pe<63?le=Re(this,ae,ce):pe<1024?le=Pe(this,ae,ce):le=Ie(this,ae,ce),le};function Ne(ye,ae){this.x=ye,this.y=ae}Ne.prototype.makeRBT=function(ae){for(var ce=new Array(ae),le=ie.prototype._countBits(ae)-1,pe=0;pe<ae;pe++)ce[pe]=this.revBin(pe,le,ae);return ce},Ne.prototype.revBin=function(ae,ce,le){if(ae===0||ae===le-1)return ae;for(var pe=0,_e=0;_e<ce;_e++)pe|=(ae&1)<<ce-_e-1,ae>>=1;return pe},Ne.prototype.permute=function(ae,ce,le,pe,_e,$e){for(var Ee=0;Ee<$e;Ee++)pe[Ee]=ce[ae[Ee]],_e[Ee]=le[ae[Ee]]},Ne.prototype.transform=function(ae,ce,le,pe,_e,$e){this.permute($e,ae,ce,le,pe,_e);for(var Ee=1;Ee<_e;Ee<<=1)for(var me=Ee<<1,fe=Math.cos(2*Math.PI/me),we=Math.sin(2*Math.PI/me),Me=0;Me<_e;Me+=me)for(var Le=fe,Je=we,Ue=0;Ue<Ee;Ue++){var ct=le[Me+Ue],gt=pe[Me+Ue],$t=le[Me+Ue+Ee],vt=pe[Me+Ue+Ee],Tt=Le*$t-Je*vt;vt=Le*vt+Je*$t,$t=Tt,le[Me+Ue]=ct+$t,pe[Me+Ue]=gt+vt,le[Me+Ue+Ee]=ct-$t,pe[Me+Ue+Ee]=gt-vt,Ue!==me&&(Tt=fe*Le-we*Je,Je=fe*Je+we*Le,Le=Tt)}},Ne.prototype.guessLen13b=function(ae,ce){var le=Math.max(ce,ae)|1,pe=le&1,_e=0;for(le=le/2|0;le;le=le>>>1)_e++;return 1<<_e+1+pe},Ne.prototype.conjugate=function(ae,ce,le){if(!(le<=1))for(var pe=0;pe<le/2;pe++){var _e=ae[pe];ae[pe]=ae[le-pe-1],ae[le-pe-1]=_e,_e=ce[pe],ce[pe]=-ce[le-pe-1],ce[le-pe-1]=-_e}},Ne.prototype.normalize13b=function(ae,ce){for(var le=0,pe=0;pe<ce/2;pe++){var _e=Math.round(ae[2*pe+1]/ce)*8192+Math.round(ae[2*pe]/ce)+le;ae[pe]=_e&67108863,_e<67108864?le=0:le=_e/67108864|0}return ae},Ne.prototype.convert13b=function(ae,ce,le,pe){for(var _e=0,$e=0;$e<ce;$e++)_e=_e+(ae[$e]|0),le[2*$e]=_e&8191,_e=_e>>>13,le[2*$e+1]=_e&8191,_e=_e>>>13;for($e=2*ce;$e<pe;++$e)le[$e]=0;ne(_e===0),ne((_e&-8192)===0)},Ne.prototype.stub=function(ae){for(var ce=new Array(ae),le=0;le<ae;le++)ce[le]=0;return ce},Ne.prototype.mulp=function(ae,ce,le){var pe=2*this.guessLen13b(ae.length,ce.length),_e=this.makeRBT(pe),$e=this.stub(pe),Ee=new Array(pe),me=new Array(pe),fe=new Array(pe),we=new Array(pe),Me=new Array(pe),Le=new Array(pe),Je=le.words;Je.length=pe,this.convert13b(ae.words,ae.length,Ee,pe),this.convert13b(ce.words,ce.length,we,pe),this.transform(Ee,$e,me,fe,pe,_e),this.transform(we,$e,Me,Le,pe,_e);for(var Ue=0;Ue<pe;Ue++){var ct=me[Ue]*Me[Ue]-fe[Ue]*Le[Ue];fe[Ue]=me[Ue]*Le[Ue]+fe[Ue]*Me[Ue],me[Ue]=ct}return this.conjugate(me,fe,pe),this.transform(me,fe,Je,$e,pe,_e),this.conjugate(Je,$e,pe),this.normalize13b(Je,pe),le.negative=ae.negative^ce.negative,le.length=ae.length+ce.length,le.strip()},ie.prototype.mul=function(ae){var ce=new ie(null);return ce.words=new Array(this.length+ae.length),this.mulTo(ae,ce)},ie.prototype.mulf=function(ae){var ce=new ie(null);return ce.words=new Array(this.length+ae.length),Ie(this,ae,ce)},ie.prototype.imul=function(ae){return this.clone().mulTo(ae,this)},ie.prototype.imuln=function(ae){ne(typeof ae=="number"),ne(ae<67108864);for(var ce=0,le=0;le<this.length;le++){var pe=(this.words[le]|0)*ae,_e=(pe&67108863)+(ce&67108863);ce>>=26,ce+=pe/67108864|0,ce+=_e>>>26,this.words[le]=_e&67108863}return ce!==0&&(this.words[le]=ce,this.length++),this},ie.prototype.muln=function(ae){return this.clone().imuln(ae)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(ae){var ce=ke(ae);if(ce.length===0)return new ie(1);for(var le=this,pe=0;pe<ce.length&&ce[pe]===0;pe++,le=le.sqr());if(++pe<ce.length)for(var _e=le.sqr();pe<ce.length;pe++,_e=_e.sqr())ce[pe]!==0&&(le=le.mul(_e));return le},ie.prototype.iushln=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26,pe=67108863>>>26-ce<<26-ce,_e;if(ce!==0){var $e=0;for(_e=0;_e<this.length;_e++){var Ee=this.words[_e]&pe,me=(this.words[_e]|0)-Ee<<ce;this.words[_e]=me|$e,$e=Ee>>>26-ce}$e&&(this.words[_e]=$e,this.length++)}if(le!==0){for(_e=this.length-1;_e>=0;_e--)this.words[_e+le]=this.words[_e];for(_e=0;_e<le;_e++)this.words[_e]=0;this.length+=le}return this.strip()},ie.prototype.ishln=function(ae){return ne(this.negative===0),this.iushln(ae)},ie.prototype.iushrn=function(ae,ce,le){ne(typeof ae=="number"&&ae>=0);var pe;ce?pe=(ce-ce%26)/26:pe=0;var _e=ae%26,$e=Math.min((ae-_e)/26,this.length),Ee=67108863^67108863>>>_e<<_e,me=le;if(pe-=$e,pe=Math.max(0,pe),me){for(var fe=0;fe<$e;fe++)me.words[fe]=this.words[fe];me.length=$e}if($e!==0)if(this.length>$e)for(this.length-=$e,fe=0;fe<this.length;fe++)this.words[fe]=this.words[fe+$e];else this.words[0]=0,this.length=1;var we=0;for(fe=this.length-1;fe>=0&&(we!==0||fe>=pe);fe--){var Me=this.words[fe]|0;this.words[fe]=we<<26-_e|Me>>>_e,we=Me&Ee}return me&&we!==0&&(me.words[me.length++]=we),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ie.prototype.ishrn=function(ae,ce,le){return ne(this.negative===0),this.iushrn(ae,ce,le)},ie.prototype.shln=function(ae){return this.clone().ishln(ae)},ie.prototype.ushln=function(ae){return this.clone().iushln(ae)},ie.prototype.shrn=function(ae){return this.clone().ishrn(ae)},ie.prototype.ushrn=function(ae){return this.clone().iushrn(ae)},ie.prototype.testn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26,pe=1<<ce;if(this.length<=le)return!1;var _e=this.words[le];return!!(_e&pe)},ie.prototype.imaskn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=le)return this;if(ce!==0&&le++,this.length=Math.min(le,this.length),ce!==0){var pe=67108863^67108863>>>ce<<ce;this.words[this.length-1]&=pe}return this.strip()},ie.prototype.maskn=function(ae){return this.clone().imaskn(ae)},ie.prototype.iaddn=function(ae){return ne(typeof ae=="number"),ne(ae<67108864),ae<0?this.isubn(-ae):this.negative!==0?this.length===1&&(this.words[0]|0)<ae?(this.words[0]=ae-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ae),this.negative=1,this):this._iaddn(ae)},ie.prototype._iaddn=function(ae){this.words[0]+=ae;for(var ce=0;ce<this.length&&this.words[ce]>=67108864;ce++)this.words[ce]-=67108864,ce===this.length-1?this.words[ce+1]=1:this.words[ce+1]++;return this.length=Math.max(this.length,ce+1),this},ie.prototype.isubn=function(ae){if(ne(typeof ae=="number"),ne(ae<67108864),ae<0)return this.iaddn(-ae);if(this.negative!==0)return this.negative=0,this.iaddn(ae),this.negative=1,this;if(this.words[0]-=ae,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ce=0;ce<this.length&&this.words[ce]<0;ce++)this.words[ce]+=67108864,this.words[ce+1]-=1;return this.strip()},ie.prototype.addn=function(ae){return this.clone().iaddn(ae)},ie.prototype.subn=function(ae){return this.clone().isubn(ae)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(ae,ce,le){var pe=ae.length+le,_e;this._expand(pe);var $e,Ee=0;for(_e=0;_e<ae.length;_e++){$e=(this.words[_e+le]|0)+Ee;var me=(ae.words[_e]|0)*ce;$e-=me&67108863,Ee=($e>>26)-(me/67108864|0),this.words[_e+le]=$e&67108863}for(;_e<this.length-le;_e++)$e=(this.words[_e+le]|0)+Ee,Ee=$e>>26,this.words[_e+le]=$e&67108863;if(Ee===0)return this.strip();for(ne(Ee===-1),Ee=0,_e=0;_e<this.length;_e++)$e=-(this.words[_e]|0)+Ee,Ee=$e>>26,this.words[_e]=$e&67108863;return this.negative=1,this.strip()},ie.prototype._wordDiv=function(ae,ce){var le=this.length-ae.length,pe=this.clone(),_e=ae,$e=_e.words[_e.length-1]|0,Ee=this._countBits($e);le=26-Ee,le!==0&&(_e=_e.ushln(le),pe.iushln(le),$e=_e.words[_e.length-1]|0);var me=pe.length-_e.length,fe;if(ce!=="mod"){fe=new ie(null),fe.length=me+1,fe.words=new Array(fe.length);for(var we=0;we<fe.length;we++)fe.words[we]=0}var Me=pe.clone()._ishlnsubmul(_e,1,me);Me.negative===0&&(pe=Me,fe&&(fe.words[me]=1));for(var Le=me-1;Le>=0;Le--){var Je=(pe.words[_e.length+Le]|0)*67108864+(pe.words[_e.length+Le-1]|0);for(Je=Math.min(Je/$e|0,67108863),pe._ishlnsubmul(_e,Je,Le);pe.negative!==0;)Je--,pe.negative=0,pe._ishlnsubmul(_e,1,Le),pe.isZero()||(pe.negative^=1);fe&&(fe.words[Le]=Je)}return fe&&fe.strip(),pe.strip(),ce!=="div"&&le!==0&&pe.iushrn(le),{div:fe||null,mod:pe}},ie.prototype.divmod=function(ae,ce,le){if(ne(!ae.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var pe,_e,$e;return this.negative!==0&&ae.negative===0?($e=this.neg().divmod(ae,ce),ce!=="mod"&&(pe=$e.div.neg()),ce!=="div"&&(_e=$e.mod.neg(),le&&_e.negative!==0&&_e.iadd(ae)),{div:pe,mod:_e}):this.negative===0&&ae.negative!==0?($e=this.divmod(ae.neg(),ce),ce!=="mod"&&(pe=$e.div.neg()),{div:pe,mod:$e.mod}):(this.negative&ae.negative)!==0?($e=this.neg().divmod(ae.neg(),ce),ce!=="div"&&(_e=$e.mod.neg(),le&&_e.negative!==0&&_e.isub(ae)),{div:$e.div,mod:_e}):ae.length>this.length||this.cmp(ae)<0?{div:new ie(0),mod:this}:ae.length===1?ce==="div"?{div:this.divn(ae.words[0]),mod:null}:ce==="mod"?{div:null,mod:new ie(this.modn(ae.words[0]))}:{div:this.divn(ae.words[0]),mod:new ie(this.modn(ae.words[0]))}:this._wordDiv(ae,ce)},ie.prototype.div=function(ae){return this.divmod(ae,"div",!1).div},ie.prototype.mod=function(ae){return this.divmod(ae,"mod",!1).mod},ie.prototype.umod=function(ae){return this.divmod(ae,"mod",!0).mod},ie.prototype.divRound=function(ae){var ce=this.divmod(ae);if(ce.mod.isZero())return ce.div;var le=ce.div.negative!==0?ce.mod.isub(ae):ce.mod,pe=ae.ushrn(1),_e=ae.andln(1),$e=le.cmp(pe);return $e<0||_e===1&&$e===0?ce.div:ce.div.negative!==0?ce.div.isubn(1):ce.div.iaddn(1)},ie.prototype.modn=function(ae){ne(ae<=67108863);for(var ce=(1<<26)%ae,le=0,pe=this.length-1;pe>=0;pe--)le=(ce*le+(this.words[pe]|0))%ae;return le},ie.prototype.idivn=function(ae){ne(ae<=67108863);for(var ce=0,le=this.length-1;le>=0;le--){var pe=(this.words[le]|0)+ce*67108864;this.words[le]=pe/ae|0,ce=pe%ae}return this.strip()},ie.prototype.divn=function(ae){return this.clone().idivn(ae)},ie.prototype.egcd=function(ae){ne(ae.negative===0),ne(!ae.isZero());var ce=this,le=ae.clone();ce.negative!==0?ce=ce.umod(ae):ce=ce.clone();for(var pe=new ie(1),_e=new ie(0),$e=new ie(0),Ee=new ie(1),me=0;ce.isEven()&&le.isEven();)ce.iushrn(1),le.iushrn(1),++me;for(var fe=le.clone(),we=ce.clone();!ce.isZero();){for(var Me=0,Le=1;(ce.words[0]&Le)===0&&Me<26;++Me,Le<<=1);if(Me>0)for(ce.iushrn(Me);Me-- >0;)(pe.isOdd()||_e.isOdd())&&(pe.iadd(fe),_e.isub(we)),pe.iushrn(1),_e.iushrn(1);for(var Je=0,Ue=1;(le.words[0]&Ue)===0&&Je<26;++Je,Ue<<=1);if(Je>0)for(le.iushrn(Je);Je-- >0;)($e.isOdd()||Ee.isOdd())&&($e.iadd(fe),Ee.isub(we)),$e.iushrn(1),Ee.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),pe.isub($e),_e.isub(Ee)):(le.isub(ce),$e.isub(pe),Ee.isub(_e))}return{a:$e,b:Ee,gcd:le.iushln(me)}},ie.prototype._invmp=function(ae){ne(ae.negative===0),ne(!ae.isZero());var ce=this,le=ae.clone();ce.negative!==0?ce=ce.umod(ae):ce=ce.clone();for(var pe=new ie(1),_e=new ie(0),$e=le.clone();ce.cmpn(1)>0&&le.cmpn(1)>0;){for(var Ee=0,me=1;(ce.words[0]&me)===0&&Ee<26;++Ee,me<<=1);if(Ee>0)for(ce.iushrn(Ee);Ee-- >0;)pe.isOdd()&&pe.iadd($e),pe.iushrn(1);for(var fe=0,we=1;(le.words[0]&we)===0&&fe<26;++fe,we<<=1);if(fe>0)for(le.iushrn(fe);fe-- >0;)_e.isOdd()&&_e.iadd($e),_e.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),pe.isub(_e)):(le.isub(ce),_e.isub(pe))}var Me;return ce.cmpn(1)===0?Me=pe:Me=_e,Me.cmpn(0)<0&&Me.iadd(ae),Me},ie.prototype.gcd=function(ae){if(this.isZero())return ae.abs();if(ae.isZero())return this.abs();var ce=this.clone(),le=ae.clone();ce.negative=0,le.negative=0;for(var pe=0;ce.isEven()&&le.isEven();pe++)ce.iushrn(1),le.iushrn(1);do{for(;ce.isEven();)ce.iushrn(1);for(;le.isEven();)le.iushrn(1);var _e=ce.cmp(le);if(_e<0){var $e=ce;ce=le,le=$e}else if(_e===0||le.cmpn(1)===0)break;ce.isub(le)}while(!0);return le.iushln(pe)},ie.prototype.invm=function(ae){return this.egcd(ae).a.umod(ae)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(ae){return this.words[0]&ae},ie.prototype.bincn=function(ae){ne(typeof ae=="number");var ce=ae%26,le=(ae-ce)/26,pe=1<<ce;if(this.length<=le)return this._expand(le+1),this.words[le]|=pe,this;for(var _e=pe,$e=le;_e!==0&&$e<this.length;$e++){var Ee=this.words[$e]|0;Ee+=_e,_e=Ee>>>26,Ee&=67108863,this.words[$e]=Ee}return _e!==0&&(this.words[$e]=_e,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(ae){var ce=ae<0;if(this.negative!==0&&!ce)return-1;if(this.negative===0&&ce)return 1;this.strip();var le;if(this.length>1)le=1;else{ce&&(ae=-ae),ne(ae<=67108863,"Number is too big");var pe=this.words[0]|0;le=pe===ae?0:pe<ae?-1:1}return this.negative!==0?-le|0:le},ie.prototype.cmp=function(ae){if(this.negative!==0&&ae.negative===0)return-1;if(this.negative===0&&ae.negative!==0)return 1;var ce=this.ucmp(ae);return this.negative!==0?-ce|0:ce},ie.prototype.ucmp=function(ae){if(this.length>ae.length)return 1;if(this.length<ae.length)return-1;for(var ce=0,le=this.length-1;le>=0;le--){var pe=this.words[le]|0,_e=ae.words[le]|0;if(pe!==_e){pe<_e?ce=-1:pe>_e&&(ce=1);break}}return ce},ie.prototype.gtn=function(ae){return this.cmpn(ae)===1},ie.prototype.gt=function(ae){return this.cmp(ae)===1},ie.prototype.gten=function(ae){return this.cmpn(ae)>=0},ie.prototype.gte=function(ae){return this.cmp(ae)>=0},ie.prototype.ltn=function(ae){return this.cmpn(ae)===-1},ie.prototype.lt=function(ae){return this.cmp(ae)===-1},ie.prototype.lten=function(ae){return this.cmpn(ae)<=0},ie.prototype.lte=function(ae){return this.cmp(ae)<=0},ie.prototype.eqn=function(ae){return this.cmpn(ae)===0},ie.prototype.eq=function(ae){return this.cmp(ae)===0},ie.red=function(ae){return new st(ae)},ie.prototype.toRed=function(ae){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),ae.convertTo(this)._forceRed(ae)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(ae){return this.red=ae,this},ie.prototype.forceRed=function(ae){return ne(!this.red,"Already a number in reduction context"),this._forceRed(ae)},ie.prototype.redAdd=function(ae){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,ae)},ie.prototype.redIAdd=function(ae){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ae)},ie.prototype.redSub=function(ae){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,ae)},ie.prototype.redISub=function(ae){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,ae)},ie.prototype.redShl=function(ae){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,ae)},ie.prototype.redMul=function(ae){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.mul(this,ae)},ie.prototype.redIMul=function(ae){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.imul(this,ae)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(ae){return ne(this.red&&!ae.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ae)};var He={k256:null,p224:null,p192:null,p25519:null};function Ke(ye,ae){this.name=ye,this.p=new ie(ae,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ke.prototype._tmp=function(){var ae=new ie(null);return ae.words=new Array(Math.ceil(this.n/13)),ae},Ke.prototype.ireduce=function(ae){var ce=ae,le;do this.split(ce,this.tmp),ce=this.imulK(ce),ce=ce.iadd(this.tmp),le=ce.bitLength();while(le>this.n);var pe=le<this.n?-1:ce.ucmp(this.p);return pe===0?(ce.words[0]=0,ce.length=1):pe>0?ce.isub(this.p):ce.strip!==void 0?ce.strip():ce._strip(),ce},Ke.prototype.split=function(ae,ce){ae.iushrn(this.n,0,ce)},Ke.prototype.imulK=function(ae){return ae.imul(this.k)};function Ge(){Ke.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}oe(Ge,Ke),Ge.prototype.split=function(ae,ce){for(var le=4194303,pe=Math.min(ae.length,9),_e=0;_e<pe;_e++)ce.words[_e]=ae.words[_e];if(ce.length=pe,ae.length<=9){ae.words[0]=0,ae.length=1;return}var $e=ae.words[9];for(ce.words[ce.length++]=$e&le,_e=10;_e<ae.length;_e++){var Ee=ae.words[_e]|0;ae.words[_e-10]=(Ee&le)<<4|$e>>>22,$e=Ee}$e>>>=22,ae.words[_e-10]=$e,$e===0&&ae.length>10?ae.length-=10:ae.length-=9},Ge.prototype.imulK=function(ae){ae.words[ae.length]=0,ae.words[ae.length+1]=0,ae.length+=2;for(var ce=0,le=0;le<ae.length;le++){var pe=ae.words[le]|0;ce+=pe*977,ae.words[le]=ce&67108863,ce=pe*64+(ce/67108864|0)}return ae.words[ae.length-1]===0&&(ae.length--,ae.words[ae.length-1]===0&&ae.length--),ae};function ut(){Ke.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}oe(ut,Ke);function Ve(){Ke.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}oe(Ve,Ke);function nt(){Ke.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}oe(nt,Ke),nt.prototype.imulK=function(ae){for(var ce=0,le=0;le<ae.length;le++){var pe=(ae.words[le]|0)*19+ce,_e=pe&67108863;pe>>>=26,ae.words[le]=_e,ce=pe}return ce!==0&&(ae.words[ae.length++]=ce),ae},ie._prime=function(ae){if(He[ae])return He[ae];var ce;if(ae==="k256")ce=new Ge;else if(ae==="p224")ce=new ut;else if(ae==="p192")ce=new Ve;else if(ae==="p25519")ce=new nt;else throw new Error("Unknown prime "+ae);return He[ae]=ce,ce};function st(ye){if(typeof ye=="string"){var ae=ie._prime(ye);this.m=ae.p,this.prime=ae}else ne(ye.gtn(1),"modulus must be greater than 1"),this.m=ye,this.prime=null}st.prototype._verify1=function(ae){ne(ae.negative===0,"red works only with positives"),ne(ae.red,"red works only with red numbers")},st.prototype._verify2=function(ae,ce){ne((ae.negative|ce.negative)===0,"red works only with positives"),ne(ae.red&&ae.red===ce.red,"red works only with red numbers")},st.prototype.imod=function(ae){return this.prime?this.prime.ireduce(ae)._forceRed(this):ae.umod(this.m)._forceRed(this)},st.prototype.neg=function(ae){return ae.isZero()?ae.clone():this.m.sub(ae)._forceRed(this)},st.prototype.add=function(ae,ce){this._verify2(ae,ce);var le=ae.add(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le._forceRed(this)},st.prototype.iadd=function(ae,ce){this._verify2(ae,ce);var le=ae.iadd(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le},st.prototype.sub=function(ae,ce){this._verify2(ae,ce);var le=ae.sub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le._forceRed(this)},st.prototype.isub=function(ae,ce){this._verify2(ae,ce);var le=ae.isub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le},st.prototype.shl=function(ae,ce){return this._verify1(ae),this.imod(ae.ushln(ce))},st.prototype.imul=function(ae,ce){return this._verify2(ae,ce),this.imod(ae.imul(ce))},st.prototype.mul=function(ae,ce){return this._verify2(ae,ce),this.imod(ae.mul(ce))},st.prototype.isqr=function(ae){return this.imul(ae,ae.clone())},st.prototype.sqr=function(ae){return this.mul(ae,ae)},st.prototype.sqrt=function(ae){if(ae.isZero())return ae.clone();var ce=this.m.andln(3);if(ne(ce%2===1),ce===3){var le=this.m.add(new ie(1)).iushrn(2);return this.pow(ae,le)}for(var pe=this.m.subn(1),_e=0;!pe.isZero()&&pe.andln(1)===0;)_e++,pe.iushrn(1);ne(!pe.isZero());var $e=new ie(1).toRed(this),Ee=$e.redNeg(),me=this.m.subn(1).iushrn(1),fe=this.m.bitLength();for(fe=new ie(2*fe*fe).toRed(this);this.pow(fe,me).cmp(Ee)!==0;)fe.redIAdd(Ee);for(var we=this.pow(fe,pe),Me=this.pow(ae,pe.addn(1).iushrn(1)),Le=this.pow(ae,pe),Je=_e;Le.cmp($e)!==0;){for(var Ue=Le,ct=0;Ue.cmp($e)!==0;ct++)Ue=Ue.redSqr();ne(ct<Je);var gt=this.pow(we,new ie(1).iushln(Je-ct-1));Me=Me.redMul(gt),we=gt.redSqr(),Le=Le.redMul(we),Je=ct}return Me},st.prototype.invm=function(ae){var ce=ae._invmp(this.m);return ce.negative!==0?(ce.negative=0,this.imod(ce).redNeg()):this.imod(ce)},st.prototype.pow=function(ae,ce){if(ce.isZero())return new ie(1).toRed(this);if(ce.cmpn(1)===0)return ae.clone();var le=4,pe=new Array(1<<le);pe[0]=new ie(1).toRed(this),pe[1]=ae;for(var _e=2;_e<pe.length;_e++)pe[_e]=this.mul(pe[_e-1],ae);var $e=pe[0],Ee=0,me=0,fe=ce.bitLength()%26;for(fe===0&&(fe=26),_e=ce.length-1;_e>=0;_e--){for(var we=ce.words[_e],Me=fe-1;Me>=0;Me--){var Le=we>>Me&1;if($e!==pe[0]&&($e=this.sqr($e)),Le===0&&Ee===0){me=0;continue}Ee<<=1,Ee|=Le,me++,!(me!==le&&(_e!==0||Me!==0))&&($e=this.mul($e,pe[Ee]),me=0,Ee=0)}fe=26}return $e},st.prototype.convertTo=function(ae){var ce=ae.umod(this.m);return ce===ae?ce.clone():ce},st.prototype.convertFrom=function(ae){var ce=ae.clone();return ce.red=null,ce},ie.mont=function(ae){return new qe(ae)};function qe(ye){st.call(this,ye),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}oe(qe,st),qe.prototype.convertTo=function(ae){return this.imod(ae.ushln(this.shift))},qe.prototype.convertFrom=function(ae){var ce=this.imod(ae.mul(this.rinv));return ce.red=null,ce},qe.prototype.imul=function(ae,ce){if(ae.isZero()||ce.isZero())return ae.words[0]=0,ae.length=1,ae;var le=ae.imul(ce),pe=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_e=le.isub(pe).iushrn(this.shift),$e=_e;return _e.cmp(this.m)>=0?$e=_e.isub(this.m):_e.cmpn(0)<0&&($e=_e.iadd(this.m)),$e._forceRed(this)},qe.prototype.mul=function(ae,ce){if(ae.isZero()||ce.isZero())return new ie(0)._forceRed(this);var le=ae.mul(ce),pe=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_e=le.isub(pe).iushrn(this.shift),$e=_e;return _e.cmp(this.m)>=0?$e=_e.isub(this.m):_e.cmpn(0)<0&&($e=_e.iadd(this.m)),$e._forceRed(this)},qe.prototype.invm=function(ae){var ce=this.imod(ae._invmp(this.m).mul(this.r2));return ce._forceRed(this)}})(te,commonjsGlobal)})(bn$2);var BN$5=bn$2.exports,EC$1=elliptic$2.ec,ec$1=new EC$1("secp256k1"),ecparams$1=ec$1.curve;secp256k1Lib.privateKeyExport=function(te,ee){var re=new BN$5(te);if(re.ucmp(ecparams$1.n)>=0)throw new Error("couldn't export to DER format");var ne=ec$1.g.mul(re);return toPublicKey$1(ne.getX(),ne.getY(),ee)};secp256k1Lib.privateKeyModInverse=function(te){var ee=new BN$5(te);if(ee.ucmp(ecparams$1.n)>=0||ee.isZero())throw new Error("private key range is invalid");return ee.invm(ecparams$1.n).toArrayLike(buffer$2.Buffer,"be",32)};secp256k1Lib.signatureImport=function(te){var ee=new BN$5(te.r);ee.ucmp(ecparams$1.n)>=0&&(ee=new BN$5(0));var re=new BN$5(te.s);return re.ucmp(ecparams$1.n)>=0&&(re=new BN$5(0)),buffer$2.Buffer.concat([ee.toArrayLike(buffer$2.Buffer,"be",32),re.toArrayLike(buffer$2.Buffer,"be",32)])};secp256k1Lib.ecdhUnsafe=function(te,ee,re){var ne=ec$1.keyFromPublic(te),oe=new BN$5(ee);if(oe.ucmp(ecparams$1.n)>=0||oe.isZero())throw new Error("scalar was invalid (zero or overflow)");var ie=ne.pub.mul(oe);return toPublicKey$1(ie.getX(),ie.getY(),re)};var toPublicKey$1=function te(ee,re,ne){var oe=void 0;return ne?(oe=buffer$2.Buffer.alloc(33),oe[0]=re.isOdd()?3:2,ee.toArrayLike(buffer$2.Buffer,"be",32).copy(oe,1)):(oe=buffer$2.Buffer.alloc(65),oe[0]=4,ee.toArrayLike(buffer$2.Buffer,"be",32).copy(oe,1),re.toArrayLike(buffer$2.Buffer,"be",32).copy(oe,33)),oe},der$2={},EC_PRIVKEY_EXPORT_DER_COMPRESSED$1=buffer$2.Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED$1=buffer$2.Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);der$2.privateKeyExport=function(te,ee,re){var ne=buffer$2.Buffer.from(re?EC_PRIVKEY_EXPORT_DER_COMPRESSED$1:EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED$1);return te.copy(ne,re?8:9),ee.copy(ne,re?181:214),ne};der$2.privateKeyImport=function(te){var ee=te.length,re=0;if(ee<re+1||te[re]!==48||(re+=1,ee<re+1||!(te[re]&128)))return null;var ne=te[re]&127;if(re+=1,ne<1||ne>2||ee<re+ne)return null;var oe=te[re+ne-1]|(ne>1?te[re+ne-2]<<8:0);return re+=ne,ee<re+oe||ee<re+3||te[re]!==2||te[re+1]!==1||te[re+2]!==1||(re+=3,ee<re+2||te[re]!==4||te[re+1]>32||ee<re+2+te[re+1])?null:te.slice(re+2,re+2+te[re+1])};der$2.signatureImportLax=function(te){var ee=buffer$2.Buffer.alloc(32,0),re=buffer$2.Buffer.alloc(32,0),ne=te.length,oe=0;if(te[oe++]!==48)return null;var ie=te[oe++];if(ie&128&&(oe+=ie-128,oe>ne)||te[oe++]!==2)return null;var se=te[oe++];if(se&128){if(ie=se-128,oe+ie>ne)return null;for(;ie>0&&te[oe]===0;oe+=1,ie-=1);for(se=0;ie>0;oe+=1,ie-=1)se=(se<<8)+te[oe]}if(se>ne-oe)return null;var ue=oe;if(oe+=se,te[oe++]!==2)return null;var he=te[oe++];if(he&128){if(ie=he-128,oe+ie>ne)return null;for(;ie>0&&te[oe]===0;oe+=1,ie-=1);for(he=0;ie>0;oe+=1,ie-=1)he=(he<<8)+te[oe]}if(he>ne-oe)return null;var ge=oe;for(oe+=he;se>0&&te[ue]===0;se-=1,ue+=1);if(se>32)return null;var be=te.slice(ue,ue+se);for(be.copy(ee,32-be.length);he>0&&te[ge]===0;he-=1,ge+=1);if(he>32)return null;var Se=te.slice(ge,ge+he);return Se.copy(re,32-Se.length),{r:ee,s:re}};var secp256k1$1=secp256k1$2,secp256k1v3=secp256k1Lib,der$1=der$2,privateKeyVerify=function te(ee){return ee.length!==32?!1:secp256k1$1.privateKeyVerify(Uint8Array.from(ee))},privateKeyExport=function te(ee,re){if(ee.length!==32)throw new RangeError("private key length is invalid");var ne=secp256k1v3.privateKeyExport(ee,re);return der$1.privateKeyExport(ee,ne,re)},privateKeyImport=function te(ee){if(ee=der$1.privateKeyImport(ee),ee!==null&&ee.length===32&&privateKeyVerify(ee))return ee;throw new Error("couldn't import from DER format")},privateKeyNegate=function te(ee){return buffer$2.Buffer.from(secp256k1$1.privateKeyNegate(Uint8Array.from(ee)))},privateKeyModInverse=function te(ee){if(ee.length!==32)throw new Error("private key length is invalid");return buffer$2.Buffer.from(secp256k1v3.privateKeyModInverse(Uint8Array.from(ee)))},privateKeyTweakAdd=function te(ee,re){return buffer$2.Buffer.from(secp256k1$1.privateKeyTweakAdd(Uint8Array.from(ee),re))},privateKeyTweakMul=function te(ee,re){return buffer$2.Buffer.from(secp256k1$1.privateKeyTweakMul(Uint8Array.from(ee),Uint8Array.from(re)))},publicKeyCreate=function te(ee,re){return buffer$2.Buffer.from(secp256k1$1.publicKeyCreate(Uint8Array.from(ee),re))},publicKeyConvert=function te(ee,re){return buffer$2.Buffer.from(secp256k1$1.publicKeyConvert(Uint8Array.from(ee),re))},publicKeyVerify=function te(ee){return ee.length!==33&&ee.length!==65?!1:secp256k1$1.publicKeyVerify(Uint8Array.from(ee))},publicKeyTweakAdd=function te(ee,re,ne){return buffer$2.Buffer.from(secp256k1$1.publicKeyTweakAdd(Uint8Array.from(ee),Uint8Array.from(re),ne))},publicKeyTweakMul=function te(ee,re,ne){return buffer$2.Buffer.from(secp256k1$1.publicKeyTweakMul(Uint8Array.from(ee),Uint8Array.from(re),ne))},publicKeyCombine=function te(ee,re){var ne=[];return ee.forEach(function(oe){ne.push(Uint8Array.from(oe))}),buffer$2.Buffer.from(secp256k1$1.publicKeyCombine(ne,re))},signatureNormalize=function te(ee){return buffer$2.Buffer.from(secp256k1$1.signatureNormalize(Uint8Array.from(ee)))},signatureExport=function te(ee){return buffer$2.Buffer.from(secp256k1$1.signatureExport(Uint8Array.from(ee)))},signatureImport=function te(ee){return buffer$2.Buffer.from(secp256k1$1.signatureImport(Uint8Array.from(ee)))},signatureImportLax=function te(ee){if(ee.length===0)throw new RangeError("signature length is invalid");var re=der$1.signatureImportLax(ee);if(re===null)throw new Error("couldn't parse DER signature");return secp256k1v3.signatureImport(re)},sign=function te(ee,re,ne){if(ne===null)throw new TypeError("options should be an Object");var oe=void 0;if(ne){if(oe={},ne.data===null)throw new TypeError("options.data should be a Buffer");if(ne.data){if(ne.data.length!==32)throw new RangeError("options.data length is invalid");oe.data=new Uint8Array(ne.data)}if(ne.noncefn===null)throw new TypeError("options.noncefn should be a Function");ne.noncefn&&(oe.noncefn=function(se,ue,he,ge,be){var Se=he!=null?buffer$2.Buffer.from(he):null,Te=ge!=null?buffer$2.Buffer.from(ge):null,ke=buffer$2.Buffer.from("");return ne.noncefn&&(ke=ne.noncefn(buffer$2.Buffer.from(se),buffer$2.Buffer.from(ue),Se,Te,be)),Uint8Array.from(ke)})}var ie=secp256k1$1.ecdsaSign(Uint8Array.from(ee),Uint8Array.from(re),oe);return{signature:buffer$2.Buffer.from(ie.signature),recovery:ie.recid}},verify=function te(ee,re,ne){return secp256k1$1.ecdsaVerify(Uint8Array.from(re),Uint8Array.from(ee),ne)},recover=function te(ee,re,ne,oe){return buffer$2.Buffer.from(secp256k1$1.ecdsaRecover(Uint8Array.from(re),ne,Uint8Array.from(ee),oe))},ecdh=function te(ee,re){return buffer$2.Buffer.from(secp256k1$1.ecdh(Uint8Array.from(ee),Uint8Array.from(re),{}))},ecdhUnsafe=function te(ee,re,ne){if(ee.length!==33&&ee.length!==65)throw new RangeError("public key length is invalid");if(re.length!==32)throw new RangeError("private key length is invalid");return buffer$2.Buffer.from(secp256k1v3.ecdhUnsafe(Uint8Array.from(ee),Uint8Array.from(re),ne))},secp256k1Adapter={privateKeyVerify,privateKeyExport,privateKeyImport,privateKeyNegate,privateKeyModInverse,privateKeyTweakAdd,privateKeyTweakMul,publicKeyCreate,publicKeyConvert,publicKeyVerify,publicKeyTweakAdd,publicKeyTweakMul,publicKeyCombine,signatureNormalize,signatureExport,signatureImport,signatureImportLax,sign,verify,recover,ecdh,ecdhUnsafe},dist_browser={},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(dist_browser,"__esModule",{value:!0});dist_browser.getLength=dist_browser.decode=dist_browser.encode=void 0;var bn_js_1=__importDefault$1(bn$4.exports);function encode(te){if(Array.isArray(te)){for(var ee=[],re=0;re<te.length;re++)ee.push(encode(te[re]));var ne=buffer$2.Buffer.concat(ee);return buffer$2.Buffer.concat([encodeLength(ne.length,192),ne])}else{var oe=toBuffer(te);return oe.length===1&&oe[0]<128?oe:buffer$2.Buffer.concat([encodeLength(oe.length,128),oe])}}dist_browser.encode=encode;function safeParseInt(te,ee){if(te[0]==="0"&&te[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(te,ee)}function encodeLength(te,ee){if(te<56)return buffer$2.Buffer.from([te+ee]);var re=intToHex$4(te),ne=re.length/2,oe=intToHex$4(ee+55+ne);return buffer$2.Buffer.from(oe+re,"hex")}function decode$1(te,ee){if(ee===void 0&&(ee=!1),!te||te.length===0)return buffer$2.Buffer.from([]);var re=toBuffer(te),ne=_decode(re);if(ee)return ne;if(ne.remainder.length!==0)throw new Error("invalid remainder");return ne.data}dist_browser.decode=decode$1;function getLength(te){if(!te||te.length===0)return buffer$2.Buffer.from([]);var ee=toBuffer(te),re=ee[0];if(re<=127)return ee.length;if(re<=183)return re-127;if(re<=191)return re-182;if(re<=247)return re-191;var ne=re-246,oe=safeParseInt(ee.slice(1,ne).toString("hex"),16);return ne+oe}dist_browser.getLength=getLength;function _decode(te){var ee,re,ne,oe,ie,se=[],ue=te[0];if(ue<=127)return{data:te.slice(0,1),remainder:te.slice(1)};if(ue<=183){if(ee=ue-127,ue===128?ne=buffer$2.Buffer.from([]):ne=te.slice(1,ee),ee===2&&ne[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:ne,remainder:te.slice(ee)}}else if(ue<=191){if(re=ue-182,te.length-1<re)throw new Error("invalid RLP: not enough bytes for string length");if(ee=safeParseInt(te.slice(1,re).toString("hex"),16),ee<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(ne=te.slice(re,ee+re),ne.length<ee)throw new Error("invalid RLP: not enough bytes for string");return{data:ne,remainder:te.slice(ee+re)}}else if(ue<=247){for(ee=ue-191,oe=te.slice(1,ee);oe.length;)ie=_decode(oe),se.push(ie.data),oe=ie.remainder;return{data:se,remainder:te.slice(ee)}}else{re=ue-246,ee=safeParseInt(te.slice(1,re).toString("hex"),16);var he=re+ee;if(he>te.length)throw new Error("invalid rlp: total length is larger than the data");if(oe=te.slice(re,he),oe.length===0)throw new Error("invalid rlp, List has a invalid length");for(;oe.length;)ie=_decode(oe),se.push(ie.data),oe=ie.remainder;return{data:se,remainder:te.slice(he)}}}function isHexPrefixed$2(te){return te.slice(0,2)==="0x"}function stripHexPrefix$1(te){return typeof te!="string"?te:isHexPrefixed$2(te)?te.slice(2):te}function intToHex$4(te){if(te<0)throw new Error("Invalid integer as argument, must be unsigned!");var ee=te.toString(16);return ee.length%2?"0"+ee:ee}function padToEven$1(te){return te.length%2?"0"+te:te}function intToBuffer$1(te){var ee=intToHex$4(te);return buffer$2.Buffer.from(ee,"hex")}function toBuffer(te){if(!buffer$2.Buffer.isBuffer(te)){if(typeof te=="string")return isHexPrefixed$2(te)?buffer$2.Buffer.from(padToEven$1(stripHexPrefix$1(te)),"hex"):buffer$2.Buffer.from(te);if(typeof te=="number"||typeof te=="bigint")return te?intToBuffer$1(te):buffer$2.Buffer.from([]);if(te==null)return buffer$2.Buffer.from([]);if(te instanceof Uint8Array)return buffer$2.Buffer.from(te);if(bn_js_1.default.isBN(te))return buffer$2.Buffer.from(te.toArray());throw new Error("invalid type")}return te}var Buffer$e=safeBuffer.exports.Buffer,Transform$1=readableBrowser.exports.Transform,inherits$f=inherits_browser$2.exports;function throwIfNotStringOrBuffer(te,ee){if(!Buffer$e.isBuffer(te)&&typeof te!="string")throw new TypeError(ee+" must be a string or a buffer")}function HashBase$2(te){Transform$1.call(this),this._block=Buffer$e.allocUnsafe(te),this._blockSize=te,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$f(HashBase$2,Transform$1);HashBase$2.prototype._transform=function(te,ee,re){var ne=null;try{this.update(te,ee)}catch(oe){ne=oe}re(ne)};HashBase$2.prototype._flush=function(te){var ee=null;try{this.push(this.digest())}catch(re){ee=re}te(ee)};HashBase$2.prototype.update=function(te,ee){if(throwIfNotStringOrBuffer(te,"Data"),this._finalized)throw new Error("Digest already called");Buffer$e.isBuffer(te)||(te=Buffer$e.from(te,ee));for(var re=this._block,ne=0;this._blockOffset+te.length-ne>=this._blockSize;){for(var oe=this._blockOffset;oe<this._blockSize;)re[oe++]=te[ne++];this._update(),this._blockOffset=0}for(;ne<te.length;)re[this._blockOffset++]=te[ne++];for(var ie=0,se=te.length*8;se>0;++ie)this._length[ie]+=se,se=this._length[ie]/4294967296|0,se>0&&(this._length[ie]-=4294967296*se);return this};HashBase$2.prototype._update=function(){throw new Error("_update is not implemented")};HashBase$2.prototype.digest=function(te){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var ee=this._digest();te!==void 0&&(ee=ee.toString(te)),this._block.fill(0),this._blockOffset=0;for(var re=0;re<4;++re)this._length[re]=0;return ee};HashBase$2.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$2,inherits$e=inherits_browser$2.exports,HashBase$1=hashBase,Buffer$d=safeBuffer.exports.Buffer,ARRAY16$1=new Array(16);function MD5$1(){HashBase$1.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$e(MD5$1,HashBase$1);MD5$1.prototype._update=function(){for(var te=ARRAY16$1,ee=0;ee<16;++ee)te[ee]=this._block.readInt32LE(ee*4);var re=this._a,ne=this._b,oe=this._c,ie=this._d;re=fnF(re,ne,oe,ie,te[0],3614090360,7),ie=fnF(ie,re,ne,oe,te[1],3905402710,12),oe=fnF(oe,ie,re,ne,te[2],606105819,17),ne=fnF(ne,oe,ie,re,te[3],3250441966,22),re=fnF(re,ne,oe,ie,te[4],4118548399,7),ie=fnF(ie,re,ne,oe,te[5],1200080426,12),oe=fnF(oe,ie,re,ne,te[6],2821735955,17),ne=fnF(ne,oe,ie,re,te[7],4249261313,22),re=fnF(re,ne,oe,ie,te[8],1770035416,7),ie=fnF(ie,re,ne,oe,te[9],2336552879,12),oe=fnF(oe,ie,re,ne,te[10],4294925233,17),ne=fnF(ne,oe,ie,re,te[11],2304563134,22),re=fnF(re,ne,oe,ie,te[12],1804603682,7),ie=fnF(ie,re,ne,oe,te[13],4254626195,12),oe=fnF(oe,ie,re,ne,te[14],2792965006,17),ne=fnF(ne,oe,ie,re,te[15],1236535329,22),re=fnG(re,ne,oe,ie,te[1],4129170786,5),ie=fnG(ie,re,ne,oe,te[6],3225465664,9),oe=fnG(oe,ie,re,ne,te[11],643717713,14),ne=fnG(ne,oe,ie,re,te[0],3921069994,20),re=fnG(re,ne,oe,ie,te[5],3593408605,5),ie=fnG(ie,re,ne,oe,te[10],38016083,9),oe=fnG(oe,ie,re,ne,te[15],3634488961,14),ne=fnG(ne,oe,ie,re,te[4],3889429448,20),re=fnG(re,ne,oe,ie,te[9],568446438,5),ie=fnG(ie,re,ne,oe,te[14],3275163606,9),oe=fnG(oe,ie,re,ne,te[3],4107603335,14),ne=fnG(ne,oe,ie,re,te[8],1163531501,20),re=fnG(re,ne,oe,ie,te[13],2850285829,5),ie=fnG(ie,re,ne,oe,te[2],4243563512,9),oe=fnG(oe,ie,re,ne,te[7],1735328473,14),ne=fnG(ne,oe,ie,re,te[12],2368359562,20),re=fnH(re,ne,oe,ie,te[5],4294588738,4),ie=fnH(ie,re,ne,oe,te[8],2272392833,11),oe=fnH(oe,ie,re,ne,te[11],1839030562,16),ne=fnH(ne,oe,ie,re,te[14],4259657740,23),re=fnH(re,ne,oe,ie,te[1],2763975236,4),ie=fnH(ie,re,ne,oe,te[4],1272893353,11),oe=fnH(oe,ie,re,ne,te[7],4139469664,16),ne=fnH(ne,oe,ie,re,te[10],3200236656,23),re=fnH(re,ne,oe,ie,te[13],681279174,4),ie=fnH(ie,re,ne,oe,te[0],3936430074,11),oe=fnH(oe,ie,re,ne,te[3],3572445317,16),ne=fnH(ne,oe,ie,re,te[6],76029189,23),re=fnH(re,ne,oe,ie,te[9],3654602809,4),ie=fnH(ie,re,ne,oe,te[12],3873151461,11),oe=fnH(oe,ie,re,ne,te[15],530742520,16),ne=fnH(ne,oe,ie,re,te[2],3299628645,23),re=fnI(re,ne,oe,ie,te[0],4096336452,6),ie=fnI(ie,re,ne,oe,te[7],1126891415,10),oe=fnI(oe,ie,re,ne,te[14],2878612391,15),ne=fnI(ne,oe,ie,re,te[5],4237533241,21),re=fnI(re,ne,oe,ie,te[12],1700485571,6),ie=fnI(ie,re,ne,oe,te[3],2399980690,10),oe=fnI(oe,ie,re,ne,te[10],4293915773,15),ne=fnI(ne,oe,ie,re,te[1],2240044497,21),re=fnI(re,ne,oe,ie,te[8],1873313359,6),ie=fnI(ie,re,ne,oe,te[15],4264355552,10),oe=fnI(oe,ie,re,ne,te[6],2734768916,15),ne=fnI(ne,oe,ie,re,te[13],1309151649,21),re=fnI(re,ne,oe,ie,te[4],4149444226,6),ie=fnI(ie,re,ne,oe,te[11],3174756917,10),oe=fnI(oe,ie,re,ne,te[2],718787259,15),ne=fnI(ne,oe,ie,re,te[9],3951481745,21),this._a=this._a+re|0,this._b=this._b+ne|0,this._c=this._c+oe|0,this._d=this._d+ie|0};MD5$1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var te=Buffer$d.allocUnsafe(16);return te.writeInt32LE(this._a,0),te.writeInt32LE(this._b,4),te.writeInt32LE(this._c,8),te.writeInt32LE(this._d,12),te};function rotl$1(te,ee){return te<<ee|te>>>32-ee}function fnF(te,ee,re,ne,oe,ie,se){return rotl$1(te+(ee&re|~ee&ne)+oe+ie|0,se)+ee|0}function fnG(te,ee,re,ne,oe,ie,se){return rotl$1(te+(ee&ne|re&~ne)+oe+ie|0,se)+ee|0}function fnH(te,ee,re,ne,oe,ie,se){return rotl$1(te+(ee^re^ne)+oe+ie|0,se)+ee|0}function fnI(te,ee,re,ne,oe,ie,se){return rotl$1(te+(re^(ee|~ne))+oe+ie|0,se)+ee|0}var md5_js=MD5$1,Buffer$c=buffer$2.Buffer,inherits$d=inherits_browser$2.exports,HashBase=hashBase,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$1(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$d(RIPEMD160$1,HashBase);RIPEMD160$1.prototype._update=function(){for(var te=ARRAY16,ee=0;ee<16;++ee)te[ee]=this._block.readInt32LE(ee*4);for(var re=this._a|0,ne=this._b|0,oe=this._c|0,ie=this._d|0,se=this._e|0,ue=this._a|0,he=this._b|0,ge=this._c|0,be=this._d|0,Se=this._e|0,Te=0;Te<80;Te+=1){var ke,Re;Te<16?(ke=fn1(re,ne,oe,ie,se,te[zl[Te]],hl[0],sl[Te]),Re=fn5(ue,he,ge,be,Se,te[zr[Te]],hr[0],sr[Te])):Te<32?(ke=fn2(re,ne,oe,ie,se,te[zl[Te]],hl[1],sl[Te]),Re=fn4(ue,he,ge,be,Se,te[zr[Te]],hr[1],sr[Te])):Te<48?(ke=fn3(re,ne,oe,ie,se,te[zl[Te]],hl[2],sl[Te]),Re=fn3(ue,he,ge,be,Se,te[zr[Te]],hr[2],sr[Te])):Te<64?(ke=fn4(re,ne,oe,ie,se,te[zl[Te]],hl[3],sl[Te]),Re=fn2(ue,he,ge,be,Se,te[zr[Te]],hr[3],sr[Te])):(ke=fn5(re,ne,oe,ie,se,te[zl[Te]],hl[4],sl[Te]),Re=fn1(ue,he,ge,be,Se,te[zr[Te]],hr[4],sr[Te])),re=se,se=ie,ie=rotl(oe,10),oe=ne,ne=ke,ue=Se,Se=be,be=rotl(ge,10),ge=he,he=Re}var Ce=this._b+oe+be|0;this._b=this._c+ie+Se|0,this._c=this._d+se+ue|0,this._d=this._e+re+he|0,this._e=this._a+ne+ge|0,this._a=Ce};RIPEMD160$1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var te=Buffer$c.alloc?Buffer$c.alloc(20):new Buffer$c(20);return te.writeInt32LE(this._a,0),te.writeInt32LE(this._b,4),te.writeInt32LE(this._c,8),te.writeInt32LE(this._d,12),te.writeInt32LE(this._e,16),te};function rotl(te,ee){return te<<ee|te>>>32-ee}function fn1(te,ee,re,ne,oe,ie,se,ue){return rotl(te+(ee^re^ne)+ie+se|0,ue)+oe|0}function fn2(te,ee,re,ne,oe,ie,se,ue){return rotl(te+(ee&re|~ee&ne)+ie+se|0,ue)+oe|0}function fn3(te,ee,re,ne,oe,ie,se,ue){return rotl(te+((ee|~re)^ne)+ie+se|0,ue)+oe|0}function fn4(te,ee,re,ne,oe,ie,se,ue){return rotl(te+(ee&ne|re&~ne)+ie+se|0,ue)+oe|0}function fn5(te,ee,re,ne,oe,ie,se,ue){return rotl(te+(ee^(re|~ne))+ie+se|0,ue)+oe|0}var ripemd160=RIPEMD160$1,sha_js={exports:{}},Buffer$b=safeBuffer.exports.Buffer;function Hash$7(te,ee){this._block=Buffer$b.alloc(te),this._finalSize=ee,this._blockSize=te,this._len=0}Hash$7.prototype.update=function(te,ee){typeof te=="string"&&(ee=ee||"utf8",te=Buffer$b.from(te,ee));for(var re=this._block,ne=this._blockSize,oe=te.length,ie=this._len,se=0;se<oe;){for(var ue=ie%ne,he=Math.min(oe-se,ne-ue),ge=0;ge<he;ge++)re[ue+ge]=te[se+ge];ie+=he,se+=he,ie%ne===0&&this._update(re)}return this._len+=oe,this};Hash$7.prototype.digest=function(te){var ee=this._len%this._blockSize;this._block[ee]=128,this._block.fill(0,ee+1),ee>=this._finalSize&&(this._update(this._block),this._block.fill(0));var re=this._len*8;if(re<=4294967295)this._block.writeUInt32BE(re,this._blockSize-4);else{var ne=(re&4294967295)>>>0,oe=(re-ne)/4294967296;this._block.writeUInt32BE(oe,this._blockSize-8),this._block.writeUInt32BE(ne,this._blockSize-4)}this._update(this._block);var ie=this._hash();return te?ie.toString(te):ie};Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$1=Hash$7,inherits$c=inherits_browser$2.exports,Hash$6=hash$1,Buffer$a=safeBuffer.exports.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$6=new Array(80);function Sha(){this.init(),this._w=W$6,Hash$6.call(this,64,56)}inherits$c(Sha,Hash$6);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(te){return te<<5|te>>>27}function rotl30$1(te){return te<<30|te>>>2}function ft$1(te,ee,re,ne){return te===0?ee&re|~ee&ne:te===2?ee&re|ee&ne|re&ne:ee^re^ne}Sha.prototype._update=function(te){for(var ee=this._w,re=this._a|0,ne=this._b|0,oe=this._c|0,ie=this._d|0,se=this._e|0,ue=0;ue<16;++ue)ee[ue]=te.readInt32BE(ue*4);for(;ue<80;++ue)ee[ue]=ee[ue-3]^ee[ue-8]^ee[ue-14]^ee[ue-16];for(var he=0;he<80;++he){var ge=~~(he/20),be=rotl5$1(re)+ft$1(ge,ne,oe,ie)+se+ee[he]+K$4[ge]|0;se=ie,ie=oe,oe=rotl30$1(ne),ne=re,re=be}this._a=re+this._a|0,this._b=ne+this._b|0,this._c=oe+this._c|0,this._d=ie+this._d|0,this._e=se+this._e|0};Sha.prototype._hash=function(){var te=Buffer$a.allocUnsafe(20);return te.writeInt32BE(this._a|0,0),te.writeInt32BE(this._b|0,4),te.writeInt32BE(this._c|0,8),te.writeInt32BE(this._d|0,12),te.writeInt32BE(this._e|0,16),te};var sha$1=Sha,inherits$b=inherits_browser$2.exports,Hash$5=hash$1,Buffer$9=safeBuffer.exports.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha1(){this.init(),this._w=W$5,Hash$5.call(this,64,56)}inherits$b(Sha1,Hash$5);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(te){return te<<1|te>>>31}function rotl5(te){return te<<5|te>>>27}function rotl30(te){return te<<30|te>>>2}function ft(te,ee,re,ne){return te===0?ee&re|~ee&ne:te===2?ee&re|ee&ne|re&ne:ee^re^ne}Sha1.prototype._update=function(te){for(var ee=this._w,re=this._a|0,ne=this._b|0,oe=this._c|0,ie=this._d|0,se=this._e|0,ue=0;ue<16;++ue)ee[ue]=te.readInt32BE(ue*4);for(;ue<80;++ue)ee[ue]=rotl1(ee[ue-3]^ee[ue-8]^ee[ue-14]^ee[ue-16]);for(var he=0;he<80;++he){var ge=~~(he/20),be=rotl5(re)+ft(ge,ne,oe,ie)+se+ee[he]+K$3[ge]|0;se=ie,ie=oe,oe=rotl30(ne),ne=re,re=be}this._a=re+this._a|0,this._b=ne+this._b|0,this._c=oe+this._c|0,this._d=ie+this._d|0,this._e=se+this._e|0};Sha1.prototype._hash=function(){var te=Buffer$9.allocUnsafe(20);return te.writeInt32BE(this._a|0,0),te.writeInt32BE(this._b|0,4),te.writeInt32BE(this._c|0,8),te.writeInt32BE(this._d|0,12),te.writeInt32BE(this._e|0,16),te};var sha1=Sha1,inherits$a=inherits_browser$2.exports,Hash$4=hash$1,Buffer$8=safeBuffer.exports.Buffer,K$2=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$4=new Array(64);function Sha256$1(){this.init(),this._w=W$4,Hash$4.call(this,64,56)}inherits$a(Sha256$1,Hash$4);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch$1(te,ee,re){return re^te&(ee^re)}function maj$1(te,ee,re){return te&ee|re&(te|ee)}function sigma0$1(te){return(te>>>2|te<<30)^(te>>>13|te<<19)^(te>>>22|te<<10)}function sigma1$1(te){return(te>>>6|te<<26)^(te>>>11|te<<21)^(te>>>25|te<<7)}function gamma0(te){return(te>>>7|te<<25)^(te>>>18|te<<14)^te>>>3}function gamma1(te){return(te>>>17|te<<15)^(te>>>19|te<<13)^te>>>10}Sha256$1.prototype._update=function(te){for(var ee=this._w,re=this._a|0,ne=this._b|0,oe=this._c|0,ie=this._d|0,se=this._e|0,ue=this._f|0,he=this._g|0,ge=this._h|0,be=0;be<16;++be)ee[be]=te.readInt32BE(be*4);for(;be<64;++be)ee[be]=gamma1(ee[be-2])+ee[be-7]+gamma0(ee[be-15])+ee[be-16]|0;for(var Se=0;Se<64;++Se){var Te=ge+sigma1$1(se)+ch$1(se,ue,he)+K$2[Se]+ee[Se]|0,ke=sigma0$1(re)+maj$1(re,ne,oe)|0;ge=he,he=ue,ue=se,se=ie+Te|0,ie=oe,oe=ne,ne=re,re=Te+ke|0}this._a=re+this._a|0,this._b=ne+this._b|0,this._c=oe+this._c|0,this._d=ie+this._d|0,this._e=se+this._e|0,this._f=ue+this._f|0,this._g=he+this._g|0,this._h=ge+this._h|0};Sha256$1.prototype._hash=function(){var te=Buffer$8.allocUnsafe(32);return te.writeInt32BE(this._a,0),te.writeInt32BE(this._b,4),te.writeInt32BE(this._c,8),te.writeInt32BE(this._d,12),te.writeInt32BE(this._e,16),te.writeInt32BE(this._f,20),te.writeInt32BE(this._g,24),te.writeInt32BE(this._h,28),te};var sha256=Sha256$1,inherits$9=inherits_browser$2.exports,Sha256=sha256,Hash$3=hash$1,Buffer$7=safeBuffer.exports.Buffer,W$3=new Array(64);function Sha224(){this.init(),this._w=W$3,Hash$3.call(this,64,56)}inherits$9(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var te=Buffer$7.allocUnsafe(28);return te.writeInt32BE(this._a,0),te.writeInt32BE(this._b,4),te.writeInt32BE(this._c,8),te.writeInt32BE(this._d,12),te.writeInt32BE(this._e,16),te.writeInt32BE(this._f,20),te.writeInt32BE(this._g,24),te};var sha224=Sha224,inherits$8=inherits_browser$2.exports,Hash$2=hash$1,Buffer$6=safeBuffer.exports.Buffer,K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$2=new Array(160);function Sha512(){this.init(),this._w=W$2,Hash$2.call(this,128,112)}inherits$8(Sha512,Hash$2);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(te,ee,re){return re^te&(ee^re)}function maj(te,ee,re){return te&ee|re&(te|ee)}function sigma0(te,ee){return(te>>>28|ee<<4)^(ee>>>2|te<<30)^(ee>>>7|te<<25)}function sigma1(te,ee){return(te>>>14|ee<<18)^(te>>>18|ee<<14)^(ee>>>9|te<<23)}function Gamma0(te,ee){return(te>>>1|ee<<31)^(te>>>8|ee<<24)^te>>>7}function Gamma0l(te,ee){return(te>>>1|ee<<31)^(te>>>8|ee<<24)^(te>>>7|ee<<25)}function Gamma1(te,ee){return(te>>>19|ee<<13)^(ee>>>29|te<<3)^te>>>6}function Gamma1l(te,ee){return(te>>>19|ee<<13)^(ee>>>29|te<<3)^(te>>>6|ee<<26)}function getCarry(te,ee){return te>>>0<ee>>>0?1:0}Sha512.prototype._update=function(te){for(var ee=this._w,re=this._ah|0,ne=this._bh|0,oe=this._ch|0,ie=this._dh|0,se=this._eh|0,ue=this._fh|0,he=this._gh|0,ge=this._hh|0,be=this._al|0,Se=this._bl|0,Te=this._cl|0,ke=this._dl|0,Re=this._el|0,Ce=this._fl|0,Pe=this._gl|0,Ie=this._hl|0,Ne=0;Ne<32;Ne+=2)ee[Ne]=te.readInt32BE(Ne*4),ee[Ne+1]=te.readInt32BE(Ne*4+4);for(;Ne<160;Ne+=2){var He=ee[Ne-30],Ke=ee[Ne-15*2+1],Ge=Gamma0(He,Ke),ut=Gamma0l(Ke,He);He=ee[Ne-2*2],Ke=ee[Ne-2*2+1];var Ve=Gamma1(He,Ke),nt=Gamma1l(Ke,He),st=ee[Ne-7*2],qe=ee[Ne-7*2+1],ye=ee[Ne-16*2],ae=ee[Ne-16*2+1],ce=ut+qe|0,le=Ge+st+getCarry(ce,ut)|0;ce=ce+nt|0,le=le+Ve+getCarry(ce,nt)|0,ce=ce+ae|0,le=le+ye+getCarry(ce,ae)|0,ee[Ne]=le,ee[Ne+1]=ce}for(var pe=0;pe<160;pe+=2){le=ee[pe],ce=ee[pe+1];var _e=maj(re,ne,oe),$e=maj(be,Se,Te),Ee=sigma0(re,be),me=sigma0(be,re),fe=sigma1(se,Re),we=sigma1(Re,se),Me=K$1[pe],Le=K$1[pe+1],Je=Ch(se,ue,he),Ue=Ch(Re,Ce,Pe),ct=Ie+we|0,gt=ge+fe+getCarry(ct,Ie)|0;ct=ct+Ue|0,gt=gt+Je+getCarry(ct,Ue)|0,ct=ct+Le|0,gt=gt+Me+getCarry(ct,Le)|0,ct=ct+ce|0,gt=gt+le+getCarry(ct,ce)|0;var $t=me+$e|0,vt=Ee+_e+getCarry($t,me)|0;ge=he,Ie=Pe,he=ue,Pe=Ce,ue=se,Ce=Re,Re=ke+ct|0,se=ie+gt+getCarry(Re,ke)|0,ie=oe,ke=Te,oe=ne,Te=Se,ne=re,Se=be,be=ct+$t|0,re=gt+vt+getCarry(be,ct)|0}this._al=this._al+be|0,this._bl=this._bl+Se|0,this._cl=this._cl+Te|0,this._dl=this._dl+ke|0,this._el=this._el+Re|0,this._fl=this._fl+Ce|0,this._gl=this._gl+Pe|0,this._hl=this._hl+Ie|0,this._ah=this._ah+re+getCarry(this._al,be)|0,this._bh=this._bh+ne+getCarry(this._bl,Se)|0,this._ch=this._ch+oe+getCarry(this._cl,Te)|0,this._dh=this._dh+ie+getCarry(this._dl,ke)|0,this._eh=this._eh+se+getCarry(this._el,Re)|0,this._fh=this._fh+ue+getCarry(this._fl,Ce)|0,this._gh=this._gh+he+getCarry(this._gl,Pe)|0,this._hh=this._hh+ge+getCarry(this._hl,Ie)|0};Sha512.prototype._hash=function(){var te=Buffer$6.allocUnsafe(64);function ee(re,ne,oe){te.writeInt32BE(re,oe),te.writeInt32BE(ne,oe+4)}return ee(this._ah,this._al,0),ee(this._bh,this._bl,8),ee(this._ch,this._cl,16),ee(this._dh,this._dl,24),ee(this._eh,this._el,32),ee(this._fh,this._fl,40),ee(this._gh,this._gl,48),ee(this._hh,this._hl,56),te};var sha512=Sha512,inherits$7=inherits_browser$2.exports,SHA512=sha512,Hash$1=hash$1,Buffer$5=safeBuffer.exports.Buffer,W$1=new Array(160);function Sha384(){this.init(),this._w=W$1,Hash$1.call(this,128,112)}inherits$7(Sha384,SHA512);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var te=Buffer$5.allocUnsafe(48);function ee(re,ne,oe){te.writeInt32BE(re,oe),te.writeInt32BE(ne,oe+4)}return ee(this._ah,this._al,0),ee(this._bh,this._bl,8),ee(this._ch,this._cl,16),ee(this._dh,this._dl,24),ee(this._eh,this._el,32),ee(this._fh,this._fl,40),te};var sha384=Sha384,exports$1=sha_js.exports=function te(ee){ee=ee.toLowerCase();var re=exports$1[ee];if(!re)throw new Error(ee+" is not supported (we accept pull requests)");return new re};exports$1.sha=sha$1;exports$1.sha1=sha1;exports$1.sha224=sha224;exports$1.sha256=sha256;exports$1.sha384=sha384;exports$1.sha512=sha512;var string_decoder={},Buffer$4=buffer$2.Buffer,isBufferEncoding=Buffer$4.isEncoding||function(te){switch(te&&te.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function assertEncoding(te){if(te&&!isBufferEncoding(te))throw new Error("Unknown encoding: "+te)}var StringDecoder$1=string_decoder.StringDecoder=function(te){switch(this.encoding=(te||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(te),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer$4(6),this.charReceived=0,this.charLength=0};StringDecoder$1.prototype.write=function(te){for(var ee="";this.charLength;){var re=te.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:te.length;if(te.copy(this.charBuffer,this.charReceived,0,re),this.charReceived+=re,this.charReceived<this.charLength)return"";te=te.slice(re,te.length),ee=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var oe=ee.charCodeAt(ee.length-1);if(oe>=55296&&oe<=56319){this.charLength+=this.surrogateSize,ee="";continue}if(this.charReceived=this.charLength=0,te.length===0)return ee;break}this.detectIncompleteChar(te);var ne=te.length;this.charLength&&(te.copy(this.charBuffer,0,te.length-this.charReceived,ne),ne-=this.charReceived),ee+=te.toString(this.encoding,0,ne);var ne=ee.length-1,oe=ee.charCodeAt(ne);if(oe>=55296&&oe<=56319){var ie=this.surrogateSize;return this.charLength+=ie,this.charReceived+=ie,this.charBuffer.copy(this.charBuffer,ie,0,ie),te.copy(this.charBuffer,0,0,ie),ee.substring(0,ne)}return ee};StringDecoder$1.prototype.detectIncompleteChar=function(te){for(var ee=te.length>=3?3:te.length;ee>0;ee--){var re=te[te.length-ee];if(ee==1&&re>>5==6){this.charLength=2;break}if(ee<=2&&re>>4==14){this.charLength=3;break}if(ee<=3&&re>>3==30){this.charLength=4;break}}this.charReceived=ee};StringDecoder$1.prototype.end=function(te){var ee="";if(te&&te.length&&(ee=this.write(te)),this.charReceived){var re=this.charReceived,ne=this.charBuffer,oe=this.encoding;ee+=ne.slice(0,re).toString(oe)}return ee};function passThroughWrite(te){return te.toString(this.encoding)}function utf16DetectIncompleteChar(te){this.charReceived=te.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(te){this.charReceived=te.length%3,this.charLength=this.charReceived?3:0}var Buffer$3=safeBuffer.exports.Buffer,Transform=require$$3$1.Transform,StringDecoder=string_decoder.StringDecoder,inherits$6=inherits_browser$2.exports;function CipherBase(te){Transform.call(this),this.hashMode=typeof te=="string",this.hashMode?this[te]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$6(CipherBase,Transform);CipherBase.prototype.update=function(te,ee,re){typeof te=="string"&&(te=Buffer$3.from(te,ee));var ne=this._update(te);return this.hashMode?this:(re&&(ne=this._toString(ne,re)),ne)};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(te,ee,re){var ne;try{this.hashMode?this._update(te):this.push(this._update(te))}catch(oe){ne=oe}finally{re(ne)}};CipherBase.prototype._flush=function(te){var ee;try{this.push(this.__final())}catch(re){ee=re}te(ee)};CipherBase.prototype._finalOrDigest=function(te){var ee=this.__final()||Buffer$3.alloc(0);return te&&(ee=this._toString(ee,te,!0)),ee};CipherBase.prototype._toString=function(te,ee,re){if(this._decoder||(this._decoder=new StringDecoder(ee),this._encoding=ee),this._encoding!==ee)throw new Error("can't switch encodings");var ne=this._decoder.write(te);return re&&(ne+=this._decoder.end()),ne};var cipherBase=CipherBase,inherits$5=inherits_browser$2.exports,MD5=md5_js,RIPEMD160=ripemd160,sha=sha_js.exports,Base=cipherBase;function Hash(te){Base.call(this,"digest"),this._hash=te}inherits$5(Hash,Base);Hash.prototype._update=function(te){this._hash.update(te)};Hash.prototype._final=function(){return this._hash.digest()};var browser$2=function te(ee){return ee=ee.toLowerCase(),ee==="md5"?new MD5:ee==="rmd160"||ee==="ripemd160"?new RIPEMD160:new Hash(sha(ee))},src$1=function te(ee){if(typeof ee!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof ee+", while checking isHexPrefixed.");return ee.slice(0,2)==="0x"},isHexPrefixed$1=src$1,src=function te(ee){return typeof ee!="string"?ee:isHexPrefixed$1(ee)?ee.slice(2):ee},isHexPrefixed=src$1,stripHexPrefix=src;function padToEven(te){var ee=te;if(typeof ee!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof ee+", while padToEven.");return ee.length%2&&(ee="0"+ee),ee}function intToHex$3(te){var ee=te.toString(16);return"0x"+ee}function intToBuffer(te){var ee=intToHex$3(te);return new buffer$2.Buffer(padToEven(ee.slice(2)),"hex")}function getBinarySize(te){if(typeof te!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof te+"'.");return buffer$2.Buffer.byteLength(te,"utf8")}function arrayContainsArray(te,ee,re){if(Array.isArray(te)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof te+"'");if(Array.isArray(ee)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof ee+"'");return ee[Boolean(re)&&"some"||"every"](function(ne){return te.indexOf(ne)>=0})}function toUtf8(te){var ee=new buffer$2.Buffer(padToEven(stripHexPrefix(te).replace(/^0+|0+$/g,"")),"hex");return ee.toString("utf8")}function toAscii(te){var ee="",re=0,ne=te.length;for(te.substring(0,2)==="0x"&&(re=2);re<ne;re+=2){var oe=parseInt(te.substr(re,2),16);ee+=String.fromCharCode(oe)}return ee}function fromUtf8(te){var ee=new buffer$2.Buffer(te,"utf8");return"0x"+padToEven(ee.toString("hex")).replace(/^0+|0+$/g,"")}function fromAscii(te){for(var ee="",re=0;re<te.length;re++){var ne=te.charCodeAt(re),oe=ne.toString(16);ee+=oe.length<2?"0"+oe:oe}return"0x"+ee}function getKeys(te,ee,re){if(!Array.isArray(te))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof te+"'");if(typeof ee!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof ee+"'.");for(var ne=[],oe=0;oe<te.length;oe++){var ie=te[oe][ee];if(re&&!ie)ie="";else if(typeof ie!="string")throw new Error("invalid abi");ne.push(ie)}return ne}function isHexString$2(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}var lib$2={arrayContainsArray,intToBuffer,getBinarySize,isHexPrefixed,stripHexPrefix,padToEven,intToHex:intToHex$3,fromAscii,fromUtf8,toAscii,toUtf8,getKeys,isHexString:isHexString$2};(function(te){var ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},re=keccak$2,ne=re.keccak224,oe=re.keccak384,ie=re.keccak256,se=re.keccak512,ue=secp256k1Adapter,he=require$$3$1,ge=dist_browser,be=bn$2.exports,Se=browser$2,Te=safeBuffer.exports.Buffer;Object.assign(te,lib$2),te.MAX_INTEGER=new be("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),te.TWO_POW256=new be("10000000000000000000000000000000000000000000000000000000000000000",16),te.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",te.SHA3_NULL_S=te.KECCAK256_NULL_S,te.KECCAK256_NULL=Te.from(te.KECCAK256_NULL_S,"hex"),te.SHA3_NULL=te.KECCAK256_NULL,te.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",te.SHA3_RLP_ARRAY_S=te.KECCAK256_RLP_ARRAY_S,te.KECCAK256_RLP_ARRAY=Te.from(te.KECCAK256_RLP_ARRAY_S,"hex"),te.SHA3_RLP_ARRAY=te.KECCAK256_RLP_ARRAY,te.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",te.SHA3_RLP_S=te.KECCAK256_RLP_S,te.KECCAK256_RLP=Te.from(te.KECCAK256_RLP_S,"hex"),te.SHA3_RLP=te.KECCAK256_RLP,te.BN=be,te.rlp=ge,te.secp256k1=ue,te.zeros=function(Re){return Te.allocUnsafe(Re).fill(0)},te.zeroAddress=function(){var Re=20,Ce=te.zeros(Re);return te.bufferToHex(Ce)},te.setLengthLeft=te.setLength=function(Re,Ce,Pe){var Ie=te.zeros(Ce);return Re=te.toBuffer(Re),Pe?Re.length<Ce?(Re.copy(Ie),Ie):Re.slice(0,Ce):Re.length<Ce?(Re.copy(Ie,Ce-Re.length),Ie):Re.slice(-Ce)},te.setLengthRight=function(Re,Ce){return te.setLength(Re,Ce,!0)},te.unpad=te.stripZeros=function(Re){Re=te.stripHexPrefix(Re);for(var Ce=Re[0];Re.length>0&&Ce.toString()==="0";)Re=Re.slice(1),Ce=Re[0];return Re},te.toBuffer=function(Re){if(!Te.isBuffer(Re))if(Array.isArray(Re))Re=Te.from(Re);else if(typeof Re=="string")te.isHexString(Re)?Re=Te.from(te.padToEven(te.stripHexPrefix(Re)),"hex"):Re=Te.from(Re);else if(typeof Re=="number")Re=te.intToBuffer(Re);else if(Re==null)Re=Te.allocUnsafe(0);else if(be.isBN(Re))Re=Re.toArrayLike(Te);else if(Re.toArray)Re=Te.from(Re.toArray());else throw new Error("invalid type");return Re},te.bufferToInt=function(Re){return new be(te.toBuffer(Re)).toNumber()},te.bufferToHex=function(Re){return Re=te.toBuffer(Re),"0x"+Re.toString("hex")},te.fromSigned=function(Re){return new be(Re).fromTwos(256)},te.toUnsigned=function(Re){return Te.from(Re.toTwos(256).toArray())},te.keccak=function(Re,Ce){switch(Re=te.toBuffer(Re),Ce||(Ce=256),Ce){case 224:return ne(Re);case 256:return ie(Re);case 384:return oe(Re);case 512:return se(Re);default:throw new Error("Invald algorithm: keccak"+Ce)}},te.keccak256=function(Re){return te.keccak(Re)},te.sha3=te.keccak,te.sha256=function(Re){return Re=te.toBuffer(Re),Se("sha256").update(Re).digest()},te.ripemd160=function(Re,Ce){Re=te.toBuffer(Re);var Pe=Se("rmd160").update(Re).digest();return Ce===!0?te.setLength(Pe,32):Pe},te.rlphash=function(Re){return te.keccak(ge.encode(Re))},te.isValidPrivate=function(Re){return ue.privateKeyVerify(Re)},te.isValidPublic=function(Re,Ce){return Re.length===64?ue.publicKeyVerify(Te.concat([Te.from([4]),Re])):Ce?ue.publicKeyVerify(Re):!1},te.pubToAddress=te.publicToAddress=function(Re,Ce){return Re=te.toBuffer(Re),Ce&&Re.length!==64&&(Re=ue.publicKeyConvert(Re,!1).slice(1)),he(Re.length===64),te.keccak(Re).slice(-20)};var ke=te.privateToPublic=function(Re){return Re=te.toBuffer(Re),ue.publicKeyCreate(Re,!1).slice(1)};te.importPublic=function(Re){return Re=te.toBuffer(Re),Re.length!==64&&(Re=ue.publicKeyConvert(Re,!1).slice(1)),Re},te.ecsign=function(Re,Ce){var Pe=ue.sign(Re,Ce),Ie={};return Ie.r=Pe.signature.slice(0,32),Ie.s=Pe.signature.slice(32,64),Ie.v=Pe.recovery+27,Ie},te.hashPersonalMessage=function(Re){var Ce=te.toBuffer(`Ethereum Signed Message:
`+Re.length.toString());return te.keccak(Te.concat([Ce,Re]))},te.ecrecover=function(Re,Ce,Pe,Ie){var Ne=Te.concat([te.setLength(Pe,32),te.setLength(Ie,32)],64),He=Ce-27;if(He!==0&&He!==1)throw new Error("Invalid signature v value");var Ke=ue.recover(Re,Ne,He);return ue.publicKeyConvert(Ke,!1).slice(1)},te.toRpcSig=function(Re,Ce,Pe){if(Re!==27&&Re!==28)throw new Error("Invalid recovery id");return te.bufferToHex(Te.concat([te.setLengthLeft(Ce,32),te.setLengthLeft(Pe,32),te.toBuffer(Re-27)]))},te.fromRpcSig=function(Re){if(Re=te.toBuffer(Re),Re.length!==65)throw new Error("Invalid signature length");var Ce=Re[64];return Ce<27&&(Ce+=27),{v:Ce,r:Re.slice(0,32),s:Re.slice(32,64)}},te.privateToAddress=function(Re){return te.publicToAddress(ke(Re))},te.isValidAddress=function(Re){return/^0x[0-9a-fA-F]{40}$/.test(Re)},te.isZeroAddress=function(Re){var Ce=te.zeroAddress();return Ce===te.addHexPrefix(Re)},te.toChecksumAddress=function(Re){Re=te.stripHexPrefix(Re).toLowerCase();for(var Ce=te.keccak(Re).toString("hex"),Pe="0x",Ie=0;Ie<Re.length;Ie++)parseInt(Ce[Ie],16)>=8?Pe+=Re[Ie].toUpperCase():Pe+=Re[Ie];return Pe},te.isValidChecksumAddress=function(Re){return te.isValidAddress(Re)&&te.toChecksumAddress(Re)===Re},te.generateAddress=function(Re,Ce){return Re=te.toBuffer(Re),Ce=new be(Ce),Ce.isZero()?Ce=null:Ce=Te.from(Ce.toArray()),te.rlphash([Re,Ce]).slice(-20)},te.isPrecompiled=function(Re){var Ce=te.unpad(Re);return Ce.length===1&&Ce[0]>=1&&Ce[0]<=8},te.addHexPrefix=function(Re){return typeof Re!="string"||te.isHexPrefixed(Re)?Re:"0x"+Re},te.isValidSignature=function(Re,Ce,Pe,Ie){var Ne=new be("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),He=new be("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return!(Ce.length!==32||Pe.length!==32||Re!==27&&Re!==28||(Ce=new be(Ce),Pe=new be(Pe),Ce.isZero()||Ce.gt(He)||Pe.isZero()||Pe.gt(He))||Ie===!1&&new be(Pe).cmp(Ne)===1)},te.baToJSON=function(Re){if(Te.isBuffer(Re))return"0x"+Re.toString("hex");if(Re instanceof Array){for(var Ce=[],Pe=0;Pe<Re.length;Pe++)Ce.push(te.baToJSON(Re[Pe]));return Ce}},te.defineProperties=function(Re,Ce,Pe){if(Re.raw=[],Re._fields=[],Re.toJSON=function(Ne){if(Ne){var He={};return Re._fields.forEach(function(Ke){He[Ke]="0x"+Re[Ke].toString("hex")}),He}return te.baToJSON(this.raw)},Re.serialize=function(){return ge.encode(Re.raw)},Ce.forEach(function(Ne,He){Re._fields.push(Ne.name);function Ke(){return Re.raw[He]}function Ge(ut){ut=te.toBuffer(ut),ut.toString("hex")==="00"&&!Ne.allowZero&&(ut=Te.allocUnsafe(0)),Ne.allowLess&&Ne.length?(ut=te.stripZeros(ut),he(Ne.length>=ut.length,"The field "+Ne.name+" must not have more "+Ne.length+" bytes")):!(Ne.allowZero&&ut.length===0)&&Ne.length&&he(Ne.length===ut.length,"The field "+Ne.name+" must have byte length of "+Ne.length),Re.raw[He]=ut}Object.defineProperty(Re,Ne.name,{enumerable:!0,configurable:!0,get:Ke,set:Ge}),Ne.default&&(Re[Ne.name]=Ne.default),Ne.alias&&Object.defineProperty(Re,Ne.alias,{enumerable:!1,configurable:!0,set:Ge,get:Ke})}),Pe)if(typeof Pe=="string"&&(Pe=Te.from(te.stripHexPrefix(Pe),"hex")),Te.isBuffer(Pe)&&(Pe=ge.decode(Pe)),Array.isArray(Pe)){if(Pe.length>Re._fields.length)throw new Error("wrong number of fields in data");Pe.forEach(function(Ne,He){Re[Re._fields[He]]=te.toBuffer(Ne)})}else if((typeof Pe=="undefined"?"undefined":ee(Pe))==="object"){var Ie=Object.keys(Pe);Ce.forEach(function(Ne){Ie.indexOf(Ne.name)!==-1&&(Re[Ne.name]=Pe[Ne.name]),Ie.indexOf(Ne.alias)!==-1&&(Re[Ne.alias]=Pe[Ne.alias])})}else throw new Error("invalid data")}})(dist$4);const processFn$1=(te,ee)=>function(){const re=ee.promiseModule,ne=new Array(arguments.length);for(let oe=0;oe<arguments.length;oe++)ne[oe]=arguments[oe];return new re((oe,ie)=>{ee.errorFirst?ne.push(function(se,ue){if(ee.multiArgs){const he=new Array(arguments.length-1);for(let ge=1;ge<arguments.length;ge++)he[ge-1]=arguments[ge];se?(he.unshift(se),ie(he)):oe(he)}else se?ie(se):oe(ue)}):ne.push(function(se){if(ee.multiArgs){const ue=new Array(arguments.length-1);for(let he=0;he<arguments.length;he++)ue[he]=arguments[he];oe(ue)}else oe(se)}),te.apply(this,ne)})};var pify$3=(te,ee)=>{ee=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},ee);const re=oe=>{const ie=se=>typeof se=="string"?oe===se:se.test(oe);return ee.include?ee.include.some(ie):!ee.exclude.some(ie)};let ne;typeof te=="function"?ne=function(){return ee.excludeMain?te.apply(this,arguments):processFn$1(te,ee).apply(this,arguments)}:ne=Object.create(Object.getPrototypeOf(te));for(const oe in te){const ie=te[oe];ne[oe]=typeof ie=="function"&&re(oe)?processFn$1(ie,ee):ie}return ne},immutable=extend$3,hasOwnProperty$4=Object.prototype.hasOwnProperty;function extend$3(){for(var te={},ee=0;ee<arguments.length;ee++){var re=arguments[ee];for(var ne in re)hasOwnProperty$4.call(re,ne)&&(te[ne]=re[ne])}return te}var jsonRpcRandomId=IdIterator;function IdIterator(te){te=te||{};var ee=te.max||Number.MAX_SAFE_INTEGER,re=typeof te.start!="undefined"?te.start:Math.floor(Math.random()*ee);return function(){return re=re%ee,re++}}const extend$2=immutable,createRandomId$1=jsonRpcRandomId();var ethQuery=EthQuery$1;function EthQuery$1(te){const ee=this;ee.currentProvider=te}EthQuery$1.prototype.getBalance=generateFnWithDefaultBlockFor(2,"eth_getBalance");EthQuery$1.prototype.getCode=generateFnWithDefaultBlockFor(2,"eth_getCode");EthQuery$1.prototype.getTransactionCount=generateFnWithDefaultBlockFor(2,"eth_getTransactionCount");EthQuery$1.prototype.getStorageAt=generateFnWithDefaultBlockFor(3,"eth_getStorageAt");EthQuery$1.prototype.call=generateFnWithDefaultBlockFor(2,"eth_call");EthQuery$1.prototype.protocolVersion=generateFnFor("eth_protocolVersion");EthQuery$1.prototype.syncing=generateFnFor("eth_syncing");EthQuery$1.prototype.coinbase=generateFnFor("eth_coinbase");EthQuery$1.prototype.mining=generateFnFor("eth_mining");EthQuery$1.prototype.hashrate=generateFnFor("eth_hashrate");EthQuery$1.prototype.gasPrice=generateFnFor("eth_gasPrice");EthQuery$1.prototype.accounts=generateFnFor("eth_accounts");EthQuery$1.prototype.blockNumber=generateFnFor("eth_blockNumber");EthQuery$1.prototype.getBlockTransactionCountByHash=generateFnFor("eth_getBlockTransactionCountByHash");EthQuery$1.prototype.getBlockTransactionCountByNumber=generateFnFor("eth_getBlockTransactionCountByNumber");EthQuery$1.prototype.getUncleCountByBlockHash=generateFnFor("eth_getUncleCountByBlockHash");EthQuery$1.prototype.getUncleCountByBlockNumber=generateFnFor("eth_getUncleCountByBlockNumber");EthQuery$1.prototype.sign=generateFnFor("eth_sign");EthQuery$1.prototype.sendTransaction=generateFnFor("eth_sendTransaction");EthQuery$1.prototype.sendRawTransaction=generateFnFor("eth_sendRawTransaction");EthQuery$1.prototype.estimateGas=generateFnFor("eth_estimateGas");EthQuery$1.prototype.getBlockByHash=generateFnFor("eth_getBlockByHash");EthQuery$1.prototype.getBlockByNumber=generateFnFor("eth_getBlockByNumber");EthQuery$1.prototype.getTransactionByHash=generateFnFor("eth_getTransactionByHash");EthQuery$1.prototype.getTransactionByBlockHashAndIndex=generateFnFor("eth_getTransactionByBlockHashAndIndex");EthQuery$1.prototype.getTransactionByBlockNumberAndIndex=generateFnFor("eth_getTransactionByBlockNumberAndIndex");EthQuery$1.prototype.getTransactionReceipt=generateFnFor("eth_getTransactionReceipt");EthQuery$1.prototype.getUncleByBlockHashAndIndex=generateFnFor("eth_getUncleByBlockHashAndIndex");EthQuery$1.prototype.getUncleByBlockNumberAndIndex=generateFnFor("eth_getUncleByBlockNumberAndIndex");EthQuery$1.prototype.getCompilers=generateFnFor("eth_getCompilers");EthQuery$1.prototype.compileLLL=generateFnFor("eth_compileLLL");EthQuery$1.prototype.compileSolidity=generateFnFor("eth_compileSolidity");EthQuery$1.prototype.compileSerpent=generateFnFor("eth_compileSerpent");EthQuery$1.prototype.newFilter=generateFnFor("eth_newFilter");EthQuery$1.prototype.newBlockFilter=generateFnFor("eth_newBlockFilter");EthQuery$1.prototype.newPendingTransactionFilter=generateFnFor("eth_newPendingTransactionFilter");EthQuery$1.prototype.uninstallFilter=generateFnFor("eth_uninstallFilter");EthQuery$1.prototype.getFilterChanges=generateFnFor("eth_getFilterChanges");EthQuery$1.prototype.getFilterLogs=generateFnFor("eth_getFilterLogs");EthQuery$1.prototype.getLogs=generateFnFor("eth_getLogs");EthQuery$1.prototype.getWork=generateFnFor("eth_getWork");EthQuery$1.prototype.submitWork=generateFnFor("eth_submitWork");EthQuery$1.prototype.submitHashrate=generateFnFor("eth_submitHashrate");EthQuery$1.prototype.sendAsync=function(te,ee){this.currentProvider.sendAsync(createPayload$4(te),function(ne,oe){if(!ne&&oe.error&&(ne=new Error("EthQuery - RPC Error - "+oe.error.message)),ne)return ee(ne);ee(null,oe.result)})};function generateFnFor(te){return function(){const ee=this;var re=[].slice.call(arguments),ne=re.pop();ee.sendAsync({method:te,params:re},ne)}}function generateFnWithDefaultBlockFor(te,ee){return function(){const re=this;var ne=[].slice.call(arguments),oe=ne.pop();ne.length<te&&ne.push("latest"),re.sendAsync({method:ee,params:ne},oe)}}function createPayload$4(te){return extend$2({id:createRandomId$1(),jsonrpc:"2.0",params:[]},te)}const util=util$1,EventEmitter$2=events.exports;var R$1=typeof Reflect=="object"?Reflect:null,ReflectApply=R$1&&typeof R$1.apply=="function"?R$1.apply:function te(ee,re,ne){return Function.prototype.apply.call(ee,re,ne)},safeEventEmitter$1=SafeEventEmitter$4;function SafeEventEmitter$4(){EventEmitter$2.call(this)}util.inherits(SafeEventEmitter$4,EventEmitter$2);SafeEventEmitter$4.prototype.emit=function(te){for(var ee=[],re=1;re<arguments.length;re++)ee.push(arguments[re]);var ne=te==="error",oe=this._events;if(oe!==void 0)ne=ne&&oe.error===void 0;else if(!ne)return!1;if(ne){var ie;if(ee.length>0&&(ie=ee[0]),ie instanceof Error)throw ie;var se=new Error("Unhandled error."+(ie?" ("+ie.message+")":""));throw se.context=ie,se}var ue=oe[te];if(ue===void 0)return!1;if(typeof ue=="function")safeApply$1(ue,this,ee);else for(var he=ue.length,ge=arrayClone$1(ue,he),re=0;re<he;++re)safeApply$1(ge[re],this,ee);return!0};function safeApply$1(te,ee,re){try{ReflectApply(te,ee,re)}catch(ne){setTimeout(()=>{throw ne})}}function arrayClone$1(te,ee){for(var re=new Array(ee),ne=0;ne<ee;++ne)re[ne]=te[ne];return re}const SafeEventEmitter$3=safeEventEmitter$1,sec$1=1e3,calculateSum=(te,ee)=>te+ee,blockTrackerEvents=["sync","latest"];class BaseBlockTracker$1 extends SafeEventEmitter$3{constructor(ee={}){super(),this._blockResetDuration=ee.blockResetDuration||20*sec$1,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(re=>this.once("latest",re))}removeAllListeners(ee){ee?super.removeAllListeners(ee):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(ee,re){!blockTrackerEvents.includes(ee)||this._maybeStart()}_onRemoveListener(ee,re){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return blockTrackerEvents.map(ee=>this.listenerCount(ee)).reduce(calculateSum)}_newPotentialLatest(ee){const re=this._currentBlock;re&&hexToInt$4(ee)<=hexToInt$4(re)||this._setCurrentBlock(ee)}_setCurrentBlock(ee){const re=this._currentBlock;this._currentBlock=ee,this.emit("latest",ee),this.emit("sync",{oldBlock:re,newBlock:ee})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var base=BaseBlockTracker$1;function hexToInt$4(te){return Number.parseInt(te,16)}const pify$2=pify$3,BaseBlockTracker=base,sec=1e3;class PollingBlockTracker extends BaseBlockTracker{constructor(ee={}){if(!ee.provider)throw new Error("PollingBlockTracker - no provider specified.");const re=ee.pollingInterval||20*sec,ne=ee.retryTimeout||re/10,oe=ee.keepEventLoopActive!==void 0?ee.keepEventLoopActive:!0,ie=ee.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:re},ee)),this._provider=ee.provider,this._pollingInterval=re,this._retryTimeout=ne,this._keepEventLoopActive=oe,this._setSkipCacheFlag=ie}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(ee=>this.emit("error",ee))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await timeout(this._pollingInterval,!this._keepEventLoopActive)}catch(ee){const re=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${ee.stack}`);try{this.emit("error",re)}catch{console.error(re)}await timeout(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const ee=await this._fetchLatestBlock();this._newPotentialLatest(ee)}async _fetchLatestBlock(){const ee={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(ee.skipCache=!0);const re=await pify$2(ne=>this._provider.sendAsync(ee,ne))();if(re.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${re.error}`);return re.result}}var polling=PollingBlockTracker;function timeout(te,ee){return new Promise(re=>{const ne=setTimeout(re,te);ne.unref&&ee&&ne.unref()})}var map$2={exports:{}},doParallel={exports:{}},eachOf={exports:{}},freeGlobal$1=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function("return this")(),_root=root$1,root=_root,Symbol$3=root.Symbol,_Symbol=Symbol$3,Symbol$2=_Symbol,objectProto$5=Object.prototype,hasOwnProperty$3=objectProto$5.hasOwnProperty,nativeObjectToString$1=objectProto$5.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag$1(te){var ee=hasOwnProperty$3.call(te,symToStringTag$1),re=te[symToStringTag$1];try{te[symToStringTag$1]=void 0;var ne=!0}catch{}var oe=nativeObjectToString$1.call(te);return ne&&(ee?te[symToStringTag$1]=re:delete te[symToStringTag$1]),oe}var _getRawTag=getRawTag$1,objectProto$4=Object.prototype,nativeObjectToString=objectProto$4.toString;function objectToString$1(te){return nativeObjectToString.call(te)}var _objectToString=objectToString$1,Symbol$1=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag$3(te){return te==null?te===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(te)?getRawTag(te):objectToString(te)}var _baseGetTag=baseGetTag$3;function isObject$1(te){var ee=typeof te;return te!=null&&(ee=="object"||ee=="function")}var isObject_1=isObject$1,baseGetTag$2=_baseGetTag,isObject=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(te){if(!isObject(te))return!1;var ee=baseGetTag$2(te);return ee==funcTag$1||ee==genTag||ee==asyncTag||ee==proxyTag}var isFunction_1=isFunction$1,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$2(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$2,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$1(te){return te!=null&&isLength$1(te.length)&&!isFunction(te)}var isArrayLike_1=isArrayLike$1,breakLoop={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default={},te.exports=ee.default})(breakLoop,breakLoop.exports);var eachOfLimit$1={exports:{}},eachOfLimit={exports:{}};function noop$1(){}var noop_1=noop$1,once={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=re;function re(ne){return function(){if(ne!==null){var oe=ne;ne=null,oe.apply(this,arguments)}}}te.exports=ee.default})(once,once.exports);var iterator={exports:{}},getIterator={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=function(ne){return re&&ne[re]&&ne[re]()};var re=typeof Symbol=="function"&&Symbol.iterator;te.exports=ee.default})(getIterator,getIterator.exports);function baseTimes$1(te,ee){for(var re=-1,ne=Array(te);++re<te;)ne[re]=ee(re);return ne}var _baseTimes=baseTimes$1;function isObjectLike$3(te){return te!=null&&typeof te=="object"}var isObjectLike_1=isObjectLike$3,baseGetTag$1=_baseGetTag,isObjectLike$2=isObjectLike_1,argsTag$1="[object Arguments]";function baseIsArguments$1(te){return isObjectLike$2(te)&&baseGetTag$1(te)==argsTag$1}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$1=isObjectLike_1,objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(te){return isObjectLike$1(te)&&hasOwnProperty$2.call(te,"callee")&&!propertyIsEnumerable.call(te,"callee")},isArguments_1=isArguments$1,isArray$5=Array.isArray,isArray_1=isArray$5,isBuffer$1={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;(function(te,ee){var re=_root,ne=stubFalse_1,oe=ee&&!ee.nodeType&&ee,ie=oe&&!0&&te&&!te.nodeType&&te,se=ie&&ie.exports===oe,ue=se?re.Buffer:void 0,he=ue?ue.isBuffer:void 0,ge=he||ne;te.exports=ge})(isBuffer$1,isBuffer$1.exports);var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(te,ee){var re=typeof te;return ee=ee==null?MAX_SAFE_INTEGER:ee,!!ee&&(re=="number"||re!="symbol"&&reIsUint.test(te))&&te>-1&&te%1==0&&te<ee}var _isIndex=isIndex$1,baseGetTag=_baseGetTag,isLength=isLength_1,isObjectLike=isObjectLike_1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;function baseIsTypedArray$1(te){return isObjectLike(te)&&isLength(te.length)&&!!typedArrayTags[baseGetTag(te)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(te){return function(ee){return te(ee)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};(function(te,ee){var re=_freeGlobal,ne=ee&&!ee.nodeType&&ee,oe=ne&&!0&&te&&!te.nodeType&&te,ie=oe&&oe.exports===ne,se=ie&&re.process,ue=function(){try{var he=oe&&oe.require&&oe.require("util").types;return he||se&&se.binding&&se.binding("util")}catch{}}();te.exports=ue})(_nodeUtil,_nodeUtil.exports);var baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtil.exports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$4=isArray_1,isBuffer=isBuffer$1.exports,isIndex=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$2=Object.prototype,hasOwnProperty$1=objectProto$2.hasOwnProperty;function arrayLikeKeys$1(te,ee){var re=isArray$4(te),ne=!re&&isArguments(te),oe=!re&&!ne&&isBuffer(te),ie=!re&&!ne&&!oe&&isTypedArray$2(te),se=re||ne||oe||ie,ue=se?baseTimes(te.length,String):[],he=ue.length;for(var ge in te)(ee||hasOwnProperty$1.call(te,ge))&&!(se&&(ge=="length"||oe&&(ge=="offset"||ge=="parent")||ie&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||isIndex(ge,he)))&&ue.push(ge);return ue}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$1=Object.prototype;function isPrototype$1(te){var ee=te&&te.constructor,re=typeof ee=="function"&&ee.prototype||objectProto$1;return te===re}var _isPrototype=isPrototype$1;function overArg$1(te,ee){return function(re){return te(ee(re))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseKeys$1(te){if(!isPrototype(te))return nativeKeys(te);var ee=[];for(var re in Object(te))hasOwnProperty.call(te,re)&&re!="constructor"&&ee.push(re);return ee}var _baseKeys=baseKeys$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike=isArrayLike_1;function keys(te){return isArrayLike(te)?arrayLikeKeys(te):baseKeys(te)}var keys_1=keys;(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=Te;var re=isArrayLike_1,ne=he(re),oe=getIterator.exports,ie=he(oe),se=keys_1,ue=he(se);function he(ke){return ke&&ke.__esModule?ke:{default:ke}}function ge(ke){var Re=-1,Ce=ke.length;return function(){return++Re<Ce?{value:ke[Re],key:Re}:null}}function be(ke){var Re=-1;return function(){var Pe=ke.next();return Pe.done?null:(Re++,{value:Pe.value,key:Re})}}function Se(ke){var Re=(0,ue.default)(ke),Ce=-1,Pe=Re.length;return function Ie(){var Ne=Re[++Ce];return Ne==="__proto__"?Ie():Ce<Pe?{value:ke[Ne],key:Ne}:null}}function Te(ke){if((0,ne.default)(ke))return ge(ke);var Re=(0,ie.default)(ke);return Re?be(Re):Se(ke)}te.exports=ee.default})(iterator,iterator.exports);var onlyOnce={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=re;function re(ne){return function(){if(ne===null)throw new Error("Callback was already called.");var oe=ne;ne=null,oe.apply(this,arguments)}}te.exports=ee.default})(onlyOnce,onlyOnce.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ke;var re=noop_1,ne=Te(re),oe=once.exports,ie=Te(oe),se=iterator.exports,ue=Te(se),he=onlyOnce.exports,ge=Te(he),be=breakLoop.exports,Se=Te(be);function Te(Re){return Re&&Re.__esModule?Re:{default:Re}}function ke(Re){return function(Ce,Pe,Ie){if(Ie=(0,ie.default)(Ie||ne.default),Re<=0||!Ce)return Ie(null);var Ne=(0,ue.default)(Ce),He=!1,Ke=0,Ge=!1;function ut(nt,st){if(Ke-=1,nt)He=!0,Ie(nt);else{if(st===Se.default||He&&Ke<=0)return He=!0,Ie(null);Ge||Ve()}}function Ve(){for(Ge=!0;Ke<Re&&!He;){var nt=Ne();if(nt===null){He=!0,Ke<=0&&Ie(null);return}Ke+=1,Pe(nt.value,nt.key,(0,ge.default)(ut))}Ge=!1}Ve()}}te.exports=ee.default})(eachOfLimit,eachOfLimit.exports);var wrapAsync$1={},asyncify={exports:{}},initialParams={exports:{}},slice={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=re;function re(ne,oe){oe=oe|0;for(var ie=Math.max(ne.length-oe,0),se=Array(ie),ue=0;ue<ie;ue++)se[ue]=ne[oe+ue];return se}te.exports=ee.default})(slice,slice.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=function(ie){return function(){var se=(0,ne.default)(arguments),ue=se.pop();ie.call(this,se,ue)}};var re=slice.exports,ne=oe(re);function oe(ie){return ie&&ie.__esModule?ie:{default:ie}}te.exports=ee.default})(initialParams,initialParams.exports);var setImmediate$1={};Object.defineProperty(setImmediate$1,"__esModule",{value:!0});setImmediate$1.hasNextTick=setImmediate$1.hasSetImmediate=void 0;setImmediate$1.fallback=fallback;setImmediate$1.wrap=wrap;var _slice=slice.exports,_slice2=_interopRequireDefault$1(_slice);function _interopRequireDefault$1(te){return te&&te.__esModule?te:{default:te}}var hasSetImmediate=setImmediate$1.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,hasNextTick=setImmediate$1.hasNextTick=typeof process$1=="object"&&typeof process$1.nextTick=="function";function fallback(te){setTimeout(te,0)}function wrap(te){return function(ee){var re=(0,_slice2.default)(arguments,1);te(function(){ee.apply(null,re)})}}var _defer;hasSetImmediate?_defer=setImmediate:hasNextTick?_defer=process$1.nextTick:_defer=fallback;setImmediate$1.default=wrap(_defer);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ge;var re=isObject_1,ne=he(re),oe=initialParams.exports,ie=he(oe),se=setImmediate$1,ue=he(se);function he(Te){return Te&&Te.__esModule?Te:{default:Te}}function ge(Te){return(0,ie.default)(function(ke,Re){var Ce;try{Ce=Te.apply(this,ke)}catch(Pe){return Re(Pe)}(0,ne.default)(Ce)&&typeof Ce.then=="function"?Ce.then(function(Pe){be(Re,null,Pe)},function(Pe){be(Re,Pe.message?Pe:new Error(Pe))}):Re(null,Ce)})}function be(Te,ke,Re){try{Te(ke,Re)}catch(Ce){(0,ue.default)(Se,Ce)}}function Se(Te){throw Te}te.exports=ee.default})(asyncify,asyncify.exports);Object.defineProperty(wrapAsync$1,"__esModule",{value:!0});wrapAsync$1.isAsync=void 0;var _asyncify=asyncify.exports,_asyncify2=_interopRequireDefault(_asyncify);function _interopRequireDefault(te){return te&&te.__esModule?te:{default:te}}var supportsSymbol=typeof Symbol=="function";function isAsync(te){return supportsSymbol&&te[Symbol.toStringTag]==="AsyncFunction"}function wrapAsync(te){return isAsync(te)?(0,_asyncify2.default)(te):te}wrapAsync$1.default=wrapAsync;wrapAsync$1.isAsync=isAsync;(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ue;var re=eachOfLimit.exports,ne=se(re),oe=wrapAsync$1,ie=se(oe);function se(he){return he&&he.__esModule?he:{default:he}}function ue(he,ge,be,Se){(0,ne.default)(ge)(he,(0,ie.default)(be),Se)}te.exports=ee.default})(eachOfLimit$1,eachOfLimit$1.exports);var doLimit={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=re;function re(ne,oe){return function(ie,se,ue){return ne(ie,oe,se,ue)}}te.exports=ee.default})(doLimit,doLimit.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=function(Ge,ut,Ve){var nt=(0,ne.default)(Ge)?He:Ke;nt(Ge,(0,Ie.default)(ut),Ve)};var re=isArrayLike_1,ne=Ne(re),oe=breakLoop.exports,ie=Ne(oe),se=eachOfLimit$1.exports,ue=Ne(se),he=doLimit.exports,ge=Ne(he),be=noop_1,Se=Ne(be),Te=once.exports,ke=Ne(Te),Re=onlyOnce.exports,Ce=Ne(Re),Pe=wrapAsync$1,Ie=Ne(Pe);function Ne(Ge){return Ge&&Ge.__esModule?Ge:{default:Ge}}function He(Ge,ut,Ve){Ve=(0,ke.default)(Ve||Se.default);var nt=0,st=0,qe=Ge.length;qe===0&&Ve(null);function ye(ae,ce){ae?Ve(ae):(++st===qe||ce===ie.default)&&Ve(null)}for(;nt<qe;nt++)ut(Ge[nt],nt,(0,Ce.default)(ye))}var Ke=(0,ge.default)(ue.default,1/0);te.exports=ee.default})(eachOf,eachOf.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ue;var re=eachOf.exports,ne=se(re),oe=wrapAsync$1,ie=se(oe);function se(he){return he&&he.__esModule?he:{default:he}}function ue(he){return function(ge,be,Se){return he(ne.default,ge,(0,ie.default)(be),Se)}}te.exports=ee.default})(doParallel,doParallel.exports);var map$1={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ue;var re=noop_1,ne=se(re),oe=wrapAsync$1,ie=se(oe);function se(he){return he&&he.__esModule?he:{default:he}}function ue(he,ge,be,Se){Se=Se||ne.default,ge=ge||[];var Te=[],ke=0,Re=(0,ie.default)(be);he(ge,function(Ce,Pe,Ie){var Ne=ke++;Re(Ce,function(He,Ke){Te[Ne]=Ke,Ie(He)})},function(Ce){Se(Ce,Te)})}te.exports=ee.default})(map$1,map$1.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0});var re=doParallel.exports,ne=se(re),oe=map$1.exports,ie=se(oe);function se(ue){return ue&&ue.__esModule?ue:{default:ue}}ee.default=(0,ne.default)(ie.default),te.exports=ee.default})(map$2,map$2.exports);var eachSeries$1={exports:{}},eachLimit={exports:{}},withoutIndex={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=re;function re(ne){return function(oe,ie,se){return ne(oe,se)}}te.exports=ee.default})(withoutIndex,withoutIndex.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ge;var re=eachOfLimit.exports,ne=he(re),oe=withoutIndex.exports,ie=he(oe),se=wrapAsync$1,ue=he(se);function he(be){return be&&be.__esModule?be:{default:be}}function ge(be,Se,Te,ke){(0,ne.default)(Se)(be,(0,ie.default)((0,ue.default)(Te)),ke)}te.exports=ee.default})(eachLimit,eachLimit.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0});var re=eachLimit.exports,ne=se(re),oe=doLimit.exports,ie=se(oe);function se(ue){return ue&&ue.__esModule?ue:{default:ue}}ee.default=(0,ie.default)(ne.default,1),te.exports=ee.default})(eachSeries$1,eachSeries$1.exports);const EventEmitter$1=events.exports.EventEmitter,inherits$4=util$1.inherits;var stoplight=Stoplight$1;inherits$4(Stoplight$1,EventEmitter$1);function Stoplight$1(){const te=this;EventEmitter$1.call(te),te.isLocked=!0}Stoplight$1.prototype.go=function(){const te=this;te.isLocked=!1,te.emit("unlock")};Stoplight$1.prototype.stop=function(){const te=this;te.isLocked=!0,te.emit("lock")};Stoplight$1.prototype.await=function(te){const ee=this;ee.isLocked?ee.once("unlock",te):setTimeout(te)};var jsonify$1={},at,ch,escapee={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},text,error=function(te){throw{name:"SyntaxError",message:te,at,text}},next=function(te){return te&&te!==ch&&error("Expected '"+te+"' instead of '"+ch+"'"),ch=text.charAt(at),at+=1,ch},number=function(){var te,ee="";for(ch==="-"&&(ee="-",next("-"));ch>="0"&&ch<="9";)ee+=ch,next();if(ch===".")for(ee+=".";next()&&ch>="0"&&ch<="9";)ee+=ch;if(ch==="e"||ch==="E")for(ee+=ch,next(),(ch==="-"||ch==="+")&&(ee+=ch,next());ch>="0"&&ch<="9";)ee+=ch,next();if(te=+ee,!isFinite(te))error("Bad number");else return te},string=function(){var te,ee,re="",ne;if(ch==='"')for(;next();){if(ch==='"')return next(),re;if(ch==="\\")if(next(),ch==="u"){for(ne=0,ee=0;ee<4&&(te=parseInt(next(),16),!!isFinite(te));ee+=1)ne=ne*16+te;re+=String.fromCharCode(ne)}else if(typeof escapee[ch]=="string")re+=escapee[ch];else break;else re+=ch}error("Bad string")},white=function(){for(;ch&&ch<=" ";)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected '"+ch+"'")},value,array=function(){var te=[];if(ch==="["){if(next("["),white(),ch==="]")return next("]"),te;for(;ch;){if(te.push(value()),white(),ch==="]")return next("]"),te;next(","),white()}}error("Bad array")},object$1=function(){var te,ee={};if(ch==="{"){if(next("{"),white(),ch==="}")return next("}"),ee;for(;ch;){if(te=string(),white(),next(":"),Object.hasOwnProperty.call(ee,te)&&error('Duplicate key "'+te+'"'),ee[te]=value(),white(),ch==="}")return next("}"),ee;next(","),white()}}error("Bad object")};value=function(){switch(white(),ch){case"{":return object$1();case"[":return array();case'"':return string();case"-":return number();default:return ch>="0"&&ch<="9"?number():word()}};var parse=function(te,ee){var re;return text=te,at=0,ch=" ",re=value(),white(),ch&&error("Syntax error"),typeof ee=="function"?function ne(oe,ie){var se,ue,he=oe[ie];if(he&&typeof he=="object")for(se in he)Object.prototype.hasOwnProperty.call(he,se)&&(ue=ne(he,se),ue!==void 0?he[se]=ue:delete he[se]);return ee.call(oe,ie,he)}({"":re},""):re},escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(te){return escapable.lastIndex=0,escapable.test(te)?'"'+te.replace(escapable,function(ee){var re=meta[ee];return typeof re=="string"?re:"\\u"+("0000"+ee.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+te+'"'}function str(te,ee){var re,ne,oe,ie,se=gap,ue,he=ee[te];switch(he&&typeof he=="object"&&typeof he.toJSON=="function"&&(he=he.toJSON(te)),typeof rep=="function"&&(he=rep.call(ee,te,he)),typeof he){case"string":return quote(he);case"number":return isFinite(he)?String(he):"null";case"boolean":case"null":return String(he);case"object":if(!he)return"null";if(gap+=indent,ue=[],Object.prototype.toString.apply(he)==="[object Array]"){for(ie=he.length,re=0;re<ie;re+=1)ue[re]=str(re,he)||"null";return oe=ue.length===0?"[]":gap?`[
`+gap+ue.join(`,
`+gap)+`
`+se+"]":"["+ue.join(",")+"]",gap=se,oe}if(rep&&typeof rep=="object")for(ie=rep.length,re=0;re<ie;re+=1)ne=rep[re],typeof ne=="string"&&(oe=str(ne,he),oe&&ue.push(quote(ne)+(gap?": ":":")+oe));else for(ne in he)Object.prototype.hasOwnProperty.call(he,ne)&&(oe=str(ne,he),oe&&ue.push(quote(ne)+(gap?": ":":")+oe));return oe=ue.length===0?"{}":gap?`{
`+gap+ue.join(`,
`+gap)+`
`+se+"}":"{"+ue.join(",")+"}",gap=se,oe}}var stringify$4=function(te,ee,re){var ne;if(gap="",indent="",typeof re=="number")for(ne=0;ne<re;ne+=1)indent+=" ";else typeof re=="string"&&(indent=re);if(rep=ee,ee&&typeof ee!="function"&&(typeof ee!="object"||typeof ee.length!="number"))throw new Error("JSON.stringify");return str("",{"":te})};jsonify$1.parse=parse;jsonify$1.stringify=stringify$4;var json=typeof JSON!="undefined"?JSON:jsonify$1,jsonStableStringify=function(te,ee){ee||(ee={}),typeof ee=="function"&&(ee={cmp:ee});var re=ee.space||"";typeof re=="number"&&(re=Array(re+1).join(" "));var ne=typeof ee.cycles=="boolean"?ee.cycles:!1,oe=ee.replacer||function(ue,he){return he},ie=ee.cmp&&function(ue){return function(he){return function(ge,be){var Se={key:ge,value:he[ge]},Te={key:be,value:he[be]};return ue(Se,Te)}}}(ee.cmp),se=[];return function ue(he,ge,be,Se){var Te=re?`
`+new Array(Se+1).join(re):"",ke=re?": ":":";if(be&&be.toJSON&&typeof be.toJSON=="function"&&(be=be.toJSON()),be=oe.call(he,ge,be),be!==void 0){if(typeof be!="object"||be===null)return json.stringify(be);if(isArray$3(be)){for(var Re=[],Ce=0;Ce<be.length;Ce++){var Pe=ue(be,Ce,be[Ce],Se+1)||json.stringify(null);Re.push(Te+re+Pe)}return"["+Re.join(",")+Te+"]"}else{if(se.indexOf(be)!==-1){if(ne)return json.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else se.push(be);for(var Ie=objectKeys(be).sort(ie&&ie(be)),Re=[],Ce=0;Ce<Ie.length;Ce++){var ge=Ie[Ce],Ne=ue(be,ge,be[ge],Se+1);if(!!Ne){var He=json.stringify(ge)+ke+Ne;Re.push(Te+re+He)}}return se.splice(se.indexOf(be),1),"{"+Re.join(",")+Te+"}"}}}({"":te},"",te,0)},isArray$3=Array.isArray||function(te){return{}.toString.call(te)==="[object Array]"},objectKeys=Object.keys||function(te){var ee=Object.prototype.hasOwnProperty||function(){return!0},re=[];for(var ne in te)ee.call(te,ne)&&re.push(ne);return re};const stringify$3=jsonStableStringify;var rpcCacheUtils={cacheIdentifierForPayload:cacheIdentifierForPayload$1,canCache:canCache$1,blockTagForPayload:blockTagForPayload$2,paramsWithoutBlockTag:paramsWithoutBlockTag$1,blockTagParamIndex:blockTagParamIndex$1,cacheTypeForPayload:cacheTypeForPayload$1};function cacheIdentifierForPayload$1(te,ee={}){if(!canCache$1(te))return null;const{includeBlockRef:re}=ee,ne=re?te.params:paramsWithoutBlockTag$1(te);return te.method+":"+stringify$3(ne)}function canCache$1(te){return cacheTypeForPayload$1(te)!=="never"}function blockTagForPayload$2(te){var ee=blockTagParamIndex$1(te);return ee>=te.params.length?null:te.params[ee]}function paramsWithoutBlockTag$1(te){var ee=blockTagParamIndex$1(te);return ee>=te.params.length?te.params:te.method==="eth_getBlockByNumber"?te.params.slice(1):te.params.slice(0,ee)}function blockTagParamIndex$1(te){switch(te.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}function cacheTypeForPayload$1(te){switch(te.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":return"fork";case"eth_gasPrice":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"eth_blockNumber":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":return"never"}}var randomId=createRandomId;function createRandomId(){return Math.floor(Number.MAX_SAFE_INTEGER*Math.random())}const getRandomId=randomId,extend$1=immutable;var createPayload_1=createPayload$3;function createPayload$3(te){return extend$1({id:getRandomId(),jsonrpc:"2.0",params:[]},te)}const EventEmitter=events.exports.EventEmitter,inherits$3=util$1.inherits,ethUtil$4=dist$4,EthBlockTracker=polling,map=map$2.exports,eachSeries=eachSeries$1.exports,Stoplight=stoplight,createPayload$2=createPayload_1,noop=function(){};var web3ProviderEngine=Web3ProviderEngine;inherits$3(Web3ProviderEngine,EventEmitter);function Web3ProviderEngine(te){const ee=this;EventEmitter.call(ee),ee.setMaxListeners(30),te=te||{};const re={sendAsync:ee._handleAsync.bind(ee)},ne=te.blockTrackerProvider||re;ee._blockTracker=te.blockTracker||new EthBlockTracker({provider:ne,pollingInterval:te.pollingInterval||4e3,setSkipCacheFlag:!0}),ee._ready=new Stoplight,ee.currentBlock=null,ee._providers=[]}Web3ProviderEngine.prototype.start=function(te=noop){const ee=this;ee._ready.go(),ee._blockTracker.on("latest",re=>{ee._getBlockByNumberWithRetry(re,(ne,oe)=>{if(ne){this.emit("error",ne);return}if(!oe){console.log(oe),this.emit("error",new Error("Could not find block"));return}const ie=toBufferBlock(oe);ee._setCurrentBlock(ie),ee.emit("rawBlock",oe),ee.emit("latest",oe)})}),ee._blockTracker.on("sync",ee.emit.bind(ee,"sync")),ee._blockTracker.on("error",ee.emit.bind(ee,"error")),ee._running=!0,ee.emit("start")};Web3ProviderEngine.prototype.stop=function(){const te=this;te._blockTracker.removeAllListeners(),te._running=!1,te.emit("stop")};Web3ProviderEngine.prototype.isRunning=function(){return this._running};Web3ProviderEngine.prototype.addProvider=function(te,ee){const re=this;typeof ee=="number"?re._providers.splice(ee,0,te):re._providers.push(te),te.setEngine(this)};Web3ProviderEngine.prototype.removeProvider=function(te){const ee=this,re=ee._providers.indexOf(te);if(re<0)throw new Error("Provider not found.");ee._providers.splice(re,1)};Web3ProviderEngine.prototype.send=function(te){throw new Error("Web3ProviderEngine does not support synchronous requests.")};Web3ProviderEngine.prototype.sendAsync=function(te,ee){const re=this;re._ready.await(function(){Array.isArray(te)?map(te,re._handleAsync.bind(re),ee):re._handleAsync(te,ee)})};Web3ProviderEngine.prototype._getBlockByNumberWithRetry=function(te,ee){const re=this;let ne=5;oe();return;function oe(){re._getBlockByNumber(te,ie)}function ie(se,ue){if(se)return ee(se);if(!ue)if(ne>0){ne--,setTimeout(function(){oe()},1e3);return}else{ee(null,null);return}ee(null,ue)}};Web3ProviderEngine.prototype._getBlockByNumber=function(te,ee){const re=createPayload$2({method:"eth_getBlockByNumber",params:[te,!1],skipCache:!0});this._handleAsync(re,(ne,oe)=>ne?ee(ne):ee(null,oe.result))};Web3ProviderEngine.prototype._handleAsync=function(te,ee){var re=this,ne=-1,oe=null,ie=null,se=[];ue();function ue(ge){if(ne+=1,se.unshift(ge),ne>=re._providers.length)he(new Error('Request for method "'+te.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{var be=re._providers[ne];be.handleRequest(te,ue,he)}catch(Se){he(Se)}}function he(ge,be){ie=ge,oe=be,eachSeries(se,function(Se,Te){Se?Se(ie,oe,Te):Te()},function(){var Se={id:te.id,jsonrpc:te.jsonrpc,result:oe};ie!=null?(Se.error={message:ie.stack||ie.message||ie,code:-32e3},ee(ie,Se)):ee(null,Se)})}};Web3ProviderEngine.prototype._setCurrentBlock=function(te){const ee=this;ee.currentBlock=te,ee.emit("block",te)};function toBufferBlock(te){return{number:ethUtil$4.toBuffer(te.number),hash:ethUtil$4.toBuffer(te.hash),parentHash:ethUtil$4.toBuffer(te.parentHash),nonce:ethUtil$4.toBuffer(te.nonce),mixHash:ethUtil$4.toBuffer(te.mixHash),sha3Uncles:ethUtil$4.toBuffer(te.sha3Uncles),logsBloom:ethUtil$4.toBuffer(te.logsBloom),transactionsRoot:ethUtil$4.toBuffer(te.transactionsRoot),stateRoot:ethUtil$4.toBuffer(te.stateRoot),receiptsRoot:ethUtil$4.toBuffer(te.receiptRoot||te.receiptsRoot),miner:ethUtil$4.toBuffer(te.miner),difficulty:ethUtil$4.toBuffer(te.difficulty),totalDifficulty:ethUtil$4.toBuffer(te.totalDifficulty),size:ethUtil$4.toBuffer(te.size),extraData:ethUtil$4.toBuffer(te.extraData),gasLimit:ethUtil$4.toBuffer(te.gasLimit),gasUsed:ethUtil$4.toBuffer(te.gasUsed),timestamp:ethUtil$4.toBuffer(te.timestamp),transactions:te.transactions}}const createPayload$1=createPayload_1;var subprovider=SubProvider;function SubProvider(){}SubProvider.prototype.setEngine=function(te){const ee=this;ee.engine||(ee.engine=te,te.on("block",function(re){ee.currentBlock=re}),te.on("start",function(){ee.start()}),te.on("stop",function(){ee.stop()}))};SubProvider.prototype.handleRequest=function(te,ee,re){throw new Error("Subproviders should override `handleRequest`.")};SubProvider.prototype.emitPayload=function(te,ee){this.engine.sendAsync(createPayload$1(te),ee)};SubProvider.prototype.stop=function(){};SubProvider.prototype.start=function(){};const Subprovider$3=subprovider;class JsonRpcEngineMiddlewareSubprovider extends Subprovider$3{constructor(ee){if(super(),!ee)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=ee}setEngine(ee){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const re=ee._blockTracker,ne=this._constructorFn({engine:ee,provider:ee,blockTracker:re});if(!ne)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if(typeof ne!="function")throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=ne}handleRequest(ee,re,ne){const oe={id:ee.id};this.middleware(ee,oe,ie,se);function ie(ue){re((he,ge,be)=>{he?(delete oe.result,oe.error={message:he.message||he}):oe.result=ge,ue?ue(be):be()})}function se(ue){if(ue)return ne(ue);ne(null,oe.result)}}}var jsonRpcEngineMiddleware=JsonRpcEngineMiddlewareSubprovider;const stringify$2=jsonStableStringify;var cacheUtils$1={cacheIdentifierForPayload,canCache,blockTagForPayload:blockTagForPayload$1,paramsWithoutBlockTag,blockTagParamIndex,cacheTypeForPayload};function cacheIdentifierForPayload(te,ee){const re=ee?paramsWithoutBlockTag(te):te.params;return canCache(te)?te.method+":"+stringify$2(re):null}function canCache(te){return cacheTypeForPayload(te)!=="never"}function blockTagForPayload$1(te){let ee=blockTagParamIndex(te);return ee>=te.params.length?null:te.params[ee]}function paramsWithoutBlockTag(te){const ee=blockTagParamIndex(te);return ee>=te.params.length?te.params:te.method==="eth_getBlockByNumber"?te.params.slice(1):te.params.slice(0,ee)}function blockTagParamIndex(te){switch(te.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function cacheTypeForPayload(te){switch(te.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}var createAsyncMiddleware$5=function te(ee){return(re,ne,oe,ie)=>{let se;const ue=new Promise(Se=>{se=Se});let he,ge;ee(re,ne,async()=>{ge=!0,oe(Se=>{he=Se,se()}),await ue}).then(async()=>{ge?(await ue,he(null)):ie(null)}).catch(Se=>{he?he(Se):ie(Se)})}};const cacheUtils=cacheUtils$1,createAsyncMiddleware$4=createAsyncMiddleware$5,emptyValues=[void 0,null,"<nil>"];var blockCache=createBlockCacheMiddleware$1;function createBlockCacheMiddleware$1(te={}){const{blockTracker:ee}=te;if(!ee)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const re=new BlockCacheStrategy,ne={perma:re,block:re,fork:re};return createAsyncMiddleware$4(async(oe,ie,se)=>{if(oe.skipCache)return se();const ue=cacheUtils.cacheTypeForPayload(oe),he=ne[ue];if(!he||!he.canCacheRequest(oe))return se();let ge=cacheUtils.blockTagForPayload(oe);ge||(ge="latest");let be;if(ge==="earliest")be="0x00";else if(ge==="latest"){const Te=await ee.getLatestBlock();re.clearBefore(Te),be=Te}else be=ge;const Se=await he.get(oe,be);Se===void 0?(await se(),await he.set(oe,be,ie.result)):ie.result=Se})}class BlockCacheStrategy{constructor(){this.cache={}}getBlockCacheForPayload(ee,re){const ne=Number.parseInt(re,16);let oe=this.cache[ne];if(!oe){const ie={};this.cache[ne]=ie,oe=ie}return oe}async get(ee,re){const ne=this.getBlockCacheForPayload(ee,re);if(!ne)return;const oe=cacheUtils.cacheIdentifierForPayload(ee,!0);return ne[oe]}async set(ee,re,ne){if(!this.canCacheResult(ee,ne))return;const ie=this.getBlockCacheForPayload(ee,re),se=cacheUtils.cacheIdentifierForPayload(ee,!0);ie[se]=ne}canCacheRequest(ee){return!(!cacheUtils.canCache(ee)||cacheUtils.blockTagForPayload(ee)==="pending")}canCacheResult(ee,re){if(!emptyValues.includes(re))return!(["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(ee.method)&&(!re||!re.blockHash||re.blockHash==="0x0000000000000000000000000000000000000000000000000000000000000000"))}clearBefore(ee){const re=this,ne=Number.parseInt(ee,16);Object.keys(re.cache).map(Number).filter(oe=>oe<ne).forEach(oe=>delete re.cache[oe])}}const ProviderSubprovider$2=jsonRpcEngineMiddleware,createBlockCacheMiddleware=blockCache;class BlockCacheSubprovider extends ProviderSubprovider$2{constructor(ee){super(({blockTracker:re})=>createBlockCacheMiddleware(Object.assign({blockTracker:re},ee)))}}var cache=BlockCacheSubprovider;const inherits$2=util$1.inherits,Subprovider$2=subprovider;var fixture=FixtureProvider;inherits$2(FixtureProvider,Subprovider$2);function FixtureProvider(te){const ee=this;te=te||{},ee.staticResponses=te}FixtureProvider.prototype.handleRequest=function(te,ee,re){var oe=this.staticResponses[te.method];typeof oe=="function"?oe(te,ee,re):oe!==void 0?setTimeout(()=>re(null,oe)):ee()};var lib$1={},Mutex$2={},require$$0$1=getAugmentedNamespace(tslib_es6),Semaphore$2={};Object.defineProperty(Semaphore$2,"__esModule",{value:!0});var tslib_1$2=require$$0$1,Semaphore$1=function(){function te(ee){if(this._maxConcurrency=ee,this._queue=[],ee<=0)throw new Error("semaphore must be initialized to a positive value");this._value=ee}return te.prototype.acquire=function(){var ee=this,re=this.isLocked(),ne=new Promise(function(oe){return ee._queue.push(oe)});return re||this._dispatch(),ne},te.prototype.runExclusive=function(ee){return tslib_1$2.__awaiter(this,void 0,void 0,function(){var re,ne,oe;return tslib_1$2.__generator(this,function(ie){switch(ie.label){case 0:return[4,this.acquire()];case 1:re=ie.sent(),ne=re[0],oe=re[1],ie.label=2;case 2:return ie.trys.push([2,,4,5]),[4,ee(ne)];case 3:return[2,ie.sent()];case 4:return oe(),[7];case 5:return[2]}})})},te.prototype.isLocked=function(){return this._value<=0},te.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var ee=this._currentReleaser;this._currentReleaser=void 0,ee()}},te.prototype._dispatch=function(){var ee=this,re=this._queue.shift();if(!!re){var ne=!1;this._currentReleaser=function(){ne||(ne=!0,ee._value++,ee._dispatch())},re([this._value--,this._currentReleaser])}},te}();Semaphore$2.default=Semaphore$1;Object.defineProperty(Mutex$2,"__esModule",{value:!0});var tslib_1$1=require$$0$1,Semaphore_1=Semaphore$2,Mutex$1=function(){function te(){this._semaphore=new Semaphore_1.default(1)}return te.prototype.acquire=function(){return tslib_1$1.__awaiter(this,void 0,void 0,function(){var ee,re;return tslib_1$1.__generator(this,function(ne){switch(ne.label){case 0:return[4,this._semaphore.acquire()];case 1:return ee=ne.sent(),re=ee[1],[2,re]}})})},te.prototype.runExclusive=function(ee){return this._semaphore.runExclusive(function(){return ee()})},te.prototype.isLocked=function(){return this._semaphore.isLocked()},te.prototype.release=function(){this._semaphore.release()},te}();Mutex$2.default=Mutex$1;var withTimeout$1={};Object.defineProperty(withTimeout$1,"__esModule",{value:!0});withTimeout$1.withTimeout=void 0;var tslib_1=require$$0$1;function withTimeout(te,ee,re){var ne=this;return re===void 0&&(re=new Error("timeout")),{acquire:function(){return new Promise(function(oe,ie){return tslib_1.__awaiter(ne,void 0,void 0,function(){var se,ue,he;return tslib_1.__generator(this,function(ge){switch(ge.label){case 0:return se=!1,setTimeout(function(){se=!0,ie(re)},ee),[4,te.acquire()];case 1:return ue=ge.sent(),se?(he=Array.isArray(ue)?ue[1]:ue,he()):oe(ue),[2]}})})})},runExclusive:function(oe){return tslib_1.__awaiter(this,void 0,void 0,function(){var ie,se;return tslib_1.__generator(this,function(ue){switch(ue.label){case 0:ie=function(){},ue.label=1;case 1:return ue.trys.push([1,,7,8]),[4,this.acquire()];case 2:return se=ue.sent(),Array.isArray(se)?(ie=se[1],[4,oe(se[0])]):[3,4];case 3:return[2,ue.sent()];case 4:return ie=se,[4,oe()];case 5:return[2,ue.sent()];case 6:return[3,8];case 7:return ie(),[7];case 8:return[2]}})})},release:function(){te.release()},isLocked:function(){return te.isLocked()}}}withTimeout$1.withTimeout=withTimeout;(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.withTimeout=te.Semaphore=te.Mutex=void 0;var ee=Mutex$2;Object.defineProperty(te,"Mutex",{enumerable:!0,get:function(){return ee.default}});var re=Semaphore$2;Object.defineProperty(te,"Semaphore",{enumerable:!0,get:function(){return re.default}});var ne=withTimeout$1;Object.defineProperty(te,"withTimeout",{enumerable:!0,get:function(){return ne.withTimeout}})})(lib$1);var dist$3={},idRemapMiddleware={},getUniqueId$1={};Object.defineProperty(getUniqueId$1,"__esModule",{value:!0});getUniqueId$1.getUniqueId=void 0;const MAX=4294967295;let idCounter=Math.floor(Math.random()*MAX);function getUniqueId(){return idCounter=(idCounter+1)%MAX,idCounter}getUniqueId$1.getUniqueId=getUniqueId;Object.defineProperty(idRemapMiddleware,"__esModule",{value:!0});idRemapMiddleware.createIdRemapMiddleware=void 0;const getUniqueId_1=getUniqueId$1;function createIdRemapMiddleware(){return(te,ee,re,ne)=>{const oe=te.id,ie=getUniqueId_1.getUniqueId();te.id=ie,ee.id=ie,re(se=>{te.id=oe,ee.id=oe,se()})}}idRemapMiddleware.createIdRemapMiddleware=createIdRemapMiddleware;var createAsyncMiddleware$3={};Object.defineProperty(createAsyncMiddleware$3,"__esModule",{value:!0});createAsyncMiddleware$3.createAsyncMiddleware=void 0;function createAsyncMiddleware$2(te){return async(ee,re,ne,oe)=>{let ie;const se=new Promise(be=>{ie=be});let ue=null,he=!1;const ge=async()=>{he=!0,ne(be=>{ue=be,ie()}),await se};try{await te(ee,re,ge),he?(await se,ue(null)):oe(null)}catch(be){ue?ue(be):oe(be)}}}createAsyncMiddleware$3.createAsyncMiddleware=createAsyncMiddleware$2;var createScaffoldMiddleware$3={};Object.defineProperty(createScaffoldMiddleware$3,"__esModule",{value:!0});createScaffoldMiddleware$3.createScaffoldMiddleware=void 0;function createScaffoldMiddleware$2(te){return(ee,re,ne,oe)=>{const ie=te[ee.method];return ie===void 0?ne():typeof ie=="function"?ie(ee,re,ne,oe):(re.result=ie,oe())}}createScaffoldMiddleware$3.createScaffoldMiddleware=createScaffoldMiddleware$2;var JsonRpcEngine$1={},safeEventEmitter={};Object.defineProperty(safeEventEmitter,"__esModule",{value:!0});const events_1=events.exports;function safeApply(te,ee,re){try{Reflect.apply(te,ee,re)}catch(ne){setTimeout(()=>{throw ne})}}function arrayClone(te){const ee=te.length,re=new Array(ee);for(let ne=0;ne<ee;ne+=1)re[ne]=te[ne];return re}class SafeEventEmitter$2 extends events_1.EventEmitter{emit(ee,...re){let ne=ee==="error";const oe=this._events;if(oe!==void 0)ne=ne&&oe.error===void 0;else if(!ne)return!1;if(ne){let se;if(re.length>0&&([se]=re),se instanceof Error)throw se;const ue=new Error(`Unhandled error.${se?` (${se.message})`:""}`);throw ue.context=se,ue}const ie=oe[ee];if(ie===void 0)return!1;if(typeof ie=="function")safeApply(ie,this,re);else{const se=ie.length,ue=arrayClone(ie);for(let he=0;he<se;he+=1)safeApply(ue[he],this,re)}return!0}}safeEventEmitter.default=SafeEventEmitter$2;var dist$2={},classes={},fastSafeStringify=stringify$1;stringify$1.default=stringify$1;stringify$1.stable=deterministicStringify;stringify$1.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$1(te,ee,re,ne){typeof ne=="undefined"&&(ne=defaultOptions()),decirc(te,"",0,[],void 0,0,ne);var oe;try{replacerStack.length===0?oe=JSON.stringify(te,ee,re):oe=JSON.stringify(te,replaceGetterValues(ee),re)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var ie=arr.pop();ie.length===4?Object.defineProperty(ie[0],ie[1],ie[3]):ie[0][ie[1]]=ie[2]}}return oe}function setReplace(te,ee,re,ne){var oe=Object.getOwnPropertyDescriptor(ne,re);oe.get!==void 0?oe.configurable?(Object.defineProperty(ne,re,{value:te}),arr.push([ne,re,ee,oe])):replacerStack.push([ee,re,te]):(ne[re]=te,arr.push([ne,re,ee]))}function decirc(te,ee,re,ne,oe,ie,se){ie+=1;var ue;if(typeof te=="object"&&te!==null){for(ue=0;ue<ne.length;ue++)if(ne[ue]===te){setReplace(CIRCULAR_REPLACE_NODE,te,ee,oe);return}if(typeof se.depthLimit!="undefined"&&ie>se.depthLimit){setReplace(LIMIT_REPLACE_NODE,te,ee,oe);return}if(typeof se.edgesLimit!="undefined"&&re+1>se.edgesLimit){setReplace(LIMIT_REPLACE_NODE,te,ee,oe);return}if(ne.push(te),Array.isArray(te))for(ue=0;ue<te.length;ue++)decirc(te[ue],ue,ue,ne,te,ie,se);else{var he=Object.keys(te);for(ue=0;ue<he.length;ue++){var ge=he[ue];decirc(te[ge],ge,ue,ne,te,ie,se)}}ne.pop()}}function compareFunction(te,ee){return te<ee?-1:te>ee?1:0}function deterministicStringify(te,ee,re,ne){typeof ne=="undefined"&&(ne=defaultOptions());var oe=deterministicDecirc(te,"",0,[],void 0,0,ne)||te,ie;try{replacerStack.length===0?ie=JSON.stringify(oe,ee,re):ie=JSON.stringify(oe,replaceGetterValues(ee),re)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var se=arr.pop();se.length===4?Object.defineProperty(se[0],se[1],se[3]):se[0][se[1]]=se[2]}}return ie}function deterministicDecirc(te,ee,re,ne,oe,ie,se){ie+=1;var ue;if(typeof te=="object"&&te!==null){for(ue=0;ue<ne.length;ue++)if(ne[ue]===te){setReplace(CIRCULAR_REPLACE_NODE,te,ee,oe);return}try{if(typeof te.toJSON=="function")return}catch{return}if(typeof se.depthLimit!="undefined"&&ie>se.depthLimit){setReplace(LIMIT_REPLACE_NODE,te,ee,oe);return}if(typeof se.edgesLimit!="undefined"&&re+1>se.edgesLimit){setReplace(LIMIT_REPLACE_NODE,te,ee,oe);return}if(ne.push(te),Array.isArray(te))for(ue=0;ue<te.length;ue++)deterministicDecirc(te[ue],ue,ue,ne,te,ie,se);else{var he={},ge=Object.keys(te).sort(compareFunction);for(ue=0;ue<ge.length;ue++){var be=ge[ue];deterministicDecirc(te[be],be,ue,ne,te,ie,se),he[be]=te[be]}if(typeof oe!="undefined")arr.push([oe,ee,te]),oe[ee]=he;else return he}ne.pop()}}function replaceGetterValues(te){return te=typeof te!="undefined"?te:function(ee,re){return re},function(ee,re){if(replacerStack.length>0)for(var ne=0;ne<replacerStack.length;ne++){var oe=replacerStack[ne];if(oe[1]===ee&&oe[0]===re){re=oe[2],replacerStack.splice(ne,1);break}}return te.call(this,ee,re)}}Object.defineProperty(classes,"__esModule",{value:!0});classes.EthereumProviderError=classes.EthereumRpcError=void 0;const fast_safe_stringify_1=fastSafeStringify;class EthereumRpcError extends Error{constructor(ee,re,ne){if(!Number.isInteger(ee))throw new Error('"code" must be an integer.');if(!re||typeof re!="string")throw new Error('"message" must be a nonempty string.');super(re),this.code=ee,ne!==void 0&&(this.data=ne)}serialize(){const ee={code:this.code,message:this.message};return this.data!==void 0&&(ee.data=this.data),this.stack&&(ee.stack=this.stack),ee}toString(){return fast_safe_stringify_1.default(this.serialize(),stringifyReplacer,2)}}classes.EthereumRpcError=EthereumRpcError;class EthereumProviderError extends EthereumRpcError{constructor(ee,re,ne){if(!isValidEthProviderCode(ee))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(ee,re,ne)}}classes.EthereumProviderError=EthereumProviderError;function isValidEthProviderCode(te){return Number.isInteger(te)&&te>=1e3&&te<=4999}function stringifyReplacer(te,ee){if(ee!=="[Circular]")return ee}var utils$3={},errorConstants={};Object.defineProperty(errorConstants,"__esModule",{value:!0});errorConstants.errorValues=errorConstants.errorCodes=void 0;errorConstants.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};errorConstants.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},"4001":{standard:"EIP-1193",message:"User rejected the request."},"4100":{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},"4200":{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},"4900":{standard:"EIP-1193",message:"The provider is disconnected from all chains."},"4901":{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.serializeError=te.isValidCode=te.getMessageFromCode=te.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const ee=errorConstants,re=classes,ne=ee.errorCodes.rpc.internal,oe="Unspecified error message. This is a bug, please report it.",ie={code:ne,message:se(ne)};te.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function se(Te,ke=oe){if(Number.isInteger(Te)){const Re=Te.toString();if(Se(ee.errorValues,Re))return ee.errorValues[Re].message;if(ge(Te))return te.JSON_RPC_SERVER_ERROR_MESSAGE}return ke}te.getMessageFromCode=se;function ue(Te){if(!Number.isInteger(Te))return!1;const ke=Te.toString();return!!(ee.errorValues[ke]||ge(Te))}te.isValidCode=ue;function he(Te,{fallbackError:ke=ie,shouldIncludeStack:Re=!1}={}){var Ce,Pe;if(!ke||!Number.isInteger(ke.code)||typeof ke.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(Te instanceof re.EthereumRpcError)return Te.serialize();const Ie={};if(Te&&typeof Te=="object"&&!Array.isArray(Te)&&Se(Te,"code")&&ue(Te.code)){const He=Te;Ie.code=He.code,He.message&&typeof He.message=="string"?(Ie.message=He.message,Se(He,"data")&&(Ie.data=He.data)):(Ie.message=se(Ie.code),Ie.data={originalError:be(Te)})}else{Ie.code=ke.code;const He=(Ce=Te)===null||Ce===void 0?void 0:Ce.message;Ie.message=He&&typeof He=="string"?He:ke.message,Ie.data={originalError:be(Te)}}const Ne=(Pe=Te)===null||Pe===void 0?void 0:Pe.stack;return Re&&Te&&Ne&&typeof Ne=="string"&&(Ie.stack=Ne),Ie}te.serializeError=he;function ge(Te){return Te>=-32099&&Te<=-32e3}function be(Te){return Te&&typeof Te=="object"&&!Array.isArray(Te)?Object.assign({},Te):Te}function Se(Te,ke){return Object.prototype.hasOwnProperty.call(Te,ke)}})(utils$3);var errors$1={};Object.defineProperty(errors$1,"__esModule",{value:!0});errors$1.ethErrors=void 0;const classes_1=classes,utils_1=utils$3,error_constants_1=errorConstants;errors$1.ethErrors={rpc:{parse:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse,te),invalidRequest:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest,te),invalidParams:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams,te),methodNotFound:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound,te),internal:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal,te),server:te=>{if(!te||typeof te!="object"||Array.isArray(te))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:ee}=te;if(!Number.isInteger(ee)||ee>-32005||ee<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(ee,te)},invalidInput:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput,te),resourceNotFound:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound,te),resourceUnavailable:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable,te),transactionRejected:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected,te),methodNotSupported:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported,te),limitExceeded:te=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded,te)},provider:{userRejectedRequest:te=>getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest,te),unauthorized:te=>getEthProviderError(error_constants_1.errorCodes.provider.unauthorized,te),unsupportedMethod:te=>getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod,te),disconnected:te=>getEthProviderError(error_constants_1.errorCodes.provider.disconnected,te),chainDisconnected:te=>getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected,te),custom:te=>{if(!te||typeof te!="object"||Array.isArray(te))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:ee,message:re,data:ne}=te;if(!re||typeof re!="string")throw new Error('"message" must be a nonempty string');return new classes_1.EthereumProviderError(ee,re,ne)}}};function getEthJsonRpcError(te,ee){const[re,ne]=parseOpts(ee);return new classes_1.EthereumRpcError(te,re||utils_1.getMessageFromCode(te),ne)}function getEthProviderError(te,ee){const[re,ne]=parseOpts(ee);return new classes_1.EthereumProviderError(te,re||utils_1.getMessageFromCode(te),ne)}function parseOpts(te){if(te){if(typeof te=="string")return[te];if(typeof te=="object"&&!Array.isArray(te)){const{message:ee,data:re}=te;if(ee&&typeof ee!="string")throw new Error("Must specify string message.");return[ee||void 0,re]}}return[]}(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.getMessageFromCode=te.serializeError=te.EthereumProviderError=te.EthereumRpcError=te.ethErrors=te.errorCodes=void 0;const ee=classes;Object.defineProperty(te,"EthereumRpcError",{enumerable:!0,get:function(){return ee.EthereumRpcError}}),Object.defineProperty(te,"EthereumProviderError",{enumerable:!0,get:function(){return ee.EthereumProviderError}});const re=utils$3;Object.defineProperty(te,"serializeError",{enumerable:!0,get:function(){return re.serializeError}}),Object.defineProperty(te,"getMessageFromCode",{enumerable:!0,get:function(){return re.getMessageFromCode}});const ne=errors$1;Object.defineProperty(te,"ethErrors",{enumerable:!0,get:function(){return ne.ethErrors}});const oe=errorConstants;Object.defineProperty(te,"errorCodes",{enumerable:!0,get:function(){return oe.errorCodes}})})(dist$2);var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(JsonRpcEngine$1,"__esModule",{value:!0});JsonRpcEngine$1.JsonRpcEngine=void 0;const safe_event_emitter_1=__importDefault(safeEventEmitter),eth_rpc_errors_1=dist$2;class JsonRpcEngine extends safe_event_emitter_1.default{constructor(){super(),this._middleware=[]}push(ee){this._middleware.push(ee)}handle(ee,re){if(re&&typeof re!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(ee)?re?this._handleBatch(ee,re):this._handleBatch(ee):re?this._handle(ee,re):this._promiseHandle(ee)}asMiddleware(){return async(ee,re,ne,oe)=>{try{const[ie,se,ue]=await JsonRpcEngine._runAllMiddleware(ee,re,this._middleware);return se?(await JsonRpcEngine._runReturnHandlers(ue),oe(ie)):ne(async he=>{try{await JsonRpcEngine._runReturnHandlers(ue)}catch(ge){return he(ge)}return he()})}catch(ie){return oe(ie)}}}async _handleBatch(ee,re){try{const ne=await Promise.all(ee.map(this._promiseHandle.bind(this)));return re?re(null,ne):ne}catch(ne){if(re)return re(ne);throw ne}}_promiseHandle(ee){return new Promise(re=>{this._handle(ee,(ne,oe)=>{re(oe)})})}async _handle(ee,re){if(!ee||Array.isArray(ee)||typeof ee!="object"){const se=new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof ee}`,{request:ee});return re(se,{id:void 0,jsonrpc:"2.0",error:se})}if(typeof ee.method!="string"){const se=new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof ee.method}`,{request:ee});return re(se,{id:ee.id,jsonrpc:"2.0",error:se})}const ne=Object.assign({},ee),oe={id:ne.id,jsonrpc:ne.jsonrpc};let ie=null;try{await this._processRequest(ne,oe)}catch(se){ie=se}return ie&&(delete oe.result,oe.error||(oe.error=eth_rpc_errors_1.serializeError(ie))),re(ie,oe)}async _processRequest(ee,re){const[ne,oe,ie]=await JsonRpcEngine._runAllMiddleware(ee,re,this._middleware);if(JsonRpcEngine._checkForCompletion(ee,re,oe),await JsonRpcEngine._runReturnHandlers(ie),ne)throw ne}static async _runAllMiddleware(ee,re,ne){const oe=[];let ie=null,se=!1;for(const ue of ne)if([ie,se]=await JsonRpcEngine._runMiddleware(ee,re,ue,oe),se)break;return[ie,se,oe.reverse()]}static _runMiddleware(ee,re,ne,oe){return new Promise(ie=>{const se=he=>{const ge=he||re.error;ge&&(re.error=eth_rpc_errors_1.serializeError(ge)),ie([ge,!0])},ue=he=>{re.error?se(re.error):(he&&(typeof he!="function"&&se(new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof he}" for request:
${jsonify(ee)}`,{request:ee})),oe.push(he)),ie([null,!1]))};try{ne(ee,re,ue,se)}catch(he){se(he)}})}static async _runReturnHandlers(ee){for(const re of ee)await new Promise((ne,oe)=>{re(ie=>ie?oe(ie):ne())})}static _checkForCompletion(ee,re,ne){if(!("result"in re)&&!("error"in re))throw new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${jsonify(ee)}`,{request:ee});if(!ne)throw new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${jsonify(ee)}`,{request:ee})}}JsonRpcEngine$1.JsonRpcEngine=JsonRpcEngine;function jsonify(te){return JSON.stringify(te,null,2)}var mergeMiddleware$1={};Object.defineProperty(mergeMiddleware$1,"__esModule",{value:!0});mergeMiddleware$1.mergeMiddleware=void 0;const JsonRpcEngine_1=JsonRpcEngine$1;function mergeMiddleware(te){const ee=new JsonRpcEngine_1.JsonRpcEngine;return te.forEach(re=>ee.push(re)),ee.asMiddleware()}mergeMiddleware$1.mergeMiddleware=mergeMiddleware;(function(te){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ne,oe,ie,se){se===void 0&&(se=ie),Object.defineProperty(ne,se,{enumerable:!0,get:function(){return oe[ie]}})}:function(ne,oe,ie,se){se===void 0&&(se=ie),ne[se]=oe[ie]}),re=commonjsGlobal&&commonjsGlobal.__exportStar||function(ne,oe){for(var ie in ne)ie!=="default"&&!Object.prototype.hasOwnProperty.call(oe,ie)&&ee(oe,ne,ie)};Object.defineProperty(te,"__esModule",{value:!0}),re(idRemapMiddleware,te),re(createAsyncMiddleware$3,te),re(createScaffoldMiddleware$3,te),re(getUniqueId$1,te),re(JsonRpcEngine$1,te),re(mergeMiddleware$1,te)})(dist$3);var createScaffoldMiddleware$1=function te(ee){return(re,ne,oe,ie)=>{const se=ee[re.method];return se===void 0?oe():typeof se=="function"?se(re,ne,oe,ie):(ne.result=se,ie())}},scaffold=createScaffoldMiddleware$1;const processFn=(te,ee,re,ne)=>function(...oe){const ie=ee.promiseModule;return new ie((se,ue)=>{ee.multiArgs?oe.push((...ge)=>{ee.errorFirst?ge[0]?ue(ge):(ge.shift(),se(ge)):se(ge)}):ee.errorFirst?oe.push((ge,be)=>{ge?ue(ge):se(be)}):oe.push(se),Reflect.apply(te,this===re?ne:this,oe)})},filterCache=new WeakMap;var pify$1=(te,ee)=>{ee=Nr({exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},ee);const re=typeof te;if(!(te!==null&&(re==="object"||re==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${te===null?"null":re}\``);const ne=(se,ue)=>{let he=filterCache.get(se);if(he||(he={},filterCache.set(se,he)),ue in he)return he[ue];const ge=Re=>typeof Re=="string"||typeof ue=="symbol"?ue===Re:Re.test(ue),be=Reflect.getOwnPropertyDescriptor(se,ue),Se=be===void 0||be.writable||be.configurable,ke=(ee.include?ee.include.some(ge):!ee.exclude.some(ge))&&Se;return he[ue]=ke,ke},oe=new WeakMap,ie=new Proxy(te,{apply(se,ue,he){const ge=oe.get(se);if(ge)return Reflect.apply(ge,ue,he);const be=ee.excludeMain?se:processFn(se,ee,ie,se);return oe.set(se,be),Reflect.apply(be,ue,he)},get(se,ue){const he=se[ue];if(!ne(se,ue)||he===Function.prototype[ue])return he;const ge=oe.get(he);if(ge)return ge;if(typeof he=="function"){const be=processFn(he,ee,ie,se);return oe.set(he,be),be}return he}});return ie};const SafeEventEmitter$1=safeEventEmitter.default;class BaseFilter$3 extends SafeEventEmitter$1{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(ee){this.updates=this.updates.concat(ee),ee.forEach(re=>this.emit("update",re))}addInitialResults(ee){}getChangesAndClear(){const ee=this.updates;return this.updates=[],ee}}var baseFilter=BaseFilter$3;const BaseFilter$2=baseFilter;class BaseFilterWithHistory$1 extends BaseFilter$2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(ee){this.allResults=this.allResults.concat(ee),super.addResults(ee)}addInitialResults(ee){this.allResults=this.allResults.concat(ee),super.addInitialResults(ee)}getAllResults(){return this.allResults}}var baseFilterHistory=BaseFilterWithHistory$1,hexUtils={minBlockRef:minBlockRef$1,maxBlockRef,sortBlockRefs,bnToHex:bnToHex$1,blockRefIsNumber:blockRefIsNumber$1,hexToInt:hexToInt$3,incrementHexInt:incrementHexInt$4,intToHex:intToHex$2,unsafeRandomBytes:unsafeRandomBytes$1};function minBlockRef$1(...te){return sortBlockRefs(te)[0]}function maxBlockRef(...te){const ee=sortBlockRefs(te);return ee[ee.length-1]}function sortBlockRefs(te){return te.sort((ee,re)=>ee==="latest"||re==="earliest"?1:re==="latest"||ee==="earliest"?-1:hexToInt$3(ee)-hexToInt$3(re))}function bnToHex$1(te){return"0x"+te.toString(16)}function blockRefIsNumber$1(te){return te&&!["earliest","latest","pending"].includes(te)}function hexToInt$3(te){return te==null?te:Number.parseInt(te,16)}function incrementHexInt$4(te){if(te==null)return te;const ee=hexToInt$3(te);return intToHex$2(ee+1)}function intToHex$2(te){if(te==null)return te;let ee=te.toString(16);return ee.length%2&&(ee="0"+ee),"0x"+ee}function unsafeRandomBytes$1(te){let ee="0x";for(let re=0;re<te;re++)ee+=unsafeRandomNibble(),ee+=unsafeRandomNibble();return ee}function unsafeRandomNibble(){return Math.floor(Math.random()*16).toString(16)}const EthQuery=ethQuery,pify=pify$1,BaseFilterWithHistory=baseFilterHistory,{bnToHex,hexToInt:hexToInt$2,incrementHexInt:incrementHexInt$3,minBlockRef,blockRefIsNumber}=hexUtils;class LogFilter$1 extends BaseFilterWithHistory{constructor({provider:ee,params:re}){super(),this.type="log",this.ethQuery=new EthQuery(ee),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},re),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(ne=>ne.toLowerCase()))}async initialize({currentBlock:ee}){let re=this.params.fromBlock;["latest","pending"].includes(re)&&(re=ee),re==="earliest"&&(re="0x0"),this.params.fromBlock=re;const ne=minBlockRef(this.params.toBlock,ee),oe=Object.assign({},this.params,{toBlock:ne}),ie=await this._fetchLogs(oe);this.addInitialResults(ie)}async update({oldBlock:ee,newBlock:re}){const ne=re;let oe;ee?oe=incrementHexInt$3(ee):oe=re;const ie=Object.assign({},this.params,{fromBlock:oe,toBlock:ne}),ue=(await this._fetchLogs(ie)).filter(he=>this.matchLog(he));this.addResults(ue)}async _fetchLogs(ee){return await pify(ne=>this.ethQuery.getLogs(ee,ne))()}matchLog(ee){if(hexToInt$2(this.params.fromBlock)>=hexToInt$2(ee.blockNumber)||blockRefIsNumber(this.params.toBlock)&&hexToInt$2(this.params.toBlock)<=hexToInt$2(ee.blockNumber))return!1;const re=ee.address&&ee.address.toLowerCase();return this.params.address&&re&&!this.params.address.includes(re)?!1:this.params.topics.every((oe,ie)=>{let se=ee.topics[ie];if(!se)return!1;se=se.toLowerCase();let ue=Array.isArray(oe)?oe:[oe];return ue.includes(null)?!0:(ue=ue.map(be=>be.toLowerCase()),ue.includes(se))})}}var logFilter=LogFilter$1,getBlocksForRange_1=getBlocksForRange$3;async function getBlocksForRange$3({provider:te,fromBlock:ee,toBlock:re}){ee||(ee=re);const ne=hexToInt$1(ee),ie=hexToInt$1(re)-ne+1,se=Array(ie).fill().map((he,ge)=>ne+ge).map(intToHex$1);return await Promise.all(se.map(he=>query(te,"eth_getBlockByNumber",[he,!1])))}function hexToInt$1(te){return te==null?te:Number.parseInt(te,16)}function intToHex$1(te){if(te==null)return te;const ee=te.toString(16);return"0x"+ee}function query(te,ee,re){return new Promise((ne,oe)=>{te.sendAsync({id:1,jsonrpc:"2.0",method:ee,params:re},(ie,se)=>{if(ie)return oe(ie);ne(se.result)})})}const BaseFilter$1=baseFilter,getBlocksForRange$2=getBlocksForRange_1,{incrementHexInt:incrementHexInt$2}=hexUtils;class BlockFilter$1 extends BaseFilter$1{constructor({provider:ee,params:re}){super(),this.type="block",this.provider=ee}async update({oldBlock:ee,newBlock:re}){const ne=re,oe=incrementHexInt$2(ee),se=(await getBlocksForRange$2({provider:this.provider,fromBlock:oe,toBlock:ne})).map(ue=>ue.hash);this.addResults(se)}}var blockFilter=BlockFilter$1;const BaseFilter=baseFilter,getBlocksForRange$1=getBlocksForRange_1,{incrementHexInt:incrementHexInt$1}=hexUtils;class TxFilter$1 extends BaseFilter{constructor({provider:ee}){super(),this.type="tx",this.provider=ee}async update({oldBlock:ee}){const re=ee,ne=incrementHexInt$1(ee),oe=await getBlocksForRange$1({provider:this.provider,fromBlock:ne,toBlock:re}),ie=[];for(const se of oe)ie.push(...se.transactions);this.addResults(ie)}}var txFilter=TxFilter$1;const Mutex=lib$1.Mutex,{createAsyncMiddleware:createAsyncMiddleware$1}=dist$3,createJsonRpcMiddleware=scaffold,LogFilter=logFilter,BlockFilter=blockFilter,TxFilter=txFilter,{intToHex,hexToInt}=hexUtils;var ethJsonRpcFilters=createEthFilterMiddleware;function createEthFilterMiddleware({blockTracker:te,provider:ee}){let re=0,ne={};const oe=new Mutex,ie=mutexMiddlewareWrapper({mutex:oe}),se=createJsonRpcMiddleware({eth_newFilter:ie(toFilterCreationMiddleware(he)),eth_newBlockFilter:ie(toFilterCreationMiddleware(ge)),eth_newPendingTransactionFilter:ie(toFilterCreationMiddleware(be)),eth_uninstallFilter:ie(toAsyncRpcMiddleware(ke)),eth_getFilterChanges:ie(toAsyncRpcMiddleware(Se)),eth_getFilterLogs:ie(toAsyncRpcMiddleware(Te))}),ue=async({oldBlock:Ne,newBlock:He})=>{if(ne.length===0)return;const Ke=await oe.acquire();try{await Promise.all(objValues(ne).map(async Ge=>{try{await Ge.update({oldBlock:Ne,newBlock:He})}catch(ut){console.error(ut)}}))}catch(Ge){console.error(Ge)}Ke()};return se.newLogFilter=he,se.newBlockFilter=ge,se.newPendingTransactionFilter=be,se.uninstallFilter=ke,se.getFilterChanges=Se,se.getFilterLogs=Te,se.destroy=()=>{Pe()},se;async function he(Ne){const He=new LogFilter({provider:ee,params:Ne});return await Re(He),He}async function ge(){const Ne=new BlockFilter({provider:ee});return await Re(Ne),Ne}async function be(){const Ne=new TxFilter({provider:ee});return await Re(Ne),Ne}async function Se(Ne){const He=hexToInt(Ne),Ke=ne[He];if(!Ke)throw new Error(`No filter for index "${He}"`);return Ke.getChangesAndClear()}async function Te(Ne){const He=hexToInt(Ne),Ke=ne[He];if(!Ke)throw new Error(`No filter for index "${He}"`);return Ke.type==="log"?results=Ke.getAllResults():results=[],results}async function ke(Ne){const He=hexToInt(Ne),Ke=ne[He],Ge=Boolean(Ke);return Ge&&await Ce(He),Ge}async function Re(Ne){const He=objValues(ne).length,Ke=await te.getLatestBlock();await Ne.initialize({currentBlock:Ke}),re++,ne[re]=Ne,Ne.id=re,Ne.idHex=intToHex(re);const Ge=objValues(ne).length;return Ie({prevFilterCount:He,newFilterCount:Ge}),re}async function Ce(Ne){const He=objValues(ne).length;delete ne[Ne];const Ke=objValues(ne).length;Ie({prevFilterCount:He,newFilterCount:Ke})}async function Pe(){const Ne=objValues(ne).length;ne={},Ie({prevFilterCount:Ne,newFilterCount:0})}function Ie({prevFilterCount:Ne,newFilterCount:He}){if(Ne===0&&He>0){te.on("sync",ue);return}if(Ne>0&&He===0){te.removeListener("sync",ue);return}}}function toFilterCreationMiddleware(te){return toAsyncRpcMiddleware(async(...ee)=>{const re=await te(...ee);return intToHex(re.id)})}function toAsyncRpcMiddleware(te){return createAsyncMiddleware$1(async(ee,re)=>{const ne=await te.apply(null,ee.params);re.result=ne})}function mutexMiddlewareWrapper({mutex:te}){return ee=>async(re,ne,oe,ie)=>{(await te.acquire())(),ee(re,ne,oe,ie)}}function objValues(te,ee){const re=[];for(let ne in te)re.push(te[ne]);return re}const ProviderSubprovider$1=jsonRpcEngineMiddleware,createFilterMiddleware$1=ethJsonRpcFilters;class SubscriptionsSubprovider$2 extends ProviderSubprovider$1{constructor(){super(({blockTracker:ee,provider:re,engine:ne})=>createFilterMiddleware$1({blockTracker:ee,provider:re}))}}var filters=SubscriptionsSubprovider$2,waterfall$1={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=function(Ce,Pe){if(Pe=(0,ue.default)(Pe||ie.default),!(0,ne.default)(Ce))return Pe(new Error("First argument to waterfall must be an array of functions"));if(!Ce.length)return Pe();var Ie=0;function Ne(Ke){var Ge=(0,ke.default)(Ce[Ie++]);Ke.push((0,Se.default)(He)),Ge.apply(null,Ke)}function He(Ke){if(Ke||Ie===Ce.length)return Pe.apply(null,arguments);Ne((0,ge.default)(arguments,1))}Ne([])};var re=isArray_1,ne=Re(re),oe=noop_1,ie=Re(oe),se=once.exports,ue=Re(se),he=slice.exports,ge=Re(he),be=onlyOnce.exports,Se=Re(be),Te=wrapAsync$1,ke=Re(Te);function Re(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}te.exports=ee.default})(waterfall$1,waterfall$1.exports);var parallel$2={exports:{}},parallel$1={exports:{}};(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=Se;var re=noop_1,ne=be(re),oe=isArrayLike_1,ie=be(oe),se=slice.exports,ue=be(se),he=wrapAsync$1,ge=be(he);function be(Te){return Te&&Te.__esModule?Te:{default:Te}}function Se(Te,ke,Re){Re=Re||ne.default;var Ce=(0,ie.default)(ke)?[]:{};Te(ke,function(Pe,Ie,Ne){(0,ge.default)(Pe)(function(He,Ke){arguments.length>2&&(Ke=(0,ue.default)(arguments,1)),Ce[Ie]=Ke,Ne(He)})},function(Pe){Re(Pe,Ce)})}te.exports=ee.default})(parallel$1,parallel$1.exports);(function(te,ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ue;var re=eachOf.exports,ne=se(re),oe=parallel$1.exports,ie=se(oe);function se(he){return he&&he.__esModule?he:{default:he}}function ue(he,ge){(0,ie.default)(ne.default,he,ge)}te.exports=ee.default})(parallel$2,parallel$2.exports);var dist$1={},secp256k1v3Adapter={},secp256k1v3Lib={},bn$1={exports:{}};(function(te){(function(ee,re){function ne(ye,ae){if(!ye)throw new Error(ae||"Assertion failed")}function oe(ye,ae){ye.super_=ae;var ce=function(){};ce.prototype=ae.prototype,ye.prototype=new ce,ye.prototype.constructor=ye}function ie(ye,ae,ce){if(ie.isBN(ye))return ye;this.negative=0,this.words=null,this.length=0,this.red=null,ye!==null&&((ae==="le"||ae==="be")&&(ce=ae,ae=10),this._init(ye||0,ae||10,ce||"be"))}typeof ee=="object"?ee.exports=ie:re.BN=ie,ie.BN=ie,ie.wordSize=26;var se;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?se=window.Buffer:se=require("buffer").Buffer}catch{}ie.isBN=function(ae){return ae instanceof ie?!0:ae!==null&&typeof ae=="object"&&ae.constructor.wordSize===ie.wordSize&&Array.isArray(ae.words)},ie.max=function(ae,ce){return ae.cmp(ce)>0?ae:ce},ie.min=function(ae,ce){return ae.cmp(ce)<0?ae:ce},ie.prototype._init=function(ae,ce,le){if(typeof ae=="number")return this._initNumber(ae,ce,le);if(typeof ae=="object")return this._initArray(ae,ce,le);ce==="hex"&&(ce=16),ne(ce===(ce|0)&&ce>=2&&ce<=36),ae=ae.toString().replace(/\s+/g,"");var pe=0;ae[0]==="-"&&(pe++,this.negative=1),pe<ae.length&&(ce===16?this._parseHex(ae,pe,le):(this._parseBase(ae,ce,pe),le==="le"&&this._initArray(this.toArray(),ce,le)))},ie.prototype._initNumber=function(ae,ce,le){ae<0&&(this.negative=1,ae=-ae),ae<67108864?(this.words=[ae&67108863],this.length=1):ae<4503599627370496?(this.words=[ae&67108863,ae/67108864&67108863],this.length=2):(ne(ae<9007199254740992),this.words=[ae&67108863,ae/67108864&67108863,1],this.length=3),le==="le"&&this._initArray(this.toArray(),ce,le)},ie.prototype._initArray=function(ae,ce,le){if(ne(typeof ae.length=="number"),ae.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ae.length/3),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var _e,$e,Ee=0;if(le==="be")for(pe=ae.length-1,_e=0;pe>=0;pe-=3)$e=ae[pe]|ae[pe-1]<<8|ae[pe-2]<<16,this.words[_e]|=$e<<Ee&67108863,this.words[_e+1]=$e>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,_e++);else if(le==="le")for(pe=0,_e=0;pe<ae.length;pe+=3)$e=ae[pe]|ae[pe+1]<<8|ae[pe+2]<<16,this.words[_e]|=$e<<Ee&67108863,this.words[_e+1]=$e>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,_e++);return this.strip()};function ue(ye,ae){var ce=ye.charCodeAt(ae);return ce>=65&&ce<=70?ce-55:ce>=97&&ce<=102?ce-87:ce-48&15}function he(ye,ae,ce){var le=ue(ye,ce);return ce-1>=ae&&(le|=ue(ye,ce-1)<<4),le}ie.prototype._parseHex=function(ae,ce,le){this.length=Math.ceil((ae.length-ce)/6),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var _e=0,$e=0,Ee;if(le==="be")for(pe=ae.length-1;pe>=ce;pe-=2)Ee=he(ae,ce,pe)<<_e,this.words[$e]|=Ee&67108863,_e>=18?(_e-=18,$e+=1,this.words[$e]|=Ee>>>26):_e+=8;else{var me=ae.length-ce;for(pe=me%2===0?ce+1:ce;pe<ae.length;pe+=2)Ee=he(ae,ce,pe)<<_e,this.words[$e]|=Ee&67108863,_e>=18?(_e-=18,$e+=1,this.words[$e]|=Ee>>>26):_e+=8}this.strip()};function ge(ye,ae,ce,le){for(var pe=0,_e=Math.min(ye.length,ce),$e=ae;$e<_e;$e++){var Ee=ye.charCodeAt($e)-48;pe*=le,Ee>=49?pe+=Ee-49+10:Ee>=17?pe+=Ee-17+10:pe+=Ee}return pe}ie.prototype._parseBase=function(ae,ce,le){this.words=[0],this.length=1;for(var pe=0,_e=1;_e<=67108863;_e*=ce)pe++;pe--,_e=_e/ce|0;for(var $e=ae.length-le,Ee=$e%pe,me=Math.min($e,$e-Ee)+le,fe=0,we=le;we<me;we+=pe)fe=ge(ae,we,we+pe,ce),this.imuln(_e),this.words[0]+fe<67108864?this.words[0]+=fe:this._iaddn(fe);if(Ee!==0){var Me=1;for(fe=ge(ae,we,ae.length,ce),we=0;we<Ee;we++)Me*=ce;this.imuln(Me),this.words[0]+fe<67108864?this.words[0]+=fe:this._iaddn(fe)}this.strip()},ie.prototype.copy=function(ae){ae.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)ae.words[ce]=this.words[ce];ae.length=this.length,ae.negative=this.negative,ae.red=this.red},ie.prototype.clone=function(){var ae=new ie(null);return this.copy(ae),ae},ie.prototype._expand=function(ae){for(;this.length<ae;)this.words[this.length++]=0;return this},ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var be=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Se=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Te=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(ae,ce){ae=ae||10,ce=ce|0||1;var le;if(ae===16||ae==="hex"){le="";for(var pe=0,_e=0,$e=0;$e<this.length;$e++){var Ee=this.words[$e],me=((Ee<<pe|_e)&16777215).toString(16);_e=Ee>>>24-pe&16777215,_e!==0||$e!==this.length-1?le=be[6-me.length]+me+le:le=me+le,pe+=2,pe>=26&&(pe-=26,$e--)}for(_e!==0&&(le=_e.toString(16)+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}if(ae===(ae|0)&&ae>=2&&ae<=36){var fe=Se[ae],we=Te[ae];le="";var Me=this.clone();for(Me.negative=0;!Me.isZero();){var Le=Me.modn(we).toString(ae);Me=Me.idivn(we),Me.isZero()?le=Le+le:le=be[fe-Le.length]+Le+le}for(this.isZero()&&(le="0"+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var ae=this.words[0];return this.length===2?ae+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ae+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ae:ae},ie.prototype.toJSON=function(){return this.toString(16)},ie.prototype.toBuffer=function(ae,ce){return ne(typeof se!="undefined"),this.toArrayLike(se,ae,ce)},ie.prototype.toArray=function(ae,ce){return this.toArrayLike(Array,ae,ce)},ie.prototype.toArrayLike=function(ae,ce,le){var pe=this.byteLength(),_e=le||Math.max(1,pe);ne(pe<=_e,"byte array longer than desired length"),ne(_e>0,"Requested array length <= 0"),this.strip();var $e=ce==="le",Ee=new ae(_e),me,fe,we=this.clone();if($e){for(fe=0;!we.isZero();fe++)me=we.andln(255),we.iushrn(8),Ee[fe]=me;for(;fe<_e;fe++)Ee[fe]=0}else{for(fe=0;fe<_e-pe;fe++)Ee[fe]=0;for(fe=0;!we.isZero();fe++)me=we.andln(255),we.iushrn(8),Ee[_e-fe-1]=me}return Ee},Math.clz32?ie.prototype._countBits=function(ae){return 32-Math.clz32(ae)}:ie.prototype._countBits=function(ae){var ce=ae,le=0;return ce>=4096&&(le+=13,ce>>>=13),ce>=64&&(le+=7,ce>>>=7),ce>=8&&(le+=4,ce>>>=4),ce>=2&&(le+=2,ce>>>=2),le+ce},ie.prototype._zeroBits=function(ae){if(ae===0)return 26;var ce=ae,le=0;return(ce&8191)===0&&(le+=13,ce>>>=13),(ce&127)===0&&(le+=7,ce>>>=7),(ce&15)===0&&(le+=4,ce>>>=4),(ce&3)===0&&(le+=2,ce>>>=2),(ce&1)===0&&le++,le},ie.prototype.bitLength=function(){var ae=this.words[this.length-1],ce=this._countBits(ae);return(this.length-1)*26+ce};function ke(ye){for(var ae=new Array(ye.bitLength()),ce=0;ce<ae.length;ce++){var le=ce/26|0,pe=ce%26;ae[ce]=(ye.words[le]&1<<pe)>>>pe}return ae}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ae=0,ce=0;ce<this.length;ce++){var le=this._zeroBits(this.words[ce]);if(ae+=le,le!==26)break}return ae},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(ae){return this.negative!==0?this.abs().inotn(ae).iaddn(1):this.clone()},ie.prototype.fromTwos=function(ae){return this.testn(ae-1)?this.notn(ae).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(ae){for(;this.length<ae.length;)this.words[this.length++]=0;for(var ce=0;ce<ae.length;ce++)this.words[ce]=this.words[ce]|ae.words[ce];return this.strip()},ie.prototype.ior=function(ae){return ne((this.negative|ae.negative)===0),this.iuor(ae)},ie.prototype.or=function(ae){return this.length>ae.length?this.clone().ior(ae):ae.clone().ior(this)},ie.prototype.uor=function(ae){return this.length>ae.length?this.clone().iuor(ae):ae.clone().iuor(this)},ie.prototype.iuand=function(ae){var ce;this.length>ae.length?ce=ae:ce=this;for(var le=0;le<ce.length;le++)this.words[le]=this.words[le]&ae.words[le];return this.length=ce.length,this.strip()},ie.prototype.iand=function(ae){return ne((this.negative|ae.negative)===0),this.iuand(ae)},ie.prototype.and=function(ae){return this.length>ae.length?this.clone().iand(ae):ae.clone().iand(this)},ie.prototype.uand=function(ae){return this.length>ae.length?this.clone().iuand(ae):ae.clone().iuand(this)},ie.prototype.iuxor=function(ae){var ce,le;this.length>ae.length?(ce=this,le=ae):(ce=ae,le=this);for(var pe=0;pe<le.length;pe++)this.words[pe]=ce.words[pe]^le.words[pe];if(this!==ce)for(;pe<ce.length;pe++)this.words[pe]=ce.words[pe];return this.length=ce.length,this.strip()},ie.prototype.ixor=function(ae){return ne((this.negative|ae.negative)===0),this.iuxor(ae)},ie.prototype.xor=function(ae){return this.length>ae.length?this.clone().ixor(ae):ae.clone().ixor(this)},ie.prototype.uxor=function(ae){return this.length>ae.length?this.clone().iuxor(ae):ae.clone().iuxor(this)},ie.prototype.inotn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=Math.ceil(ae/26)|0,le=ae%26;this._expand(ce),le>0&&ce--;for(var pe=0;pe<ce;pe++)this.words[pe]=~this.words[pe]&67108863;return le>0&&(this.words[pe]=~this.words[pe]&67108863>>26-le),this.strip()},ie.prototype.notn=function(ae){return this.clone().inotn(ae)},ie.prototype.setn=function(ae,ce){ne(typeof ae=="number"&&ae>=0);var le=ae/26|0,pe=ae%26;return this._expand(le+1),ce?this.words[le]=this.words[le]|1<<pe:this.words[le]=this.words[le]&~(1<<pe),this.strip()},ie.prototype.iadd=function(ae){var ce;if(this.negative!==0&&ae.negative===0)return this.negative=0,ce=this.isub(ae),this.negative^=1,this._normSign();if(this.negative===0&&ae.negative!==0)return ae.negative=0,ce=this.isub(ae),ae.negative=1,ce._normSign();var le,pe;this.length>ae.length?(le=this,pe=ae):(le=ae,pe=this);for(var _e=0,$e=0;$e<pe.length;$e++)ce=(le.words[$e]|0)+(pe.words[$e]|0)+_e,this.words[$e]=ce&67108863,_e=ce>>>26;for(;_e!==0&&$e<le.length;$e++)ce=(le.words[$e]|0)+_e,this.words[$e]=ce&67108863,_e=ce>>>26;if(this.length=le.length,_e!==0)this.words[this.length]=_e,this.length++;else if(le!==this)for(;$e<le.length;$e++)this.words[$e]=le.words[$e];return this},ie.prototype.add=function(ae){var ce;return ae.negative!==0&&this.negative===0?(ae.negative=0,ce=this.sub(ae),ae.negative^=1,ce):ae.negative===0&&this.negative!==0?(this.negative=0,ce=ae.sub(this),this.negative=1,ce):this.length>ae.length?this.clone().iadd(ae):ae.clone().iadd(this)},ie.prototype.isub=function(ae){if(ae.negative!==0){ae.negative=0;var ce=this.iadd(ae);return ae.negative=1,ce._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ae),this.negative=1,this._normSign();var le=this.cmp(ae);if(le===0)return this.negative=0,this.length=1,this.words[0]=0,this;var pe,_e;le>0?(pe=this,_e=ae):(pe=ae,_e=this);for(var $e=0,Ee=0;Ee<_e.length;Ee++)ce=(pe.words[Ee]|0)-(_e.words[Ee]|0)+$e,$e=ce>>26,this.words[Ee]=ce&67108863;for(;$e!==0&&Ee<pe.length;Ee++)ce=(pe.words[Ee]|0)+$e,$e=ce>>26,this.words[Ee]=ce&67108863;if($e===0&&Ee<pe.length&&pe!==this)for(;Ee<pe.length;Ee++)this.words[Ee]=pe.words[Ee];return this.length=Math.max(this.length,Ee),pe!==this&&(this.negative=1),this.strip()},ie.prototype.sub=function(ae){return this.clone().isub(ae)};function Re(ye,ae,ce){ce.negative=ae.negative^ye.negative;var le=ye.length+ae.length|0;ce.length=le,le=le-1|0;var pe=ye.words[0]|0,_e=ae.words[0]|0,$e=pe*_e,Ee=$e&67108863,me=$e/67108864|0;ce.words[0]=Ee;for(var fe=1;fe<le;fe++){for(var we=me>>>26,Me=me&67108863,Le=Math.min(fe,ae.length-1),Je=Math.max(0,fe-ye.length+1);Je<=Le;Je++){var Ue=fe-Je|0;pe=ye.words[Ue]|0,_e=ae.words[Je]|0,$e=pe*_e+Me,we+=$e/67108864|0,Me=$e&67108863}ce.words[fe]=Me|0,me=we|0}return me!==0?ce.words[fe]=me|0:ce.length--,ce.strip()}var Ce=function(ae,ce,le){var pe=ae.words,_e=ce.words,$e=le.words,Ee=0,me,fe,we,Me=pe[0]|0,Le=Me&8191,Je=Me>>>13,Ue=pe[1]|0,ct=Ue&8191,gt=Ue>>>13,$t=pe[2]|0,vt=$t&8191,Tt=$t>>>13,qt=pe[3]|0,Rt=qt&8191,lt=qt>>>13,_t=pe[4]|0,bt=_t&8191,Qe=_t>>>13,ze=pe[5]|0,De=ze&8191,Ze=ze>>>13,yt=pe[6]|0,dt=yt&8191,mt=yt>>>13,Lt=pe[7]|0,St=Lt&8191,Bt=Lt>>>13,Gt=pe[8]|0,Ae=Gt&8191,ve=Gt>>>13,xe=pe[9]|0,Be=xe&8191,We=xe>>>13,et=_e[0]|0,Xe=et&8191,Mt=et>>>13,Vt=_e[1]|0,At=Vt&8191,Nt=Vt>>>13,zt=_e[2]|0,Ht=zt&8191,Qt=zt>>>13,Ir=_e[3]|0,jt=Ir&8191,Xt=Ir>>>13,$r=_e[4]|0,Ft=$r&8191,Zt=$r>>>13,kr=_e[5]|0,Wt=kr&8191,er=kr>>>13,Pr=_e[6]|0,Ot=Pr&8191,tr=Pr>>>13,Ye=_e[7]|0,rt=Ye&8191,it=Ye>>>13,Fe=_e[8]|0,ot=Fe&8191,wt=Fe>>>13,Pt=_e[9]|0,Et=Pt&8191,Ct=Pt>>>13;le.negative=ae.negative^ce.negative,le.length=19,me=Math.imul(Le,Xe),fe=Math.imul(Le,Mt),fe=fe+Math.imul(Je,Xe)|0,we=Math.imul(Je,Mt);var or=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(or>>>26)|0,or&=67108863,me=Math.imul(ct,Xe),fe=Math.imul(ct,Mt),fe=fe+Math.imul(gt,Xe)|0,we=Math.imul(gt,Mt),me=me+Math.imul(Le,At)|0,fe=fe+Math.imul(Le,Nt)|0,fe=fe+Math.imul(Je,At)|0,we=we+Math.imul(Je,Nt)|0;var Yt=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,me=Math.imul(vt,Xe),fe=Math.imul(vt,Mt),fe=fe+Math.imul(Tt,Xe)|0,we=Math.imul(Tt,Mt),me=me+Math.imul(ct,At)|0,fe=fe+Math.imul(ct,Nt)|0,fe=fe+Math.imul(gt,At)|0,we=we+Math.imul(gt,Nt)|0,me=me+Math.imul(Le,Ht)|0,fe=fe+Math.imul(Le,Qt)|0,fe=fe+Math.imul(Je,Ht)|0,we=we+Math.imul(Je,Qt)|0;var Rr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,me=Math.imul(Rt,Xe),fe=Math.imul(Rt,Mt),fe=fe+Math.imul(lt,Xe)|0,we=Math.imul(lt,Mt),me=me+Math.imul(vt,At)|0,fe=fe+Math.imul(vt,Nt)|0,fe=fe+Math.imul(Tt,At)|0,we=we+Math.imul(Tt,Nt)|0,me=me+Math.imul(ct,Ht)|0,fe=fe+Math.imul(ct,Qt)|0,fe=fe+Math.imul(gt,Ht)|0,we=we+Math.imul(gt,Qt)|0,me=me+Math.imul(Le,jt)|0,fe=fe+Math.imul(Le,Xt)|0,fe=fe+Math.imul(Je,jt)|0,we=we+Math.imul(Je,Xt)|0;var cr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(cr>>>26)|0,cr&=67108863,me=Math.imul(bt,Xe),fe=Math.imul(bt,Mt),fe=fe+Math.imul(Qe,Xe)|0,we=Math.imul(Qe,Mt),me=me+Math.imul(Rt,At)|0,fe=fe+Math.imul(Rt,Nt)|0,fe=fe+Math.imul(lt,At)|0,we=we+Math.imul(lt,Nt)|0,me=me+Math.imul(vt,Ht)|0,fe=fe+Math.imul(vt,Qt)|0,fe=fe+Math.imul(Tt,Ht)|0,we=we+Math.imul(Tt,Qt)|0,me=me+Math.imul(ct,jt)|0,fe=fe+Math.imul(ct,Xt)|0,fe=fe+Math.imul(gt,jt)|0,we=we+Math.imul(gt,Xt)|0,me=me+Math.imul(Le,Ft)|0,fe=fe+Math.imul(Le,Zt)|0,fe=fe+Math.imul(Je,Ft)|0,we=we+Math.imul(Je,Zt)|0;var wr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(wr>>>26)|0,wr&=67108863,me=Math.imul(De,Xe),fe=Math.imul(De,Mt),fe=fe+Math.imul(Ze,Xe)|0,we=Math.imul(Ze,Mt),me=me+Math.imul(bt,At)|0,fe=fe+Math.imul(bt,Nt)|0,fe=fe+Math.imul(Qe,At)|0,we=we+Math.imul(Qe,Nt)|0,me=me+Math.imul(Rt,Ht)|0,fe=fe+Math.imul(Rt,Qt)|0,fe=fe+Math.imul(lt,Ht)|0,we=we+Math.imul(lt,Qt)|0,me=me+Math.imul(vt,jt)|0,fe=fe+Math.imul(vt,Xt)|0,fe=fe+Math.imul(Tt,jt)|0,we=we+Math.imul(Tt,Xt)|0,me=me+Math.imul(ct,Ft)|0,fe=fe+Math.imul(ct,Zt)|0,fe=fe+Math.imul(gt,Ft)|0,we=we+Math.imul(gt,Zt)|0,me=me+Math.imul(Le,Wt)|0,fe=fe+Math.imul(Le,er)|0,fe=fe+Math.imul(Je,Wt)|0,we=we+Math.imul(Je,er)|0;var xr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(xr>>>26)|0,xr&=67108863,me=Math.imul(dt,Xe),fe=Math.imul(dt,Mt),fe=fe+Math.imul(mt,Xe)|0,we=Math.imul(mt,Mt),me=me+Math.imul(De,At)|0,fe=fe+Math.imul(De,Nt)|0,fe=fe+Math.imul(Ze,At)|0,we=we+Math.imul(Ze,Nt)|0,me=me+Math.imul(bt,Ht)|0,fe=fe+Math.imul(bt,Qt)|0,fe=fe+Math.imul(Qe,Ht)|0,we=we+Math.imul(Qe,Qt)|0,me=me+Math.imul(Rt,jt)|0,fe=fe+Math.imul(Rt,Xt)|0,fe=fe+Math.imul(lt,jt)|0,we=we+Math.imul(lt,Xt)|0,me=me+Math.imul(vt,Ft)|0,fe=fe+Math.imul(vt,Zt)|0,fe=fe+Math.imul(Tt,Ft)|0,we=we+Math.imul(Tt,Zt)|0,me=me+Math.imul(ct,Wt)|0,fe=fe+Math.imul(ct,er)|0,fe=fe+Math.imul(gt,Wt)|0,we=we+Math.imul(gt,er)|0,me=me+Math.imul(Le,Ot)|0,fe=fe+Math.imul(Le,tr)|0,fe=fe+Math.imul(Je,Ot)|0,we=we+Math.imul(Je,tr)|0;var Er=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Er>>>26)|0,Er&=67108863,me=Math.imul(St,Xe),fe=Math.imul(St,Mt),fe=fe+Math.imul(Bt,Xe)|0,we=Math.imul(Bt,Mt),me=me+Math.imul(dt,At)|0,fe=fe+Math.imul(dt,Nt)|0,fe=fe+Math.imul(mt,At)|0,we=we+Math.imul(mt,Nt)|0,me=me+Math.imul(De,Ht)|0,fe=fe+Math.imul(De,Qt)|0,fe=fe+Math.imul(Ze,Ht)|0,we=we+Math.imul(Ze,Qt)|0,me=me+Math.imul(bt,jt)|0,fe=fe+Math.imul(bt,Xt)|0,fe=fe+Math.imul(Qe,jt)|0,we=we+Math.imul(Qe,Xt)|0,me=me+Math.imul(Rt,Ft)|0,fe=fe+Math.imul(Rt,Zt)|0,fe=fe+Math.imul(lt,Ft)|0,we=we+Math.imul(lt,Zt)|0,me=me+Math.imul(vt,Wt)|0,fe=fe+Math.imul(vt,er)|0,fe=fe+Math.imul(Tt,Wt)|0,we=we+Math.imul(Tt,er)|0,me=me+Math.imul(ct,Ot)|0,fe=fe+Math.imul(ct,tr)|0,fe=fe+Math.imul(gt,Ot)|0,we=we+Math.imul(gt,tr)|0,me=me+Math.imul(Le,rt)|0,fe=fe+Math.imul(Le,it)|0,fe=fe+Math.imul(Je,rt)|0,we=we+Math.imul(Je,it)|0;var Mr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,me=Math.imul(Ae,Xe),fe=Math.imul(Ae,Mt),fe=fe+Math.imul(ve,Xe)|0,we=Math.imul(ve,Mt),me=me+Math.imul(St,At)|0,fe=fe+Math.imul(St,Nt)|0,fe=fe+Math.imul(Bt,At)|0,we=we+Math.imul(Bt,Nt)|0,me=me+Math.imul(dt,Ht)|0,fe=fe+Math.imul(dt,Qt)|0,fe=fe+Math.imul(mt,Ht)|0,we=we+Math.imul(mt,Qt)|0,me=me+Math.imul(De,jt)|0,fe=fe+Math.imul(De,Xt)|0,fe=fe+Math.imul(Ze,jt)|0,we=we+Math.imul(Ze,Xt)|0,me=me+Math.imul(bt,Ft)|0,fe=fe+Math.imul(bt,Zt)|0,fe=fe+Math.imul(Qe,Ft)|0,we=we+Math.imul(Qe,Zt)|0,me=me+Math.imul(Rt,Wt)|0,fe=fe+Math.imul(Rt,er)|0,fe=fe+Math.imul(lt,Wt)|0,we=we+Math.imul(lt,er)|0,me=me+Math.imul(vt,Ot)|0,fe=fe+Math.imul(vt,tr)|0,fe=fe+Math.imul(Tt,Ot)|0,we=we+Math.imul(Tt,tr)|0,me=me+Math.imul(ct,rt)|0,fe=fe+Math.imul(ct,it)|0,fe=fe+Math.imul(gt,rt)|0,we=we+Math.imul(gt,it)|0,me=me+Math.imul(Le,ot)|0,fe=fe+Math.imul(Le,wt)|0,fe=fe+Math.imul(Je,ot)|0,we=we+Math.imul(Je,wt)|0;var Sr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,me=Math.imul(Be,Xe),fe=Math.imul(Be,Mt),fe=fe+Math.imul(We,Xe)|0,we=Math.imul(We,Mt),me=me+Math.imul(Ae,At)|0,fe=fe+Math.imul(Ae,Nt)|0,fe=fe+Math.imul(ve,At)|0,we=we+Math.imul(ve,Nt)|0,me=me+Math.imul(St,Ht)|0,fe=fe+Math.imul(St,Qt)|0,fe=fe+Math.imul(Bt,Ht)|0,we=we+Math.imul(Bt,Qt)|0,me=me+Math.imul(dt,jt)|0,fe=fe+Math.imul(dt,Xt)|0,fe=fe+Math.imul(mt,jt)|0,we=we+Math.imul(mt,Xt)|0,me=me+Math.imul(De,Ft)|0,fe=fe+Math.imul(De,Zt)|0,fe=fe+Math.imul(Ze,Ft)|0,we=we+Math.imul(Ze,Zt)|0,me=me+Math.imul(bt,Wt)|0,fe=fe+Math.imul(bt,er)|0,fe=fe+Math.imul(Qe,Wt)|0,we=we+Math.imul(Qe,er)|0,me=me+Math.imul(Rt,Ot)|0,fe=fe+Math.imul(Rt,tr)|0,fe=fe+Math.imul(lt,Ot)|0,we=we+Math.imul(lt,tr)|0,me=me+Math.imul(vt,rt)|0,fe=fe+Math.imul(vt,it)|0,fe=fe+Math.imul(Tt,rt)|0,we=we+Math.imul(Tt,it)|0,me=me+Math.imul(ct,ot)|0,fe=fe+Math.imul(ct,wt)|0,fe=fe+Math.imul(gt,ot)|0,we=we+Math.imul(gt,wt)|0,me=me+Math.imul(Le,Et)|0,fe=fe+Math.imul(Le,Ct)|0,fe=fe+Math.imul(Je,Et)|0,we=we+Math.imul(Je,Ct)|0;var Ar=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,me=Math.imul(Be,At),fe=Math.imul(Be,Nt),fe=fe+Math.imul(We,At)|0,we=Math.imul(We,Nt),me=me+Math.imul(Ae,Ht)|0,fe=fe+Math.imul(Ae,Qt)|0,fe=fe+Math.imul(ve,Ht)|0,we=we+Math.imul(ve,Qt)|0,me=me+Math.imul(St,jt)|0,fe=fe+Math.imul(St,Xt)|0,fe=fe+Math.imul(Bt,jt)|0,we=we+Math.imul(Bt,Xt)|0,me=me+Math.imul(dt,Ft)|0,fe=fe+Math.imul(dt,Zt)|0,fe=fe+Math.imul(mt,Ft)|0,we=we+Math.imul(mt,Zt)|0,me=me+Math.imul(De,Wt)|0,fe=fe+Math.imul(De,er)|0,fe=fe+Math.imul(Ze,Wt)|0,we=we+Math.imul(Ze,er)|0,me=me+Math.imul(bt,Ot)|0,fe=fe+Math.imul(bt,tr)|0,fe=fe+Math.imul(Qe,Ot)|0,we=we+Math.imul(Qe,tr)|0,me=me+Math.imul(Rt,rt)|0,fe=fe+Math.imul(Rt,it)|0,fe=fe+Math.imul(lt,rt)|0,we=we+Math.imul(lt,it)|0,me=me+Math.imul(vt,ot)|0,fe=fe+Math.imul(vt,wt)|0,fe=fe+Math.imul(Tt,ot)|0,we=we+Math.imul(Tt,wt)|0,me=me+Math.imul(ct,Et)|0,fe=fe+Math.imul(ct,Ct)|0,fe=fe+Math.imul(gt,Et)|0,we=we+Math.imul(gt,Ct)|0;var Tr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,me=Math.imul(Be,Ht),fe=Math.imul(Be,Qt),fe=fe+Math.imul(We,Ht)|0,we=Math.imul(We,Qt),me=me+Math.imul(Ae,jt)|0,fe=fe+Math.imul(Ae,Xt)|0,fe=fe+Math.imul(ve,jt)|0,we=we+Math.imul(ve,Xt)|0,me=me+Math.imul(St,Ft)|0,fe=fe+Math.imul(St,Zt)|0,fe=fe+Math.imul(Bt,Ft)|0,we=we+Math.imul(Bt,Zt)|0,me=me+Math.imul(dt,Wt)|0,fe=fe+Math.imul(dt,er)|0,fe=fe+Math.imul(mt,Wt)|0,we=we+Math.imul(mt,er)|0,me=me+Math.imul(De,Ot)|0,fe=fe+Math.imul(De,tr)|0,fe=fe+Math.imul(Ze,Ot)|0,we=we+Math.imul(Ze,tr)|0,me=me+Math.imul(bt,rt)|0,fe=fe+Math.imul(bt,it)|0,fe=fe+Math.imul(Qe,rt)|0,we=we+Math.imul(Qe,it)|0,me=me+Math.imul(Rt,ot)|0,fe=fe+Math.imul(Rt,wt)|0,fe=fe+Math.imul(lt,ot)|0,we=we+Math.imul(lt,wt)|0,me=me+Math.imul(vt,Et)|0,fe=fe+Math.imul(vt,Ct)|0,fe=fe+Math.imul(Tt,Et)|0,we=we+Math.imul(Tt,Ct)|0;var pr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(pr>>>26)|0,pr&=67108863,me=Math.imul(Be,jt),fe=Math.imul(Be,Xt),fe=fe+Math.imul(We,jt)|0,we=Math.imul(We,Xt),me=me+Math.imul(Ae,Ft)|0,fe=fe+Math.imul(Ae,Zt)|0,fe=fe+Math.imul(ve,Ft)|0,we=we+Math.imul(ve,Zt)|0,me=me+Math.imul(St,Wt)|0,fe=fe+Math.imul(St,er)|0,fe=fe+Math.imul(Bt,Wt)|0,we=we+Math.imul(Bt,er)|0,me=me+Math.imul(dt,Ot)|0,fe=fe+Math.imul(dt,tr)|0,fe=fe+Math.imul(mt,Ot)|0,we=we+Math.imul(mt,tr)|0,me=me+Math.imul(De,rt)|0,fe=fe+Math.imul(De,it)|0,fe=fe+Math.imul(Ze,rt)|0,we=we+Math.imul(Ze,it)|0,me=me+Math.imul(bt,ot)|0,fe=fe+Math.imul(bt,wt)|0,fe=fe+Math.imul(Qe,ot)|0,we=we+Math.imul(Qe,wt)|0,me=me+Math.imul(Rt,Et)|0,fe=fe+Math.imul(Rt,Ct)|0,fe=fe+Math.imul(lt,Et)|0,we=we+Math.imul(lt,Ct)|0;var _r=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(_r>>>26)|0,_r&=67108863,me=Math.imul(Be,Ft),fe=Math.imul(Be,Zt),fe=fe+Math.imul(We,Ft)|0,we=Math.imul(We,Zt),me=me+Math.imul(Ae,Wt)|0,fe=fe+Math.imul(Ae,er)|0,fe=fe+Math.imul(ve,Wt)|0,we=we+Math.imul(ve,er)|0,me=me+Math.imul(St,Ot)|0,fe=fe+Math.imul(St,tr)|0,fe=fe+Math.imul(Bt,Ot)|0,we=we+Math.imul(Bt,tr)|0,me=me+Math.imul(dt,rt)|0,fe=fe+Math.imul(dt,it)|0,fe=fe+Math.imul(mt,rt)|0,we=we+Math.imul(mt,it)|0,me=me+Math.imul(De,ot)|0,fe=fe+Math.imul(De,wt)|0,fe=fe+Math.imul(Ze,ot)|0,we=we+Math.imul(Ze,wt)|0,me=me+Math.imul(bt,Et)|0,fe=fe+Math.imul(bt,Ct)|0,fe=fe+Math.imul(Qe,Et)|0,we=we+Math.imul(Qe,Ct)|0;var lr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(lr>>>26)|0,lr&=67108863,me=Math.imul(Be,Wt),fe=Math.imul(Be,er),fe=fe+Math.imul(We,Wt)|0,we=Math.imul(We,er),me=me+Math.imul(Ae,Ot)|0,fe=fe+Math.imul(Ae,tr)|0,fe=fe+Math.imul(ve,Ot)|0,we=we+Math.imul(ve,tr)|0,me=me+Math.imul(St,rt)|0,fe=fe+Math.imul(St,it)|0,fe=fe+Math.imul(Bt,rt)|0,we=we+Math.imul(Bt,it)|0,me=me+Math.imul(dt,ot)|0,fe=fe+Math.imul(dt,wt)|0,fe=fe+Math.imul(mt,ot)|0,we=we+Math.imul(mt,wt)|0,me=me+Math.imul(De,Et)|0,fe=fe+Math.imul(De,Ct)|0,fe=fe+Math.imul(Ze,Et)|0,we=we+Math.imul(Ze,Ct)|0;var gr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(gr>>>26)|0,gr&=67108863,me=Math.imul(Be,Ot),fe=Math.imul(Be,tr),fe=fe+Math.imul(We,Ot)|0,we=Math.imul(We,tr),me=me+Math.imul(Ae,rt)|0,fe=fe+Math.imul(Ae,it)|0,fe=fe+Math.imul(ve,rt)|0,we=we+Math.imul(ve,it)|0,me=me+Math.imul(St,ot)|0,fe=fe+Math.imul(St,wt)|0,fe=fe+Math.imul(Bt,ot)|0,we=we+Math.imul(Bt,wt)|0,me=me+Math.imul(dt,Et)|0,fe=fe+Math.imul(dt,Ct)|0,fe=fe+Math.imul(mt,Et)|0,we=we+Math.imul(mt,Ct)|0;var mr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(mr>>>26)|0,mr&=67108863,me=Math.imul(Be,rt),fe=Math.imul(Be,it),fe=fe+Math.imul(We,rt)|0,we=Math.imul(We,it),me=me+Math.imul(Ae,ot)|0,fe=fe+Math.imul(Ae,wt)|0,fe=fe+Math.imul(ve,ot)|0,we=we+Math.imul(ve,wt)|0,me=me+Math.imul(St,Et)|0,fe=fe+Math.imul(St,Ct)|0,fe=fe+Math.imul(Bt,Et)|0,we=we+Math.imul(Bt,Ct)|0;var dr=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(dr>>>26)|0,dr&=67108863,me=Math.imul(Be,ot),fe=Math.imul(Be,wt),fe=fe+Math.imul(We,ot)|0,we=Math.imul(We,wt),me=me+Math.imul(Ae,Et)|0,fe=fe+Math.imul(Ae,Ct)|0,fe=fe+Math.imul(ve,Et)|0,we=we+Math.imul(ve,Ct)|0;var Ut=(Ee+me|0)+((fe&8191)<<13)|0;Ee=(we+(fe>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,me=Math.imul(Be,Et),fe=Math.imul(Be,Ct),fe=fe+Math.imul(We,Et)|0,we=Math.imul(We,Ct);var Dt=(Ee+me|0)+((fe&8191)<<13)|0;return Ee=(we+(fe>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,$e[0]=or,$e[1]=Yt,$e[2]=Rr,$e[3]=cr,$e[4]=wr,$e[5]=xr,$e[6]=Er,$e[7]=Mr,$e[8]=Sr,$e[9]=Ar,$e[10]=Tr,$e[11]=pr,$e[12]=_r,$e[13]=lr,$e[14]=gr,$e[15]=mr,$e[16]=dr,$e[17]=Ut,$e[18]=Dt,Ee!==0&&($e[19]=Ee,le.length++),le};Math.imul||(Ce=Re);function Pe(ye,ae,ce){ce.negative=ae.negative^ye.negative,ce.length=ye.length+ae.length;for(var le=0,pe=0,_e=0;_e<ce.length-1;_e++){var $e=pe;pe=0;for(var Ee=le&67108863,me=Math.min(_e,ae.length-1),fe=Math.max(0,_e-ye.length+1);fe<=me;fe++){var we=_e-fe,Me=ye.words[we]|0,Le=ae.words[fe]|0,Je=Me*Le,Ue=Je&67108863;$e=$e+(Je/67108864|0)|0,Ue=Ue+Ee|0,Ee=Ue&67108863,$e=$e+(Ue>>>26)|0,pe+=$e>>>26,$e&=67108863}ce.words[_e]=Ee,le=$e,$e=pe}return le!==0?ce.words[_e]=le:ce.length--,ce.strip()}function Ie(ye,ae,ce){var le=new Ne;return le.mulp(ye,ae,ce)}ie.prototype.mulTo=function(ae,ce){var le,pe=this.length+ae.length;return this.length===10&&ae.length===10?le=Ce(this,ae,ce):pe<63?le=Re(this,ae,ce):pe<1024?le=Pe(this,ae,ce):le=Ie(this,ae,ce),le};function Ne(ye,ae){this.x=ye,this.y=ae}Ne.prototype.makeRBT=function(ae){for(var ce=new Array(ae),le=ie.prototype._countBits(ae)-1,pe=0;pe<ae;pe++)ce[pe]=this.revBin(pe,le,ae);return ce},Ne.prototype.revBin=function(ae,ce,le){if(ae===0||ae===le-1)return ae;for(var pe=0,_e=0;_e<ce;_e++)pe|=(ae&1)<<ce-_e-1,ae>>=1;return pe},Ne.prototype.permute=function(ae,ce,le,pe,_e,$e){for(var Ee=0;Ee<$e;Ee++)pe[Ee]=ce[ae[Ee]],_e[Ee]=le[ae[Ee]]},Ne.prototype.transform=function(ae,ce,le,pe,_e,$e){this.permute($e,ae,ce,le,pe,_e);for(var Ee=1;Ee<_e;Ee<<=1)for(var me=Ee<<1,fe=Math.cos(2*Math.PI/me),we=Math.sin(2*Math.PI/me),Me=0;Me<_e;Me+=me)for(var Le=fe,Je=we,Ue=0;Ue<Ee;Ue++){var ct=le[Me+Ue],gt=pe[Me+Ue],$t=le[Me+Ue+Ee],vt=pe[Me+Ue+Ee],Tt=Le*$t-Je*vt;vt=Le*vt+Je*$t,$t=Tt,le[Me+Ue]=ct+$t,pe[Me+Ue]=gt+vt,le[Me+Ue+Ee]=ct-$t,pe[Me+Ue+Ee]=gt-vt,Ue!==me&&(Tt=fe*Le-we*Je,Je=fe*Je+we*Le,Le=Tt)}},Ne.prototype.guessLen13b=function(ae,ce){var le=Math.max(ce,ae)|1,pe=le&1,_e=0;for(le=le/2|0;le;le=le>>>1)_e++;return 1<<_e+1+pe},Ne.prototype.conjugate=function(ae,ce,le){if(!(le<=1))for(var pe=0;pe<le/2;pe++){var _e=ae[pe];ae[pe]=ae[le-pe-1],ae[le-pe-1]=_e,_e=ce[pe],ce[pe]=-ce[le-pe-1],ce[le-pe-1]=-_e}},Ne.prototype.normalize13b=function(ae,ce){for(var le=0,pe=0;pe<ce/2;pe++){var _e=Math.round(ae[2*pe+1]/ce)*8192+Math.round(ae[2*pe]/ce)+le;ae[pe]=_e&67108863,_e<67108864?le=0:le=_e/67108864|0}return ae},Ne.prototype.convert13b=function(ae,ce,le,pe){for(var _e=0,$e=0;$e<ce;$e++)_e=_e+(ae[$e]|0),le[2*$e]=_e&8191,_e=_e>>>13,le[2*$e+1]=_e&8191,_e=_e>>>13;for($e=2*ce;$e<pe;++$e)le[$e]=0;ne(_e===0),ne((_e&-8192)===0)},Ne.prototype.stub=function(ae){for(var ce=new Array(ae),le=0;le<ae;le++)ce[le]=0;return ce},Ne.prototype.mulp=function(ae,ce,le){var pe=2*this.guessLen13b(ae.length,ce.length),_e=this.makeRBT(pe),$e=this.stub(pe),Ee=new Array(pe),me=new Array(pe),fe=new Array(pe),we=new Array(pe),Me=new Array(pe),Le=new Array(pe),Je=le.words;Je.length=pe,this.convert13b(ae.words,ae.length,Ee,pe),this.convert13b(ce.words,ce.length,we,pe),this.transform(Ee,$e,me,fe,pe,_e),this.transform(we,$e,Me,Le,pe,_e);for(var Ue=0;Ue<pe;Ue++){var ct=me[Ue]*Me[Ue]-fe[Ue]*Le[Ue];fe[Ue]=me[Ue]*Le[Ue]+fe[Ue]*Me[Ue],me[Ue]=ct}return this.conjugate(me,fe,pe),this.transform(me,fe,Je,$e,pe,_e),this.conjugate(Je,$e,pe),this.normalize13b(Je,pe),le.negative=ae.negative^ce.negative,le.length=ae.length+ce.length,le.strip()},ie.prototype.mul=function(ae){var ce=new ie(null);return ce.words=new Array(this.length+ae.length),this.mulTo(ae,ce)},ie.prototype.mulf=function(ae){var ce=new ie(null);return ce.words=new Array(this.length+ae.length),Ie(this,ae,ce)},ie.prototype.imul=function(ae){return this.clone().mulTo(ae,this)},ie.prototype.imuln=function(ae){ne(typeof ae=="number"),ne(ae<67108864);for(var ce=0,le=0;le<this.length;le++){var pe=(this.words[le]|0)*ae,_e=(pe&67108863)+(ce&67108863);ce>>=26,ce+=pe/67108864|0,ce+=_e>>>26,this.words[le]=_e&67108863}return ce!==0&&(this.words[le]=ce,this.length++),this},ie.prototype.muln=function(ae){return this.clone().imuln(ae)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(ae){var ce=ke(ae);if(ce.length===0)return new ie(1);for(var le=this,pe=0;pe<ce.length&&ce[pe]===0;pe++,le=le.sqr());if(++pe<ce.length)for(var _e=le.sqr();pe<ce.length;pe++,_e=_e.sqr())ce[pe]!==0&&(le=le.mul(_e));return le},ie.prototype.iushln=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26,pe=67108863>>>26-ce<<26-ce,_e;if(ce!==0){var $e=0;for(_e=0;_e<this.length;_e++){var Ee=this.words[_e]&pe,me=(this.words[_e]|0)-Ee<<ce;this.words[_e]=me|$e,$e=Ee>>>26-ce}$e&&(this.words[_e]=$e,this.length++)}if(le!==0){for(_e=this.length-1;_e>=0;_e--)this.words[_e+le]=this.words[_e];for(_e=0;_e<le;_e++)this.words[_e]=0;this.length+=le}return this.strip()},ie.prototype.ishln=function(ae){return ne(this.negative===0),this.iushln(ae)},ie.prototype.iushrn=function(ae,ce,le){ne(typeof ae=="number"&&ae>=0);var pe;ce?pe=(ce-ce%26)/26:pe=0;var _e=ae%26,$e=Math.min((ae-_e)/26,this.length),Ee=67108863^67108863>>>_e<<_e,me=le;if(pe-=$e,pe=Math.max(0,pe),me){for(var fe=0;fe<$e;fe++)me.words[fe]=this.words[fe];me.length=$e}if($e!==0)if(this.length>$e)for(this.length-=$e,fe=0;fe<this.length;fe++)this.words[fe]=this.words[fe+$e];else this.words[0]=0,this.length=1;var we=0;for(fe=this.length-1;fe>=0&&(we!==0||fe>=pe);fe--){var Me=this.words[fe]|0;this.words[fe]=we<<26-_e|Me>>>_e,we=Me&Ee}return me&&we!==0&&(me.words[me.length++]=we),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ie.prototype.ishrn=function(ae,ce,le){return ne(this.negative===0),this.iushrn(ae,ce,le)},ie.prototype.shln=function(ae){return this.clone().ishln(ae)},ie.prototype.ushln=function(ae){return this.clone().iushln(ae)},ie.prototype.shrn=function(ae){return this.clone().ishrn(ae)},ie.prototype.ushrn=function(ae){return this.clone().iushrn(ae)},ie.prototype.testn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26,pe=1<<ce;if(this.length<=le)return!1;var _e=this.words[le];return!!(_e&pe)},ie.prototype.imaskn=function(ae){ne(typeof ae=="number"&&ae>=0);var ce=ae%26,le=(ae-ce)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=le)return this;if(ce!==0&&le++,this.length=Math.min(le,this.length),ce!==0){var pe=67108863^67108863>>>ce<<ce;this.words[this.length-1]&=pe}return this.strip()},ie.prototype.maskn=function(ae){return this.clone().imaskn(ae)},ie.prototype.iaddn=function(ae){return ne(typeof ae=="number"),ne(ae<67108864),ae<0?this.isubn(-ae):this.negative!==0?this.length===1&&(this.words[0]|0)<ae?(this.words[0]=ae-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ae),this.negative=1,this):this._iaddn(ae)},ie.prototype._iaddn=function(ae){this.words[0]+=ae;for(var ce=0;ce<this.length&&this.words[ce]>=67108864;ce++)this.words[ce]-=67108864,ce===this.length-1?this.words[ce+1]=1:this.words[ce+1]++;return this.length=Math.max(this.length,ce+1),this},ie.prototype.isubn=function(ae){if(ne(typeof ae=="number"),ne(ae<67108864),ae<0)return this.iaddn(-ae);if(this.negative!==0)return this.negative=0,this.iaddn(ae),this.negative=1,this;if(this.words[0]-=ae,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ce=0;ce<this.length&&this.words[ce]<0;ce++)this.words[ce]+=67108864,this.words[ce+1]-=1;return this.strip()},ie.prototype.addn=function(ae){return this.clone().iaddn(ae)},ie.prototype.subn=function(ae){return this.clone().isubn(ae)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(ae,ce,le){var pe=ae.length+le,_e;this._expand(pe);var $e,Ee=0;for(_e=0;_e<ae.length;_e++){$e=(this.words[_e+le]|0)+Ee;var me=(ae.words[_e]|0)*ce;$e-=me&67108863,Ee=($e>>26)-(me/67108864|0),this.words[_e+le]=$e&67108863}for(;_e<this.length-le;_e++)$e=(this.words[_e+le]|0)+Ee,Ee=$e>>26,this.words[_e+le]=$e&67108863;if(Ee===0)return this.strip();for(ne(Ee===-1),Ee=0,_e=0;_e<this.length;_e++)$e=-(this.words[_e]|0)+Ee,Ee=$e>>26,this.words[_e]=$e&67108863;return this.negative=1,this.strip()},ie.prototype._wordDiv=function(ae,ce){var le=this.length-ae.length,pe=this.clone(),_e=ae,$e=_e.words[_e.length-1]|0,Ee=this._countBits($e);le=26-Ee,le!==0&&(_e=_e.ushln(le),pe.iushln(le),$e=_e.words[_e.length-1]|0);var me=pe.length-_e.length,fe;if(ce!=="mod"){fe=new ie(null),fe.length=me+1,fe.words=new Array(fe.length);for(var we=0;we<fe.length;we++)fe.words[we]=0}var Me=pe.clone()._ishlnsubmul(_e,1,me);Me.negative===0&&(pe=Me,fe&&(fe.words[me]=1));for(var Le=me-1;Le>=0;Le--){var Je=(pe.words[_e.length+Le]|0)*67108864+(pe.words[_e.length+Le-1]|0);for(Je=Math.min(Je/$e|0,67108863),pe._ishlnsubmul(_e,Je,Le);pe.negative!==0;)Je--,pe.negative=0,pe._ishlnsubmul(_e,1,Le),pe.isZero()||(pe.negative^=1);fe&&(fe.words[Le]=Je)}return fe&&fe.strip(),pe.strip(),ce!=="div"&&le!==0&&pe.iushrn(le),{div:fe||null,mod:pe}},ie.prototype.divmod=function(ae,ce,le){if(ne(!ae.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var pe,_e,$e;return this.negative!==0&&ae.negative===0?($e=this.neg().divmod(ae,ce),ce!=="mod"&&(pe=$e.div.neg()),ce!=="div"&&(_e=$e.mod.neg(),le&&_e.negative!==0&&_e.iadd(ae)),{div:pe,mod:_e}):this.negative===0&&ae.negative!==0?($e=this.divmod(ae.neg(),ce),ce!=="mod"&&(pe=$e.div.neg()),{div:pe,mod:$e.mod}):(this.negative&ae.negative)!==0?($e=this.neg().divmod(ae.neg(),ce),ce!=="div"&&(_e=$e.mod.neg(),le&&_e.negative!==0&&_e.isub(ae)),{div:$e.div,mod:_e}):ae.length>this.length||this.cmp(ae)<0?{div:new ie(0),mod:this}:ae.length===1?ce==="div"?{div:this.divn(ae.words[0]),mod:null}:ce==="mod"?{div:null,mod:new ie(this.modn(ae.words[0]))}:{div:this.divn(ae.words[0]),mod:new ie(this.modn(ae.words[0]))}:this._wordDiv(ae,ce)},ie.prototype.div=function(ae){return this.divmod(ae,"div",!1).div},ie.prototype.mod=function(ae){return this.divmod(ae,"mod",!1).mod},ie.prototype.umod=function(ae){return this.divmod(ae,"mod",!0).mod},ie.prototype.divRound=function(ae){var ce=this.divmod(ae);if(ce.mod.isZero())return ce.div;var le=ce.div.negative!==0?ce.mod.isub(ae):ce.mod,pe=ae.ushrn(1),_e=ae.andln(1),$e=le.cmp(pe);return $e<0||_e===1&&$e===0?ce.div:ce.div.negative!==0?ce.div.isubn(1):ce.div.iaddn(1)},ie.prototype.modn=function(ae){ne(ae<=67108863);for(var ce=(1<<26)%ae,le=0,pe=this.length-1;pe>=0;pe--)le=(ce*le+(this.words[pe]|0))%ae;return le},ie.prototype.idivn=function(ae){ne(ae<=67108863);for(var ce=0,le=this.length-1;le>=0;le--){var pe=(this.words[le]|0)+ce*67108864;this.words[le]=pe/ae|0,ce=pe%ae}return this.strip()},ie.prototype.divn=function(ae){return this.clone().idivn(ae)},ie.prototype.egcd=function(ae){ne(ae.negative===0),ne(!ae.isZero());var ce=this,le=ae.clone();ce.negative!==0?ce=ce.umod(ae):ce=ce.clone();for(var pe=new ie(1),_e=new ie(0),$e=new ie(0),Ee=new ie(1),me=0;ce.isEven()&&le.isEven();)ce.iushrn(1),le.iushrn(1),++me;for(var fe=le.clone(),we=ce.clone();!ce.isZero();){for(var Me=0,Le=1;(ce.words[0]&Le)===0&&Me<26;++Me,Le<<=1);if(Me>0)for(ce.iushrn(Me);Me-- >0;)(pe.isOdd()||_e.isOdd())&&(pe.iadd(fe),_e.isub(we)),pe.iushrn(1),_e.iushrn(1);for(var Je=0,Ue=1;(le.words[0]&Ue)===0&&Je<26;++Je,Ue<<=1);if(Je>0)for(le.iushrn(Je);Je-- >0;)($e.isOdd()||Ee.isOdd())&&($e.iadd(fe),Ee.isub(we)),$e.iushrn(1),Ee.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),pe.isub($e),_e.isub(Ee)):(le.isub(ce),$e.isub(pe),Ee.isub(_e))}return{a:$e,b:Ee,gcd:le.iushln(me)}},ie.prototype._invmp=function(ae){ne(ae.negative===0),ne(!ae.isZero());var ce=this,le=ae.clone();ce.negative!==0?ce=ce.umod(ae):ce=ce.clone();for(var pe=new ie(1),_e=new ie(0),$e=le.clone();ce.cmpn(1)>0&&le.cmpn(1)>0;){for(var Ee=0,me=1;(ce.words[0]&me)===0&&Ee<26;++Ee,me<<=1);if(Ee>0)for(ce.iushrn(Ee);Ee-- >0;)pe.isOdd()&&pe.iadd($e),pe.iushrn(1);for(var fe=0,we=1;(le.words[0]&we)===0&&fe<26;++fe,we<<=1);if(fe>0)for(le.iushrn(fe);fe-- >0;)_e.isOdd()&&_e.iadd($e),_e.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),pe.isub(_e)):(le.isub(ce),_e.isub(pe))}var Me;return ce.cmpn(1)===0?Me=pe:Me=_e,Me.cmpn(0)<0&&Me.iadd(ae),Me},ie.prototype.gcd=function(ae){if(this.isZero())return ae.abs();if(ae.isZero())return this.abs();var ce=this.clone(),le=ae.clone();ce.negative=0,le.negative=0;for(var pe=0;ce.isEven()&&le.isEven();pe++)ce.iushrn(1),le.iushrn(1);do{for(;ce.isEven();)ce.iushrn(1);for(;le.isEven();)le.iushrn(1);var _e=ce.cmp(le);if(_e<0){var $e=ce;ce=le,le=$e}else if(_e===0||le.cmpn(1)===0)break;ce.isub(le)}while(!0);return le.iushln(pe)},ie.prototype.invm=function(ae){return this.egcd(ae).a.umod(ae)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(ae){return this.words[0]&ae},ie.prototype.bincn=function(ae){ne(typeof ae=="number");var ce=ae%26,le=(ae-ce)/26,pe=1<<ce;if(this.length<=le)return this._expand(le+1),this.words[le]|=pe,this;for(var _e=pe,$e=le;_e!==0&&$e<this.length;$e++){var Ee=this.words[$e]|0;Ee+=_e,_e=Ee>>>26,Ee&=67108863,this.words[$e]=Ee}return _e!==0&&(this.words[$e]=_e,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(ae){var ce=ae<0;if(this.negative!==0&&!ce)return-1;if(this.negative===0&&ce)return 1;this.strip();var le;if(this.length>1)le=1;else{ce&&(ae=-ae),ne(ae<=67108863,"Number is too big");var pe=this.words[0]|0;le=pe===ae?0:pe<ae?-1:1}return this.negative!==0?-le|0:le},ie.prototype.cmp=function(ae){if(this.negative!==0&&ae.negative===0)return-1;if(this.negative===0&&ae.negative!==0)return 1;var ce=this.ucmp(ae);return this.negative!==0?-ce|0:ce},ie.prototype.ucmp=function(ae){if(this.length>ae.length)return 1;if(this.length<ae.length)return-1;for(var ce=0,le=this.length-1;le>=0;le--){var pe=this.words[le]|0,_e=ae.words[le]|0;if(pe!==_e){pe<_e?ce=-1:pe>_e&&(ce=1);break}}return ce},ie.prototype.gtn=function(ae){return this.cmpn(ae)===1},ie.prototype.gt=function(ae){return this.cmp(ae)===1},ie.prototype.gten=function(ae){return this.cmpn(ae)>=0},ie.prototype.gte=function(ae){return this.cmp(ae)>=0},ie.prototype.ltn=function(ae){return this.cmpn(ae)===-1},ie.prototype.lt=function(ae){return this.cmp(ae)===-1},ie.prototype.lten=function(ae){return this.cmpn(ae)<=0},ie.prototype.lte=function(ae){return this.cmp(ae)<=0},ie.prototype.eqn=function(ae){return this.cmpn(ae)===0},ie.prototype.eq=function(ae){return this.cmp(ae)===0},ie.red=function(ae){return new st(ae)},ie.prototype.toRed=function(ae){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),ae.convertTo(this)._forceRed(ae)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(ae){return this.red=ae,this},ie.prototype.forceRed=function(ae){return ne(!this.red,"Already a number in reduction context"),this._forceRed(ae)},ie.prototype.redAdd=function(ae){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,ae)},ie.prototype.redIAdd=function(ae){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ae)},ie.prototype.redSub=function(ae){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,ae)},ie.prototype.redISub=function(ae){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,ae)},ie.prototype.redShl=function(ae){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,ae)},ie.prototype.redMul=function(ae){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.mul(this,ae)},ie.prototype.redIMul=function(ae){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.imul(this,ae)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(ae){return ne(this.red&&!ae.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ae)};var He={k256:null,p224:null,p192:null,p25519:null};function Ke(ye,ae){this.name=ye,this.p=new ie(ae,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ke.prototype._tmp=function(){var ae=new ie(null);return ae.words=new Array(Math.ceil(this.n/13)),ae},Ke.prototype.ireduce=function(ae){var ce=ae,le;do this.split(ce,this.tmp),ce=this.imulK(ce),ce=ce.iadd(this.tmp),le=ce.bitLength();while(le>this.n);var pe=le<this.n?-1:ce.ucmp(this.p);return pe===0?(ce.words[0]=0,ce.length=1):pe>0?ce.isub(this.p):ce.strip!==void 0?ce.strip():ce._strip(),ce},Ke.prototype.split=function(ae,ce){ae.iushrn(this.n,0,ce)},Ke.prototype.imulK=function(ae){return ae.imul(this.k)};function Ge(){Ke.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}oe(Ge,Ke),Ge.prototype.split=function(ae,ce){for(var le=4194303,pe=Math.min(ae.length,9),_e=0;_e<pe;_e++)ce.words[_e]=ae.words[_e];if(ce.length=pe,ae.length<=9){ae.words[0]=0,ae.length=1;return}var $e=ae.words[9];for(ce.words[ce.length++]=$e&le,_e=10;_e<ae.length;_e++){var Ee=ae.words[_e]|0;ae.words[_e-10]=(Ee&le)<<4|$e>>>22,$e=Ee}$e>>>=22,ae.words[_e-10]=$e,$e===0&&ae.length>10?ae.length-=10:ae.length-=9},Ge.prototype.imulK=function(ae){ae.words[ae.length]=0,ae.words[ae.length+1]=0,ae.length+=2;for(var ce=0,le=0;le<ae.length;le++){var pe=ae.words[le]|0;ce+=pe*977,ae.words[le]=ce&67108863,ce=pe*64+(ce/67108864|0)}return ae.words[ae.length-1]===0&&(ae.length--,ae.words[ae.length-1]===0&&ae.length--),ae};function ut(){Ke.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}oe(ut,Ke);function Ve(){Ke.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}oe(Ve,Ke);function nt(){Ke.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}oe(nt,Ke),nt.prototype.imulK=function(ae){for(var ce=0,le=0;le<ae.length;le++){var pe=(ae.words[le]|0)*19+ce,_e=pe&67108863;pe>>>=26,ae.words[le]=_e,ce=pe}return ce!==0&&(ae.words[ae.length++]=ce),ae},ie._prime=function(ae){if(He[ae])return He[ae];var ce;if(ae==="k256")ce=new Ge;else if(ae==="p224")ce=new ut;else if(ae==="p192")ce=new Ve;else if(ae==="p25519")ce=new nt;else throw new Error("Unknown prime "+ae);return He[ae]=ce,ce};function st(ye){if(typeof ye=="string"){var ae=ie._prime(ye);this.m=ae.p,this.prime=ae}else ne(ye.gtn(1),"modulus must be greater than 1"),this.m=ye,this.prime=null}st.prototype._verify1=function(ae){ne(ae.negative===0,"red works only with positives"),ne(ae.red,"red works only with red numbers")},st.prototype._verify2=function(ae,ce){ne((ae.negative|ce.negative)===0,"red works only with positives"),ne(ae.red&&ae.red===ce.red,"red works only with red numbers")},st.prototype.imod=function(ae){return this.prime?this.prime.ireduce(ae)._forceRed(this):ae.umod(this.m)._forceRed(this)},st.prototype.neg=function(ae){return ae.isZero()?ae.clone():this.m.sub(ae)._forceRed(this)},st.prototype.add=function(ae,ce){this._verify2(ae,ce);var le=ae.add(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le._forceRed(this)},st.prototype.iadd=function(ae,ce){this._verify2(ae,ce);var le=ae.iadd(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le},st.prototype.sub=function(ae,ce){this._verify2(ae,ce);var le=ae.sub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le._forceRed(this)},st.prototype.isub=function(ae,ce){this._verify2(ae,ce);var le=ae.isub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le},st.prototype.shl=function(ae,ce){return this._verify1(ae),this.imod(ae.ushln(ce))},st.prototype.imul=function(ae,ce){return this._verify2(ae,ce),this.imod(ae.imul(ce))},st.prototype.mul=function(ae,ce){return this._verify2(ae,ce),this.imod(ae.mul(ce))},st.prototype.isqr=function(ae){return this.imul(ae,ae.clone())},st.prototype.sqr=function(ae){return this.mul(ae,ae)},st.prototype.sqrt=function(ae){if(ae.isZero())return ae.clone();var ce=this.m.andln(3);if(ne(ce%2===1),ce===3){var le=this.m.add(new ie(1)).iushrn(2);return this.pow(ae,le)}for(var pe=this.m.subn(1),_e=0;!pe.isZero()&&pe.andln(1)===0;)_e++,pe.iushrn(1);ne(!pe.isZero());var $e=new ie(1).toRed(this),Ee=$e.redNeg(),me=this.m.subn(1).iushrn(1),fe=this.m.bitLength();for(fe=new ie(2*fe*fe).toRed(this);this.pow(fe,me).cmp(Ee)!==0;)fe.redIAdd(Ee);for(var we=this.pow(fe,pe),Me=this.pow(ae,pe.addn(1).iushrn(1)),Le=this.pow(ae,pe),Je=_e;Le.cmp($e)!==0;){for(var Ue=Le,ct=0;Ue.cmp($e)!==0;ct++)Ue=Ue.redSqr();ne(ct<Je);var gt=this.pow(we,new ie(1).iushln(Je-ct-1));Me=Me.redMul(gt),we=gt.redSqr(),Le=Le.redMul(we),Je=ct}return Me},st.prototype.invm=function(ae){var ce=ae._invmp(this.m);return ce.negative!==0?(ce.negative=0,this.imod(ce).redNeg()):this.imod(ce)},st.prototype.pow=function(ae,ce){if(ce.isZero())return new ie(1).toRed(this);if(ce.cmpn(1)===0)return ae.clone();var le=4,pe=new Array(1<<le);pe[0]=new ie(1).toRed(this),pe[1]=ae;for(var _e=2;_e<pe.length;_e++)pe[_e]=this.mul(pe[_e-1],ae);var $e=pe[0],Ee=0,me=0,fe=ce.bitLength()%26;for(fe===0&&(fe=26),_e=ce.length-1;_e>=0;_e--){for(var we=ce.words[_e],Me=fe-1;Me>=0;Me--){var Le=we>>Me&1;if($e!==pe[0]&&($e=this.sqr($e)),Le===0&&Ee===0){me=0;continue}Ee<<=1,Ee|=Le,me++,!(me!==le&&(_e!==0||Me!==0))&&($e=this.mul($e,pe[Ee]),me=0,Ee=0)}fe=26}return $e},st.prototype.convertTo=function(ae){var ce=ae.umod(this.m);return ce===ae?ce.clone():ce},st.prototype.convertFrom=function(ae){var ce=ae.clone();return ce.red=null,ce},ie.mont=function(ae){return new qe(ae)};function qe(ye){st.call(this,ye),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}oe(qe,st),qe.prototype.convertTo=function(ae){return this.imod(ae.ushln(this.shift))},qe.prototype.convertFrom=function(ae){var ce=this.imod(ae.mul(this.rinv));return ce.red=null,ce},qe.prototype.imul=function(ae,ce){if(ae.isZero()||ce.isZero())return ae.words[0]=0,ae.length=1,ae;var le=ae.imul(ce),pe=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_e=le.isub(pe).iushrn(this.shift),$e=_e;return _e.cmp(this.m)>=0?$e=_e.isub(this.m):_e.cmpn(0)<0&&($e=_e.iadd(this.m)),$e._forceRed(this)},qe.prototype.mul=function(ae,ce){if(ae.isZero()||ce.isZero())return new ie(0)._forceRed(this);var le=ae.mul(ce),pe=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_e=le.isub(pe).iushrn(this.shift),$e=_e;return _e.cmp(this.m)>=0?$e=_e.isub(this.m):_e.cmpn(0)<0&&($e=_e.iadd(this.m)),$e._forceRed(this)},qe.prototype.invm=function(ae){var ce=this.imod(ae._invmp(this.m).mul(this.r2));return ce._forceRed(this)}})(te,commonjsGlobal)})(bn$1);Object.defineProperty(secp256k1v3Lib,"__esModule",{value:!0});var BN$4=bn$1.exports,EC=elliptic$2.ec,ec=new EC("secp256k1"),ecparams=ec.curve;secp256k1v3Lib.privateKeyExport=function(te,ee){ee===void 0&&(ee=!0);var re=new BN$4(te);if(re.ucmp(ecparams.n)>=0)throw new Error("couldn't export to DER format");var ne=ec.g.mul(re);return toPublicKey(ne.getX(),ne.getY(),ee)};secp256k1v3Lib.privateKeyModInverse=function(te){var ee=new BN$4(te);if(ee.ucmp(ecparams.n)>=0||ee.isZero())throw new Error("private key range is invalid");return ee.invm(ecparams.n).toArrayLike(buffer$2.Buffer,"be",32)};secp256k1v3Lib.signatureImport=function(te){var ee=new BN$4(te.r);ee.ucmp(ecparams.n)>=0&&(ee=new BN$4(0));var re=new BN$4(te.s);return re.ucmp(ecparams.n)>=0&&(re=new BN$4(0)),buffer$2.Buffer.concat([ee.toArrayLike(buffer$2.Buffer,"be",32),re.toArrayLike(buffer$2.Buffer,"be",32)])};secp256k1v3Lib.ecdhUnsafe=function(te,ee,re){re===void 0&&(re=!0);var ne=ec.keyFromPublic(te),oe=new BN$4(ee);if(oe.ucmp(ecparams.n)>=0||oe.isZero())throw new Error("scalar was invalid (zero or overflow)");var ie=ne.pub.mul(oe);return toPublicKey(ie.getX(),ie.getY(),re)};var toPublicKey=function(te,ee,re){var ne;return re?(ne=buffer$2.Buffer.alloc(33),ne[0]=ee.isOdd()?3:2,te.toArrayLike(buffer$2.Buffer,"be",32).copy(ne,1)):(ne=buffer$2.Buffer.alloc(65),ne[0]=4,te.toArrayLike(buffer$2.Buffer,"be",32).copy(ne,1),ee.toArrayLike(buffer$2.Buffer,"be",32).copy(ne,33)),ne},der={};Object.defineProperty(der,"__esModule",{value:!0});var EC_PRIVKEY_EXPORT_DER_COMPRESSED=buffer$2.Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED=buffer$2.Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);der.privateKeyExport=function(te,ee,re){re===void 0&&(re=!0);var ne=buffer$2.Buffer.from(re?EC_PRIVKEY_EXPORT_DER_COMPRESSED:EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED);return te.copy(ne,re?8:9),ee.copy(ne,re?181:214),ne};der.privateKeyImport=function(te){var ee=te.length,re=0;if(ee<re+1||te[re]!==48||(re+=1,ee<re+1||!(te[re]&128)))return null;var ne=te[re]&127;if(re+=1,ne<1||ne>2||ee<re+ne)return null;var oe=te[re+ne-1]|(ne>1?te[re+ne-2]<<8:0);return re+=ne,ee<re+oe||ee<re+3||te[re]!==2||te[re+1]!==1||te[re+2]!==1||(re+=3,ee<re+2||te[re]!==4||te[re+1]>32||ee<re+2+te[re+1])?null:te.slice(re+2,re+2+te[re+1])};der.signatureImportLax=function(te){var ee=buffer$2.Buffer.alloc(32,0),re=buffer$2.Buffer.alloc(32,0),ne=te.length,oe=0;if(te[oe++]!==48)return null;var ie=te[oe++];if(ie&128&&(oe+=ie-128,oe>ne)||te[oe++]!==2)return null;var se=te[oe++];if(se&128){if(ie=se-128,oe+ie>ne)return null;for(;ie>0&&te[oe]===0;oe+=1,ie-=1);for(se=0;ie>0;oe+=1,ie-=1)se=(se<<8)+te[oe]}if(se>ne-oe)return null;var ue=oe;if(oe+=se,te[oe++]!==2)return null;var he=te[oe++];if(he&128){if(ie=he-128,oe+ie>ne)return null;for(;ie>0&&te[oe]===0;oe+=1,ie-=1);for(he=0;ie>0;oe+=1,ie-=1)he=(he<<8)+te[oe]}if(he>ne-oe)return null;var ge=oe;for(oe+=he;se>0&&te[ue]===0;se-=1,ue+=1);if(se>32)return null;var be=te.slice(ue,ue+se);for(be.copy(ee,32-be.length);he>0&&te[ge]===0;he-=1,ge+=1);if(he>32)return null;var Se=te.slice(ge,ge+he);return Se.copy(re,32-Se.length),{r:ee,s:re}};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.ecdhUnsafe=te.ecdh=te.recover=te.verify=te.sign=te.signatureImportLax=te.signatureImport=te.signatureExport=te.signatureNormalize=te.publicKeyCombine=te.publicKeyTweakMul=te.publicKeyTweakAdd=te.publicKeyVerify=te.publicKeyConvert=te.publicKeyCreate=te.privateKeyTweakMul=te.privateKeyTweakAdd=te.privateKeyModInverse=te.privateKeyNegate=te.privateKeyImport=te.privateKeyExport=te.privateKeyVerify=void 0;var ee=secp256k1$2,re=secp256k1v3Lib,ne=der;te.privateKeyVerify=function(oe){return oe.length!==32?!1:ee.privateKeyVerify(Uint8Array.from(oe))},te.privateKeyExport=function(oe,ie){if(oe.length!==32)throw new RangeError("private key length is invalid");var se=re.privateKeyExport(oe,ie);return ne.privateKeyExport(oe,se,ie)},te.privateKeyImport=function(oe){if(oe=ne.privateKeyImport(oe),oe!==null&&oe.length===32&&te.privateKeyVerify(oe))return oe;throw new Error("couldn't import from DER format")},te.privateKeyNegate=function(oe){return buffer$2.Buffer.from(ee.privateKeyNegate(Uint8Array.from(oe)))},te.privateKeyModInverse=function(oe){if(oe.length!==32)throw new Error("private key length is invalid");return buffer$2.Buffer.from(re.privateKeyModInverse(Uint8Array.from(oe)))},te.privateKeyTweakAdd=function(oe,ie){return buffer$2.Buffer.from(ee.privateKeyTweakAdd(Uint8Array.from(oe),ie))},te.privateKeyTweakMul=function(oe,ie){return buffer$2.Buffer.from(ee.privateKeyTweakMul(Uint8Array.from(oe),Uint8Array.from(ie)))},te.publicKeyCreate=function(oe,ie){return buffer$2.Buffer.from(ee.publicKeyCreate(Uint8Array.from(oe),ie))},te.publicKeyConvert=function(oe,ie){return buffer$2.Buffer.from(ee.publicKeyConvert(Uint8Array.from(oe),ie))},te.publicKeyVerify=function(oe){return oe.length!==33&&oe.length!==65?!1:ee.publicKeyVerify(Uint8Array.from(oe))},te.publicKeyTweakAdd=function(oe,ie,se){return buffer$2.Buffer.from(ee.publicKeyTweakAdd(Uint8Array.from(oe),Uint8Array.from(ie),se))},te.publicKeyTweakMul=function(oe,ie,se){return buffer$2.Buffer.from(ee.publicKeyTweakMul(Uint8Array.from(oe),Uint8Array.from(ie),se))},te.publicKeyCombine=function(oe,ie){var se=[];return oe.forEach(function(ue){se.push(Uint8Array.from(ue))}),buffer$2.Buffer.from(ee.publicKeyCombine(se,ie))},te.signatureNormalize=function(oe){return buffer$2.Buffer.from(ee.signatureNormalize(Uint8Array.from(oe)))},te.signatureExport=function(oe){return buffer$2.Buffer.from(ee.signatureExport(Uint8Array.from(oe)))},te.signatureImport=function(oe){return buffer$2.Buffer.from(ee.signatureImport(Uint8Array.from(oe)))},te.signatureImportLax=function(oe){if(oe.length===0)throw new RangeError("signature length is invalid");var ie=ne.signatureImportLax(oe);if(ie===null)throw new Error("couldn't parse DER signature");return re.signatureImport(ie)},te.sign=function(oe,ie,se){if(se===null)throw new TypeError("options should be an Object");var ue=void 0;if(se){if(ue={},se.data===null)throw new TypeError("options.data should be a Buffer");if(se.data){if(se.data.length!=32)throw new RangeError("options.data length is invalid");ue.data=new Uint8Array(se.data)}if(se.noncefn===null)throw new TypeError("options.noncefn should be a Function");se.noncefn&&(ue.noncefn=function(ge,be,Se,Te,ke){var Re=Se!=null?buffer$2.Buffer.from(Se):null,Ce=Te!=null?buffer$2.Buffer.from(Te):null,Pe=buffer$2.Buffer.from("");return se.noncefn&&(Pe=se.noncefn(buffer$2.Buffer.from(ge),buffer$2.Buffer.from(be),Re,Ce,ke)),new Uint8Array(Pe)})}var he=ee.ecdsaSign(Uint8Array.from(oe),Uint8Array.from(ie),ue);return{signature:buffer$2.Buffer.from(he.signature),recovery:he.recid}},te.verify=function(oe,ie,se){return ee.ecdsaVerify(Uint8Array.from(ie),Uint8Array.from(oe),se)},te.recover=function(oe,ie,se,ue){return buffer$2.Buffer.from(ee.ecdsaRecover(Uint8Array.from(ie),se,Uint8Array.from(oe),ue))},te.ecdh=function(oe,ie){return buffer$2.Buffer.from(ee.ecdh(Uint8Array.from(oe),Uint8Array.from(ie),{}))},te.ecdhUnsafe=function(oe,ie,se){if(oe.length!==33&&oe.length!==65)throw new RangeError("public key length is invalid");if(ie.length!==32)throw new RangeError("private key length is invalid");return buffer$2.Buffer.from(re.ecdhUnsafe(Uint8Array.from(oe),Uint8Array.from(ie),se))}})(secp256k1v3Adapter);var constants={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.KECCAK256_RLP=te.KECCAK256_RLP_S=te.KECCAK256_RLP_ARRAY=te.KECCAK256_RLP_ARRAY_S=te.KECCAK256_NULL=te.KECCAK256_NULL_S=te.TWO_POW256=te.MAX_INTEGER=void 0;var ee=bn$1.exports;te.MAX_INTEGER=new ee("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),te.TWO_POW256=new ee("10000000000000000000000000000000000000000000000000000000000000000",16),te.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",te.KECCAK256_NULL=buffer$2.Buffer.from(te.KECCAK256_NULL_S,"hex"),te.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",te.KECCAK256_RLP_ARRAY=buffer$2.Buffer.from(te.KECCAK256_RLP_ARRAY_S,"hex"),te.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",te.KECCAK256_RLP=buffer$2.Buffer.from(te.KECCAK256_RLP_S,"hex")})(constants);var account={},bytes={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.baToJSON=te.addHexPrefix=te.toUnsigned=te.fromSigned=te.bufferToHex=te.bufferToInt=te.toBuffer=te.stripZeros=te.unpad=te.setLengthRight=te.setLength=te.setLengthLeft=te.zeros=void 0;var ee=lib$2,re=bn$1.exports;te.zeros=function(ne){return buffer$2.Buffer.allocUnsafe(ne).fill(0)},te.setLengthLeft=function(ne,oe,ie){ie===void 0&&(ie=!1);var se=te.zeros(oe);return ne=te.toBuffer(ne),ie?ne.length<oe?(ne.copy(se),se):ne.slice(0,oe):ne.length<oe?(ne.copy(se,oe-ne.length),se):ne.slice(-oe)},te.setLength=te.setLengthLeft,te.setLengthRight=function(ne,oe){return te.setLength(ne,oe,!0)},te.unpad=function(ne){ne=ee.stripHexPrefix(ne);for(var oe=ne[0];ne.length>0&&oe.toString()==="0";)ne=ne.slice(1),oe=ne[0];return ne},te.stripZeros=te.unpad,te.toBuffer=function(ne){if(!buffer$2.Buffer.isBuffer(ne))if(Array.isArray(ne))ne=buffer$2.Buffer.from(ne);else if(typeof ne=="string")if(ee.isHexString(ne))ne=buffer$2.Buffer.from(ee.padToEven(ee.stripHexPrefix(ne)),"hex");else throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+ne);else if(typeof ne=="number")ne=ee.intToBuffer(ne);else if(ne==null)ne=buffer$2.Buffer.allocUnsafe(0);else if(re.isBN(ne))ne=ne.toArrayLike(buffer$2.Buffer);else if(ne.toArray)ne=buffer$2.Buffer.from(ne.toArray());else throw new Error("invalid type");return ne},te.bufferToInt=function(ne){return new re(te.toBuffer(ne)).toNumber()},te.bufferToHex=function(ne){return ne=te.toBuffer(ne),"0x"+ne.toString("hex")},te.fromSigned=function(ne){return new re(ne).fromTwos(256)},te.toUnsigned=function(ne){return buffer$2.Buffer.from(ne.toTwos(256).toArray())},te.addHexPrefix=function(ne){return typeof ne!="string"||ee.isHexPrefixed(ne)?ne:"0x"+ne},te.baToJSON=function(ne){if(buffer$2.Buffer.isBuffer(ne))return"0x"+ne.toString("hex");if(ne instanceof Array){for(var oe=[],ie=0;ie<ne.length;ie++)oe.push(te.baToJSON(ne[ie]));return oe}}})(bytes);var hash={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.rlphash=te.ripemd160=te.sha256=te.keccak256=te.keccak=void 0;var ee=keccak$2,re=ee.keccak224,ne=ee.keccak384,oe=ee.keccak256,ie=ee.keccak512,se=browser$2,ue=lib$2,he=dist_browser,ge=bytes;te.keccak=function(be,Se){switch(Se===void 0&&(Se=256),typeof be=="string"&&!ue.isHexString(be)?be=buffer$2.Buffer.from(be,"utf8"):be=ge.toBuffer(be),Se||(Se=256),Se){case 224:return re(be);case 256:return oe(be);case 384:return ne(be);case 512:return ie(be);default:throw new Error("Invald algorithm: keccak"+Se)}},te.keccak256=function(be){return te.keccak(be)},te.sha256=function(be){return be=ge.toBuffer(be),se("sha256").update(be).digest()},te.ripemd160=function(be,Se){be=ge.toBuffer(be);var Te=se("rmd160").update(be).digest();return Se===!0?ge.setLength(Te,32):Te},te.rlphash=function(be){return te.keccak(he.encode(be))}})(hash);(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.importPublic=te.privateToPublic=te.privateToAddress=te.publicToAddress=te.pubToAddress=te.isValidPublic=te.isValidPrivate=te.isPrecompiled=te.generateAddress2=te.generateAddress=te.isValidChecksumAddress=te.toChecksumAddress=te.isZeroAddress=te.isValidAddress=te.zeroAddress=void 0;var ee=require$$3$1,re=lib$2,ne=secp256k1v3Adapter,oe=bn$1.exports,ie=bytes,se=hash;te.zeroAddress=function(){var ue=20,he=ie.zeros(ue);return ie.bufferToHex(he)},te.isValidAddress=function(ue){return/^0x[0-9a-fA-F]{40}$/.test(ue)},te.isZeroAddress=function(ue){var he=te.zeroAddress();return he===ie.addHexPrefix(ue)},te.toChecksumAddress=function(ue,he){ue=re.stripHexPrefix(ue).toLowerCase();for(var ge=he!==void 0?he.toString()+"0x":"",be=se.keccak(ge+ue).toString("hex"),Se="0x",Te=0;Te<ue.length;Te++)parseInt(be[Te],16)>=8?Se+=ue[Te].toUpperCase():Se+=ue[Te];return Se},te.isValidChecksumAddress=function(ue,he){return te.isValidAddress(ue)&&te.toChecksumAddress(ue,he)===ue},te.generateAddress=function(ue,he){ue=ie.toBuffer(ue);var ge=new oe(he);return ge.isZero()?se.rlphash([ue,null]).slice(-20):se.rlphash([ue,buffer$2.Buffer.from(ge.toArray())]).slice(-20)},te.generateAddress2=function(ue,he,ge){var be=ie.toBuffer(ue),Se=ie.toBuffer(he),Te=ie.toBuffer(ge);ee(be.length===20),ee(Se.length===32);var ke=se.keccak256(buffer$2.Buffer.concat([buffer$2.Buffer.from("ff","hex"),be,Se,se.keccak256(Te)]));return ke.slice(-20)},te.isPrecompiled=function(ue){var he=ie.unpad(ue);return he.length===1&&he[0]>=1&&he[0]<=8},te.isValidPrivate=function(ue){return ne.privateKeyVerify(ue)},te.isValidPublic=function(ue,he){return he===void 0&&(he=!1),ue.length===64?ne.publicKeyVerify(buffer$2.Buffer.concat([buffer$2.Buffer.from([4]),ue])):he?ne.publicKeyVerify(ue):!1},te.pubToAddress=function(ue,he){return he===void 0&&(he=!1),ue=ie.toBuffer(ue),he&&ue.length!==64&&(ue=ne.publicKeyConvert(ue,!1).slice(1)),ee(ue.length===64),se.keccak(ue).slice(-20)},te.publicToAddress=te.pubToAddress,te.privateToAddress=function(ue){return te.publicToAddress(te.privateToPublic(ue))},te.privateToPublic=function(ue){return ue=ie.toBuffer(ue),ne.publicKeyCreate(ue,!1).slice(1)},te.importPublic=function(ue){return ue=ie.toBuffer(ue),ue.length!==64&&(ue=ne.publicKeyConvert(ue,!1).slice(1)),ue}})(account);var signature={};Object.defineProperty(signature,"__esModule",{value:!0});signature.hashPersonalMessage=signature.isValidSignature=signature.fromRpcSig=signature.toRpcSig=signature.ecrecover=signature.ecsign=void 0;var secp256k1=secp256k1v3Adapter,BN$3=bn$1.exports,bytes_1$1=bytes,hash_1=hash;signature.ecsign=function(te,ee,re){var ne=secp256k1.sign(te,ee),oe=ne.recovery,ie={r:ne.signature.slice(0,32),s:ne.signature.slice(32,64),v:re?oe+(re*2+35):oe+27};return ie};signature.ecrecover=function(te,ee,re,ne,oe){var ie=buffer$2.Buffer.concat([bytes_1$1.setLength(re,32),bytes_1$1.setLength(ne,32)],64),se=calculateSigRecovery(ee,oe);if(!isValidSigRecovery(se))throw new Error("Invalid signature v value");var ue=secp256k1.recover(te,ie,se);return secp256k1.publicKeyConvert(ue,!1).slice(1)};signature.toRpcSig=function(te,ee,re,ne){var oe=calculateSigRecovery(te,ne);if(!isValidSigRecovery(oe))throw new Error("Invalid signature v value");return bytes_1$1.bufferToHex(buffer$2.Buffer.concat([bytes_1$1.setLengthLeft(ee,32),bytes_1$1.setLengthLeft(re,32),bytes_1$1.toBuffer(te)]))};signature.fromRpcSig=function(te){var ee=bytes_1$1.toBuffer(te);if(ee.length!==65)throw new Error("Invalid signature length");var re=ee[64];return re<27&&(re+=27),{v:re,r:ee.slice(0,32),s:ee.slice(32,64)}};signature.isValidSignature=function(te,ee,re,ne,oe){ne===void 0&&(ne=!0);var ie=new BN$3("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),se=new BN$3("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(ee.length!==32||re.length!==32||!isValidSigRecovery(calculateSigRecovery(te,oe)))return!1;var ue=new BN$3(ee),he=new BN$3(re);return!(ue.isZero()||ue.gt(se)||he.isZero()||he.gt(se)||ne&&he.cmp(ie)===1)};signature.hashPersonalMessage=function(te){var ee=buffer$2.Buffer.from(`Ethereum Signed Message:
`+te.length.toString(),"utf-8");return hash_1.keccak(buffer$2.Buffer.concat([ee,te]))};function calculateSigRecovery(te,ee){return ee?te-(2*ee+35):te-27}function isValidSigRecovery(te){return te===0||te===1}var object={};Object.defineProperty(object,"__esModule",{value:!0});object.defineProperties=void 0;var assert=require$$3$1,ethjsUtil=lib$2,rlp=dist_browser,bytes_1=bytes;object.defineProperties=function(te,ee,re){if(te.raw=[],te._fields=[],te.toJSON=function(oe){if(oe===void 0&&(oe=!1),oe){var ie={};return te._fields.forEach(function(se){ie[se]="0x"+te[se].toString("hex")}),ie}return bytes_1.baToJSON(te.raw)},te.serialize=function(){return rlp.encode(te.raw)},ee.forEach(function(oe,ie){te._fields.push(oe.name);function se(){return te.raw[ie]}function ue(he){he=bytes_1.toBuffer(he),he.toString("hex")==="00"&&!oe.allowZero&&(he=buffer$2.Buffer.allocUnsafe(0)),oe.allowLess&&oe.length?(he=bytes_1.stripZeros(he),assert(oe.length>=he.length,"The field "+oe.name+" must not have more "+oe.length+" bytes")):!(oe.allowZero&&he.length===0)&&oe.length&&assert(oe.length===he.length,"The field "+oe.name+" must have byte length of "+oe.length),te.raw[ie]=he}Object.defineProperty(te,oe.name,{enumerable:!0,configurable:!0,get:se,set:ue}),oe.default&&(te[oe.name]=oe.default),oe.alias&&Object.defineProperty(te,oe.alias,{enumerable:!1,configurable:!0,set:ue,get:se})}),re)if(typeof re=="string"&&(re=buffer$2.Buffer.from(ethjsUtil.stripHexPrefix(re),"hex")),buffer$2.Buffer.isBuffer(re)&&(re=rlp.decode(re)),Array.isArray(re)){if(re.length>te._fields.length)throw new Error("wrong number of fields in data");re.forEach(function(oe,ie){te[te._fields[ie]]=bytes_1.toBuffer(oe)})}else if(typeof re=="object"){var ne=Object.keys(re);ee.forEach(function(oe){ne.indexOf(oe.name)!==-1&&(te[oe.name]=re[oe.name]),ne.indexOf(oe.alias)!==-1&&(te[oe.alias]=re[oe.alias])})}else throw new Error("invalid data")};(function(te){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ue,he,ge,be){be===void 0&&(be=ge),Object.defineProperty(ue,be,{enumerable:!0,get:function(){return he[ge]}})}:function(ue,he,ge,be){be===void 0&&(be=ge),ue[be]=he[ge]}),re=commonjsGlobal&&commonjsGlobal.__exportStar||function(ue,he){for(var ge in ue)ge!=="default"&&!he.hasOwnProperty(ge)&&ee(he,ue,ge)};Object.defineProperty(te,"__esModule",{value:!0}),te.secp256k1=te.rlp=te.BN=void 0;var ne=secp256k1v3Adapter;te.secp256k1=ne;var oe=lib$2,ie=bn$1.exports;te.BN=ie;var se=dist_browser;te.rlp=se,Object.assign(te,oe),re(constants,te),re(account,te),re(hash,te),re(signature,te),re(bytes,te),re(object,te)})(dist$1);const utils$2=dist$1,BN$2=bn$1.exports;var ABI=function(){};function elementaryName(te){return te.startsWith("int[")?"int256"+te.slice(3):te==="int"?"int256":te.startsWith("uint[")?"uint256"+te.slice(4):te==="uint"?"uint256":te.startsWith("fixed[")?"fixed128x128"+te.slice(5):te==="fixed"?"fixed128x128":te.startsWith("ufixed[")?"ufixed128x128"+te.slice(6):te==="ufixed"?"ufixed128x128":te}ABI.eventID=function(te,ee){var re=te+"("+ee.map(elementaryName).join(",")+")";return utils$2.keccak256(buffer$2.Buffer.from(re))};ABI.methodID=function(te,ee){return ABI.eventID(te,ee).slice(0,4)};function parseTypeN(te){return parseInt(/^\D+(\d+)$/.exec(te)[1],10)}function parseTypeNxM(te){var ee=/^\D+(\d+)x(\d+)$/.exec(te);return[parseInt(ee[1],10),parseInt(ee[2],10)]}function parseTypeArray(te){var ee=te.match(/(.*)\[(.*?)\]$/);return ee?ee[2]===""?"dynamic":parseInt(ee[2],10):null}function parseNumber(te){var ee=typeof te;if(ee==="string")return utils$2.isHexPrefixed(te)?new BN$2(utils$2.stripHexPrefix(te),16):new BN$2(te,10);if(ee==="number")return new BN$2(te);if(te.toArray)return te;throw new Error("Argument is not a number")}function parseSignature(te){var ee=/^(\w+)\((.*)\)$/.exec(te);if(ee.length!==3)throw new Error("Invalid method signature");var re=/^(.+)\):\((.+)$/.exec(ee[2]);if(re!==null&&re.length===3)return{method:ee[1],args:re[1].split(","),retargs:re[2].split(",")};var ne=ee[2].split(",");return ne.length===1&&ne[0]===""&&(ne=[]),{method:ee[1],args:ne}}function encodeSingle(te,ee){var re,ne,oe,ie;if(te==="address")return encodeSingle("uint160",parseNumber(ee));if(te==="bool")return encodeSingle("uint8",ee?1:0);if(te==="string")return encodeSingle("bytes",buffer$2.Buffer.from(ee,"utf8"));if(isArray$2(te)){if(typeof ee.length=="undefined")throw new Error("Not an array?");if(re=parseTypeArray(te),re!=="dynamic"&&re!==0&&ee.length>re)throw new Error("Elements exceed array size: "+re);oe=[],te=te.slice(0,te.lastIndexOf("[")),typeof ee=="string"&&(ee=JSON.parse(ee));for(ie in ee)oe.push(encodeSingle(te,ee[ie]));if(re==="dynamic"){var se=encodeSingle("uint256",ee.length);oe.unshift(se)}return buffer$2.Buffer.concat(oe)}else{if(te==="bytes")return ee=buffer$2.Buffer.from(ee),oe=buffer$2.Buffer.concat([encodeSingle("uint256",ee.length),ee]),ee.length%32!==0&&(oe=buffer$2.Buffer.concat([oe,utils$2.zeros(32-ee.length%32)])),oe;if(te.startsWith("bytes")){if(re=parseTypeN(te),re<1||re>32)throw new Error("Invalid bytes<N> width: "+re);return utils$2.setLengthRight(ee,32)}else if(te.startsWith("uint")){if(re=parseTypeN(te),re%8||re<8||re>256)throw new Error("Invalid uint<N> width: "+re);if(ne=parseNumber(ee),ne.bitLength()>re)throw new Error("Supplied uint exceeds width: "+re+" vs "+ne.bitLength());if(ne<0)throw new Error("Supplied uint is negative");return ne.toArrayLike(buffer$2.Buffer,"be",32)}else if(te.startsWith("int")){if(re=parseTypeN(te),re%8||re<8||re>256)throw new Error("Invalid int<N> width: "+re);if(ne=parseNumber(ee),ne.bitLength()>re)throw new Error("Supplied int exceeds width: "+re+" vs "+ne.bitLength());return ne.toTwos(256).toArrayLike(buffer$2.Buffer,"be",32)}else if(te.startsWith("ufixed")){if(re=parseTypeNxM(te),ne=parseNumber(ee),ne<0)throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",ne.mul(new BN$2(2).pow(new BN$2(re[1]))))}else if(te.startsWith("fixed"))return re=parseTypeNxM(te),encodeSingle("int256",parseNumber(ee).mul(new BN$2(2).pow(new BN$2(re[1]))))}throw new Error("Unsupported or invalid type: "+te)}function decodeSingle(te,ee,re){typeof te=="string"&&(te=parseType(te));var ne,oe,ie,se;if(te.name==="address")return decodeSingle(te.rawType,ee,re).toArrayLike(buffer$2.Buffer,"be",20).toString("hex");if(te.name==="bool")return decodeSingle(te.rawType,ee,re).toString()===new BN$2(1).toString();if(te.name==="string"){var ue=decodeSingle(te.rawType,ee,re);return buffer$2.Buffer.from(ue,"utf8").toString()}else if(te.isArray){for(ie=[],ne=te.size,te.size==="dynamic"&&(re=decodeSingle("uint256",ee,re).toNumber(),ne=decodeSingle("uint256",ee,re).toNumber(),re=re+32),se=0;se<ne;se++){var he=decodeSingle(te.subArray,ee,re);ie.push(he),re+=te.subArray.memoryUsage}return ie}else{if(te.name==="bytes")return re=decodeSingle("uint256",ee,re).toNumber(),ne=decodeSingle("uint256",ee,re).toNumber(),ee.slice(re+32,re+32+ne);if(te.name.startsWith("bytes"))return ee.slice(re,re+te.size);if(te.name.startsWith("uint")){if(oe=new BN$2(ee.slice(re,re+32),16,"be"),oe.bitLength()>te.size)throw new Error("Decoded int exceeds width: "+te.size+" vs "+oe.bitLength());return oe}else if(te.name.startsWith("int")){if(oe=new BN$2(ee.slice(re,re+32),16,"be").fromTwos(256),oe.bitLength()>te.size)throw new Error("Decoded uint exceeds width: "+te.size+" vs "+oe.bitLength());return oe}else if(te.name.startsWith("ufixed")){if(ne=new BN$2(2).pow(new BN$2(te.size[1])),oe=decodeSingle("uint256",ee,re),!oe.mod(ne).isZero())throw new Error("Decimals not supported yet");return oe.div(ne)}else if(te.name.startsWith("fixed")){if(ne=new BN$2(2).pow(new BN$2(te.size[1])),oe=decodeSingle("int256",ee,re),!oe.mod(ne).isZero())throw new Error("Decimals not supported yet");return oe.div(ne)}}throw new Error("Unsupported or invalid type: "+te.name)}function parseType(te){var ee,re;if(isArray$2(te)){ee=parseTypeArray(te);var ne=te.slice(0,te.lastIndexOf("["));return ne=parseType(ne),re={isArray:!0,name:te,size:ee,memoryUsage:ee==="dynamic"?32:ne.memoryUsage*ee,subArray:ne},re}else{var oe;switch(te){case"address":oe="uint160";break;case"bool":oe="uint8";break;case"string":oe="bytes";break}if(re={rawType:oe,name:te,memoryUsage:32},te.startsWith("bytes")&&te!=="bytes"||te.startsWith("uint")||te.startsWith("int")?re.size=parseTypeN(te):(te.startsWith("ufixed")||te.startsWith("fixed"))&&(re.size=parseTypeNxM(te)),te.startsWith("bytes")&&te!=="bytes"&&(re.size<1||re.size>32))throw new Error("Invalid bytes<N> width: "+re.size);if((te.startsWith("uint")||te.startsWith("int"))&&(re.size%8||re.size<8||re.size>256))throw new Error("Invalid int/uint<N> width: "+re.size);return re}}function isDynamic(te){return te==="string"||te==="bytes"||parseTypeArray(te)==="dynamic"}function isArray$2(te){return te.lastIndexOf("]")===te.length-1}ABI.rawEncode=function(te,ee){var re=[],ne=[],oe=0;te.forEach(function(ge){if(isArray$2(ge)){var be=parseTypeArray(ge);be!=="dynamic"?oe+=32*be:oe+=32}else oe+=32});for(var ie=0;ie<te.length;ie++){var se=elementaryName(te[ie]),ue=ee[ie],he=encodeSingle(se,ue);isDynamic(se)?(re.push(encodeSingle("uint256",oe)),ne.push(he),oe+=he.length):re.push(he)}return buffer$2.Buffer.concat(re.concat(ne))};ABI.rawDecode=function(te,ee){var re=[];ee=buffer$2.Buffer.from(ee);for(var ne=0,oe=0;oe<te.length;oe++){var ie=elementaryName(te[oe]),se=parseType(ie),ue=decodeSingle(se,ee,ne);ne+=se.memoryUsage,re.push(ue)}return re};ABI.simpleEncode=function(te){var ee=Array.prototype.slice.call(arguments).slice(1),re=parseSignature(te);if(ee.length!==re.args.length)throw new Error("Argument count mismatch");return buffer$2.Buffer.concat([ABI.methodID(re.method,re.args),ABI.rawEncode(re.args,ee)])};ABI.simpleDecode=function(te,ee){var re=parseSignature(te);if(!re.retargs)throw new Error("No return values in method");return ABI.rawDecode(re.retargs,ee)};function stringify(te,ee){return te.startsWith("address")||te.startsWith("bytes")?"0x"+ee.toString("hex"):ee.toString()}ABI.stringify=function(te,ee){var re=[];for(var ne in te){var oe=te[ne],ie=ee[ne];/^[^\[]+\[.*\]$/.test(oe)?ie=ie.map(function(se){return stringify(oe,se)}).join(", "):ie=stringify(oe,ie),re.push(ie)}return re};ABI.solidityHexValue=function(te,ee,re){var ne,oe;if(isArray$2(te)){var ie=te.replace(/\[.*?\]/,"");if(!isArray$2(ie)){var se=parseTypeArray(te);if(se!=="dynamic"&&se!==0&&ee.length>se)throw new Error("Elements exceed array size: "+se)}var ue=ee.map(function(be){return ABI.solidityHexValue(ie,be,256)});return buffer$2.Buffer.concat(ue)}else{if(te==="bytes")return ee;if(te==="string")return buffer$2.Buffer.from(ee,"utf8");if(te==="bool"){re=re||8;var he=Array(re/4).join("0");return buffer$2.Buffer.from(ee?he+"1":he+"0","hex")}else if(te==="address"){var ge=20;return re&&(ge=re/8),utils$2.setLengthLeft(ee,ge)}else if(te.startsWith("bytes")){if(ne=parseTypeN(te),ne<1||ne>32)throw new Error("Invalid bytes<N> width: "+ne);return utils$2.setLengthRight(ee,ne)}else if(te.startsWith("uint")){if(ne=parseTypeN(te),ne%8||ne<8||ne>256)throw new Error("Invalid uint<N> width: "+ne);if(oe=parseNumber(ee),oe.bitLength()>ne)throw new Error("Supplied uint exceeds width: "+ne+" vs "+oe.bitLength());return re=re||ne,oe.toArrayLike(buffer$2.Buffer,"be",re/8)}else if(te.startsWith("int")){if(ne=parseTypeN(te),ne%8||ne<8||ne>256)throw new Error("Invalid int<N> width: "+ne);if(oe=parseNumber(ee),oe.bitLength()>ne)throw new Error("Supplied int exceeds width: "+ne+" vs "+oe.bitLength());return re=re||ne,oe.toTwos(ne).toArrayLike(buffer$2.Buffer,"be",re/8)}else throw new Error("Unsupported or invalid type: "+te)}};ABI.solidityPack=function(te,ee){if(te.length!==ee.length)throw new Error("Number of types are not matching the values");for(var re=[],ne=0;ne<te.length;ne++){var oe=elementaryName(te[ne]),ie=ee[ne];re.push(ABI.solidityHexValue(oe,ie,null))}return buffer$2.Buffer.concat(re)};ABI.soliditySHA3=function(te,ee){return utils$2.keccak256(ABI.solidityPack(te,ee))};ABI.soliditySHA256=function(te,ee){return utils$2.sha256(ABI.solidityPack(te,ee))};ABI.solidityRIPEMD160=function(te,ee){return utils$2.ripemd160(ABI.solidityPack(te,ee),!0)};function isNumeric(te){return te>="0"&&te<="9"}ABI.fromSerpent=function(te){for(var ee=[],re=0;re<te.length;re++){var ne=te[re];if(ne==="s")ee.push("bytes");else if(ne==="b"){for(var oe="bytes",ie=re+1;ie<te.length&&isNumeric(te[ie]);)oe+=te[ie]-"0",ie++;re=ie-1,ee.push(oe)}else if(ne==="i")ee.push("int256");else if(ne==="a")ee.push("int256[]");else throw new Error("Unsupported or invalid type: "+ne)}return ee};ABI.toSerpent=function(te){for(var ee=[],re=0;re<te.length;re++){var ne=te[re];if(ne==="bytes")ee.push("s");else if(ne.startsWith("bytes"))ee.push("b"+parseTypeN(ne));else if(ne==="int256")ee.push("i");else if(ne==="int256[]")ee.push("a");else throw new Error("Unsupported or invalid type: "+ne)}return ee.join("")};var lib=ABI,ethereumjsAbi=lib;const ethUtil$3=dist$4,ethAbi=ethereumjsAbi;var ethSigUtil={concatSig:function(te,ee,re){const ne=ethUtil$3.fromSigned(ee),oe=ethUtil$3.fromSigned(re),ie=ethUtil$3.bufferToInt(te),se=padWithZeroes(ethUtil$3.toUnsigned(ne).toString("hex"),64),ue=padWithZeroes(ethUtil$3.toUnsigned(oe).toString("hex"),64),he=ethUtil$3.stripHexPrefix(ethUtil$3.intToHex(ie));return ethUtil$3.addHexPrefix(se.concat(ue,he)).toString("hex")},normalize:function(te){if(!!te){if(typeof te=="number"){const re=ethUtil$3.toBuffer(te);te=ethUtil$3.bufferToHex(re)}if(typeof te!="string"){var ee="eth-sig-util.normalize() requires hex string or integer input.";throw ee+=" received "+typeof te+": "+te,new Error(ee)}return ethUtil$3.addHexPrefix(te.toLowerCase())}},personalSign:function(te,ee){var re=ethUtil$3.toBuffer(ee.data),ne=ethUtil$3.hashPersonalMessage(re),oe=ethUtil$3.ecsign(ne,te),ie=ethUtil$3.bufferToHex(this.concatSig(oe.v,oe.r,oe.s));return ie},recoverPersonalSignature:function(te){const ee=getPublicKeyFor(te),re=ethUtil$3.publicToAddress(ee);return ethUtil$3.bufferToHex(re)},extractPublicKey:function(te){const ee=getPublicKeyFor(te);return"0x"+ee.toString("hex")},typedSignatureHash:function(te){const ee=typedSignatureHash(te);return ethUtil$3.bufferToHex(ee)},signTypedData:function(te,ee){const re=typedSignatureHash(ee.data),ne=ethUtil$3.ecsign(re,te);return ethUtil$3.bufferToHex(this.concatSig(ne.v,ne.r,ne.s))},recoverTypedSignature:function(te){const ee=typedSignatureHash(te.data),re=recoverPublicKey(ee,te.sig),ne=ethUtil$3.publicToAddress(re);return ethUtil$3.bufferToHex(ne)}};function typedSignatureHash(te){const ee=new Error("Expect argument to be non-empty array");if(typeof te!="object"||!te.length)throw ee;const re=te.map(function(ie){return ie.type==="bytes"?ethUtil$3.toBuffer(ie.value):ie.value}),ne=te.map(function(ie){return ie.type}),oe=te.map(function(ie){if(!ie.name)throw ee;return ie.type+" "+ie.name});return ethAbi.soliditySHA3(["bytes32","bytes32"],[ethAbi.soliditySHA3(new Array(te.length).fill("string"),oe),ethAbi.soliditySHA3(ne,re)])}function recoverPublicKey(te,ee){const re=ethUtil$3.toBuffer(ee),ne=ethUtil$3.fromRpcSig(re);return ethUtil$3.ecrecover(te,ne.v,ne.r,ne.s)}function getPublicKeyFor(te){const ee=ethUtil$3.toBuffer(te.data),re=ethUtil$3.hashPersonalMessage(ee);return recoverPublicKey(re,te.sig)}function padWithZeroes(te,ee){for(var re=""+te;re.length<ee;)re="0"+re;return re}var semaphore={exports:{}};(function(te,ee){(function(re){var ne=function(ie){setTimeout(ie,0)};typeof process$1!="undefined"&&process$1&&typeof process$1.nextTick=="function"&&(ne=process$1.nextTick);function oe(ie){var se={capacity:ie||1,current:0,queue:[],firstHere:!1,take:function(){if(se.firstHere===!1){se.current++,se.firstHere=!0;var ue=1}else var ue=0;var he={n:1};typeof arguments[0]=="function"?he.task=arguments[0]:he.n=arguments[0],arguments.length>=2&&(typeof arguments[1]=="function"?he.task=arguments[1]:he.n=arguments[1]);var ge=he.task;if(he.task=function(){ge(se.leave)},se.current+he.n-ue>se.capacity)return ue===1&&(se.current--,se.firstHere=!1),se.queue.push(he);se.current+=he.n-ue,he.task(se.leave),ue===1&&(se.firstHere=!1)},leave:function(ue){if(ue=ue||1,se.current-=ue,!se.queue.length){if(se.current<0)throw new Error("leave called too many times.");return}var he=se.queue[0];he.n+se.current>se.capacity||(se.queue.shift(),se.current+=he.n,ne(he.task))},available:function(ue){return ue=ue||1,se.current+ue<=se.capacity}};return se}te.exports=oe})()})(semaphore);const createPayload=createPayload_1;var estimateGas_1=estimateGas$1;function estimateGas$1(te,ee,re){te.sendAsync(createPayload({method:"eth_estimateGas",params:[ee]}),function(ne,oe){if(ne)return ne.message==="no contract code at given address"?re(null,"0xcf08"):re(ne);re(null,oe.result)})}const waterfall=waterfall$1.exports,parallel=parallel$2.exports,inherits$1=util$1.inherits,ethUtil$2=dist$4,sigUtil=ethSigUtil,extend=immutable,Semaphore=semaphore.exports,Subprovider$1=subprovider,estimateGas=estimateGas_1,hexRegex=/^[0-9A-Fa-f]+$/g;var hookedWallet=HookedWalletSubprovider$1;inherits$1(HookedWalletSubprovider$1,Subprovider$1);function HookedWalletSubprovider$1(te){const ee=this;ee.nonceLock=Semaphore(1),te.getAccounts&&(ee.getAccounts=te.getAccounts),te.processTransaction&&(ee.processTransaction=te.processTransaction),te.processMessage&&(ee.processMessage=te.processMessage),te.processPersonalMessage&&(ee.processPersonalMessage=te.processPersonalMessage),te.processTypedMessage&&(ee.processTypedMessage=te.processTypedMessage),ee.approveTransaction=te.approveTransaction||ee.autoApprove,ee.approveMessage=te.approveMessage||ee.autoApprove,ee.approvePersonalMessage=te.approvePersonalMessage||ee.autoApprove,ee.approveDecryptMessage=te.approveDecryptMessage||ee.autoApprove,ee.approveEncryptionPublicKey=te.approveEncryptionPublicKey||ee.autoApprove,ee.approveTypedMessage=te.approveTypedMessage||ee.autoApprove,te.signTransaction&&(ee.signTransaction=te.signTransaction||mustProvideInConstructor("signTransaction")),te.signMessage&&(ee.signMessage=te.signMessage||mustProvideInConstructor("signMessage")),te.signPersonalMessage&&(ee.signPersonalMessage=te.signPersonalMessage||mustProvideInConstructor("signPersonalMessage")),te.decryptMessage&&(ee.decryptMessage=te.decryptMessage||mustProvideInConstructor("decryptMessage")),te.encryptionPublicKey&&(ee.encryptionPublicKey=te.encryptionPublicKey||mustProvideInConstructor("encryptionPublicKey")),te.signTypedMessage&&(ee.signTypedMessage=te.signTypedMessage||mustProvideInConstructor("signTypedMessage")),te.recoverPersonalSignature&&(ee.recoverPersonalSignature=te.recoverPersonalSignature),te.publishTransaction&&(ee.publishTransaction=te.publishTransaction),ee.estimateGas=te.estimateGas||ee.estimateGas,ee.getGasPrice=te.getGasPrice||ee.getGasPrice}HookedWalletSubprovider$1.prototype.handleRequest=function(te,ee,re){const ne=this;ne._parityRequests={},ne._parityRequestCount=0;let oe,ie,se,ue,he;switch(te.method){case"eth_coinbase":ne.getAccounts(function(ge,be){if(ge)return re(ge);let Se=be[0]||null;re(null,Se)});return;case"eth_accounts":ne.getAccounts(function(ge,be){if(ge)return re(ge);re(null,be)});return;case"eth_sendTransaction":oe=te.params[0],waterfall([ge=>ne.validateTransaction(oe,ge),ge=>ne.processTransaction(oe,ge)],re);return;case"eth_signTransaction":oe=te.params[0],waterfall([ge=>ne.validateTransaction(oe,ge),ge=>ne.processSignTransaction(oe,ge)],re);return;case"eth_sign":he=te.params[0],ue=te.params[1],se=te.params[2]||{},ie=extend(se,{from:he,data:ue}),waterfall([ge=>ne.validateMessage(ie,ge),ge=>ne.processMessage(ie,ge)],re);return;case"personal_sign":return function(){const ge=te.params[0],be=te.params[1];if(resemblesData(be)&&resemblesAddress(ge)){let Se="The eth_personalSign method requires params ordered ";Se+="[message, address]. This was previously handled incorrectly, ",Se+="and has been corrected automatically. ",Se+="Please switch this param order for smooth behavior in the future.",console.warn(Se),he=te.params[0],ue=te.params[1]}else ue=te.params[0],he=te.params[1];se=te.params[2]||{},ie=extend(se,{from:he,data:ue}),waterfall([Se=>ne.validatePersonalMessage(ie,Se),Se=>ne.processPersonalMessage(ie,Se)],re)}();case"eth_decryptMessage":return function(){const ge=te.params[0],be=te.params[1];if(resemblesData(be)&&resemblesAddress(ge)){let Se="The eth_decryptMessage method requires params ordered ";Se+="[message, address]. This was previously handled incorrectly, ",Se+="and has been corrected automatically. ",Se+="Please switch this param order for smooth behavior in the future.",console.warn(Se),he=te.params[0],ue=te.params[1]}else ue=te.params[0],he=te.params[1];se=te.params[2]||{},ie=extend(se,{from:he,data:ue}),waterfall([Se=>ne.validateDecryptMessage(ie,Se),Se=>ne.processDecryptMessage(ie,Se)],re)}();case"encryption_public_key":return function(){const ge=te.params[0];waterfall([be=>ne.validateEncryptionPublicKey(ge,be),be=>ne.processEncryptionPublicKey(ge,be)],re)}();case"personal_ecRecover":return function(){ue=te.params[0];let ge=te.params[1];se=te.params[2]||{},ie=extend(se,{sig:ge,data:ue}),ne.recoverPersonalSignature(ie,re)}();case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return function(){const ge=te.params[0],be=te.params[1];resemblesAddress(ge)?(he=ge,ue=be):(ue=ge,he=be),se=te.params[2]||{},ie=extend(se,{from:he,data:ue}),waterfall([Se=>ne.validateTypedMessage(ie,Se),Se=>ne.processTypedMessage(ie,Se)],re)}();case"parity_postTransaction":oe=te.params[0],ne.parityPostTransaction(oe,re);return;case"parity_postSign":he=te.params[0],ue=te.params[1],ne.parityPostSign(he,ue,re);return;case"parity_checkRequest":return function(){const ge=te.params[0];ne.parityCheckRequest(ge,re)}();case"parity_defaultAccount":ne.getAccounts(function(ge,be){if(ge)return re(ge);const Se=be[0]||null;re(null,Se)});return;default:ee();return}};HookedWalletSubprovider$1.prototype.getAccounts=function(te){te(null,[])};HookedWalletSubprovider$1.prototype.processTransaction=function(te,ee){const re=this;waterfall([ne=>re.approveTransaction(te,ne),(ne,oe)=>re.checkApproval("transaction",ne,oe),ne=>re.finalizeAndSubmitTx(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processSignTransaction=function(te,ee){const re=this;waterfall([ne=>re.approveTransaction(te,ne),(ne,oe)=>re.checkApproval("transaction",ne,oe),ne=>re.finalizeTx(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processMessage=function(te,ee){const re=this;waterfall([ne=>re.approveMessage(te,ne),(ne,oe)=>re.checkApproval("message",ne,oe),ne=>re.signMessage(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processPersonalMessage=function(te,ee){const re=this;waterfall([ne=>re.approvePersonalMessage(te,ne),(ne,oe)=>re.checkApproval("message",ne,oe),ne=>re.signPersonalMessage(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processDecryptMessage=function(te,ee){const re=this;waterfall([ne=>re.approveDecryptMessage(te,ne),(ne,oe)=>re.checkApproval("decryptMessage",ne,oe),ne=>re.decryptMessage(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processEncryptionPublicKey=function(te,ee){const re=this;waterfall([ne=>re.approveEncryptionPublicKey(te,ne),(ne,oe)=>re.checkApproval("encryptionPublicKey",ne,oe),ne=>re.encryptionPublicKey(te,ne)],ee)};HookedWalletSubprovider$1.prototype.processTypedMessage=function(te,ee){const re=this;waterfall([ne=>re.approveTypedMessage(te,ne),(ne,oe)=>re.checkApproval("message",ne,oe),ne=>re.signTypedMessage(te,ne)],ee)};HookedWalletSubprovider$1.prototype.autoApprove=function(te,ee){ee(null,!0)};HookedWalletSubprovider$1.prototype.checkApproval=function(te,ee,re){re(ee?null:new Error("User denied "+te+" signature."))};HookedWalletSubprovider$1.prototype.parityPostTransaction=function(te,ee){const re=this,oe=`0x${re._parityRequestCount.toString(16)}`;re._parityRequestCount++,re.emitPayload({method:"eth_sendTransaction",params:[te]},function(ie,se){if(ie){re._parityRequests[oe]={error:ie};return}const ue=se.result;re._parityRequests[oe]=ue}),ee(null,oe)};HookedWalletSubprovider$1.prototype.parityPostSign=function(te,ee,re){const ne=this,ie=`0x${ne._parityRequestCount.toString(16)}`;ne._parityRequestCount++,ne.emitPayload({method:"eth_sign",params:[te,ee]},function(se,ue){if(se){ne._parityRequests[ie]={error:se};return}const he=ue.result;ne._parityRequests[ie]=he}),re(null,ie)};HookedWalletSubprovider$1.prototype.parityCheckRequest=function(te,ee){const ne=this._parityRequests[te]||null;if(!ne)return ee(null,null);if(ne.error)return ee(ne.error);ee(null,ne)};HookedWalletSubprovider$1.prototype.recoverPersonalSignature=function(te,ee){let re;try{re=sigUtil.recoverPersonalSignature(te)}catch(ne){return ee(ne)}ee(null,re)};HookedWalletSubprovider$1.prototype.validateTransaction=function(te,ee){const re=this;if(te.from===void 0)return ee(new Error("Undefined address - from address required to sign transaction."));re.validateSender(te.from,function(ne,oe){if(ne)return ee(ne);if(!oe)return ee(new Error(`Unknown address - unable to sign transaction for this address: "${te.from}"`));ee()})};HookedWalletSubprovider$1.prototype.validateMessage=function(te,ee){const re=this;if(te.from===void 0)return ee(new Error("Undefined address - from address required to sign message."));re.validateSender(te.from,function(ne,oe){if(ne)return ee(ne);if(!oe)return ee(new Error(`Unknown address - unable to sign message for this address: "${te.from}"`));ee()})};HookedWalletSubprovider$1.prototype.validatePersonalMessage=function(te,ee){const re=this;if(te.from===void 0)return ee(new Error("Undefined address - from address required to sign personal message."));if(te.data===void 0)return ee(new Error("Undefined message - message required to sign personal message."));if(!isValidHex(te.data))return ee(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."));re.validateSender(te.from,function(ne,oe){if(ne)return ee(ne);if(!oe)return ee(new Error(`Unknown address - unable to sign message for this address: "${te.from}"`));ee()})};HookedWalletSubprovider$1.prototype.validateDecryptMessage=function(te,ee){const re=this;if(te.from===void 0)return ee(new Error("Undefined address - from address required to decrypt message."));if(te.data===void 0)return ee(new Error("Undefined message - message required to decrypt message."));if(!isValidHex(te.data))return ee(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."));re.validateSender(te.from,function(ne,oe){if(ne)return ee(ne);if(!oe)return ee(new Error(`Unknown address - unable to decrypt message for this address: "${te.from}"`));ee()})};HookedWalletSubprovider$1.prototype.validateEncryptionPublicKey=function(te,ee){this.validateSender(te,function(ne,oe){if(ne)return ee(ne);if(!oe)return ee(new Error(`Unknown address - unable to obtain encryption public key for this address: "${te}"`));ee()})};HookedWalletSubprovider$1.prototype.validateTypedMessage=function(te,ee){if(te.from===void 0)return ee(new Error("Undefined address - from address required to sign typed data."));if(te.data===void 0)return ee(new Error("Undefined data - message required to sign typed data."));this.validateSender(te.from,function(re,ne){if(re)return ee(re);if(!ne)return ee(new Error(`Unknown address - unable to sign message for this address: "${te.from}"`));ee()})};HookedWalletSubprovider$1.prototype.validateSender=function(te,ee){const re=this;if(!te)return ee(null,!1);re.getAccounts(function(ne,oe){if(ne)return ee(ne);const ie=oe.map(toLowerCase).indexOf(te.toLowerCase())!==-1;ee(null,ie)})};HookedWalletSubprovider$1.prototype.finalizeAndSubmitTx=function(te,ee){const re=this;re.nonceLock.take(function(){waterfall([re.fillInTxExtras.bind(re,te),re.signTransaction.bind(re),re.publishTransaction.bind(re)],function(ne,oe){if(re.nonceLock.leave(),ne)return ee(ne);ee(null,oe)})})};HookedWalletSubprovider$1.prototype.finalizeTx=function(te,ee){const re=this;re.nonceLock.take(function(){waterfall([re.fillInTxExtras.bind(re,te),re.signTransaction.bind(re)],function(ne,oe){if(re.nonceLock.leave(),ne)return ee(ne);ee(null,{raw:oe,tx:te})})})};HookedWalletSubprovider$1.prototype.publishTransaction=function(te,ee){this.emitPayload({method:"eth_sendRawTransaction",params:[te]},function(ne,oe){if(ne)return ee(ne);ee(null,oe.result)})};HookedWalletSubprovider$1.prototype.estimateGas=function(te,ee){estimateGas(this.engine,te,ee)};HookedWalletSubprovider$1.prototype.getGasPrice=function(te){this.emitPayload({method:"eth_gasPrice",params:[]},function(re,ne){if(re)return te(re);te(null,ne.result)})};HookedWalletSubprovider$1.prototype.fillInTxExtras=function(te,ee){const re=this,ne=te.from,oe={};te.gasPrice===void 0&&(oe.gasPrice=re.getGasPrice.bind(re)),te.nonce===void 0&&(oe.nonce=re.emitPayload.bind(re,{method:"eth_getTransactionCount",params:[ne,"pending"]})),te.gas===void 0&&(oe.gas=re.estimateGas.bind(re,cloneTxParams(te))),parallel(oe,function(ie,se){if(ie)return ee(ie);const ue={};se.gasPrice&&(ue.gasPrice=se.gasPrice),se.nonce&&(ue.nonce=se.nonce.result),se.gas&&(ue.gas=se.gas),ee(null,extend(te,ue))})};function cloneTxParams(te){return{from:te.from,to:te.to,value:te.value,data:te.data,gas:te.gas,gasPrice:te.gasPrice,nonce:te.nonce}}function toLowerCase(te){return te.toLowerCase()}function resemblesAddress(te){const ee=ethUtil$2.addHexPrefix(te);return ethUtil$2.isValidAddress(ee)}function resemblesData(te){const ee=ethUtil$2.addHexPrefix(te);return!ethUtil$2.isValidAddress(ee)&&isValidHex(te)}function isValidHex(te){return!(typeof te=="string")||!(te.slice(0,2)==="0x")?!1:te.slice(2).match(hexRegex)}function mustProvideInConstructor(te){return function(ee,re){re(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+te+'" fn in constructor options'))}}const genesisGasLimit={v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty={v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce={v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData={v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash={v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot={v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit={v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor={v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty={v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor={v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit={v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize={v:32,d:"Maximum size extra data may be after Genesis."},epochDuration={v:3e4,d:"Duration between proof-of-work epochs."},stackLimit={v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth={v:1024,d:"Maximum depth of call/create stack."},tierStepGas={v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas={v:10,d:"Once per EXP instuction."},expByteGas={v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas={v:30,d:"Once per SHA3 operation."},sha3WordGas={v:6,d:"Once per word of the SHA3 operation's data."},sloadGas={v:50,d:"Once per SLOAD operation."},sstoreSetGas={v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas={v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas={v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas={v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas={v:375,d:"Per LOG* operation."},logDataGas={v:8,d:"Per byte in a LOG* operation's data."},logTopicGas={v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas={v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas={v:40,d:"Once per CALL operation & message call transaction."},callStipend={v:2300,d:"Free gas given at beginning of call."},callValueTransferGas={v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas={v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas={v:24e3,d:"Refunded following a suicide operation."},memoryGas={v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv={v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas={v:200,d:""},txGas={v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation={v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas={v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas={v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas={v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas={v:3e3,d:""},sha256Gas={v:60,d:""},sha256WordGas={v:12,d:""},ripemd160Gas={v:600,d:""},ripemd160WordGas={v:120,d:""},identityGas={v:15,d:""},identityWordGas={v:3,d:""},minerReward={v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},ommerReward={v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},niblingReward={v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},homeSteadForkNumber={v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber={v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod={v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod={v:2};var require$$1={genesisGasLimit,genesisDifficulty,genesisNonce,genesisExtraData,genesisHash,genesisStateRoot,minGasLimit,gasLimitBoundDivisor,minimumDifficulty,difficultyBoundDivisor,durationLimit,maximumExtraDataSize,epochDuration,stackLimit,callCreateDepth,tierStepGas,expGas,expByteGas,sha3Gas,sha3WordGas,sloadGas,sstoreSetGas,sstoreResetGas,sstoreRefundGas,jumpdestGas,logGas,logDataGas,logTopicGas,createGas,callGas,callStipend,callValueTransferGas,callNewAccountGas,suicideRefundGas,memoryGas,quadCoeffDiv,createDataGas,txGas,txCreation,txDataZeroGas,txDataNonZeroGas,copyGas,ecrecoverGas,sha256Gas,sha256WordGas,ripemd160Gas,ripemd160WordGas,identityGas,identityWordGas,minerReward,ommerReward,niblingReward,homeSteadForkNumber,homesteadRepriceForkNumber,timebombPeriod,freeBlockPeriod};function _classCallCheck(te,ee){if(!(te instanceof ee))throw new TypeError("Cannot call a class as a function")}var ethUtil$1=dist$4,fees=require$$1,BN$1=ethUtil$1.BN,N_DIV_2=new BN$1("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),Transaction$1=function(){function te(ee){_classCallCheck(this,te),ee=ee||{};var re=[{name:"nonce",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"to",allowZero:!0,length:20,default:new buffer$2.Buffer([])},{name:"value",length:32,allowLess:!0,default:new buffer$2.Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new buffer$2.Buffer([])},{name:"v",allowZero:!0,default:new buffer$2.Buffer([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new buffer$2.Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new buffer$2.Buffer([])}];ethUtil$1.defineProperties(this,re,ee),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var ne=ethUtil$1.bufferToInt(this.v),oe=Math.floor((ne-35)/2);oe<0&&(oe=0),this._chainId=oe||ee.chainId||0,this._homestead=!0}return te.prototype.toCreationAddress=function(){return this.to.toString("hex")===""},te.prototype.hash=function(re){re===void 0&&(re=!0);var ne=void 0;if(re)ne=this.raw;else if(this._chainId>0){var oe=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,ne=this.raw,this.raw=oe}else ne=this.raw.slice(0,6);return ethUtil$1.rlphash(ne)},te.prototype.getChainId=function(){return this._chainId},te.prototype.getSenderAddress=function(){if(this._from)return this._from;var re=this.getSenderPublicKey();return this._from=ethUtil$1.publicToAddress(re),this._from},te.prototype.getSenderPublicKey=function(){if((!this._senderPubKey||!this._senderPubKey.length)&&!this.verifySignature())throw new Error("Invalid Signature");return this._senderPubKey},te.prototype.verifySignature=function(){var re=this.hash(!1);if(this._homestead&&new BN$1(this.s).cmp(N_DIV_2)===1)return!1;try{var ne=ethUtil$1.bufferToInt(this.v);this._chainId>0&&(ne-=this._chainId*2+8),this._senderPubKey=ethUtil$1.ecrecover(re,ne,this.r,this.s)}catch{return!1}return!!this._senderPubKey},te.prototype.sign=function(re){var ne=this.hash(!1),oe=ethUtil$1.ecsign(ne,re);this._chainId>0&&(oe.v+=this._chainId*2+8),Object.assign(this,oe)},te.prototype.getDataFee=function(){for(var re=this.raw[5],ne=new BN$1(0),oe=0;oe<re.length;oe++)re[oe]===0?ne.iaddn(fees.txDataZeroGas.v):ne.iaddn(fees.txDataNonZeroGas.v);return ne},te.prototype.getBaseFee=function(){var re=this.getDataFee().iaddn(fees.txGas.v);return this._homestead&&this.toCreationAddress()&&re.iaddn(fees.txCreation.v),re},te.prototype.getUpfrontCost=function(){return new BN$1(this.gasLimit).imul(new BN$1(this.gasPrice)).iadd(new BN$1(this.value))},te.prototype.validate=function(re){var ne=[];return this.verifySignature()||ne.push("Invalid Signature"),this.getBaseFee().cmp(new BN$1(this.gasLimit))>0&&ne.push(["gas limit is too low. Need at least "+this.getBaseFee()]),re===void 0||re===!1?ne.length===0:ne.join(" ")},te}(),es5=Transaction$1;const inherits=util$1.inherits,Transaction=es5,ethUtil=dist$4,Subprovider=subprovider,blockTagForPayload=rpcCacheUtils.blockTagForPayload;var nonceTracker=NonceTrackerSubprovider;inherits(NonceTrackerSubprovider,Subprovider);function NonceTrackerSubprovider(te){const ee=this;ee.nonceCache={}}NonceTrackerSubprovider.prototype.handleRequest=function(te,ee,re){const ne=this;switch(te.method){case"eth_getTransactionCount":var oe=blockTagForPayload(te),ie=te.params[0].toLowerCase(),se=ne.nonceCache[ie];oe==="pending"?se?re(null,se):ee(function(ue,he,ge){if(ue)return ge();ne.nonceCache[ie]===void 0&&(ne.nonceCache[ie]=he),ge()}):ee();return;case"eth_sendRawTransaction":ee(function(ue,he,ge){if(ue)return ge();var be=te.params[0];ethUtil.stripHexPrefix(be),buffer$2.Buffer.from(ethUtil.stripHexPrefix(be),"hex");var Se=new Transaction(buffer$2.Buffer.from(ethUtil.stripHexPrefix(be),"hex")),Te="0x"+Se.getSenderAddress().toString("hex").toLowerCase(),ke=ethUtil.bufferToInt(Se.nonce);ke++;var Re=ke.toString(16);Re.length%2&&(Re="0"+Re),Re="0x"+Re,ne.nonceCache[Te]=Re,ge()});return;case"evm_revert":ne.nonceCache={},ee();return;default:ee();return}};const SafeEventEmitter=safeEventEmitter.default,createScaffoldMiddleware=scaffold,{createAsyncMiddleware}=dist$3,createFilterMiddleware=ethJsonRpcFilters,{unsafeRandomBytes,incrementHexInt}=hexUtils,getBlocksForRange=getBlocksForRange_1;var subscriptionManager=createSubscriptionMiddleware;function createSubscriptionMiddleware({blockTracker:te,provider:ee}){const re={},ne=createFilterMiddleware({blockTracker:te,provider:ee});let oe=!1;const ie=new SafeEventEmitter,se=createScaffoldMiddleware({eth_subscribe:createAsyncMiddleware(ue),eth_unsubscribe:createAsyncMiddleware(he)});return se.destroy=be,{events:ie,middleware:se};async function ue(Se,Te){if(oe)throw new Error("SubscriptionManager - attempting to use after destroying");const ke=Se.params[0],Re=unsafeRandomBytes(16);let Ce;switch(ke){case"newHeads":Ce=Pe({subId:Re});break;case"logs":const Ne=Se.params[1],He=await ne.newLogFilter(Ne);Ce=Ie({subId:Re,filter:He});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${ke}"`)}re[Re]=Ce,Te.result=Re;return;function Pe({subId:Ne}){const He={type:ke,destroy:async()=>{te.removeListener("sync",He.update)},update:async({oldBlock:Ke,newBlock:Ge})=>{const ut=Ge,Ve=incrementHexInt(Ke);(await getBlocksForRange({provider:ee,fromBlock:Ve,toBlock:ut})).map(normalizeBlock).forEach(qe=>{ge(Ne,qe)})}};return te.on("sync",He.update),He}function Ie({subId:Ne,filter:He}){return He.on("update",Ge=>ge(Ne,Ge)),{type:ke,destroy:async()=>await ne.uninstallFilter(He.idHex)}}}async function he(Se,Te){if(oe)throw new Error("SubscriptionManager - attempting to use after destroying");const ke=Se.params[0],Re=re[ke];if(!Re){Te.result=!1;return}delete re[ke],await Re.destroy(),Te.result=!0}function ge(Se,Te){ie.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:Se,result:Te}})}function be(){ie.removeAllListeners();for(const Se in re)re[Se].destroy(),delete re[Se];oe=!0}}function normalizeBlock(te){return{hash:te.hash,parentHash:te.parentHash,sha3Uncles:te.sha3Uncles,miner:te.miner,stateRoot:te.stateRoot,transactionsRoot:te.transactionsRoot,receiptsRoot:te.receiptsRoot,logsBloom:te.logsBloom,difficulty:te.difficulty,number:te.number,gasLimit:te.gasLimit,gasUsed:te.gasUsed,nonce:te.nonce,mixHash:te.mixHash,timestamp:te.timestamp,extraData:te.extraData}}const ProviderSubprovider=jsonRpcEngineMiddleware,createSubscriptionManager=subscriptionManager;class SubscriptionsSubprovider$1 extends ProviderSubprovider{constructor(){super(({blockTracker:ee,provider:re,engine:ne})=>{const{events:oe,middleware:ie}=createSubscriptionManager({blockTracker:ee,provider:re});return oe.on("notification",se=>ne.emit("data",null,se)),ie})}}var subscriptions=SubscriptionsSubprovider$1,cjs$3={},cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});var getLocalStorage_1=cjs$2.getLocalStorage=getLocalStorageOrThrow_1=cjs$2.getLocalStorageOrThrow=getCrypto_1=cjs$2.getCrypto=getCryptoOrThrow_1=cjs$2.getCryptoOrThrow=getLocation_1=cjs$2.getLocation=getLocationOrThrow_1=cjs$2.getLocationOrThrow=getNavigator_1=cjs$2.getNavigator=getNavigatorOrThrow_1=cjs$2.getNavigatorOrThrow=getDocument_1=cjs$2.getDocument=getDocumentOrThrow_1=cjs$2.getDocumentOrThrow=getFromWindowOrThrow_1=cjs$2.getFromWindowOrThrow=getFromWindow_1=cjs$2.getFromWindow=void 0;function getFromWindow$1(te){let ee;return typeof window!="undefined"&&typeof window[te]!="undefined"&&(ee=window[te]),ee}var getFromWindow_1=cjs$2.getFromWindow=getFromWindow$1;function getFromWindowOrThrow$1(te){const ee=getFromWindow$1(te);if(!ee)throw new Error(`${te} is not defined in Window`);return ee}var getFromWindowOrThrow_1=cjs$2.getFromWindowOrThrow=getFromWindowOrThrow$1;function getDocumentOrThrow$1(){return getFromWindowOrThrow$1("document")}var getDocumentOrThrow_1=cjs$2.getDocumentOrThrow=getDocumentOrThrow$1;function getDocument$1(){return getFromWindow$1("document")}var getDocument_1=cjs$2.getDocument=getDocument$1;function getNavigatorOrThrow$1(){return getFromWindowOrThrow$1("navigator")}var getNavigatorOrThrow_1=cjs$2.getNavigatorOrThrow=getNavigatorOrThrow$1;function getNavigator$1(){return getFromWindow$1("navigator")}var getNavigator_1=cjs$2.getNavigator=getNavigator$1;function getLocationOrThrow$1(){return getFromWindowOrThrow$1("location")}var getLocationOrThrow_1=cjs$2.getLocationOrThrow=getLocationOrThrow$1;function getLocation$1(){return getFromWindow$1("location")}var getLocation_1=cjs$2.getLocation=getLocation$1;function getCryptoOrThrow$1(){return getFromWindowOrThrow$1("crypto")}var getCryptoOrThrow_1=cjs$2.getCryptoOrThrow=getCryptoOrThrow$1;function getCrypto$1(){return getFromWindow$1("crypto")}var getCrypto_1=cjs$2.getCrypto=getCrypto$1;function getLocalStorageOrThrow$1(){return getFromWindowOrThrow$1("localStorage")}var getLocalStorageOrThrow_1=cjs$2.getLocalStorageOrThrow=getLocalStorageOrThrow$1;function getLocalStorage$1(){return getFromWindow$1("localStorage")}getLocalStorage_1=cjs$2.getLocalStorage=getLocalStorage$1;Object.defineProperty(cjs$3,"__esModule",{value:!0});var getWindowMetadata_1=cjs$3.getWindowMetadata=void 0;const window_getters_1=cjs$2;function getWindowMetadata(){let te,ee;try{te=window_getters_1.getDocumentOrThrow(),ee=window_getters_1.getLocationOrThrow()}catch{return null}function re(){const Se=te.getElementsByTagName("link"),Te=[];for(let ke=0;ke<Se.length;ke++){const Re=Se[ke],Ce=Re.getAttribute("rel");if(Ce&&Ce.toLowerCase().indexOf("icon")>-1){const Pe=Re.getAttribute("href");if(Pe)if(Pe.toLowerCase().indexOf("https:")===-1&&Pe.toLowerCase().indexOf("http:")===-1&&Pe.indexOf("//")!==0){let Ie=ee.protocol+"//"+ee.host;if(Pe.indexOf("/")===0)Ie+=Pe;else{const Ne=ee.pathname.split("/");Ne.pop(),Ie+=Ne.join("/")+"/"+Pe}Te.push(Ie)}else if(Pe.indexOf("//")===0){const Ie=ee.protocol+Pe;Te.push(Ie)}else Te.push(Pe)}}return Te}function ne(...Se){const Te=te.getElementsByTagName("meta");for(let ke=0;ke<Te.length;ke++){const Re=Te[ke],Ce=["itemprop","property","name"].map(Pe=>Re.getAttribute(Pe)).filter(Pe=>Pe?Se.includes(Pe):!1);if(Ce.length&&Ce){const Pe=Re.getAttribute("content");if(Pe)return Pe}}return""}function oe(){let Se=ne("name","og:site_name","og:title","twitter:title");return Se||(Se=te.title),Se}function ie(){return ne("description","og:description","twitter:description","keywords")}const se=oe(),ue=ie(),he=ee.origin,ge=re();return{description:ue,url:he,icons:ge,name:se}}getWindowMetadata_1=cjs$3.getWindowMetadata=getWindowMetadata;var __spreadArrays=globalThis&&globalThis.__spreadArrays||function(){for(var te=0,ee=0,re=arguments.length;ee<re;ee++)te+=arguments[ee].length;for(var ne=Array(te),oe=0,ee=0;ee<re;ee++)for(var ie=arguments[ee],se=0,ue=ie.length;se<ue;se++,oe++)ne[oe]=ie[se];return ne},BrowserInfo=function(){function te(ee,re,ne){this.name=ee,this.version=re,this.os=ne,this.type="browser"}return te}(),NodeInfo=function(){function te(ee){this.version=ee,this.type="node",this.name="node",this.os=process$1.platform}return te}(),SearchBotDeviceInfo=function(){function te(ee,re,ne,oe){this.name=ee,this.version=re,this.os=ne,this.bot=oe,this.type="bot-device"}return te}(),BotInfo=function(){function te(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return te}(),ReactNativeInfo=function(){function te(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return te}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(te){return te?parseUserAgent(te):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator!="undefined"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(te){return te!==""&&userAgentRules.reduce(function(ee,re){var ne=re[0],oe=re[1];if(ee)return ee;var ie=oe.exec(te);return!!ie&&[ne,ie]},!1)}function parseUserAgent(te){var ee=matchUserAgent(te);if(!ee)return null;var re=ee[0],ne=ee[1];if(re==="searchbot")return new BotInfo;var oe=ne[1]&&ne[1].split(/[._]/).slice(0,3);oe?oe.length<REQUIRED_VERSION_PARTS&&(oe=__spreadArrays(oe,createVersionParts(REQUIRED_VERSION_PARTS-oe.length))):oe=[];var ie=oe.join("."),se=detectOS$1(te),ue=SEARCHBOT_OS_REGEX.exec(te);return ue&&ue[1]?new SearchBotDeviceInfo(re,ie,se,ue[1]):new BrowserInfo(re,ie,se)}function detectOS$1(te){for(var ee=0,re=operatingSystemRules.length;ee<re;ee++){var ne=operatingSystemRules[ee],oe=ne[0],ie=ne[1],se=ie.exec(te);if(se)return oe}return null}function getNodeVersion(){var te=typeof process$1!="undefined"&&process$1.version;return te?new NodeInfo(process$1.version.slice(1)):null}function createVersionParts(te){for(var ee=[],re=0;re<te;re++)ee.push("0");return ee}function detectEnv(te){return detect(te)}function detectOS(){const te=detectEnv();return te&&te.os?te.os:void 0}function isAndroid(){const te=detectOS();return te?te.toLowerCase().includes("android"):!1}function isIOS(){const te=detectOS();return te?te.toLowerCase().includes("ios")||te.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function isMobile(){return detectOS()?isAndroid()||isIOS():!1}function isNode$2(){const te=detectEnv();return te&&te.name?te.name.toLowerCase()==="node":!1}function isBrowser$1(){return!isNode$2()&&!!getNavigator()}const getFromWindow=getFromWindow_1,getFromWindowOrThrow=getFromWindowOrThrow_1,getDocumentOrThrow=getDocumentOrThrow_1,getDocument=getDocument_1,getNavigatorOrThrow=getNavigatorOrThrow_1,getNavigator=getNavigator_1,getLocationOrThrow=getLocationOrThrow_1,getLocation=getLocation_1,getCryptoOrThrow=getCryptoOrThrow_1,getCrypto=getCrypto_1,getLocalStorageOrThrow=getLocalStorageOrThrow_1,getLocalStorage=getLocalStorage_1;function getClientMeta(){return getWindowMetadata_1()}function safeJsonParse$1(te){if(typeof te!="string")throw new Error(`Cannot safe json parse value of type ${typeof te}`);try{return JSON.parse(te)}catch{return te}}function safeJsonStringify$1(te){return typeof te=="string"?te:JSON.stringify(te)}const safeJsonParse=safeJsonParse$1,safeJsonStringify=safeJsonStringify$1;function setLocal(te,ee){const re=safeJsonStringify(ee),ne=getLocalStorage();ne&&ne.setItem(te,re)}function getLocal(te){let ee=null,re=null;const ne=getLocalStorage();return ne&&(re=ne.getItem(te)),ee=re&&safeJsonParse(re),ee}function removeLocal(te){const ee=getLocalStorage();ee&&ee.removeItem(te)}const mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE";function formatIOSMobile(te,ee){const re=encodeURIComponent(te);return ee.universalLink?`${ee.universalLink}/wc?uri=${re}`:ee.deepLink?`${ee.deepLink}${ee.deepLink.endsWith(":")?"//":"/"}wc?uri=${re}`:""}function saveMobileLinkInfo(te){const ee=te.href.split("?")[0];setLocal(mobileLinkChoiceKey,Object.assign(Object.assign({},te),{href:ee}))}function getMobileRegistryEntry(te,ee){return te.filter(re=>re.name.toLowerCase().includes(ee.toLowerCase()))[0]}function getMobileLinkRegistry(te,ee){let re=te;return ee&&(re=ee.map(ne=>getMobileRegistryEntry(te,ne)).filter(Boolean)),re}const API_URL="https://registry.walletconnect.com";function getWalletRegistryUrl(){return API_URL+"/api/v2/wallets"}function getDappRegistryUrl(){return API_URL+"/api/v2/dapps"}function formatMobileRegistryEntry(te,ee="mobile"){var re;return{name:te.name||"",shortName:te.metadata.shortName||"",color:te.metadata.colors.primary||"",logo:(re=te.image_url.sm)!==null&&re!==void 0?re:"",universalLink:te[ee].universal||"",deepLink:te[ee].native||""}}function formatMobileRegistry(te,ee="mobile"){return Object.values(te).filter(re=>!!re[ee].universal||!!re[ee].native).map(re=>formatMobileRegistryEntry(re,ee))}var esm=Object.freeze(Object.defineProperty({__proto__:null,detectEnv,detectOS,isAndroid,isIOS,isMobile,isNode:isNode$2,isBrowser:isBrowser$1,getFromWindow,getFromWindowOrThrow,getDocumentOrThrow,getDocument,getNavigatorOrThrow,getNavigator,getLocationOrThrow,getLocation,getCryptoOrThrow,getCrypto,getLocalStorageOrThrow,getLocalStorage,getClientMeta,safeJsonParse,safeJsonStringify,setLocal,getLocal,removeLocal,mobileLinkChoiceKey,formatIOSMobile,saveMobileLinkInfo,getMobileRegistryEntry,getMobileLinkRegistry,getWalletRegistryUrl,getDappRegistryUrl,formatMobileRegistryEntry,formatMobileRegistry},Symbol.toStringTag,{value:"Module"}));const reservedEvents=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],signingMethods=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],infuraNetworks={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var bn={exports:{}};(function(te){(function(ee,re){function ne(qe,ye){if(!qe)throw new Error(ye||"Assertion failed")}function oe(qe,ye){qe.super_=ye;var ae=function(){};ae.prototype=ye.prototype,qe.prototype=new ae,qe.prototype.constructor=qe}function ie(qe,ye,ae){if(ie.isBN(qe))return qe;this.negative=0,this.words=null,this.length=0,this.red=null,qe!==null&&((ye==="le"||ye==="be")&&(ae=ye,ye=10),this._init(qe||0,ye||10,ae||"be"))}typeof ee=="object"?ee.exports=ie:re.BN=ie,ie.BN=ie,ie.wordSize=26;var se;try{se=require("buffer").Buffer}catch{}ie.isBN=function(ye){return ye instanceof ie?!0:ye!==null&&typeof ye=="object"&&ye.constructor.wordSize===ie.wordSize&&Array.isArray(ye.words)},ie.max=function(ye,ae){return ye.cmp(ae)>0?ye:ae},ie.min=function(ye,ae){return ye.cmp(ae)<0?ye:ae},ie.prototype._init=function(ye,ae,ce){if(typeof ye=="number")return this._initNumber(ye,ae,ce);if(typeof ye=="object")return this._initArray(ye,ae,ce);ae==="hex"&&(ae=16),ne(ae===(ae|0)&&ae>=2&&ae<=36),ye=ye.toString().replace(/\s+/g,"");var le=0;ye[0]==="-"&&le++,ae===16?this._parseHex(ye,le):this._parseBase(ye,ae,le),ye[0]==="-"&&(this.negative=1),this.strip(),ce==="le"&&this._initArray(this.toArray(),ae,ce)},ie.prototype._initNumber=function(ye,ae,ce){ye<0&&(this.negative=1,ye=-ye),ye<67108864?(this.words=[ye&67108863],this.length=1):ye<4503599627370496?(this.words=[ye&67108863,ye/67108864&67108863],this.length=2):(ne(ye<9007199254740992),this.words=[ye&67108863,ye/67108864&67108863,1],this.length=3),ce==="le"&&this._initArray(this.toArray(),ae,ce)},ie.prototype._initArray=function(ye,ae,ce){if(ne(typeof ye.length=="number"),ye.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ye.length/3),this.words=new Array(this.length);for(var le=0;le<this.length;le++)this.words[le]=0;var pe,_e,$e=0;if(ce==="be")for(le=ye.length-1,pe=0;le>=0;le-=3)_e=ye[le]|ye[le-1]<<8|ye[le-2]<<16,this.words[pe]|=_e<<$e&67108863,this.words[pe+1]=_e>>>26-$e&67108863,$e+=24,$e>=26&&($e-=26,pe++);else if(ce==="le")for(le=0,pe=0;le<ye.length;le+=3)_e=ye[le]|ye[le+1]<<8|ye[le+2]<<16,this.words[pe]|=_e<<$e&67108863,this.words[pe+1]=_e>>>26-$e&67108863,$e+=24,$e>=26&&($e-=26,pe++);return this.strip()};function ue(qe,ye,ae){for(var ce=0,le=Math.min(qe.length,ae),pe=ye;pe<le;pe++){var _e=qe.charCodeAt(pe)-48;ce<<=4,_e>=49&&_e<=54?ce|=_e-49+10:_e>=17&&_e<=22?ce|=_e-17+10:ce|=_e&15}return ce}ie.prototype._parseHex=function(ye,ae){this.length=Math.ceil((ye.length-ae)/6),this.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)this.words[ce]=0;var le,pe,_e=0;for(ce=ye.length-6,le=0;ce>=ae;ce-=6)pe=ue(ye,ce,ce+6),this.words[le]|=pe<<_e&67108863,this.words[le+1]|=pe>>>26-_e&4194303,_e+=24,_e>=26&&(_e-=26,le++);ce+6!==ae&&(pe=ue(ye,ae,ce+6),this.words[le]|=pe<<_e&67108863,this.words[le+1]|=pe>>>26-_e&4194303),this.strip()};function he(qe,ye,ae,ce){for(var le=0,pe=Math.min(qe.length,ae),_e=ye;_e<pe;_e++){var $e=qe.charCodeAt(_e)-48;le*=ce,$e>=49?le+=$e-49+10:$e>=17?le+=$e-17+10:le+=$e}return le}ie.prototype._parseBase=function(ye,ae,ce){this.words=[0],this.length=1;for(var le=0,pe=1;pe<=67108863;pe*=ae)le++;le--,pe=pe/ae|0;for(var _e=ye.length-ce,$e=_e%le,Ee=Math.min(_e,_e-$e)+ce,me=0,fe=ce;fe<Ee;fe+=le)me=he(ye,fe,fe+le,ae),this.imuln(pe),this.words[0]+me<67108864?this.words[0]+=me:this._iaddn(me);if($e!==0){var we=1;for(me=he(ye,fe,ye.length,ae),fe=0;fe<$e;fe++)we*=ae;this.imuln(we),this.words[0]+me<67108864?this.words[0]+=me:this._iaddn(me)}},ie.prototype.copy=function(ye){ye.words=new Array(this.length);for(var ae=0;ae<this.length;ae++)ye.words[ae]=this.words[ae];ye.length=this.length,ye.negative=this.negative,ye.red=this.red},ie.prototype.clone=function(){var ye=new ie(null);return this.copy(ye),ye},ie.prototype._expand=function(ye){for(;this.length<ye;)this.words[this.length++]=0;return this},ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ge=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],be=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Se=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(ye,ae){ye=ye||10,ae=ae|0||1;var ce;if(ye===16||ye==="hex"){ce="";for(var le=0,pe=0,_e=0;_e<this.length;_e++){var $e=this.words[_e],Ee=(($e<<le|pe)&16777215).toString(16);pe=$e>>>24-le&16777215,pe!==0||_e!==this.length-1?ce=ge[6-Ee.length]+Ee+ce:ce=Ee+ce,le+=2,le>=26&&(le-=26,_e--)}for(pe!==0&&(ce=pe.toString(16)+ce);ce.length%ae!==0;)ce="0"+ce;return this.negative!==0&&(ce="-"+ce),ce}if(ye===(ye|0)&&ye>=2&&ye<=36){var me=be[ye],fe=Se[ye];ce="";var we=this.clone();for(we.negative=0;!we.isZero();){var Me=we.modn(fe).toString(ye);we=we.idivn(fe),we.isZero()?ce=Me+ce:ce=ge[me-Me.length]+Me+ce}for(this.isZero()&&(ce="0"+ce);ce.length%ae!==0;)ce="0"+ce;return this.negative!==0&&(ce="-"+ce),ce}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var ye=this.words[0];return this.length===2?ye+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ye+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ye:ye},ie.prototype.toJSON=function(){return this.toString(16)},ie.prototype.toBuffer=function(ye,ae){return ne(typeof se!="undefined"),this.toArrayLike(se,ye,ae)},ie.prototype.toArray=function(ye,ae){return this.toArrayLike(Array,ye,ae)},ie.prototype.toArrayLike=function(ye,ae,ce){var le=this.byteLength(),pe=ce||Math.max(1,le);ne(le<=pe,"byte array longer than desired length"),ne(pe>0,"Requested array length <= 0"),this.strip();var _e=ae==="le",$e=new ye(pe),Ee,me,fe=this.clone();if(_e){for(me=0;!fe.isZero();me++)Ee=fe.andln(255),fe.iushrn(8),$e[me]=Ee;for(;me<pe;me++)$e[me]=0}else{for(me=0;me<pe-le;me++)$e[me]=0;for(me=0;!fe.isZero();me++)Ee=fe.andln(255),fe.iushrn(8),$e[pe-me-1]=Ee}return $e},Math.clz32?ie.prototype._countBits=function(ye){return 32-Math.clz32(ye)}:ie.prototype._countBits=function(ye){var ae=ye,ce=0;return ae>=4096&&(ce+=13,ae>>>=13),ae>=64&&(ce+=7,ae>>>=7),ae>=8&&(ce+=4,ae>>>=4),ae>=2&&(ce+=2,ae>>>=2),ce+ae},ie.prototype._zeroBits=function(ye){if(ye===0)return 26;var ae=ye,ce=0;return(ae&8191)===0&&(ce+=13,ae>>>=13),(ae&127)===0&&(ce+=7,ae>>>=7),(ae&15)===0&&(ce+=4,ae>>>=4),(ae&3)===0&&(ce+=2,ae>>>=2),(ae&1)===0&&ce++,ce},ie.prototype.bitLength=function(){var ye=this.words[this.length-1],ae=this._countBits(ye);return(this.length-1)*26+ae};function Te(qe){for(var ye=new Array(qe.bitLength()),ae=0;ae<ye.length;ae++){var ce=ae/26|0,le=ae%26;ye[ae]=(qe.words[ce]&1<<le)>>>le}return ye}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ye=0,ae=0;ae<this.length;ae++){var ce=this._zeroBits(this.words[ae]);if(ye+=ce,ce!==26)break}return ye},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(ye){return this.negative!==0?this.abs().inotn(ye).iaddn(1):this.clone()},ie.prototype.fromTwos=function(ye){return this.testn(ye-1)?this.notn(ye).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(ye){for(;this.length<ye.length;)this.words[this.length++]=0;for(var ae=0;ae<ye.length;ae++)this.words[ae]=this.words[ae]|ye.words[ae];return this.strip()},ie.prototype.ior=function(ye){return ne((this.negative|ye.negative)===0),this.iuor(ye)},ie.prototype.or=function(ye){return this.length>ye.length?this.clone().ior(ye):ye.clone().ior(this)},ie.prototype.uor=function(ye){return this.length>ye.length?this.clone().iuor(ye):ye.clone().iuor(this)},ie.prototype.iuand=function(ye){var ae;this.length>ye.length?ae=ye:ae=this;for(var ce=0;ce<ae.length;ce++)this.words[ce]=this.words[ce]&ye.words[ce];return this.length=ae.length,this.strip()},ie.prototype.iand=function(ye){return ne((this.negative|ye.negative)===0),this.iuand(ye)},ie.prototype.and=function(ye){return this.length>ye.length?this.clone().iand(ye):ye.clone().iand(this)},ie.prototype.uand=function(ye){return this.length>ye.length?this.clone().iuand(ye):ye.clone().iuand(this)},ie.prototype.iuxor=function(ye){var ae,ce;this.length>ye.length?(ae=this,ce=ye):(ae=ye,ce=this);for(var le=0;le<ce.length;le++)this.words[le]=ae.words[le]^ce.words[le];if(this!==ae)for(;le<ae.length;le++)this.words[le]=ae.words[le];return this.length=ae.length,this.strip()},ie.prototype.ixor=function(ye){return ne((this.negative|ye.negative)===0),this.iuxor(ye)},ie.prototype.xor=function(ye){return this.length>ye.length?this.clone().ixor(ye):ye.clone().ixor(this)},ie.prototype.uxor=function(ye){return this.length>ye.length?this.clone().iuxor(ye):ye.clone().iuxor(this)},ie.prototype.inotn=function(ye){ne(typeof ye=="number"&&ye>=0);var ae=Math.ceil(ye/26)|0,ce=ye%26;this._expand(ae),ce>0&&ae--;for(var le=0;le<ae;le++)this.words[le]=~this.words[le]&67108863;return ce>0&&(this.words[le]=~this.words[le]&67108863>>26-ce),this.strip()},ie.prototype.notn=function(ye){return this.clone().inotn(ye)},ie.prototype.setn=function(ye,ae){ne(typeof ye=="number"&&ye>=0);var ce=ye/26|0,le=ye%26;return this._expand(ce+1),ae?this.words[ce]=this.words[ce]|1<<le:this.words[ce]=this.words[ce]&~(1<<le),this.strip()},ie.prototype.iadd=function(ye){var ae;if(this.negative!==0&&ye.negative===0)return this.negative=0,ae=this.isub(ye),this.negative^=1,this._normSign();if(this.negative===0&&ye.negative!==0)return ye.negative=0,ae=this.isub(ye),ye.negative=1,ae._normSign();var ce,le;this.length>ye.length?(ce=this,le=ye):(ce=ye,le=this);for(var pe=0,_e=0;_e<le.length;_e++)ae=(ce.words[_e]|0)+(le.words[_e]|0)+pe,this.words[_e]=ae&67108863,pe=ae>>>26;for(;pe!==0&&_e<ce.length;_e++)ae=(ce.words[_e]|0)+pe,this.words[_e]=ae&67108863,pe=ae>>>26;if(this.length=ce.length,pe!==0)this.words[this.length]=pe,this.length++;else if(ce!==this)for(;_e<ce.length;_e++)this.words[_e]=ce.words[_e];return this},ie.prototype.add=function(ye){var ae;return ye.negative!==0&&this.negative===0?(ye.negative=0,ae=this.sub(ye),ye.negative^=1,ae):ye.negative===0&&this.negative!==0?(this.negative=0,ae=ye.sub(this),this.negative=1,ae):this.length>ye.length?this.clone().iadd(ye):ye.clone().iadd(this)},ie.prototype.isub=function(ye){if(ye.negative!==0){ye.negative=0;var ae=this.iadd(ye);return ye.negative=1,ae._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ye),this.negative=1,this._normSign();var ce=this.cmp(ye);if(ce===0)return this.negative=0,this.length=1,this.words[0]=0,this;var le,pe;ce>0?(le=this,pe=ye):(le=ye,pe=this);for(var _e=0,$e=0;$e<pe.length;$e++)ae=(le.words[$e]|0)-(pe.words[$e]|0)+_e,_e=ae>>26,this.words[$e]=ae&67108863;for(;_e!==0&&$e<le.length;$e++)ae=(le.words[$e]|0)+_e,_e=ae>>26,this.words[$e]=ae&67108863;if(_e===0&&$e<le.length&&le!==this)for(;$e<le.length;$e++)this.words[$e]=le.words[$e];return this.length=Math.max(this.length,$e),le!==this&&(this.negative=1),this.strip()},ie.prototype.sub=function(ye){return this.clone().isub(ye)};function ke(qe,ye,ae){ae.negative=ye.negative^qe.negative;var ce=qe.length+ye.length|0;ae.length=ce,ce=ce-1|0;var le=qe.words[0]|0,pe=ye.words[0]|0,_e=le*pe,$e=_e&67108863,Ee=_e/67108864|0;ae.words[0]=$e;for(var me=1;me<ce;me++){for(var fe=Ee>>>26,we=Ee&67108863,Me=Math.min(me,ye.length-1),Le=Math.max(0,me-qe.length+1);Le<=Me;Le++){var Je=me-Le|0;le=qe.words[Je]|0,pe=ye.words[Le]|0,_e=le*pe+we,fe+=_e/67108864|0,we=_e&67108863}ae.words[me]=we|0,Ee=fe|0}return Ee!==0?ae.words[me]=Ee|0:ae.length--,ae.strip()}var Re=function(ye,ae,ce){var le=ye.words,pe=ae.words,_e=ce.words,$e=0,Ee,me,fe,we=le[0]|0,Me=we&8191,Le=we>>>13,Je=le[1]|0,Ue=Je&8191,ct=Je>>>13,gt=le[2]|0,$t=gt&8191,vt=gt>>>13,Tt=le[3]|0,qt=Tt&8191,Rt=Tt>>>13,lt=le[4]|0,_t=lt&8191,bt=lt>>>13,Qe=le[5]|0,ze=Qe&8191,De=Qe>>>13,Ze=le[6]|0,yt=Ze&8191,dt=Ze>>>13,mt=le[7]|0,Lt=mt&8191,St=mt>>>13,Bt=le[8]|0,Gt=Bt&8191,Ae=Bt>>>13,ve=le[9]|0,xe=ve&8191,Be=ve>>>13,We=pe[0]|0,et=We&8191,Xe=We>>>13,Mt=pe[1]|0,Vt=Mt&8191,At=Mt>>>13,Nt=pe[2]|0,zt=Nt&8191,Ht=Nt>>>13,Qt=pe[3]|0,Ir=Qt&8191,jt=Qt>>>13,Xt=pe[4]|0,$r=Xt&8191,Ft=Xt>>>13,Zt=pe[5]|0,kr=Zt&8191,Wt=Zt>>>13,er=pe[6]|0,Pr=er&8191,Ot=er>>>13,tr=pe[7]|0,Ye=tr&8191,rt=tr>>>13,it=pe[8]|0,Fe=it&8191,ot=it>>>13,wt=pe[9]|0,Pt=wt&8191,Et=wt>>>13;ce.negative=ye.negative^ae.negative,ce.length=19,Ee=Math.imul(Me,et),me=Math.imul(Me,Xe),me=me+Math.imul(Le,et)|0,fe=Math.imul(Le,Xe);var Ct=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,Ee=Math.imul(Ue,et),me=Math.imul(Ue,Xe),me=me+Math.imul(ct,et)|0,fe=Math.imul(ct,Xe),Ee=Ee+Math.imul(Me,Vt)|0,me=me+Math.imul(Me,At)|0,me=me+Math.imul(Le,Vt)|0,fe=fe+Math.imul(Le,At)|0;var or=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(or>>>26)|0,or&=67108863,Ee=Math.imul($t,et),me=Math.imul($t,Xe),me=me+Math.imul(vt,et)|0,fe=Math.imul(vt,Xe),Ee=Ee+Math.imul(Ue,Vt)|0,me=me+Math.imul(Ue,At)|0,me=me+Math.imul(ct,Vt)|0,fe=fe+Math.imul(ct,At)|0,Ee=Ee+Math.imul(Me,zt)|0,me=me+Math.imul(Me,Ht)|0,me=me+Math.imul(Le,zt)|0,fe=fe+Math.imul(Le,Ht)|0;var Yt=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,Ee=Math.imul(qt,et),me=Math.imul(qt,Xe),me=me+Math.imul(Rt,et)|0,fe=Math.imul(Rt,Xe),Ee=Ee+Math.imul($t,Vt)|0,me=me+Math.imul($t,At)|0,me=me+Math.imul(vt,Vt)|0,fe=fe+Math.imul(vt,At)|0,Ee=Ee+Math.imul(Ue,zt)|0,me=me+Math.imul(Ue,Ht)|0,me=me+Math.imul(ct,zt)|0,fe=fe+Math.imul(ct,Ht)|0,Ee=Ee+Math.imul(Me,Ir)|0,me=me+Math.imul(Me,jt)|0,me=me+Math.imul(Le,Ir)|0,fe=fe+Math.imul(Le,jt)|0;var Rr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,Ee=Math.imul(_t,et),me=Math.imul(_t,Xe),me=me+Math.imul(bt,et)|0,fe=Math.imul(bt,Xe),Ee=Ee+Math.imul(qt,Vt)|0,me=me+Math.imul(qt,At)|0,me=me+Math.imul(Rt,Vt)|0,fe=fe+Math.imul(Rt,At)|0,Ee=Ee+Math.imul($t,zt)|0,me=me+Math.imul($t,Ht)|0,me=me+Math.imul(vt,zt)|0,fe=fe+Math.imul(vt,Ht)|0,Ee=Ee+Math.imul(Ue,Ir)|0,me=me+Math.imul(Ue,jt)|0,me=me+Math.imul(ct,Ir)|0,fe=fe+Math.imul(ct,jt)|0,Ee=Ee+Math.imul(Me,$r)|0,me=me+Math.imul(Me,Ft)|0,me=me+Math.imul(Le,$r)|0,fe=fe+Math.imul(Le,Ft)|0;var cr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(cr>>>26)|0,cr&=67108863,Ee=Math.imul(ze,et),me=Math.imul(ze,Xe),me=me+Math.imul(De,et)|0,fe=Math.imul(De,Xe),Ee=Ee+Math.imul(_t,Vt)|0,me=me+Math.imul(_t,At)|0,me=me+Math.imul(bt,Vt)|0,fe=fe+Math.imul(bt,At)|0,Ee=Ee+Math.imul(qt,zt)|0,me=me+Math.imul(qt,Ht)|0,me=me+Math.imul(Rt,zt)|0,fe=fe+Math.imul(Rt,Ht)|0,Ee=Ee+Math.imul($t,Ir)|0,me=me+Math.imul($t,jt)|0,me=me+Math.imul(vt,Ir)|0,fe=fe+Math.imul(vt,jt)|0,Ee=Ee+Math.imul(Ue,$r)|0,me=me+Math.imul(Ue,Ft)|0,me=me+Math.imul(ct,$r)|0,fe=fe+Math.imul(ct,Ft)|0,Ee=Ee+Math.imul(Me,kr)|0,me=me+Math.imul(Me,Wt)|0,me=me+Math.imul(Le,kr)|0,fe=fe+Math.imul(Le,Wt)|0;var wr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(wr>>>26)|0,wr&=67108863,Ee=Math.imul(yt,et),me=Math.imul(yt,Xe),me=me+Math.imul(dt,et)|0,fe=Math.imul(dt,Xe),Ee=Ee+Math.imul(ze,Vt)|0,me=me+Math.imul(ze,At)|0,me=me+Math.imul(De,Vt)|0,fe=fe+Math.imul(De,At)|0,Ee=Ee+Math.imul(_t,zt)|0,me=me+Math.imul(_t,Ht)|0,me=me+Math.imul(bt,zt)|0,fe=fe+Math.imul(bt,Ht)|0,Ee=Ee+Math.imul(qt,Ir)|0,me=me+Math.imul(qt,jt)|0,me=me+Math.imul(Rt,Ir)|0,fe=fe+Math.imul(Rt,jt)|0,Ee=Ee+Math.imul($t,$r)|0,me=me+Math.imul($t,Ft)|0,me=me+Math.imul(vt,$r)|0,fe=fe+Math.imul(vt,Ft)|0,Ee=Ee+Math.imul(Ue,kr)|0,me=me+Math.imul(Ue,Wt)|0,me=me+Math.imul(ct,kr)|0,fe=fe+Math.imul(ct,Wt)|0,Ee=Ee+Math.imul(Me,Pr)|0,me=me+Math.imul(Me,Ot)|0,me=me+Math.imul(Le,Pr)|0,fe=fe+Math.imul(Le,Ot)|0;var xr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(xr>>>26)|0,xr&=67108863,Ee=Math.imul(Lt,et),me=Math.imul(Lt,Xe),me=me+Math.imul(St,et)|0,fe=Math.imul(St,Xe),Ee=Ee+Math.imul(yt,Vt)|0,me=me+Math.imul(yt,At)|0,me=me+Math.imul(dt,Vt)|0,fe=fe+Math.imul(dt,At)|0,Ee=Ee+Math.imul(ze,zt)|0,me=me+Math.imul(ze,Ht)|0,me=me+Math.imul(De,zt)|0,fe=fe+Math.imul(De,Ht)|0,Ee=Ee+Math.imul(_t,Ir)|0,me=me+Math.imul(_t,jt)|0,me=me+Math.imul(bt,Ir)|0,fe=fe+Math.imul(bt,jt)|0,Ee=Ee+Math.imul(qt,$r)|0,me=me+Math.imul(qt,Ft)|0,me=me+Math.imul(Rt,$r)|0,fe=fe+Math.imul(Rt,Ft)|0,Ee=Ee+Math.imul($t,kr)|0,me=me+Math.imul($t,Wt)|0,me=me+Math.imul(vt,kr)|0,fe=fe+Math.imul(vt,Wt)|0,Ee=Ee+Math.imul(Ue,Pr)|0,me=me+Math.imul(Ue,Ot)|0,me=me+Math.imul(ct,Pr)|0,fe=fe+Math.imul(ct,Ot)|0,Ee=Ee+Math.imul(Me,Ye)|0,me=me+Math.imul(Me,rt)|0,me=me+Math.imul(Le,Ye)|0,fe=fe+Math.imul(Le,rt)|0;var Er=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(Er>>>26)|0,Er&=67108863,Ee=Math.imul(Gt,et),me=Math.imul(Gt,Xe),me=me+Math.imul(Ae,et)|0,fe=Math.imul(Ae,Xe),Ee=Ee+Math.imul(Lt,Vt)|0,me=me+Math.imul(Lt,At)|0,me=me+Math.imul(St,Vt)|0,fe=fe+Math.imul(St,At)|0,Ee=Ee+Math.imul(yt,zt)|0,me=me+Math.imul(yt,Ht)|0,me=me+Math.imul(dt,zt)|0,fe=fe+Math.imul(dt,Ht)|0,Ee=Ee+Math.imul(ze,Ir)|0,me=me+Math.imul(ze,jt)|0,me=me+Math.imul(De,Ir)|0,fe=fe+Math.imul(De,jt)|0,Ee=Ee+Math.imul(_t,$r)|0,me=me+Math.imul(_t,Ft)|0,me=me+Math.imul(bt,$r)|0,fe=fe+Math.imul(bt,Ft)|0,Ee=Ee+Math.imul(qt,kr)|0,me=me+Math.imul(qt,Wt)|0,me=me+Math.imul(Rt,kr)|0,fe=fe+Math.imul(Rt,Wt)|0,Ee=Ee+Math.imul($t,Pr)|0,me=me+Math.imul($t,Ot)|0,me=me+Math.imul(vt,Pr)|0,fe=fe+Math.imul(vt,Ot)|0,Ee=Ee+Math.imul(Ue,Ye)|0,me=me+Math.imul(Ue,rt)|0,me=me+Math.imul(ct,Ye)|0,fe=fe+Math.imul(ct,rt)|0,Ee=Ee+Math.imul(Me,Fe)|0,me=me+Math.imul(Me,ot)|0,me=me+Math.imul(Le,Fe)|0,fe=fe+Math.imul(Le,ot)|0;var Mr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,Ee=Math.imul(xe,et),me=Math.imul(xe,Xe),me=me+Math.imul(Be,et)|0,fe=Math.imul(Be,Xe),Ee=Ee+Math.imul(Gt,Vt)|0,me=me+Math.imul(Gt,At)|0,me=me+Math.imul(Ae,Vt)|0,fe=fe+Math.imul(Ae,At)|0,Ee=Ee+Math.imul(Lt,zt)|0,me=me+Math.imul(Lt,Ht)|0,me=me+Math.imul(St,zt)|0,fe=fe+Math.imul(St,Ht)|0,Ee=Ee+Math.imul(yt,Ir)|0,me=me+Math.imul(yt,jt)|0,me=me+Math.imul(dt,Ir)|0,fe=fe+Math.imul(dt,jt)|0,Ee=Ee+Math.imul(ze,$r)|0,me=me+Math.imul(ze,Ft)|0,me=me+Math.imul(De,$r)|0,fe=fe+Math.imul(De,Ft)|0,Ee=Ee+Math.imul(_t,kr)|0,me=me+Math.imul(_t,Wt)|0,me=me+Math.imul(bt,kr)|0,fe=fe+Math.imul(bt,Wt)|0,Ee=Ee+Math.imul(qt,Pr)|0,me=me+Math.imul(qt,Ot)|0,me=me+Math.imul(Rt,Pr)|0,fe=fe+Math.imul(Rt,Ot)|0,Ee=Ee+Math.imul($t,Ye)|0,me=me+Math.imul($t,rt)|0,me=me+Math.imul(vt,Ye)|0,fe=fe+Math.imul(vt,rt)|0,Ee=Ee+Math.imul(Ue,Fe)|0,me=me+Math.imul(Ue,ot)|0,me=me+Math.imul(ct,Fe)|0,fe=fe+Math.imul(ct,ot)|0,Ee=Ee+Math.imul(Me,Pt)|0,me=me+Math.imul(Me,Et)|0,me=me+Math.imul(Le,Pt)|0,fe=fe+Math.imul(Le,Et)|0;var Sr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,Ee=Math.imul(xe,Vt),me=Math.imul(xe,At),me=me+Math.imul(Be,Vt)|0,fe=Math.imul(Be,At),Ee=Ee+Math.imul(Gt,zt)|0,me=me+Math.imul(Gt,Ht)|0,me=me+Math.imul(Ae,zt)|0,fe=fe+Math.imul(Ae,Ht)|0,Ee=Ee+Math.imul(Lt,Ir)|0,me=me+Math.imul(Lt,jt)|0,me=me+Math.imul(St,Ir)|0,fe=fe+Math.imul(St,jt)|0,Ee=Ee+Math.imul(yt,$r)|0,me=me+Math.imul(yt,Ft)|0,me=me+Math.imul(dt,$r)|0,fe=fe+Math.imul(dt,Ft)|0,Ee=Ee+Math.imul(ze,kr)|0,me=me+Math.imul(ze,Wt)|0,me=me+Math.imul(De,kr)|0,fe=fe+Math.imul(De,Wt)|0,Ee=Ee+Math.imul(_t,Pr)|0,me=me+Math.imul(_t,Ot)|0,me=me+Math.imul(bt,Pr)|0,fe=fe+Math.imul(bt,Ot)|0,Ee=Ee+Math.imul(qt,Ye)|0,me=me+Math.imul(qt,rt)|0,me=me+Math.imul(Rt,Ye)|0,fe=fe+Math.imul(Rt,rt)|0,Ee=Ee+Math.imul($t,Fe)|0,me=me+Math.imul($t,ot)|0,me=me+Math.imul(vt,Fe)|0,fe=fe+Math.imul(vt,ot)|0,Ee=Ee+Math.imul(Ue,Pt)|0,me=me+Math.imul(Ue,Et)|0,me=me+Math.imul(ct,Pt)|0,fe=fe+Math.imul(ct,Et)|0;var Ar=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,Ee=Math.imul(xe,zt),me=Math.imul(xe,Ht),me=me+Math.imul(Be,zt)|0,fe=Math.imul(Be,Ht),Ee=Ee+Math.imul(Gt,Ir)|0,me=me+Math.imul(Gt,jt)|0,me=me+Math.imul(Ae,Ir)|0,fe=fe+Math.imul(Ae,jt)|0,Ee=Ee+Math.imul(Lt,$r)|0,me=me+Math.imul(Lt,Ft)|0,me=me+Math.imul(St,$r)|0,fe=fe+Math.imul(St,Ft)|0,Ee=Ee+Math.imul(yt,kr)|0,me=me+Math.imul(yt,Wt)|0,me=me+Math.imul(dt,kr)|0,fe=fe+Math.imul(dt,Wt)|0,Ee=Ee+Math.imul(ze,Pr)|0,me=me+Math.imul(ze,Ot)|0,me=me+Math.imul(De,Pr)|0,fe=fe+Math.imul(De,Ot)|0,Ee=Ee+Math.imul(_t,Ye)|0,me=me+Math.imul(_t,rt)|0,me=me+Math.imul(bt,Ye)|0,fe=fe+Math.imul(bt,rt)|0,Ee=Ee+Math.imul(qt,Fe)|0,me=me+Math.imul(qt,ot)|0,me=me+Math.imul(Rt,Fe)|0,fe=fe+Math.imul(Rt,ot)|0,Ee=Ee+Math.imul($t,Pt)|0,me=me+Math.imul($t,Et)|0,me=me+Math.imul(vt,Pt)|0,fe=fe+Math.imul(vt,Et)|0;var Tr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,Ee=Math.imul(xe,Ir),me=Math.imul(xe,jt),me=me+Math.imul(Be,Ir)|0,fe=Math.imul(Be,jt),Ee=Ee+Math.imul(Gt,$r)|0,me=me+Math.imul(Gt,Ft)|0,me=me+Math.imul(Ae,$r)|0,fe=fe+Math.imul(Ae,Ft)|0,Ee=Ee+Math.imul(Lt,kr)|0,me=me+Math.imul(Lt,Wt)|0,me=me+Math.imul(St,kr)|0,fe=fe+Math.imul(St,Wt)|0,Ee=Ee+Math.imul(yt,Pr)|0,me=me+Math.imul(yt,Ot)|0,me=me+Math.imul(dt,Pr)|0,fe=fe+Math.imul(dt,Ot)|0,Ee=Ee+Math.imul(ze,Ye)|0,me=me+Math.imul(ze,rt)|0,me=me+Math.imul(De,Ye)|0,fe=fe+Math.imul(De,rt)|0,Ee=Ee+Math.imul(_t,Fe)|0,me=me+Math.imul(_t,ot)|0,me=me+Math.imul(bt,Fe)|0,fe=fe+Math.imul(bt,ot)|0,Ee=Ee+Math.imul(qt,Pt)|0,me=me+Math.imul(qt,Et)|0,me=me+Math.imul(Rt,Pt)|0,fe=fe+Math.imul(Rt,Et)|0;var pr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(pr>>>26)|0,pr&=67108863,Ee=Math.imul(xe,$r),me=Math.imul(xe,Ft),me=me+Math.imul(Be,$r)|0,fe=Math.imul(Be,Ft),Ee=Ee+Math.imul(Gt,kr)|0,me=me+Math.imul(Gt,Wt)|0,me=me+Math.imul(Ae,kr)|0,fe=fe+Math.imul(Ae,Wt)|0,Ee=Ee+Math.imul(Lt,Pr)|0,me=me+Math.imul(Lt,Ot)|0,me=me+Math.imul(St,Pr)|0,fe=fe+Math.imul(St,Ot)|0,Ee=Ee+Math.imul(yt,Ye)|0,me=me+Math.imul(yt,rt)|0,me=me+Math.imul(dt,Ye)|0,fe=fe+Math.imul(dt,rt)|0,Ee=Ee+Math.imul(ze,Fe)|0,me=me+Math.imul(ze,ot)|0,me=me+Math.imul(De,Fe)|0,fe=fe+Math.imul(De,ot)|0,Ee=Ee+Math.imul(_t,Pt)|0,me=me+Math.imul(_t,Et)|0,me=me+Math.imul(bt,Pt)|0,fe=fe+Math.imul(bt,Et)|0;var _r=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(_r>>>26)|0,_r&=67108863,Ee=Math.imul(xe,kr),me=Math.imul(xe,Wt),me=me+Math.imul(Be,kr)|0,fe=Math.imul(Be,Wt),Ee=Ee+Math.imul(Gt,Pr)|0,me=me+Math.imul(Gt,Ot)|0,me=me+Math.imul(Ae,Pr)|0,fe=fe+Math.imul(Ae,Ot)|0,Ee=Ee+Math.imul(Lt,Ye)|0,me=me+Math.imul(Lt,rt)|0,me=me+Math.imul(St,Ye)|0,fe=fe+Math.imul(St,rt)|0,Ee=Ee+Math.imul(yt,Fe)|0,me=me+Math.imul(yt,ot)|0,me=me+Math.imul(dt,Fe)|0,fe=fe+Math.imul(dt,ot)|0,Ee=Ee+Math.imul(ze,Pt)|0,me=me+Math.imul(ze,Et)|0,me=me+Math.imul(De,Pt)|0,fe=fe+Math.imul(De,Et)|0;var lr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(lr>>>26)|0,lr&=67108863,Ee=Math.imul(xe,Pr),me=Math.imul(xe,Ot),me=me+Math.imul(Be,Pr)|0,fe=Math.imul(Be,Ot),Ee=Ee+Math.imul(Gt,Ye)|0,me=me+Math.imul(Gt,rt)|0,me=me+Math.imul(Ae,Ye)|0,fe=fe+Math.imul(Ae,rt)|0,Ee=Ee+Math.imul(Lt,Fe)|0,me=me+Math.imul(Lt,ot)|0,me=me+Math.imul(St,Fe)|0,fe=fe+Math.imul(St,ot)|0,Ee=Ee+Math.imul(yt,Pt)|0,me=me+Math.imul(yt,Et)|0,me=me+Math.imul(dt,Pt)|0,fe=fe+Math.imul(dt,Et)|0;var gr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(gr>>>26)|0,gr&=67108863,Ee=Math.imul(xe,Ye),me=Math.imul(xe,rt),me=me+Math.imul(Be,Ye)|0,fe=Math.imul(Be,rt),Ee=Ee+Math.imul(Gt,Fe)|0,me=me+Math.imul(Gt,ot)|0,me=me+Math.imul(Ae,Fe)|0,fe=fe+Math.imul(Ae,ot)|0,Ee=Ee+Math.imul(Lt,Pt)|0,me=me+Math.imul(Lt,Et)|0,me=me+Math.imul(St,Pt)|0,fe=fe+Math.imul(St,Et)|0;var mr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(mr>>>26)|0,mr&=67108863,Ee=Math.imul(xe,Fe),me=Math.imul(xe,ot),me=me+Math.imul(Be,Fe)|0,fe=Math.imul(Be,ot),Ee=Ee+Math.imul(Gt,Pt)|0,me=me+Math.imul(Gt,Et)|0,me=me+Math.imul(Ae,Pt)|0,fe=fe+Math.imul(Ae,Et)|0;var dr=($e+Ee|0)+((me&8191)<<13)|0;$e=(fe+(me>>>13)|0)+(dr>>>26)|0,dr&=67108863,Ee=Math.imul(xe,Pt),me=Math.imul(xe,Et),me=me+Math.imul(Be,Pt)|0,fe=Math.imul(Be,Et);var Ut=($e+Ee|0)+((me&8191)<<13)|0;return $e=(fe+(me>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,_e[0]=Ct,_e[1]=or,_e[2]=Yt,_e[3]=Rr,_e[4]=cr,_e[5]=wr,_e[6]=xr,_e[7]=Er,_e[8]=Mr,_e[9]=Sr,_e[10]=Ar,_e[11]=Tr,_e[12]=pr,_e[13]=_r,_e[14]=lr,_e[15]=gr,_e[16]=mr,_e[17]=dr,_e[18]=Ut,$e!==0&&(_e[19]=$e,ce.length++),ce};Math.imul||(Re=ke);function Ce(qe,ye,ae){ae.negative=ye.negative^qe.negative,ae.length=qe.length+ye.length;for(var ce=0,le=0,pe=0;pe<ae.length-1;pe++){var _e=le;le=0;for(var $e=ce&67108863,Ee=Math.min(pe,ye.length-1),me=Math.max(0,pe-qe.length+1);me<=Ee;me++){var fe=pe-me,we=qe.words[fe]|0,Me=ye.words[me]|0,Le=we*Me,Je=Le&67108863;_e=_e+(Le/67108864|0)|0,Je=Je+$e|0,$e=Je&67108863,_e=_e+(Je>>>26)|0,le+=_e>>>26,_e&=67108863}ae.words[pe]=$e,ce=_e,_e=le}return ce!==0?ae.words[pe]=ce:ae.length--,ae.strip()}function Pe(qe,ye,ae){var ce=new Ie;return ce.mulp(qe,ye,ae)}ie.prototype.mulTo=function(ye,ae){var ce,le=this.length+ye.length;return this.length===10&&ye.length===10?ce=Re(this,ye,ae):le<63?ce=ke(this,ye,ae):le<1024?ce=Ce(this,ye,ae):ce=Pe(this,ye,ae),ce};function Ie(qe,ye){this.x=qe,this.y=ye}Ie.prototype.makeRBT=function(ye){for(var ae=new Array(ye),ce=ie.prototype._countBits(ye)-1,le=0;le<ye;le++)ae[le]=this.revBin(le,ce,ye);return ae},Ie.prototype.revBin=function(ye,ae,ce){if(ye===0||ye===ce-1)return ye;for(var le=0,pe=0;pe<ae;pe++)le|=(ye&1)<<ae-pe-1,ye>>=1;return le},Ie.prototype.permute=function(ye,ae,ce,le,pe,_e){for(var $e=0;$e<_e;$e++)le[$e]=ae[ye[$e]],pe[$e]=ce[ye[$e]]},Ie.prototype.transform=function(ye,ae,ce,le,pe,_e){this.permute(_e,ye,ae,ce,le,pe);for(var $e=1;$e<pe;$e<<=1)for(var Ee=$e<<1,me=Math.cos(2*Math.PI/Ee),fe=Math.sin(2*Math.PI/Ee),we=0;we<pe;we+=Ee)for(var Me=me,Le=fe,Je=0;Je<$e;Je++){var Ue=ce[we+Je],ct=le[we+Je],gt=ce[we+Je+$e],$t=le[we+Je+$e],vt=Me*gt-Le*$t;$t=Me*$t+Le*gt,gt=vt,ce[we+Je]=Ue+gt,le[we+Je]=ct+$t,ce[we+Je+$e]=Ue-gt,le[we+Je+$e]=ct-$t,Je!==Ee&&(vt=me*Me-fe*Le,Le=me*Le+fe*Me,Me=vt)}},Ie.prototype.guessLen13b=function(ye,ae){var ce=Math.max(ae,ye)|1,le=ce&1,pe=0;for(ce=ce/2|0;ce;ce=ce>>>1)pe++;return 1<<pe+1+le},Ie.prototype.conjugate=function(ye,ae,ce){if(!(ce<=1))for(var le=0;le<ce/2;le++){var pe=ye[le];ye[le]=ye[ce-le-1],ye[ce-le-1]=pe,pe=ae[le],ae[le]=-ae[ce-le-1],ae[ce-le-1]=-pe}},Ie.prototype.normalize13b=function(ye,ae){for(var ce=0,le=0;le<ae/2;le++){var pe=Math.round(ye[2*le+1]/ae)*8192+Math.round(ye[2*le]/ae)+ce;ye[le]=pe&67108863,pe<67108864?ce=0:ce=pe/67108864|0}return ye},Ie.prototype.convert13b=function(ye,ae,ce,le){for(var pe=0,_e=0;_e<ae;_e++)pe=pe+(ye[_e]|0),ce[2*_e]=pe&8191,pe=pe>>>13,ce[2*_e+1]=pe&8191,pe=pe>>>13;for(_e=2*ae;_e<le;++_e)ce[_e]=0;ne(pe===0),ne((pe&-8192)===0)},Ie.prototype.stub=function(ye){for(var ae=new Array(ye),ce=0;ce<ye;ce++)ae[ce]=0;return ae},Ie.prototype.mulp=function(ye,ae,ce){var le=2*this.guessLen13b(ye.length,ae.length),pe=this.makeRBT(le),_e=this.stub(le),$e=new Array(le),Ee=new Array(le),me=new Array(le),fe=new Array(le),we=new Array(le),Me=new Array(le),Le=ce.words;Le.length=le,this.convert13b(ye.words,ye.length,$e,le),this.convert13b(ae.words,ae.length,fe,le),this.transform($e,_e,Ee,me,le,pe),this.transform(fe,_e,we,Me,le,pe);for(var Je=0;Je<le;Je++){var Ue=Ee[Je]*we[Je]-me[Je]*Me[Je];me[Je]=Ee[Je]*Me[Je]+me[Je]*we[Je],Ee[Je]=Ue}return this.conjugate(Ee,me,le),this.transform(Ee,me,Le,_e,le,pe),this.conjugate(Le,_e,le),this.normalize13b(Le,le),ce.negative=ye.negative^ae.negative,ce.length=ye.length+ae.length,ce.strip()},ie.prototype.mul=function(ye){var ae=new ie(null);return ae.words=new Array(this.length+ye.length),this.mulTo(ye,ae)},ie.prototype.mulf=function(ye){var ae=new ie(null);return ae.words=new Array(this.length+ye.length),Pe(this,ye,ae)},ie.prototype.imul=function(ye){return this.clone().mulTo(ye,this)},ie.prototype.imuln=function(ye){ne(typeof ye=="number"),ne(ye<67108864);for(var ae=0,ce=0;ce<this.length;ce++){var le=(this.words[ce]|0)*ye,pe=(le&67108863)+(ae&67108863);ae>>=26,ae+=le/67108864|0,ae+=pe>>>26,this.words[ce]=pe&67108863}return ae!==0&&(this.words[ce]=ae,this.length++),this},ie.prototype.muln=function(ye){return this.clone().imuln(ye)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(ye){var ae=Te(ye);if(ae.length===0)return new ie(1);for(var ce=this,le=0;le<ae.length&&ae[le]===0;le++,ce=ce.sqr());if(++le<ae.length)for(var pe=ce.sqr();le<ae.length;le++,pe=pe.sqr())ae[le]!==0&&(ce=ce.mul(pe));return ce},ie.prototype.iushln=function(ye){ne(typeof ye=="number"&&ye>=0);var ae=ye%26,ce=(ye-ae)/26,le=67108863>>>26-ae<<26-ae,pe;if(ae!==0){var _e=0;for(pe=0;pe<this.length;pe++){var $e=this.words[pe]&le,Ee=(this.words[pe]|0)-$e<<ae;this.words[pe]=Ee|_e,_e=$e>>>26-ae}_e&&(this.words[pe]=_e,this.length++)}if(ce!==0){for(pe=this.length-1;pe>=0;pe--)this.words[pe+ce]=this.words[pe];for(pe=0;pe<ce;pe++)this.words[pe]=0;this.length+=ce}return this.strip()},ie.prototype.ishln=function(ye){return ne(this.negative===0),this.iushln(ye)},ie.prototype.iushrn=function(ye,ae,ce){ne(typeof ye=="number"&&ye>=0);var le;ae?le=(ae-ae%26)/26:le=0;var pe=ye%26,_e=Math.min((ye-pe)/26,this.length),$e=67108863^67108863>>>pe<<pe,Ee=ce;if(le-=_e,le=Math.max(0,le),Ee){for(var me=0;me<_e;me++)Ee.words[me]=this.words[me];Ee.length=_e}if(_e!==0)if(this.length>_e)for(this.length-=_e,me=0;me<this.length;me++)this.words[me]=this.words[me+_e];else this.words[0]=0,this.length=1;var fe=0;for(me=this.length-1;me>=0&&(fe!==0||me>=le);me--){var we=this.words[me]|0;this.words[me]=fe<<26-pe|we>>>pe,fe=we&$e}return Ee&&fe!==0&&(Ee.words[Ee.length++]=fe),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ie.prototype.ishrn=function(ye,ae,ce){return ne(this.negative===0),this.iushrn(ye,ae,ce)},ie.prototype.shln=function(ye){return this.clone().ishln(ye)},ie.prototype.ushln=function(ye){return this.clone().iushln(ye)},ie.prototype.shrn=function(ye){return this.clone().ishrn(ye)},ie.prototype.ushrn=function(ye){return this.clone().iushrn(ye)},ie.prototype.testn=function(ye){ne(typeof ye=="number"&&ye>=0);var ae=ye%26,ce=(ye-ae)/26,le=1<<ae;if(this.length<=ce)return!1;var pe=this.words[ce];return!!(pe&le)},ie.prototype.imaskn=function(ye){ne(typeof ye=="number"&&ye>=0);var ae=ye%26,ce=(ye-ae)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=ce)return this;if(ae!==0&&ce++,this.length=Math.min(ce,this.length),ae!==0){var le=67108863^67108863>>>ae<<ae;this.words[this.length-1]&=le}return this.strip()},ie.prototype.maskn=function(ye){return this.clone().imaskn(ye)},ie.prototype.iaddn=function(ye){return ne(typeof ye=="number"),ne(ye<67108864),ye<0?this.isubn(-ye):this.negative!==0?this.length===1&&(this.words[0]|0)<ye?(this.words[0]=ye-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ye),this.negative=1,this):this._iaddn(ye)},ie.prototype._iaddn=function(ye){this.words[0]+=ye;for(var ae=0;ae<this.length&&this.words[ae]>=67108864;ae++)this.words[ae]-=67108864,ae===this.length-1?this.words[ae+1]=1:this.words[ae+1]++;return this.length=Math.max(this.length,ae+1),this},ie.prototype.isubn=function(ye){if(ne(typeof ye=="number"),ne(ye<67108864),ye<0)return this.iaddn(-ye);if(this.negative!==0)return this.negative=0,this.iaddn(ye),this.negative=1,this;if(this.words[0]-=ye,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ae=0;ae<this.length&&this.words[ae]<0;ae++)this.words[ae]+=67108864,this.words[ae+1]-=1;return this.strip()},ie.prototype.addn=function(ye){return this.clone().iaddn(ye)},ie.prototype.subn=function(ye){return this.clone().isubn(ye)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(ye,ae,ce){var le=ye.length+ce,pe;this._expand(le);var _e,$e=0;for(pe=0;pe<ye.length;pe++){_e=(this.words[pe+ce]|0)+$e;var Ee=(ye.words[pe]|0)*ae;_e-=Ee&67108863,$e=(_e>>26)-(Ee/67108864|0),this.words[pe+ce]=_e&67108863}for(;pe<this.length-ce;pe++)_e=(this.words[pe+ce]|0)+$e,$e=_e>>26,this.words[pe+ce]=_e&67108863;if($e===0)return this.strip();for(ne($e===-1),$e=0,pe=0;pe<this.length;pe++)_e=-(this.words[pe]|0)+$e,$e=_e>>26,this.words[pe]=_e&67108863;return this.negative=1,this.strip()},ie.prototype._wordDiv=function(ye,ae){var ce=this.length-ye.length,le=this.clone(),pe=ye,_e=pe.words[pe.length-1]|0,$e=this._countBits(_e);ce=26-$e,ce!==0&&(pe=pe.ushln(ce),le.iushln(ce),_e=pe.words[pe.length-1]|0);var Ee=le.length-pe.length,me;if(ae!=="mod"){me=new ie(null),me.length=Ee+1,me.words=new Array(me.length);for(var fe=0;fe<me.length;fe++)me.words[fe]=0}var we=le.clone()._ishlnsubmul(pe,1,Ee);we.negative===0&&(le=we,me&&(me.words[Ee]=1));for(var Me=Ee-1;Me>=0;Me--){var Le=(le.words[pe.length+Me]|0)*67108864+(le.words[pe.length+Me-1]|0);for(Le=Math.min(Le/_e|0,67108863),le._ishlnsubmul(pe,Le,Me);le.negative!==0;)Le--,le.negative=0,le._ishlnsubmul(pe,1,Me),le.isZero()||(le.negative^=1);me&&(me.words[Me]=Le)}return me&&me.strip(),le.strip(),ae!=="div"&&ce!==0&&le.iushrn(ce),{div:me||null,mod:le}},ie.prototype.divmod=function(ye,ae,ce){if(ne(!ye.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var le,pe,_e;return this.negative!==0&&ye.negative===0?(_e=this.neg().divmod(ye,ae),ae!=="mod"&&(le=_e.div.neg()),ae!=="div"&&(pe=_e.mod.neg(),ce&&pe.negative!==0&&pe.iadd(ye)),{div:le,mod:pe}):this.negative===0&&ye.negative!==0?(_e=this.divmod(ye.neg(),ae),ae!=="mod"&&(le=_e.div.neg()),{div:le,mod:_e.mod}):(this.negative&ye.negative)!==0?(_e=this.neg().divmod(ye.neg(),ae),ae!=="div"&&(pe=_e.mod.neg(),ce&&pe.negative!==0&&pe.isub(ye)),{div:_e.div,mod:pe}):ye.length>this.length||this.cmp(ye)<0?{div:new ie(0),mod:this}:ye.length===1?ae==="div"?{div:this.divn(ye.words[0]),mod:null}:ae==="mod"?{div:null,mod:new ie(this.modn(ye.words[0]))}:{div:this.divn(ye.words[0]),mod:new ie(this.modn(ye.words[0]))}:this._wordDiv(ye,ae)},ie.prototype.div=function(ye){return this.divmod(ye,"div",!1).div},ie.prototype.mod=function(ye){return this.divmod(ye,"mod",!1).mod},ie.prototype.umod=function(ye){return this.divmod(ye,"mod",!0).mod},ie.prototype.divRound=function(ye){var ae=this.divmod(ye);if(ae.mod.isZero())return ae.div;var ce=ae.div.negative!==0?ae.mod.isub(ye):ae.mod,le=ye.ushrn(1),pe=ye.andln(1),_e=ce.cmp(le);return _e<0||pe===1&&_e===0?ae.div:ae.div.negative!==0?ae.div.isubn(1):ae.div.iaddn(1)},ie.prototype.modn=function(ye){ne(ye<=67108863);for(var ae=(1<<26)%ye,ce=0,le=this.length-1;le>=0;le--)ce=(ae*ce+(this.words[le]|0))%ye;return ce},ie.prototype.idivn=function(ye){ne(ye<=67108863);for(var ae=0,ce=this.length-1;ce>=0;ce--){var le=(this.words[ce]|0)+ae*67108864;this.words[ce]=le/ye|0,ae=le%ye}return this.strip()},ie.prototype.divn=function(ye){return this.clone().idivn(ye)},ie.prototype.egcd=function(ye){ne(ye.negative===0),ne(!ye.isZero());var ae=this,ce=ye.clone();ae.negative!==0?ae=ae.umod(ye):ae=ae.clone();for(var le=new ie(1),pe=new ie(0),_e=new ie(0),$e=new ie(1),Ee=0;ae.isEven()&&ce.isEven();)ae.iushrn(1),ce.iushrn(1),++Ee;for(var me=ce.clone(),fe=ae.clone();!ae.isZero();){for(var we=0,Me=1;(ae.words[0]&Me)===0&&we<26;++we,Me<<=1);if(we>0)for(ae.iushrn(we);we-- >0;)(le.isOdd()||pe.isOdd())&&(le.iadd(me),pe.isub(fe)),le.iushrn(1),pe.iushrn(1);for(var Le=0,Je=1;(ce.words[0]&Je)===0&&Le<26;++Le,Je<<=1);if(Le>0)for(ce.iushrn(Le);Le-- >0;)(_e.isOdd()||$e.isOdd())&&(_e.iadd(me),$e.isub(fe)),_e.iushrn(1),$e.iushrn(1);ae.cmp(ce)>=0?(ae.isub(ce),le.isub(_e),pe.isub($e)):(ce.isub(ae),_e.isub(le),$e.isub(pe))}return{a:_e,b:$e,gcd:ce.iushln(Ee)}},ie.prototype._invmp=function(ye){ne(ye.negative===0),ne(!ye.isZero());var ae=this,ce=ye.clone();ae.negative!==0?ae=ae.umod(ye):ae=ae.clone();for(var le=new ie(1),pe=new ie(0),_e=ce.clone();ae.cmpn(1)>0&&ce.cmpn(1)>0;){for(var $e=0,Ee=1;(ae.words[0]&Ee)===0&&$e<26;++$e,Ee<<=1);if($e>0)for(ae.iushrn($e);$e-- >0;)le.isOdd()&&le.iadd(_e),le.iushrn(1);for(var me=0,fe=1;(ce.words[0]&fe)===0&&me<26;++me,fe<<=1);if(me>0)for(ce.iushrn(me);me-- >0;)pe.isOdd()&&pe.iadd(_e),pe.iushrn(1);ae.cmp(ce)>=0?(ae.isub(ce),le.isub(pe)):(ce.isub(ae),pe.isub(le))}var we;return ae.cmpn(1)===0?we=le:we=pe,we.cmpn(0)<0&&we.iadd(ye),we},ie.prototype.gcd=function(ye){if(this.isZero())return ye.abs();if(ye.isZero())return this.abs();var ae=this.clone(),ce=ye.clone();ae.negative=0,ce.negative=0;for(var le=0;ae.isEven()&&ce.isEven();le++)ae.iushrn(1),ce.iushrn(1);do{for(;ae.isEven();)ae.iushrn(1);for(;ce.isEven();)ce.iushrn(1);var pe=ae.cmp(ce);if(pe<0){var _e=ae;ae=ce,ce=_e}else if(pe===0||ce.cmpn(1)===0)break;ae.isub(ce)}while(!0);return ce.iushln(le)},ie.prototype.invm=function(ye){return this.egcd(ye).a.umod(ye)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(ye){return this.words[0]&ye},ie.prototype.bincn=function(ye){ne(typeof ye=="number");var ae=ye%26,ce=(ye-ae)/26,le=1<<ae;if(this.length<=ce)return this._expand(ce+1),this.words[ce]|=le,this;for(var pe=le,_e=ce;pe!==0&&_e<this.length;_e++){var $e=this.words[_e]|0;$e+=pe,pe=$e>>>26,$e&=67108863,this.words[_e]=$e}return pe!==0&&(this.words[_e]=pe,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(ye){var ae=ye<0;if(this.negative!==0&&!ae)return-1;if(this.negative===0&&ae)return 1;this.strip();var ce;if(this.length>1)ce=1;else{ae&&(ye=-ye),ne(ye<=67108863,"Number is too big");var le=this.words[0]|0;ce=le===ye?0:le<ye?-1:1}return this.negative!==0?-ce|0:ce},ie.prototype.cmp=function(ye){if(this.negative!==0&&ye.negative===0)return-1;if(this.negative===0&&ye.negative!==0)return 1;var ae=this.ucmp(ye);return this.negative!==0?-ae|0:ae},ie.prototype.ucmp=function(ye){if(this.length>ye.length)return 1;if(this.length<ye.length)return-1;for(var ae=0,ce=this.length-1;ce>=0;ce--){var le=this.words[ce]|0,pe=ye.words[ce]|0;if(le!==pe){le<pe?ae=-1:le>pe&&(ae=1);break}}return ae},ie.prototype.gtn=function(ye){return this.cmpn(ye)===1},ie.prototype.gt=function(ye){return this.cmp(ye)===1},ie.prototype.gten=function(ye){return this.cmpn(ye)>=0},ie.prototype.gte=function(ye){return this.cmp(ye)>=0},ie.prototype.ltn=function(ye){return this.cmpn(ye)===-1},ie.prototype.lt=function(ye){return this.cmp(ye)===-1},ie.prototype.lten=function(ye){return this.cmpn(ye)<=0},ie.prototype.lte=function(ye){return this.cmp(ye)<=0},ie.prototype.eqn=function(ye){return this.cmpn(ye)===0},ie.prototype.eq=function(ye){return this.cmp(ye)===0},ie.red=function(ye){return new nt(ye)},ie.prototype.toRed=function(ye){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),ye.convertTo(this)._forceRed(ye)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(ye){return this.red=ye,this},ie.prototype.forceRed=function(ye){return ne(!this.red,"Already a number in reduction context"),this._forceRed(ye)},ie.prototype.redAdd=function(ye){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,ye)},ie.prototype.redIAdd=function(ye){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ye)},ie.prototype.redSub=function(ye){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,ye)},ie.prototype.redISub=function(ye){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,ye)},ie.prototype.redShl=function(ye){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,ye)},ie.prototype.redMul=function(ye){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ye),this.red.mul(this,ye)},ie.prototype.redIMul=function(ye){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,ye),this.red.imul(this,ye)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(ye){return ne(this.red&&!ye.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ye)};var Ne={k256:null,p224:null,p192:null,p25519:null};function He(qe,ye){this.name=qe,this.p=new ie(ye,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}He.prototype._tmp=function(){var ye=new ie(null);return ye.words=new Array(Math.ceil(this.n/13)),ye},He.prototype.ireduce=function(ye){var ae=ye,ce;do this.split(ae,this.tmp),ae=this.imulK(ae),ae=ae.iadd(this.tmp),ce=ae.bitLength();while(ce>this.n);var le=ce<this.n?-1:ae.ucmp(this.p);return le===0?(ae.words[0]=0,ae.length=1):le>0?ae.isub(this.p):ae.strip(),ae},He.prototype.split=function(ye,ae){ye.iushrn(this.n,0,ae)},He.prototype.imulK=function(ye){return ye.imul(this.k)};function Ke(){He.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}oe(Ke,He),Ke.prototype.split=function(ye,ae){for(var ce=4194303,le=Math.min(ye.length,9),pe=0;pe<le;pe++)ae.words[pe]=ye.words[pe];if(ae.length=le,ye.length<=9){ye.words[0]=0,ye.length=1;return}var _e=ye.words[9];for(ae.words[ae.length++]=_e&ce,pe=10;pe<ye.length;pe++){var $e=ye.words[pe]|0;ye.words[pe-10]=($e&ce)<<4|_e>>>22,_e=$e}_e>>>=22,ye.words[pe-10]=_e,_e===0&&ye.length>10?ye.length-=10:ye.length-=9},Ke.prototype.imulK=function(ye){ye.words[ye.length]=0,ye.words[ye.length+1]=0,ye.length+=2;for(var ae=0,ce=0;ce<ye.length;ce++){var le=ye.words[ce]|0;ae+=le*977,ye.words[ce]=ae&67108863,ae=le*64+(ae/67108864|0)}return ye.words[ye.length-1]===0&&(ye.length--,ye.words[ye.length-1]===0&&ye.length--),ye};function Ge(){He.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}oe(Ge,He);function ut(){He.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}oe(ut,He);function Ve(){He.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}oe(Ve,He),Ve.prototype.imulK=function(ye){for(var ae=0,ce=0;ce<ye.length;ce++){var le=(ye.words[ce]|0)*19+ae,pe=le&67108863;le>>>=26,ye.words[ce]=pe,ae=le}return ae!==0&&(ye.words[ye.length++]=ae),ye},ie._prime=function(ye){if(Ne[ye])return Ne[ye];var ae;if(ye==="k256")ae=new Ke;else if(ye==="p224")ae=new Ge;else if(ye==="p192")ae=new ut;else if(ye==="p25519")ae=new Ve;else throw new Error("Unknown prime "+ye);return Ne[ye]=ae,ae};function nt(qe){if(typeof qe=="string"){var ye=ie._prime(qe);this.m=ye.p,this.prime=ye}else ne(qe.gtn(1),"modulus must be greater than 1"),this.m=qe,this.prime=null}nt.prototype._verify1=function(ye){ne(ye.negative===0,"red works only with positives"),ne(ye.red,"red works only with red numbers")},nt.prototype._verify2=function(ye,ae){ne((ye.negative|ae.negative)===0,"red works only with positives"),ne(ye.red&&ye.red===ae.red,"red works only with red numbers")},nt.prototype.imod=function(ye){return this.prime?this.prime.ireduce(ye)._forceRed(this):ye.umod(this.m)._forceRed(this)},nt.prototype.neg=function(ye){return ye.isZero()?ye.clone():this.m.sub(ye)._forceRed(this)},nt.prototype.add=function(ye,ae){this._verify2(ye,ae);var ce=ye.add(ae);return ce.cmp(this.m)>=0&&ce.isub(this.m),ce._forceRed(this)},nt.prototype.iadd=function(ye,ae){this._verify2(ye,ae);var ce=ye.iadd(ae);return ce.cmp(this.m)>=0&&ce.isub(this.m),ce},nt.prototype.sub=function(ye,ae){this._verify2(ye,ae);var ce=ye.sub(ae);return ce.cmpn(0)<0&&ce.iadd(this.m),ce._forceRed(this)},nt.prototype.isub=function(ye,ae){this._verify2(ye,ae);var ce=ye.isub(ae);return ce.cmpn(0)<0&&ce.iadd(this.m),ce},nt.prototype.shl=function(ye,ae){return this._verify1(ye),this.imod(ye.ushln(ae))},nt.prototype.imul=function(ye,ae){return this._verify2(ye,ae),this.imod(ye.imul(ae))},nt.prototype.mul=function(ye,ae){return this._verify2(ye,ae),this.imod(ye.mul(ae))},nt.prototype.isqr=function(ye){return this.imul(ye,ye.clone())},nt.prototype.sqr=function(ye){return this.mul(ye,ye)},nt.prototype.sqrt=function(ye){if(ye.isZero())return ye.clone();var ae=this.m.andln(3);if(ne(ae%2===1),ae===3){var ce=this.m.add(new ie(1)).iushrn(2);return this.pow(ye,ce)}for(var le=this.m.subn(1),pe=0;!le.isZero()&&le.andln(1)===0;)pe++,le.iushrn(1);ne(!le.isZero());var _e=new ie(1).toRed(this),$e=_e.redNeg(),Ee=this.m.subn(1).iushrn(1),me=this.m.bitLength();for(me=new ie(2*me*me).toRed(this);this.pow(me,Ee).cmp($e)!==0;)me.redIAdd($e);for(var fe=this.pow(me,le),we=this.pow(ye,le.addn(1).iushrn(1)),Me=this.pow(ye,le),Le=pe;Me.cmp(_e)!==0;){for(var Je=Me,Ue=0;Je.cmp(_e)!==0;Ue++)Je=Je.redSqr();ne(Ue<Le);var ct=this.pow(fe,new ie(1).iushln(Le-Ue-1));we=we.redMul(ct),fe=ct.redSqr(),Me=Me.redMul(fe),Le=Ue}return we},nt.prototype.invm=function(ye){var ae=ye._invmp(this.m);return ae.negative!==0?(ae.negative=0,this.imod(ae).redNeg()):this.imod(ae)},nt.prototype.pow=function(ye,ae){if(ae.isZero())return new ie(1).toRed(this);if(ae.cmpn(1)===0)return ye.clone();var ce=4,le=new Array(1<<ce);le[0]=new ie(1).toRed(this),le[1]=ye;for(var pe=2;pe<le.length;pe++)le[pe]=this.mul(le[pe-1],ye);var _e=le[0],$e=0,Ee=0,me=ae.bitLength()%26;for(me===0&&(me=26),pe=ae.length-1;pe>=0;pe--){for(var fe=ae.words[pe],we=me-1;we>=0;we--){var Me=fe>>we&1;if(_e!==le[0]&&(_e=this.sqr(_e)),Me===0&&$e===0){Ee=0;continue}$e<<=1,$e|=Me,Ee++,!(Ee!==ce&&(pe!==0||we!==0))&&(_e=this.mul(_e,le[$e]),Ee=0,$e=0)}me=26}return _e},nt.prototype.convertTo=function(ye){var ae=ye.umod(this.m);return ae===ye?ae.clone():ae},nt.prototype.convertFrom=function(ye){var ae=ye.clone();return ae.red=null,ae},ie.mont=function(ye){return new st(ye)};function st(qe){nt.call(this,qe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}oe(st,nt),st.prototype.convertTo=function(ye){return this.imod(ye.ushln(this.shift))},st.prototype.convertFrom=function(ye){var ae=this.imod(ye.mul(this.rinv));return ae.red=null,ae},st.prototype.imul=function(ye,ae){if(ye.isZero()||ae.isZero())return ye.words[0]=0,ye.length=1,ye;var ce=ye.imul(ae),le=ce.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),pe=ce.isub(le).iushrn(this.shift),_e=pe;return pe.cmp(this.m)>=0?_e=pe.isub(this.m):pe.cmpn(0)<0&&(_e=pe.iadd(this.m)),_e._forceRed(this)},st.prototype.mul=function(ye,ae){if(ye.isZero()||ae.isZero())return new ie(0)._forceRed(this);var ce=ye.mul(ae),le=ce.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),pe=ce.isub(le).iushrn(this.shift),_e=pe;return pe.cmp(this.m)>=0?_e=pe.isub(this.m):pe.cmpn(0)<0&&(_e=pe.iadd(this.m)),_e._forceRed(this)},st.prototype.invm=function(ye){var ae=this.imod(ye._invmp(this.m).mul(this.r2));return ae._forceRed(this)}})(te,commonjsGlobal)})(bn);var BN=bn.exports,isTypedarray=isTypedArray$1;isTypedArray$1.strict=isStrictTypedArray;isTypedArray$1.loose=isLooseTypedArray;var toString$1=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function isTypedArray$1(te){return isStrictTypedArray(te)||isLooseTypedArray(te)}function isStrictTypedArray(te){return te instanceof Int8Array||te instanceof Int16Array||te instanceof Int32Array||te instanceof Uint8Array||te instanceof Uint8ClampedArray||te instanceof Uint16Array||te instanceof Uint32Array||te instanceof Float32Array||te instanceof Float64Array}function isLooseTypedArray(te){return names[toString$1.call(te)]}var isTypedArray=isTypedarray.strict,typedarrayToBuffer=function te(ee){if(isTypedArray(ee)){var re=buffer$2.Buffer.from(ee.buffer);return ee.byteLength!==ee.buffer.byteLength&&(re=re.slice(ee.byteOffset,ee.byteOffset+ee.byteLength)),re}else return buffer$2.Buffer.from(ee)};const ENC_HEX="hex",ENC_UTF8="utf8",STRING_ZERO="0";function bufferToArray(te){return new Uint8Array(te)}function bufferToHex(te,ee=!1){const re=te.toString(ENC_HEX);return ee?addHexPrefix(re):re}function bufferToUtf8(te){return te.toString(ENC_UTF8)}function arrayToBuffer(te){return typedarrayToBuffer(te)}function arrayToHex(te,ee=!1){return bufferToHex(arrayToBuffer(te),ee)}function arrayToUtf8(te){return bufferToUtf8(arrayToBuffer(te))}function hexToBuffer(te){return buffer$2.Buffer.from(removeHexPrefix(te),ENC_HEX)}function hexToArray(te){return bufferToArray(hexToBuffer(te))}function utf8ToBuffer(te){return buffer$2.Buffer.from(te,ENC_UTF8)}function utf8ToArray(te){return bufferToArray(utf8ToBuffer(te))}function utf8ToHex(te,ee=!1){return bufferToHex(utf8ToBuffer(te),ee)}function isHexString$1(te,ee){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||ee&&te.length!==2+2*ee)}function concatArrays(...te){let ee=[];return te.forEach(re=>ee=ee.concat(Array.from(re))),new Uint8Array([...ee])}function calcByteLength(te,ee=8){const re=te%ee;return re?(te-re)/ee*ee+ee:te}function sanitizeBytes(te,ee=8,re=STRING_ZERO){return padLeft(te,calcByteLength(te.length,ee),re)}function padLeft(te,ee,re=STRING_ZERO){return padString(te,ee,!0,re)}function removeHexPrefix(te){return te.replace(/^0x/,"")}function addHexPrefix(te){return te.startsWith("0x")?te:`0x${te}`}function sanitizeHex$1(te){return te=removeHexPrefix(te),te=sanitizeBytes(te,2),te&&(te=addHexPrefix(te)),te}function removeHexLeadingZeros$1(te){const ee=te.startsWith("0x");return te=removeHexPrefix(te),te=te.startsWith(STRING_ZERO)?te.substring(1):te,ee?addHexPrefix(te):te}function padString(te,ee,re,ne=STRING_ZERO){const oe=ee-te.length;let ie=te;if(oe>0){const se=ne.repeat(oe);ie=re?se+te:te+se}return ie}function convertArrayBufferToBuffer(te){return arrayToBuffer(new Uint8Array(te))}function convertArrayBufferToHex(te,ee){return arrayToHex(new Uint8Array(te),!ee)}function convertBufferToArrayBuffer(te){return bufferToArray(te).buffer}function convertUtf8ToBuffer(te){return utf8ToBuffer(te)}function convertUtf8ToHex(te,ee){return utf8ToHex(te,!ee)}function convertHexToArrayBuffer(te){return hexToArray(te).buffer}function convertNumberToHex(te,ee){const re=removeHexPrefix(sanitizeHex$1(new BN(te).toString(16)));return ee?re:addHexPrefix(re)}var cjs$1={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function getBrowerCrypto(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}crypto$1.getBrowerCrypto=getBrowerCrypto;function getSubtleCrypto(){const te=getBrowerCrypto();return te.subtle||te.webkitSubtle}crypto$1.getSubtleCrypto=getSubtleCrypto;function isBrowserCryptoAvailable(){return!!getBrowerCrypto()&&!!getSubtleCrypto()}crypto$1.isBrowserCryptoAvailable=isBrowserCryptoAvailable;var env={};Object.defineProperty(env,"__esModule",{value:!0});env.isBrowser=env.isNode=env.isReactNative=void 0;function isReactNative(){return typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"}env.isReactNative=isReactNative;function isNode$1(){return typeof process$1!="undefined"&&typeof process$1.versions!="undefined"&&typeof process$1.versions.node!="undefined"}env.isNode=isNode$1;function isBrowser(){return!isReactNative()&&!isNode$1()}env.isBrowser=isBrowser;(function(te){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ne,oe,ie,se){se===void 0&&(se=ie),Object.defineProperty(ne,se,{enumerable:!0,get:function(){return oe[ie]}})}:function(ne,oe,ie,se){se===void 0&&(se=ie),ne[se]=oe[ie]}),re=commonjsGlobal&&commonjsGlobal.__exportStar||function(ne,oe){for(var ie in ne)ie!=="default"&&!oe.hasOwnProperty(ie)&&ee(oe,ne,ie)};Object.defineProperty(te,"__esModule",{value:!0}),re(crypto$1,te),re(env,te)})(cjs$1);function payloadId$1(){const te=Date.now()*Math.pow(10,3),ee=Math.floor(Math.random()*Math.pow(10,3));return te+ee}function sanitizeHex(te){return sanitizeHex$1(te)}function removeHexLeadingZeros(te){return removeHexLeadingZeros$1(addHexPrefix(te))}const payloadId=payloadId$1;function uuid(){return((ee,re)=>{for(re=ee="";ee++<36;re+=ee*51&52?(ee^15?8^Math.random()*(ee^20?16:4):4).toString(16):"-");return re})()}function getInfuraRpcUrl(te,ee){let re;const ne=infuraNetworks[te];return ne&&(re=`https://${ne}.infura.io/v3/${ee}`),re}function getRpcUrl(te,ee){let re;const ne=getInfuraRpcUrl(te,ee.infuraId);return ee.custom&&ee.custom[te]?re=ee.custom[te]:ne&&(re=ne),re}function isEmptyString(te){return te===""||typeof te=="string"&&te.trim()===""}function isEmptyArray(te){return!(te&&te.length)}function isHexString(te,ee){return isHexString$1(te,ee)}function isJsonRpcRequest(te){return typeof te.method!="undefined"}function isJsonRpcResponseSuccess(te){return typeof te.result!="undefined"}function isJsonRpcResponseError(te){return typeof te.error!="undefined"}function isInternalEvent(te){return typeof te.event!="undefined"}function isReservedEvent(te){return reservedEvents.includes(te)||te.startsWith("wc_")}function isSilentPayload(te){return te.method.startsWith("wc_")?!0:!signingMethods.includes(te.method)}function toChecksumAddress(te){te=removeHexPrefix(te.toLowerCase());const ee=removeHexPrefix(sha3$1.exports.keccak_256(convertUtf8ToBuffer(te)));let re="";for(let ne=0;ne<te.length;ne++)parseInt(ee[ne],16)>7?re+=te[ne].toUpperCase():re+=te[ne];return addHexPrefix(re)}const isValidAddress=te=>te?te.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(te)?/^(0x)?[0-9a-f]{40}$/.test(te)||/^(0x)?[0-9A-F]{40}$/.test(te)?!0:te===toChecksumAddress(te):!1:!1;function parsePersonalSign(te){return!isEmptyArray(te)&&!isHexString(te[0])&&(te[0]=convertUtf8ToHex(te[0])),te}function parseTransactionData(te){if(typeof te.type!="undefined"&&te.type!=="0")return te;if(typeof te.from=="undefined"||!isValidAddress(te.from))throw new Error("Transaction object must include a valid 'from' value.");function ee(oe){let ie=oe;return(typeof oe=="number"||typeof oe=="string"&&!isEmptyString(oe))&&(isHexString(oe)?typeof oe=="string"&&(ie=sanitizeHex(oe)):ie=convertNumberToHex(oe)),typeof ie=="string"&&(ie=removeHexLeadingZeros(ie)),ie}const re={from:sanitizeHex(te.from),to:typeof te.to=="undefined"?void 0:sanitizeHex(te.to),gasPrice:typeof te.gasPrice=="undefined"?"":ee(te.gasPrice),gas:typeof te.gas=="undefined"?typeof te.gasLimit=="undefined"?"":ee(te.gasLimit):ee(te.gas),value:typeof te.value=="undefined"?"":ee(te.value),nonce:typeof te.nonce=="undefined"?"":ee(te.nonce),data:typeof te.data=="undefined"?"":sanitizeHex(te.data)||"0x"},ne=["gasPrice","gas","value","nonce"];return Object.keys(re).forEach(oe=>{(typeof re[oe]=="undefined"||typeof re[oe]=="string"&&!re[oe].trim().length)&&ne.includes(oe)&&delete re[oe]}),re}function formatRpcError(te){const ee=te.message||"Failed or Rejected Request";let re=-32e3;if(te&&!te.code)switch(ee){case"Parse error":re=-32700;break;case"Invalid request":re=-32600;break;case"Method not found":re=-32601;break;case"Invalid params":re=-32602;break;case"Internal error":re=-32603;break;default:re=-32e3;break}return{code:re,message:ee}}var queryString={},strictUriEncode=te=>encodeURIComponent(te).replace(/[!'()*]/g,ee=>`%${ee.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp(token,"gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(te,ee){try{return decodeURIComponent(te.join(""))}catch{}if(te.length===1)return te;ee=ee||1;var re=te.slice(0,ee),ne=te.slice(ee);return Array.prototype.concat.call([],decodeComponents(re),decodeComponents(ne))}function decode(te){try{return decodeURIComponent(te)}catch{for(var ee=te.match(singleMatcher),re=1;re<ee.length;re++)te=decodeComponents(ee,re).join(""),ee=te.match(singleMatcher);return te}}function customDecodeURIComponent(te){for(var ee={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},re=multiMatcher.exec(te);re;){try{ee[re[0]]=decodeURIComponent(re[0])}catch{var ne=decode(re[0]);ne!==re[0]&&(ee[re[0]]=ne)}re=multiMatcher.exec(te)}ee["%C2"]="\uFFFD";for(var oe=Object.keys(ee),ie=0;ie<oe.length;ie++){var se=oe[ie];te=te.replace(new RegExp(se,"g"),ee[se])}return te}var decodeUriComponent=function(te){if(typeof te!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof te+"`");try{return te=te.replace(/\+/g," "),decodeURIComponent(te)}catch{return customDecodeURIComponent(te)}},splitOnFirst=(te,ee)=>{if(!(typeof te=="string"&&typeof ee=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(ee==="")return[te];const re=te.indexOf(ee);return re===-1?[te]:[te.slice(0,re),te.slice(re+ee.length)]};(function(te){const ee=strictUriEncode,re=decodeUriComponent,ne=splitOnFirst,oe=Pe=>Pe==null;function ie(Pe){switch(Pe.arrayFormat){case"index":return Ie=>(Ne,He)=>{const Ke=Ne.length;return He===void 0||Pe.skipNull&&He===null||Pe.skipEmptyString&&He===""?Ne:He===null?[...Ne,[he(Ie,Pe),"[",Ke,"]"].join("")]:[...Ne,[he(Ie,Pe),"[",he(Ke,Pe),"]=",he(He,Pe)].join("")]};case"bracket":return Ie=>(Ne,He)=>He===void 0||Pe.skipNull&&He===null||Pe.skipEmptyString&&He===""?Ne:He===null?[...Ne,[he(Ie,Pe),"[]"].join("")]:[...Ne,[he(Ie,Pe),"[]=",he(He,Pe)].join("")];case"comma":case"separator":return Ie=>(Ne,He)=>He==null||He.length===0?Ne:Ne.length===0?[[he(Ie,Pe),"=",he(He,Pe)].join("")]:[[Ne,he(He,Pe)].join(Pe.arrayFormatSeparator)];default:return Ie=>(Ne,He)=>He===void 0||Pe.skipNull&&He===null||Pe.skipEmptyString&&He===""?Ne:He===null?[...Ne,he(Ie,Pe)]:[...Ne,[he(Ie,Pe),"=",he(He,Pe)].join("")]}}function se(Pe){let Ie;switch(Pe.arrayFormat){case"index":return(Ne,He,Ke)=>{if(Ie=/\[(\d*)\]$/.exec(Ne),Ne=Ne.replace(/\[\d*\]$/,""),!Ie){Ke[Ne]=He;return}Ke[Ne]===void 0&&(Ke[Ne]={}),Ke[Ne][Ie[1]]=He};case"bracket":return(Ne,He,Ke)=>{if(Ie=/(\[\])$/.exec(Ne),Ne=Ne.replace(/\[\]$/,""),!Ie){Ke[Ne]=He;return}if(Ke[Ne]===void 0){Ke[Ne]=[He];return}Ke[Ne]=[].concat(Ke[Ne],He)};case"comma":case"separator":return(Ne,He,Ke)=>{const ut=typeof He=="string"&&He.split("").indexOf(Pe.arrayFormatSeparator)>-1?He.split(Pe.arrayFormatSeparator).map(Ve=>ge(Ve,Pe)):He===null?He:ge(He,Pe);Ke[Ne]=ut};default:return(Ne,He,Ke)=>{if(Ke[Ne]===void 0){Ke[Ne]=He;return}Ke[Ne]=[].concat(Ke[Ne],He)}}}function ue(Pe){if(typeof Pe!="string"||Pe.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function he(Pe,Ie){return Ie.encode?Ie.strict?ee(Pe):encodeURIComponent(Pe):Pe}function ge(Pe,Ie){return Ie.decode?re(Pe):Pe}function be(Pe){return Array.isArray(Pe)?Pe.sort():typeof Pe=="object"?be(Object.keys(Pe)).sort((Ie,Ne)=>Number(Ie)-Number(Ne)).map(Ie=>Pe[Ie]):Pe}function Se(Pe){const Ie=Pe.indexOf("#");return Ie!==-1&&(Pe=Pe.slice(0,Ie)),Pe}function Te(Pe){let Ie="";const Ne=Pe.indexOf("#");return Ne!==-1&&(Ie=Pe.slice(Ne)),Ie}function ke(Pe){Pe=Se(Pe);const Ie=Pe.indexOf("?");return Ie===-1?"":Pe.slice(Ie+1)}function Re(Pe,Ie){return Ie.parseNumbers&&!Number.isNaN(Number(Pe))&&typeof Pe=="string"&&Pe.trim()!==""?Pe=Number(Pe):Ie.parseBooleans&&Pe!==null&&(Pe.toLowerCase()==="true"||Pe.toLowerCase()==="false")&&(Pe=Pe.toLowerCase()==="true"),Pe}function Ce(Pe,Ie){Ie=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},Ie),ue(Ie.arrayFormatSeparator);const Ne=se(Ie),He=Object.create(null);if(typeof Pe!="string"||(Pe=Pe.trim().replace(/^[?#&]/,""),!Pe))return He;for(const Ke of Pe.split("&")){let[Ge,ut]=ne(Ie.decode?Ke.replace(/\+/g," "):Ke,"=");ut=ut===void 0?null:["comma","separator"].includes(Ie.arrayFormat)?ut:ge(ut,Ie),Ne(ge(Ge,Ie),ut,He)}for(const Ke of Object.keys(He)){const Ge=He[Ke];if(typeof Ge=="object"&&Ge!==null)for(const ut of Object.keys(Ge))Ge[ut]=Re(Ge[ut],Ie);else He[Ke]=Re(Ge,Ie)}return Ie.sort===!1?He:(Ie.sort===!0?Object.keys(He).sort():Object.keys(He).sort(Ie.sort)).reduce((Ke,Ge)=>{const ut=He[Ge];return Boolean(ut)&&typeof ut=="object"&&!Array.isArray(ut)?Ke[Ge]=be(ut):Ke[Ge]=ut,Ke},Object.create(null))}te.extract=ke,te.parse=Ce,te.stringify=(Pe,Ie)=>{if(!Pe)return"";Ie=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},Ie),ue(Ie.arrayFormatSeparator);const Ne=ut=>Ie.skipNull&&oe(Pe[ut])||Ie.skipEmptyString&&Pe[ut]==="",He=ie(Ie),Ke={};for(const ut of Object.keys(Pe))Ne(ut)||(Ke[ut]=Pe[ut]);const Ge=Object.keys(Ke);return Ie.sort!==!1&&Ge.sort(Ie.sort),Ge.map(ut=>{const Ve=Pe[ut];return Ve===void 0?"":Ve===null?he(ut,Ie):Array.isArray(Ve)?Ve.reduce(He(ut),[]).join("&"):he(ut,Ie)+"="+he(Ve,Ie)}).filter(ut=>ut.length>0).join("&")},te.parseUrl=(Pe,Ie)=>{Ie=Object.assign({decode:!0},Ie);const[Ne,He]=ne(Pe,"#");return Object.assign({url:Ne.split("?")[0]||"",query:Ce(ke(Pe),Ie)},Ie&&Ie.parseFragmentIdentifier&&He?{fragmentIdentifier:ge(He,Ie)}:{})},te.stringifyUrl=(Pe,Ie)=>{Ie=Object.assign({encode:!0,strict:!0},Ie);const Ne=Se(Pe.url).split("?")[0]||"",He=te.extract(Pe.url),Ke=te.parse(He,{sort:!1}),Ge=Object.assign(Ke,Pe.query);let ut=te.stringify(Ge,Ie);ut&&(ut=`?${ut}`);let Ve=Te(Pe.url);return Pe.fragmentIdentifier&&(Ve=`#${he(Pe.fragmentIdentifier,Ie)}`),`${Ne}${ut}${Ve}`}})(queryString);function getQueryString(te){const ee=te.indexOf("?")!==-1?te.indexOf("?"):void 0;return typeof ee!="undefined"?te.substr(ee):""}function appendToQueryString(te,ee){let re=parseQueryString(te);return re=Object.assign(Object.assign({},re),ee),te=formatQueryString(re),te}function parseQueryString(te){return queryString.parse(te)}function formatQueryString(te){return queryString.stringify(te)}function isWalletConnectSession(te){return typeof te.bridge!="undefined"}function parseWalletConnectUri(te){const ee=te.indexOf(":"),re=te.indexOf("?")!==-1?te.indexOf("?"):void 0,ne=te.substring(0,ee),oe=te.substring(ee+1,re);function ie(Se){const Te="@",ke=Se.split(Te);return{handshakeTopic:ke[0],version:parseInt(ke[1],10)}}const se=ie(oe),ue=typeof re!="undefined"?te.substr(re):"";function he(Se){const Te=parseQueryString(Se);return{key:Te.key||"",bridge:Te.bridge||""}}const ge=he(ue);return Object.assign(Object.assign({protocol:ne},se),ge)}var browser$1=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};class NetworkMonitor{constructor(){this._eventEmitters=[],typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(ee,re){this._eventEmitters.push({event:ee,callback:re})}trigger(ee){let re=[];ee&&(re=this._eventEmitters.filter(ne=>ne.event===ee)),re.forEach(ne=>{ne.callback()})}}const WS=typeof globalThis.WebSocket!="undefined"?globalThis.WebSocket:browser$1;class SocketTransport{constructor(ee){if(this.opts=ee,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=ee.protocol,this._version=ee.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=ee.subscriptions||[],this._netMonitor=ee.netMonitor||new NetworkMonitor,!ee.url||typeof ee.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=ee.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(ee){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(ee){}get connecting(){return this.readyState===0}set connected(ee){}get connected(){return this.readyState===1}set closing(ee){}get closing(){return this.readyState===2}set closed(ee){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(ee,re,ne){if(!re||typeof re!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:re,type:"pub",payload:ee,silent:!!ne})}subscribe(ee){this._socketSend({topic:ee,type:"sub",payload:"",silent:!0})}on(ee,re){this._events.push({event:ee,callback:re})}_socketCreate(){if(this._nextSocket)return;const ee=getWebSocketUrl(this._url,this._protocol,this._version);if(this._nextSocket=new WS(ee),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=re=>this._socketReceive(re),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=re=>this._socketError(re),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(ee){const re=JSON.stringify(ee);this._socket&&this._socket.readyState===1?this._socket.send(re):(this._setToQueue(ee),this._socketCreate())}async _socketReceive(ee){let re;try{re=JSON.parse(ee.data)}catch{return}if(this._socketSend({topic:re.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const ne=this._events.filter(oe=>oe.event==="message");ne&&ne.length&&ne.forEach(oe=>oe.callback(re))}}_socketError(ee){const re=this._events.filter(ne=>ne.event==="error");re&&re.length&&re.forEach(ne=>ne.callback(ee))}_queueSubscriptions(){this._subscriptions.forEach(re=>this._queue.push({topic:re,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(ee){this._queue.push(ee)}_pushQueue(){this._queue.forEach(re=>this._socketSend(re)),this._queue=[]}}function getWebSocketUrl(te,ee,re){var ne,oe;const se=(te.startsWith("https")?te.replace("https","wss"):te.startsWith("http")?te.replace("http","ws"):te).split("?"),ue=isBrowser$1()?{protocol:ee,version:re,env:"browser",host:((ne=getLocation())===null||ne===void 0?void 0:ne.host)||""}:{protocol:ee,version:re,env:((oe=detectEnv())===null||oe===void 0?void 0:oe.name)||""},he=appendToQueryString(getQueryString(se[1]||""),ue);return se[0]+"?"+he}const ERROR_SESSION_CONNECTED="Session currently connected",ERROR_SESSION_DISCONNECTED="Session currently disconnected",ERROR_SESSION_REJECTED="Session Rejected",ERROR_MISSING_JSON_RPC="Missing JSON RPC response",ERROR_MISSING_RESULT='JSON-RPC success response must include "result" field',ERROR_MISSING_ERROR='JSON-RPC error response must include "error" field',ERROR_MISSING_METHOD='JSON RPC request must have valid "method" value',ERROR_MISSING_ID='JSON RPC request must have valid "id" value',ERROR_MISSING_REQUIRED="Missing one of the required parameters: bridge / uri / session",ERROR_INVALID_RESPONSE="JSON RPC response format is invalid",ERROR_INVALID_URI="URI format is invalid",ERROR_QRCODE_MODAL_NOT_PROVIDED="QRCode Modal not provided",ERROR_QRCODE_MODAL_USER_CLOSED="User close QRCode Modal";class EventManager{constructor(){this._eventEmitters=[]}subscribe(ee){this._eventEmitters.push(ee)}unsubscribe(ee){this._eventEmitters=this._eventEmitters.filter(re=>re.event!==ee)}trigger(ee){let re=[],ne;isJsonRpcRequest(ee)?ne=ee.method:isJsonRpcResponseSuccess(ee)||isJsonRpcResponseError(ee)?ne=`response:${ee.id}`:isInternalEvent(ee)?ne=ee.event:ne="",ne&&(re=this._eventEmitters.filter(oe=>oe.event===ne)),(!re||!re.length)&&!isReservedEvent(ne)&&!isInternalEvent(ne)&&(re=this._eventEmitters.filter(oe=>oe.event==="call_request")),re.forEach(oe=>{if(isJsonRpcResponseError(ee)){const ie=new Error(ee.error.message);oe.callback(ie,null)}else oe.callback(null,ee)})}}class SessionStorage{constructor(ee="walletconnect"){this.storageId=ee}getSession(){let ee=null;const re=getLocal(this.storageId);return re&&isWalletConnectSession(re)&&(ee=re),ee}setSession(ee){return setLocal(this.storageId,ee),ee}removeSession(){removeLocal(this.storageId)}}const domain="walletconnect.org",alphanumerical="abcdefghijklmnopqrstuvwxyz0123456789",bridges=alphanumerical.split("").map(te=>`https://${te}.bridge.walletconnect.org`);function extractHostname(te){let ee=te.indexOf("//")>-1?te.split("/")[2]:te.split("/")[0];return ee=ee.split(":")[0],ee=ee.split("?")[0],ee}function extractRootDomain(te){return extractHostname(te).split(".").slice(-2).join(".")}function randomBridgeIndex(){return Math.floor(Math.random()*bridges.length)}function selectRandomBridgeUrl(){return bridges[randomBridgeIndex()]}function shouldSelectRandomly(te){return extractRootDomain(te)===domain}function getBridgeUrl(te){return shouldSelectRandomly(te)?selectRandomBridgeUrl():te}class Connector{constructor(ee){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new EventManager,this._clientMeta=getClientMeta()||ee.connectorOpts.clientMeta||null,this._cryptoLib=ee.cryptoLib,this._sessionStorage=ee.sessionStorage||new SessionStorage(ee.connectorOpts.storageId),this._qrcodeModal=ee.connectorOpts.qrcodeModal,this._qrcodeModalOptions=ee.connectorOpts.qrcodeModalOptions,this._signingMethods=[...signingMethods,...ee.connectorOpts.signingMethods||[]],!ee.connectorOpts.bridge&&!ee.connectorOpts.uri&&!ee.connectorOpts.session)throw new Error(ERROR_MISSING_REQUIRED);ee.connectorOpts.bridge&&(this.bridge=getBridgeUrl(ee.connectorOpts.bridge)),ee.connectorOpts.uri&&(this.uri=ee.connectorOpts.uri);const re=ee.connectorOpts.session||this._getStorageSession();re&&(this.session=re),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=ee.transport||new SocketTransport({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),ee.connectorOpts.uri&&this._subscribeToSessionRequest(),ee.pushServerOpts&&this._registerPushServer(ee.pushServerOpts)}set bridge(ee){!ee||(this._bridge=ee)}get bridge(){return this._bridge}set key(ee){if(!ee)return;const re=convertHexToArrayBuffer(ee);this._key=re}get key(){return this._key?convertArrayBufferToHex(this._key,!0):""}set clientId(ee){!ee||(this._clientId=ee)}get clientId(){let ee=this._clientId;return ee||(ee=this._clientId=uuid()),this._clientId}set peerId(ee){!ee||(this._peerId=ee)}get peerId(){return this._peerId}set clientMeta(ee){}get clientMeta(){let ee=this._clientMeta;return ee||(ee=this._clientMeta=getClientMeta()),ee}set peerMeta(ee){this._peerMeta=ee}get peerMeta(){return this._peerMeta}set handshakeTopic(ee){!ee||(this._handshakeTopic=ee)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(ee){!ee||(this._handshakeId=ee)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(ee){if(!ee)return;const{handshakeTopic:re,bridge:ne,key:oe}=this._parseUri(ee);this.handshakeTopic=re,this.bridge=ne,this.key=oe}set chainId(ee){this._chainId=ee}get chainId(){return this._chainId}set networkId(ee){this._networkId=ee}get networkId(){return this._networkId}set accounts(ee){this._accounts=ee}get accounts(){return this._accounts}set rpcUrl(ee){this._rpcUrl=ee}get rpcUrl(){return this._rpcUrl}set connected(ee){}get connected(){return this._connected}set pending(ee){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(ee){!ee||(this._connected=ee.connected,this.accounts=ee.accounts,this.chainId=ee.chainId,this.bridge=ee.bridge,this.key=ee.key,this.clientId=ee.clientId,this.clientMeta=ee.clientMeta,this.peerId=ee.peerId,this.peerMeta=ee.peerMeta,this.handshakeId=ee.handshakeId,this.handshakeTopic=ee.handshakeTopic)}on(ee,re){const ne={event:ee,callback:re};this._eventManager.subscribe(ne)}off(ee){this._eventManager.unsubscribe(ee)}async createInstantRequest(ee){this._key=await this._generateKey();const re=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(ee)}]});this.handshakeId=re.id,this.handshakeTopic=uuid(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(ERROR_QRCODE_MODAL_USER_CLOSED)});const ne=()=>{this.killSession()};try{const oe=await this._sendCallRequest(re);return oe&&ne(),oe}catch(oe){throw ne(),oe}}async connect(ee){if(!this._qrcodeModal)throw new Error(ERROR_QRCODE_MODAL_NOT_PROVIDED);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(ee),new Promise(async(re,ne)=>{this.on("modal_closed",()=>ne(new Error(ERROR_QRCODE_MODAL_USER_CLOSED))),this.on("connect",(oe,ie)=>{if(oe)return ne(oe);re(ie.params[0])})}))}async createSession(ee){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);if(this.pending)return;this._key=await this._generateKey();const re=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:ee&&ee.chainId?ee.chainId:null}]});this.handshakeId=re.id,this.handshakeTopic=uuid(),this._sendSessionRequest(re,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(ee){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);this.chainId=ee.chainId,this.accounts=ee.accounts,this.networkId=ee.networkId||0,this.rpcUrl=ee.rpcUrl||"";const re={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},ne={id:this.handshakeId,jsonrpc:"2.0",result:re};this._sendResponse(ne),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(ee){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);const re=ee&&ee.message?ee.message:ERROR_SESSION_REJECTED,ne=this._formatResponse({id:this.handshakeId,error:{message:re}});this._sendResponse(ne),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:re}]}),this._removeStorageSession()}updateSession(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);this.chainId=ee.chainId,this.accounts=ee.accounts,this.networkId=ee.networkId||0,this.rpcUrl=ee.rpcUrl||"";const re={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},ne=this._formatRequest({method:"wc_sessionUpdate",params:[re]});this._sendSessionRequest(ne,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(ee){const re=ee?ee.message:"Session Disconnected",ne={approved:!1,chainId:null,networkId:null,accounts:null},oe=this._formatRequest({method:"wc_sessionUpdate",params:[ne]});await this._sendRequest(oe),this._handleSessionDisconnect(re)}async sendTransaction(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const re=parseTransactionData(ee),ne=this._formatRequest({method:"eth_sendTransaction",params:[re]});return await this._sendCallRequest(ne)}async signTransaction(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const re=parseTransactionData(ee),ne=this._formatRequest({method:"eth_signTransaction",params:[re]});return await this._sendCallRequest(ne)}async signMessage(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const re=this._formatRequest({method:"eth_sign",params:ee});return await this._sendCallRequest(re)}async signPersonalMessage(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);ee=parsePersonalSign(ee);const re=this._formatRequest({method:"personal_sign",params:ee});return await this._sendCallRequest(re)}async signTypedData(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const re=this._formatRequest({method:"eth_signTypedData",params:ee});return await this._sendCallRequest(re)}async updateChain(ee){if(!this._connected)throw new Error("Session currently disconnected");const re=this._formatRequest({method:"wallet_updateChain",params:[ee]});return await this._sendCallRequest(re)}unsafeSend(ee,re){return this._sendRequest(ee,re),this._eventManager.trigger({event:"call_request_sent",params:[{request:ee,options:re}]}),new Promise((ne,oe)=>{this._subscribeToResponse(ee.id,(ie,se)=>{if(ie){oe(ie);return}if(!se)throw new Error(ERROR_MISSING_JSON_RPC);ne(se)})})}async sendCustomRequest(ee,re){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);switch(ee.method){case"eth_accounts":return this.accounts;case"eth_chainId":return convertNumberToHex(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":ee.params&&(ee.params[0]=parseTransactionData(ee.params[0]));break;case"personal_sign":ee.params&&(ee.params=parsePersonalSign(ee.params));break}const ne=this._formatRequest(ee);return await this._sendCallRequest(ne,re)}approveRequest(ee){if(isJsonRpcResponseSuccess(ee)){const re=this._formatResponse(ee);this._sendResponse(re)}else throw new Error(ERROR_MISSING_RESULT)}rejectRequest(ee){if(isJsonRpcResponseError(ee)){const re=this._formatResponse(ee);this._sendResponse(re)}else throw new Error(ERROR_MISSING_ERROR)}transportClose(){this._transport.close()}async _sendRequest(ee,re){const ne=this._formatRequest(ee),oe=await this._encrypt(ne),ie=typeof(re==null?void 0:re.topic)!="undefined"?re.topic:this.peerId,se=JSON.stringify(oe),ue=typeof(re==null?void 0:re.forcePushNotification)!="undefined"?!re.forcePushNotification:isSilentPayload(ne);this._transport.send(se,ie,ue)}async _sendResponse(ee){const re=await this._encrypt(ee),ne=this.peerId,oe=JSON.stringify(re),ie=!0;this._transport.send(oe,ne,ie)}async _sendSessionRequest(ee,re,ne){this._sendRequest(ee,ne),this._subscribeToSessionResponse(ee.id,re)}_sendCallRequest(ee,re){return this._sendRequest(ee,re),this._eventManager.trigger({event:"call_request_sent",params:[{request:ee,options:re}]}),this._subscribeToCallResponse(ee.id)}_formatRequest(ee){if(typeof ee.method=="undefined")throw new Error(ERROR_MISSING_METHOD);return{id:typeof ee.id=="undefined"?payloadId():ee.id,jsonrpc:"2.0",method:ee.method,params:typeof ee.params=="undefined"?[]:ee.params}}_formatResponse(ee){if(typeof ee.id=="undefined")throw new Error(ERROR_MISSING_ID);const re={id:ee.id,jsonrpc:"2.0"};if(isJsonRpcResponseError(ee)){const ne=formatRpcError(ee.error);return Object.assign(Object.assign(Object.assign({},re),ee),{error:ne})}else if(isJsonRpcResponseSuccess(ee))return Object.assign(Object.assign({},re),ee);throw new Error(ERROR_INVALID_RESPONSE)}_handleSessionDisconnect(ee){const re=ee||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),removeLocal(mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:re}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(ee,re){re?re.approved?(this._connected?(re.chainId&&(this.chainId=re.chainId),re.accounts&&(this.accounts=re.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,re.chainId&&(this.chainId=re.chainId),re.accounts&&(this.accounts=re.accounts),re.peerId&&!this.peerId&&(this.peerId=re.peerId),re.peerMeta&&!this.peerMeta&&(this.peerMeta=re.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(ee):this._handleSessionDisconnect(ee)}async _handleIncomingMessages(ee){if(![this.clientId,this.handshakeTopic].includes(ee.topic))return;let ne;try{ne=JSON.parse(ee.payload)}catch{return}const oe=await this._decrypt(ne);oe&&this._eventManager.trigger(oe)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(ee,re){this.on(`response:${ee}`,re)}_subscribeToSessionResponse(ee,re){this._subscribeToResponse(ee,(ne,oe)=>{if(ne){this._handleSessionResponse(ne.message);return}isJsonRpcResponseSuccess(oe)?this._handleSessionResponse(re,oe.result):oe.error&&oe.error.message?this._handleSessionResponse(oe.error.message):this._handleSessionResponse(re)})}_subscribeToCallResponse(ee){return new Promise((re,ne)=>{this._subscribeToResponse(ee,(oe,ie)=>{if(oe){ne(oe);return}isJsonRpcResponseSuccess(ie)?re(ie.result):ie.error&&ie.error.message?ne(new Error(ie.error.message)):ne(new Error(ERROR_INVALID_RESPONSE))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(ee,re)=>{const{request:ne}=re.params[0];if(isMobile()&&this._signingMethods.includes(ne.method)){const oe=getLocal(mobileLinkChoiceKey);oe&&(window.location.href=oe.href)}}),this.on("wc_sessionRequest",(ee,re)=>{ee&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:ee.toString()}]}),this.handshakeId=re.id,this.peerId=re.params[0].peerId,this.peerMeta=re.params[0].peerMeta;const ne=Object.assign(Object.assign({},re),{method:"session_request"});this._eventManager.trigger(ne)}),this.on("wc_sessionUpdate",(ee,re)=>{ee&&this._handleSessionResponse(ee.message),this._handleSessionResponse("Session disconnected",re.params[0])})}_initTransport(){this._transport.on("message",ee=>this._handleIncomingMessages(ee)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const ee=this.protocol,re=this.handshakeTopic,ne=this.version,oe=encodeURIComponent(this.bridge),ie=this.key;return`${ee}:${re}@${ne}?bridge=${oe}&key=${ie}`}_parseUri(ee){const re=parseWalletConnectUri(ee);if(re.protocol===this.protocol){if(!re.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const ne=re.handshakeTopic;if(!re.bridge)throw Error("Invalid or missing bridge url parameter value");const oe=decodeURIComponent(re.bridge);if(!re.key)throw Error("Invalid or missing key parameter value");const ie=re.key;return{handshakeTopic:ne,bridge:oe,key:ie}}else throw new Error(ERROR_INVALID_URI)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(ee){const re=this._key;return this._cryptoLib&&re?await this._cryptoLib.encrypt(ee,re):null}async _decrypt(ee){const re=this._key;return this._cryptoLib&&re?await this._cryptoLib.decrypt(ee,re):null}_getStorageSession(){let ee=null;return this._sessionStorage&&(ee=this._sessionStorage.getSession()),ee}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(ee){if(!ee.url||typeof ee.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!ee.type||typeof ee.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!ee.token||typeof ee.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const re={bridge:this.bridge,topic:this.clientId,type:ee.type,token:ee.token,peerName:"",language:ee.language||""};this.on("connect",async(ne,oe)=>{if(ne)throw ne;if(ee.peerMeta){const ie=oe.params[0].peerMeta.name;re.peerName=ie}try{if(!(await(await fetch(`${ee.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(re)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function randomBytes(te){return cjs$1.getBrowerCrypto().getRandomValues(new Uint8Array(te))}const LENGTH_256=256,AES_LENGTH=LENGTH_256,HMAC_LENGTH=LENGTH_256,AES_BROWSER_ALGO="AES-CBC",HMAC_BROWSER_ALGO=`SHA-${AES_LENGTH}`,HMAC_BROWSER="HMAC",ENCRYPT_OP="encrypt",DECRYPT_OP="decrypt",SIGN_OP="sign",VERIFY_OP="verify";function getAlgo(te){return te===AES_BROWSER_ALGO?{length:AES_LENGTH,name:AES_BROWSER_ALGO}:{hash:{name:HMAC_BROWSER_ALGO},name:HMAC_BROWSER}}function getOps(te){return te===AES_BROWSER_ALGO?[ENCRYPT_OP,DECRYPT_OP]:[SIGN_OP,VERIFY_OP]}async function browserImportKey(te,ee=AES_BROWSER_ALGO){return cjs$1.getSubtleCrypto().importKey("raw",te,getAlgo(ee),!0,getOps(ee))}async function browserAesEncrypt(te,ee,re){const ne=cjs$1.getSubtleCrypto(),oe=await browserImportKey(ee,AES_BROWSER_ALGO),ie=await ne.encrypt({iv:te,name:AES_BROWSER_ALGO},oe,re);return new Uint8Array(ie)}async function browserAesDecrypt(te,ee,re){const ne=cjs$1.getSubtleCrypto(),oe=await browserImportKey(ee,AES_BROWSER_ALGO),ie=await ne.decrypt({iv:te,name:AES_BROWSER_ALGO},oe,re);return new Uint8Array(ie)}async function browserHmacSha256Sign(te,ee){const re=cjs$1.getSubtleCrypto(),ne=await browserImportKey(te,HMAC_BROWSER),oe=await re.sign({length:HMAC_LENGTH,name:HMAC_BROWSER},ne,ee);return new Uint8Array(oe)}function aesCbcEncrypt(te,ee,re){return browserAesEncrypt(te,ee,re)}function aesCbcDecrypt(te,ee,re){return browserAesDecrypt(te,ee,re)}async function hmacSha256Sign(te,ee){return await browserHmacSha256Sign(te,ee)}async function generateKey(te){const ee=(te||256)/8,re=randomBytes(ee);return convertBufferToArrayBuffer(arrayToBuffer(re))}async function verifyHmac(te,ee){const re=hexToArray(te.data),ne=hexToArray(te.iv),oe=hexToArray(te.hmac),ie=arrayToHex(oe,!1),se=concatArrays(re,ne),ue=await hmacSha256Sign(ee,se),he=arrayToHex(ue,!1);return removeHexPrefix(ie)===removeHexPrefix(he)}async function encrypt(te,ee,re){const ne=bufferToArray(convertArrayBufferToBuffer(ee)),oe=re||await generateKey(128),ie=bufferToArray(convertArrayBufferToBuffer(oe)),se=arrayToHex(ie,!1),ue=JSON.stringify(te),he=utf8ToArray(ue),ge=await aesCbcEncrypt(ie,ne,he),be=arrayToHex(ge,!1),Se=concatArrays(ge,ie),Te=await hmacSha256Sign(ne,Se),ke=arrayToHex(Te,!1);return{data:be,hmac:ke,iv:se}}async function decrypt(te,ee){const re=bufferToArray(convertArrayBufferToBuffer(ee));if(!re)throw new Error("Missing key: required for decryption");if(!await verifyHmac(te,re))return null;const oe=hexToArray(te.data),ie=hexToArray(te.iv),se=await aesCbcDecrypt(ie,re,oe),ue=arrayToUtf8(se);let he;try{he=JSON.parse(ue)}catch{return null}return he}var cryptoLib=Object.freeze(Object.defineProperty({__proto__:null,generateKey,verifyHmac,encrypt,decrypt},Symbol.toStringTag,{value:"Module"}));class WalletConnect extends Connector{constructor(ee,re){super({cryptoLib,connectorOpts:ee,pushServerOpts:re})}}var require$$0=getAugmentedNamespace(esm),browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},typedarrayBuffer={},toString={}.toString,isarray=Array.isArray||function(te){return toString.call(te)=="[object Array]"},isArray$1=isarray;function typedArraySupport(){try{var te=new Uint8Array(1);return te.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},te.foo()===42}catch{return!1}}Buffer$2.TYPED_ARRAY_SUPPORT=typedArraySupport();var K_MAX_LENGTH=Buffer$2.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Buffer$2(te,ee,re){return!Buffer$2.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer$2)?new Buffer$2(te,ee,re):typeof te=="number"?allocUnsafe(this,te):from(this,te,ee,re)}Buffer$2.TYPED_ARRAY_SUPPORT&&(Buffer$2.prototype.__proto__=Uint8Array.prototype,Buffer$2.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&Buffer$2[Symbol.species]===Buffer$2&&Object.defineProperty(Buffer$2,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function checked(te){if(te>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return te|0}function isnan(te){return te!==te}function createBuffer(te,ee){var re;return Buffer$2.TYPED_ARRAY_SUPPORT?(re=new Uint8Array(ee),re.__proto__=Buffer$2.prototype):(re=te,re===null&&(re=new Buffer$2(ee)),re.length=ee),re}function allocUnsafe(te,ee){var re=createBuffer(te,ee<0?0:checked(ee)|0);if(!Buffer$2.TYPED_ARRAY_SUPPORT)for(var ne=0;ne<ee;++ne)re[ne]=0;return re}function fromString(te,ee){var re=byteLength(ee)|0,ne=createBuffer(te,re),oe=ne.write(ee);return oe!==re&&(ne=ne.slice(0,oe)),ne}function fromArrayLike(te,ee){for(var re=ee.length<0?0:checked(ee.length)|0,ne=createBuffer(te,re),oe=0;oe<re;oe+=1)ne[oe]=ee[oe]&255;return ne}function fromArrayBuffer(te,ee,re,ne){if(re<0||ee.byteLength<re)throw new RangeError("'offset' is out of bounds");if(ee.byteLength<re+(ne||0))throw new RangeError("'length' is out of bounds");var oe;return re===void 0&&ne===void 0?oe=new Uint8Array(ee):ne===void 0?oe=new Uint8Array(ee,re):oe=new Uint8Array(ee,re,ne),Buffer$2.TYPED_ARRAY_SUPPORT?oe.__proto__=Buffer$2.prototype:oe=fromArrayLike(te,oe),oe}function fromObject(te,ee){if(Buffer$2.isBuffer(ee)){var re=checked(ee.length)|0,ne=createBuffer(te,re);return ne.length===0||ee.copy(ne,0,0,re),ne}if(ee){if(typeof ArrayBuffer!="undefined"&&ee.buffer instanceof ArrayBuffer||"length"in ee)return typeof ee.length!="number"||isnan(ee.length)?createBuffer(te,0):fromArrayLike(te,ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return fromArrayLike(te,ee.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function utf8ToBytes(te,ee){ee=ee||1/0;for(var re,ne=te.length,oe=null,ie=[],se=0;se<ne;++se){if(re=te.charCodeAt(se),re>55295&&re<57344){if(!oe){if(re>56319){(ee-=3)>-1&&ie.push(239,191,189);continue}else if(se+1===ne){(ee-=3)>-1&&ie.push(239,191,189);continue}oe=re;continue}if(re<56320){(ee-=3)>-1&&ie.push(239,191,189),oe=re;continue}re=(oe-55296<<10|re-56320)+65536}else oe&&(ee-=3)>-1&&ie.push(239,191,189);if(oe=null,re<128){if((ee-=1)<0)break;ie.push(re)}else if(re<2048){if((ee-=2)<0)break;ie.push(re>>6|192,re&63|128)}else if(re<65536){if((ee-=3)<0)break;ie.push(re>>12|224,re>>6&63|128,re&63|128)}else if(re<1114112){if((ee-=4)<0)break;ie.push(re>>18|240,re>>12&63|128,re>>6&63|128,re&63|128)}else throw new Error("Invalid code point")}return ie}function byteLength(te){if(Buffer$2.isBuffer(te))return te.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(te)||te instanceof ArrayBuffer))return te.byteLength;typeof te!="string"&&(te=""+te);var ee=te.length;return ee===0?0:utf8ToBytes(te).length}function blitBuffer(te,ee,re,ne){for(var oe=0;oe<ne&&!(oe+re>=ee.length||oe>=te.length);++oe)ee[oe+re]=te[oe];return oe}function utf8Write(te,ee,re,ne){return blitBuffer(utf8ToBytes(ee,te.length-re),te,re,ne)}function from(te,ee,re,ne){if(typeof ee=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&ee instanceof ArrayBuffer?fromArrayBuffer(te,ee,re,ne):typeof ee=="string"?fromString(te,ee):fromObject(te,ee)}Buffer$2.prototype.write=function te(ee,re,ne){re===void 0?(ne=this.length,re=0):ne===void 0&&typeof re=="string"?(ne=this.length,re=0):isFinite(re)&&(re=re|0,isFinite(ne)?ne=ne|0:ne=void 0);var oe=this.length-re;if((ne===void 0||ne>oe)&&(ne=oe),ee.length>0&&(ne<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");return utf8Write(this,ee,re,ne)};Buffer$2.prototype.slice=function te(ee,re){var ne=this.length;ee=~~ee,re=re===void 0?ne:~~re,ee<0?(ee+=ne,ee<0&&(ee=0)):ee>ne&&(ee=ne),re<0?(re+=ne,re<0&&(re=0)):re>ne&&(re=ne),re<ee&&(re=ee);var oe;if(Buffer$2.TYPED_ARRAY_SUPPORT)oe=this.subarray(ee,re),oe.__proto__=Buffer$2.prototype;else{var ie=re-ee;oe=new Buffer$2(ie,void 0);for(var se=0;se<ie;++se)oe[se]=this[se+ee]}return oe};Buffer$2.prototype.copy=function te(ee,re,ne,oe){if(ne||(ne=0),!oe&&oe!==0&&(oe=this.length),re>=ee.length&&(re=ee.length),re||(re=0),oe>0&&oe<ne&&(oe=ne),oe===ne||ee.length===0||this.length===0)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("sourceStart out of bounds");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),ee.length-re<oe-ne&&(oe=ee.length-re+ne);var ie=oe-ne,se;if(this===ee&&ne<re&&re<oe)for(se=ie-1;se>=0;--se)ee[se+re]=this[se+ne];else if(ie<1e3||!Buffer$2.TYPED_ARRAY_SUPPORT)for(se=0;se<ie;++se)ee[se+re]=this[se+ne];else Uint8Array.prototype.set.call(ee,this.subarray(ne,ne+ie),re);return ie};Buffer$2.prototype.fill=function te(ee,re,ne){if(typeof ee=="string"){if(typeof re=="string"?(re=0,ne=this.length):typeof ne=="string"&&(ne=this.length),ee.length===1){var oe=ee.charCodeAt(0);oe<256&&(ee=oe)}}else typeof ee=="number"&&(ee=ee&255);if(re<0||this.length<re||this.length<ne)throw new RangeError("Out of range index");if(ne<=re)return this;re=re>>>0,ne=ne===void 0?this.length:ne>>>0,ee||(ee=0);var ie;if(typeof ee=="number")for(ie=re;ie<ne;++ie)this[ie]=ee;else{var se=Buffer$2.isBuffer(ee)?ee:new Buffer$2(ee),ue=se.length;for(ie=0;ie<ne-re;++ie)this[ie+re]=se[ie%ue]}return this};Buffer$2.concat=function te(ee,re){if(!isArray$1(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(ee.length===0)return createBuffer(null,0);var ne;if(re===void 0)for(re=0,ne=0;ne<ee.length;++ne)re+=ee[ne].length;var oe=allocUnsafe(null,re),ie=0;for(ne=0;ne<ee.length;++ne){var se=ee[ne];if(!Buffer$2.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(oe,ie),ie+=se.length}return oe};Buffer$2.byteLength=byteLength;Buffer$2.prototype._isBuffer=!0;Buffer$2.isBuffer=function te(ee){return!!(ee!=null&&ee._isBuffer)};typedarrayBuffer.alloc=function(te){var ee=new Buffer$2(te);return ee.fill(0),ee};typedarrayBuffer.from=function(te){return new Buffer$2(te)};var utils$1={},toSJISFunction,CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$1.getSymbolSize=function te(ee){if(!ee)throw new Error('"version" cannot be null or undefined');if(ee<1||ee>40)throw new Error('"version" should be in range from 1 to 40');return ee*4+17};utils$1.getSymbolTotalCodewords=function te(ee){return CODEWORDS_COUNT[ee]};utils$1.getBCHDigit=function(te){for(var ee=0;te!==0;)ee++,te>>>=1;return ee};utils$1.setToSJISFunction=function te(ee){if(typeof ee!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=ee};utils$1.isKanjiModeEnabled=function(){return typeof toSJISFunction!="undefined"};utils$1.toSJIS=function te(ee){return toSJISFunction(ee)};var errorCorrectionLevel={};(function(te){te.L={bit:1},te.M={bit:0},te.Q={bit:3},te.H={bit:2};function ee(re){if(typeof re!="string")throw new Error("Param is not a string");var ne=re.toLowerCase();switch(ne){case"l":case"low":return te.L;case"m":case"medium":return te.M;case"q":case"quartile":return te.Q;case"h":case"high":return te.H;default:throw new Error("Unknown EC Level: "+re)}}te.isValid=function(ne){return ne&&typeof ne.bit!="undefined"&&ne.bit>=0&&ne.bit<4},te.from=function(ne,oe){if(te.isValid(ne))return ne;try{return ee(ne)}catch{return oe}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(te){var ee=Math.floor(te/8);return(this.buffer[ee]>>>7-te%8&1)===1},put:function(te,ee){for(var re=0;re<ee;re++)this.putBit((te>>>ee-re-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(te){var ee=Math.floor(this.length/8);this.buffer.length<=ee&&this.buffer.push(0),te&&(this.buffer[ee]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1,BufferUtil$4=typedarrayBuffer;function BitMatrix$1(te){if(!te||te<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=te,this.data=BufferUtil$4.alloc(te*te),this.reservedBit=BufferUtil$4.alloc(te*te)}BitMatrix$1.prototype.set=function(te,ee,re,ne){var oe=te*this.size+ee;this.data[oe]=re,ne&&(this.reservedBit[oe]=!0)};BitMatrix$1.prototype.get=function(te,ee){return this.data[te*this.size+ee]};BitMatrix$1.prototype.xor=function(te,ee,re){this.data[te*this.size+ee]^=re};BitMatrix$1.prototype.isReserved=function(te,ee){return this.reservedBit[te*this.size+ee]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(te){var ee=utils$1.getSymbolSize;te.getRowColCoords=function(ne){if(ne===1)return[];for(var oe=Math.floor(ne/7)+2,ie=ee(ne),se=ie===145?26:Math.ceil((ie-13)/(2*oe-2))*2,ue=[ie-7],he=1;he<oe-1;he++)ue[he]=ue[he-1]-se;return ue.push(6),ue.reverse()},te.getPositions=function(ne){for(var oe=[],ie=te.getRowColCoords(ne),se=ie.length,ue=0;ue<se;ue++)for(var he=0;he<se;he++)ue===0&&he===0||ue===0&&he===se-1||ue===se-1&&he===0||oe.push([ie[ue],ie[he]]);return oe}})(alignmentPattern);var finderPattern={},getSymbolSize=utils$1.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function te(ee){var re=getSymbolSize(ee);return[[0,0],[re-FINDER_PATTERN_SIZE,0],[0,re-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(te){te.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var ee={N1:3,N2:3,N3:40,N4:10};te.isValid=function(oe){return oe!=null&&oe!==""&&!isNaN(oe)&&oe>=0&&oe<=7},te.from=function(oe){return te.isValid(oe)?parseInt(oe,10):void 0},te.getPenaltyN1=function(oe){for(var ie=oe.size,se=0,ue=0,he=0,ge=null,be=null,Se=0;Se<ie;Se++){ue=he=0,ge=be=null;for(var Te=0;Te<ie;Te++){var ke=oe.get(Se,Te);ke===ge?ue++:(ue>=5&&(se+=ee.N1+(ue-5)),ge=ke,ue=1),ke=oe.get(Te,Se),ke===be?he++:(he>=5&&(se+=ee.N1+(he-5)),be=ke,he=1)}ue>=5&&(se+=ee.N1+(ue-5)),he>=5&&(se+=ee.N1+(he-5))}return se},te.getPenaltyN2=function(oe){for(var ie=oe.size,se=0,ue=0;ue<ie-1;ue++)for(var he=0;he<ie-1;he++){var ge=oe.get(ue,he)+oe.get(ue,he+1)+oe.get(ue+1,he)+oe.get(ue+1,he+1);(ge===4||ge===0)&&se++}return se*ee.N2},te.getPenaltyN3=function(oe){for(var ie=oe.size,se=0,ue=0,he=0,ge=0;ge<ie;ge++){ue=he=0;for(var be=0;be<ie;be++)ue=ue<<1&2047|oe.get(ge,be),be>=10&&(ue===1488||ue===93)&&se++,he=he<<1&2047|oe.get(be,ge),be>=10&&(he===1488||he===93)&&se++}return se*ee.N3},te.getPenaltyN4=function(oe){for(var ie=0,se=oe.data.length,ue=0;ue<se;ue++)ie+=oe.data[ue];var he=Math.abs(Math.ceil(ie*100/se/5)-10);return he*ee.N4};function re(ne,oe,ie){switch(ne){case te.Patterns.PATTERN000:return(oe+ie)%2===0;case te.Patterns.PATTERN001:return oe%2===0;case te.Patterns.PATTERN010:return ie%3===0;case te.Patterns.PATTERN011:return(oe+ie)%3===0;case te.Patterns.PATTERN100:return(Math.floor(oe/2)+Math.floor(ie/3))%2===0;case te.Patterns.PATTERN101:return oe*ie%2+oe*ie%3===0;case te.Patterns.PATTERN110:return(oe*ie%2+oe*ie%3)%2===0;case te.Patterns.PATTERN111:return(oe*ie%3+(oe+ie)%2)%2===0;default:throw new Error("bad maskPattern:"+ne)}}te.applyMask=function(oe,ie){for(var se=ie.size,ue=0;ue<se;ue++)for(var he=0;he<se;he++)ie.isReserved(he,ue)||ie.xor(he,ue,re(oe,he,ue))},te.getBestMask=function(oe,ie){for(var se=Object.keys(te.Patterns).length,ue=0,he=1/0,ge=0;ge<se;ge++){ie(ge),te.applyMask(ge,oe);var be=te.getPenaltyN1(oe)+te.getPenaltyN2(oe)+te.getPenaltyN3(oe)+te.getPenaltyN4(oe);te.applyMask(ge,oe),be<he&&(he=be,ue=ge)}return ue}})(maskPattern);var errorCorrectionCode={},ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function te(ee,re){switch(re){case ECLevel$1.L:return EC_BLOCKS_TABLE[(ee-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(ee-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(ee-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(ee-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function te(ee,re){switch(re){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(ee-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(ee-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(ee-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(ee-1)*4+3];default:return}};var polynomial={},galoisField={},BufferUtil$3=typedarrayBuffer,EXP_TABLE=BufferUtil$3.alloc(512),LOG_TABLE=BufferUtil$3.alloc(256);(function te(){for(var ee=1,re=0;re<255;re++)EXP_TABLE[re]=ee,LOG_TABLE[ee]=re,ee<<=1,ee&256&&(ee^=285);for(re=255;re<512;re++)EXP_TABLE[re]=EXP_TABLE[re-255]})();galoisField.log=function te(ee){if(ee<1)throw new Error("log("+ee+")");return LOG_TABLE[ee]};galoisField.exp=function te(ee){return EXP_TABLE[ee]};galoisField.mul=function te(ee,re){return ee===0||re===0?0:EXP_TABLE[LOG_TABLE[ee]+LOG_TABLE[re]]};(function(te){var ee=typedarrayBuffer,re=galoisField;te.mul=function(oe,ie){for(var se=ee.alloc(oe.length+ie.length-1),ue=0;ue<oe.length;ue++)for(var he=0;he<ie.length;he++)se[ue+he]^=re.mul(oe[ue],ie[he]);return se},te.mod=function(oe,ie){for(var se=ee.from(oe);se.length-ie.length>=0;){for(var ue=se[0],he=0;he<ie.length;he++)se[he]^=re.mul(ie[he],ue);for(var ge=0;ge<se.length&&se[ge]===0;)ge++;se=se.slice(ge)}return se},te.generateECPolynomial=function(oe){for(var ie=ee.from([1]),se=0;se<oe;se++)ie=te.mul(ie,[1,re.exp(se)]);return ie}})(polynomial);var buffer={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(te){var ee=base64Js$1,re=ieee754$1,ne=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;te.Buffer=ue,te.SlowBuffer=Ne,te.INSPECT_MAX_BYTES=50;var oe=2147483647;te.kMaxLength=oe,ue.TYPED_ARRAY_SUPPORT=ie(),!ue.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ie(){try{var Qe=new Uint8Array(1),ze={foo:function(){return 42}};return Object.setPrototypeOf(ze,Uint8Array.prototype),Object.setPrototypeOf(Qe,ze),Qe.foo()===42}catch{return!1}}Object.defineProperty(ue.prototype,"parent",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.buffer}}),Object.defineProperty(ue.prototype,"offset",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.byteOffset}});function se(Qe){if(Qe>oe)throw new RangeError('The value "'+Qe+'" is invalid for option "size"');var ze=new Uint8Array(Qe);return Object.setPrototypeOf(ze,ue.prototype),ze}function ue(Qe,ze,De){if(typeof Qe=="number"){if(typeof ze=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Se(Qe)}return he(Qe,ze,De)}ue.poolSize=8192;function he(Qe,ze,De){if(typeof Qe=="string")return Te(Qe,ze);if(ArrayBuffer.isView(Qe))return Re(Qe);if(Qe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Qe);if(lt(Qe,ArrayBuffer)||Qe&&lt(Qe.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(lt(Qe,SharedArrayBuffer)||Qe&&lt(Qe.buffer,SharedArrayBuffer)))return Ce(Qe,ze,De);if(typeof Qe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ze=Qe.valueOf&&Qe.valueOf();if(Ze!=null&&Ze!==Qe)return ue.from(Ze,ze,De);var yt=Pe(Qe);if(yt)return yt;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof Qe[Symbol.toPrimitive]=="function")return ue.from(Qe[Symbol.toPrimitive]("string"),ze,De);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Qe)}ue.from=function(Qe,ze,De){return he(Qe,ze,De)},Object.setPrototypeOf(ue.prototype,Uint8Array.prototype),Object.setPrototypeOf(ue,Uint8Array);function ge(Qe){if(typeof Qe!="number")throw new TypeError('"size" argument must be of type number');if(Qe<0)throw new RangeError('The value "'+Qe+'" is invalid for option "size"')}function be(Qe,ze,De){return ge(Qe),Qe<=0?se(Qe):ze!==void 0?typeof De=="string"?se(Qe).fill(ze,De):se(Qe).fill(ze):se(Qe)}ue.alloc=function(Qe,ze,De){return be(Qe,ze,De)};function Se(Qe){return ge(Qe),se(Qe<0?0:Ie(Qe)|0)}ue.allocUnsafe=function(Qe){return Se(Qe)},ue.allocUnsafeSlow=function(Qe){return Se(Qe)};function Te(Qe,ze){if((typeof ze!="string"||ze==="")&&(ze="utf8"),!ue.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);var De=He(Qe,ze)|0,Ze=se(De),yt=Ze.write(Qe,ze);return yt!==De&&(Ze=Ze.slice(0,yt)),Ze}function ke(Qe){for(var ze=Qe.length<0?0:Ie(Qe.length)|0,De=se(ze),Ze=0;Ze<ze;Ze+=1)De[Ze]=Qe[Ze]&255;return De}function Re(Qe){if(lt(Qe,Uint8Array)){var ze=new Uint8Array(Qe);return Ce(ze.buffer,ze.byteOffset,ze.byteLength)}return ke(Qe)}function Ce(Qe,ze,De){if(ze<0||Qe.byteLength<ze)throw new RangeError('"offset" is outside of buffer bounds');if(Qe.byteLength<ze+(De||0))throw new RangeError('"length" is outside of buffer bounds');var Ze;return ze===void 0&&De===void 0?Ze=new Uint8Array(Qe):De===void 0?Ze=new Uint8Array(Qe,ze):Ze=new Uint8Array(Qe,ze,De),Object.setPrototypeOf(Ze,ue.prototype),Ze}function Pe(Qe){if(ue.isBuffer(Qe)){var ze=Ie(Qe.length)|0,De=se(ze);return De.length===0||Qe.copy(De,0,0,ze),De}if(Qe.length!==void 0)return typeof Qe.length!="number"||_t(Qe.length)?se(0):ke(Qe);if(Qe.type==="Buffer"&&Array.isArray(Qe.data))return ke(Qe.data)}function Ie(Qe){if(Qe>=oe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+oe.toString(16)+" bytes");return Qe|0}function Ne(Qe){return+Qe!=Qe&&(Qe=0),ue.alloc(+Qe)}ue.isBuffer=function(ze){return ze!=null&&ze._isBuffer===!0&&ze!==ue.prototype},ue.compare=function(ze,De){if(lt(ze,Uint8Array)&&(ze=ue.from(ze,ze.offset,ze.byteLength)),lt(De,Uint8Array)&&(De=ue.from(De,De.offset,De.byteLength)),!ue.isBuffer(ze)||!ue.isBuffer(De))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ze===De)return 0;for(var Ze=ze.length,yt=De.length,dt=0,mt=Math.min(Ze,yt);dt<mt;++dt)if(ze[dt]!==De[dt]){Ze=ze[dt],yt=De[dt];break}return Ze<yt?-1:yt<Ze?1:0},ue.isEncoding=function(ze){switch(String(ze).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ue.concat=function(ze,De){if(!Array.isArray(ze))throw new TypeError('"list" argument must be an Array of Buffers');if(ze.length===0)return ue.alloc(0);var Ze;if(De===void 0)for(De=0,Ze=0;Ze<ze.length;++Ze)De+=ze[Ze].length;var yt=ue.allocUnsafe(De),dt=0;for(Ze=0;Ze<ze.length;++Ze){var mt=ze[Ze];if(lt(mt,Uint8Array))dt+mt.length>yt.length?ue.from(mt).copy(yt,dt):Uint8Array.prototype.set.call(yt,mt,dt);else if(ue.isBuffer(mt))mt.copy(yt,dt);else throw new TypeError('"list" argument must be an Array of Buffers');dt+=mt.length}return yt};function He(Qe,ze){if(ue.isBuffer(Qe))return Qe.length;if(ArrayBuffer.isView(Qe)||lt(Qe,ArrayBuffer))return Qe.byteLength;if(typeof Qe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Qe);var De=Qe.length,Ze=arguments.length>2&&arguments[2]===!0;if(!Ze&&De===0)return 0;for(var yt=!1;;)switch(ze){case"ascii":case"latin1":case"binary":return De;case"utf8":case"utf-8":return $t(Qe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De*2;case"hex":return De>>>1;case"base64":return qt(Qe).length;default:if(yt)return Ze?-1:$t(Qe).length;ze=(""+ze).toLowerCase(),yt=!0}}ue.byteLength=He;function Ke(Qe,ze,De){var Ze=!1;if((ze===void 0||ze<0)&&(ze=0),ze>this.length||((De===void 0||De>this.length)&&(De=this.length),De<=0)||(De>>>=0,ze>>>=0,De<=ze))return"";for(Qe||(Qe="utf8");;)switch(Qe){case"hex":return me(this,ze,De);case"utf8":case"utf-8":return le(this,ze,De);case"ascii":return $e(this,ze,De);case"latin1":case"binary":return Ee(this,ze,De);case"base64":return ce(this,ze,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,ze,De);default:if(Ze)throw new TypeError("Unknown encoding: "+Qe);Qe=(Qe+"").toLowerCase(),Ze=!0}}ue.prototype._isBuffer=!0;function Ge(Qe,ze,De){var Ze=Qe[ze];Qe[ze]=Qe[De],Qe[De]=Ze}ue.prototype.swap16=function(){var ze=this.length;if(ze%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var De=0;De<ze;De+=2)Ge(this,De,De+1);return this},ue.prototype.swap32=function(){var ze=this.length;if(ze%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var De=0;De<ze;De+=4)Ge(this,De,De+3),Ge(this,De+1,De+2);return this},ue.prototype.swap64=function(){var ze=this.length;if(ze%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var De=0;De<ze;De+=8)Ge(this,De,De+7),Ge(this,De+1,De+6),Ge(this,De+2,De+5),Ge(this,De+3,De+4);return this},ue.prototype.toString=function(){var ze=this.length;return ze===0?"":arguments.length===0?le(this,0,ze):Ke.apply(this,arguments)},ue.prototype.toLocaleString=ue.prototype.toString,ue.prototype.equals=function(ze){if(!ue.isBuffer(ze))throw new TypeError("Argument must be a Buffer");return this===ze?!0:ue.compare(this,ze)===0},ue.prototype.inspect=function(){var ze="",De=te.INSPECT_MAX_BYTES;return ze=this.toString("hex",0,De).replace(/(.{2})/g,"$1 ").trim(),this.length>De&&(ze+=" ... "),"<Buffer "+ze+">"},ne&&(ue.prototype[ne]=ue.prototype.inspect),ue.prototype.compare=function(ze,De,Ze,yt,dt){if(lt(ze,Uint8Array)&&(ze=ue.from(ze,ze.offset,ze.byteLength)),!ue.isBuffer(ze))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ze);if(De===void 0&&(De=0),Ze===void 0&&(Ze=ze?ze.length:0),yt===void 0&&(yt=0),dt===void 0&&(dt=this.length),De<0||Ze>ze.length||yt<0||dt>this.length)throw new RangeError("out of range index");if(yt>=dt&&De>=Ze)return 0;if(yt>=dt)return-1;if(De>=Ze)return 1;if(De>>>=0,Ze>>>=0,yt>>>=0,dt>>>=0,this===ze)return 0;for(var mt=dt-yt,Lt=Ze-De,St=Math.min(mt,Lt),Bt=this.slice(yt,dt),Gt=ze.slice(De,Ze),Ae=0;Ae<St;++Ae)if(Bt[Ae]!==Gt[Ae]){mt=Bt[Ae],Lt=Gt[Ae];break}return mt<Lt?-1:Lt<mt?1:0};function ut(Qe,ze,De,Ze,yt){if(Qe.length===0)return-1;if(typeof De=="string"?(Ze=De,De=0):De>2147483647?De=2147483647:De<-2147483648&&(De=-2147483648),De=+De,_t(De)&&(De=yt?0:Qe.length-1),De<0&&(De=Qe.length+De),De>=Qe.length){if(yt)return-1;De=Qe.length-1}else if(De<0)if(yt)De=0;else return-1;if(typeof ze=="string"&&(ze=ue.from(ze,Ze)),ue.isBuffer(ze))return ze.length===0?-1:Ve(Qe,ze,De,Ze,yt);if(typeof ze=="number")return ze=ze&255,typeof Uint8Array.prototype.indexOf=="function"?yt?Uint8Array.prototype.indexOf.call(Qe,ze,De):Uint8Array.prototype.lastIndexOf.call(Qe,ze,De):Ve(Qe,[ze],De,Ze,yt);throw new TypeError("val must be string, number or Buffer")}function Ve(Qe,ze,De,Ze,yt){var dt=1,mt=Qe.length,Lt=ze.length;if(Ze!==void 0&&(Ze=String(Ze).toLowerCase(),Ze==="ucs2"||Ze==="ucs-2"||Ze==="utf16le"||Ze==="utf-16le")){if(Qe.length<2||ze.length<2)return-1;dt=2,mt/=2,Lt/=2,De/=2}function St(xe,Be){return dt===1?xe[Be]:xe.readUInt16BE(Be*dt)}var Bt;if(yt){var Gt=-1;for(Bt=De;Bt<mt;Bt++)if(St(Qe,Bt)===St(ze,Gt===-1?0:Bt-Gt)){if(Gt===-1&&(Gt=Bt),Bt-Gt+1===Lt)return Gt*dt}else Gt!==-1&&(Bt-=Bt-Gt),Gt=-1}else for(De+Lt>mt&&(De=mt-Lt),Bt=De;Bt>=0;Bt--){for(var Ae=!0,ve=0;ve<Lt;ve++)if(St(Qe,Bt+ve)!==St(ze,ve)){Ae=!1;break}if(Ae)return Bt}return-1}ue.prototype.includes=function(ze,De,Ze){return this.indexOf(ze,De,Ze)!==-1},ue.prototype.indexOf=function(ze,De,Ze){return ut(this,ze,De,Ze,!0)},ue.prototype.lastIndexOf=function(ze,De,Ze){return ut(this,ze,De,Ze,!1)};function nt(Qe,ze,De,Ze){De=Number(De)||0;var yt=Qe.length-De;Ze?(Ze=Number(Ze),Ze>yt&&(Ze=yt)):Ze=yt;var dt=ze.length;Ze>dt/2&&(Ze=dt/2);for(var mt=0;mt<Ze;++mt){var Lt=parseInt(ze.substr(mt*2,2),16);if(_t(Lt))return mt;Qe[De+mt]=Lt}return mt}function st(Qe,ze,De,Ze){return Rt($t(ze,Qe.length-De),Qe,De,Ze)}function qe(Qe,ze,De,Ze){return Rt(vt(ze),Qe,De,Ze)}function ye(Qe,ze,De,Ze){return Rt(qt(ze),Qe,De,Ze)}function ae(Qe,ze,De,Ze){return Rt(Tt(ze,Qe.length-De),Qe,De,Ze)}ue.prototype.write=function(ze,De,Ze,yt){if(De===void 0)yt="utf8",Ze=this.length,De=0;else if(Ze===void 0&&typeof De=="string")yt=De,Ze=this.length,De=0;else if(isFinite(De))De=De>>>0,isFinite(Ze)?(Ze=Ze>>>0,yt===void 0&&(yt="utf8")):(yt=Ze,Ze=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var dt=this.length-De;if((Ze===void 0||Ze>dt)&&(Ze=dt),ze.length>0&&(Ze<0||De<0)||De>this.length)throw new RangeError("Attempt to write outside buffer bounds");yt||(yt="utf8");for(var mt=!1;;)switch(yt){case"hex":return nt(this,ze,De,Ze);case"utf8":case"utf-8":return st(this,ze,De,Ze);case"ascii":case"latin1":case"binary":return qe(this,ze,De,Ze);case"base64":return ye(this,ze,De,Ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,ze,De,Ze);default:if(mt)throw new TypeError("Unknown encoding: "+yt);yt=(""+yt).toLowerCase(),mt=!0}},ue.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(Qe,ze,De){return ze===0&&De===Qe.length?ee.fromByteArray(Qe):ee.fromByteArray(Qe.slice(ze,De))}function le(Qe,ze,De){De=Math.min(Qe.length,De);for(var Ze=[],yt=ze;yt<De;){var dt=Qe[yt],mt=null,Lt=dt>239?4:dt>223?3:dt>191?2:1;if(yt+Lt<=De){var St,Bt,Gt,Ae;switch(Lt){case 1:dt<128&&(mt=dt);break;case 2:St=Qe[yt+1],(St&192)===128&&(Ae=(dt&31)<<6|St&63,Ae>127&&(mt=Ae));break;case 3:St=Qe[yt+1],Bt=Qe[yt+2],(St&192)===128&&(Bt&192)===128&&(Ae=(dt&15)<<12|(St&63)<<6|Bt&63,Ae>2047&&(Ae<55296||Ae>57343)&&(mt=Ae));break;case 4:St=Qe[yt+1],Bt=Qe[yt+2],Gt=Qe[yt+3],(St&192)===128&&(Bt&192)===128&&(Gt&192)===128&&(Ae=(dt&15)<<18|(St&63)<<12|(Bt&63)<<6|Gt&63,Ae>65535&&Ae<1114112&&(mt=Ae))}}mt===null?(mt=65533,Lt=1):mt>65535&&(mt-=65536,Ze.push(mt>>>10&1023|55296),mt=56320|mt&1023),Ze.push(mt),yt+=Lt}return _e(Ze)}var pe=4096;function _e(Qe){var ze=Qe.length;if(ze<=pe)return String.fromCharCode.apply(String,Qe);for(var De="",Ze=0;Ze<ze;)De+=String.fromCharCode.apply(String,Qe.slice(Ze,Ze+=pe));return De}function $e(Qe,ze,De){var Ze="";De=Math.min(Qe.length,De);for(var yt=ze;yt<De;++yt)Ze+=String.fromCharCode(Qe[yt]&127);return Ze}function Ee(Qe,ze,De){var Ze="";De=Math.min(Qe.length,De);for(var yt=ze;yt<De;++yt)Ze+=String.fromCharCode(Qe[yt]);return Ze}function me(Qe,ze,De){var Ze=Qe.length;(!ze||ze<0)&&(ze=0),(!De||De<0||De>Ze)&&(De=Ze);for(var yt="",dt=ze;dt<De;++dt)yt+=bt[Qe[dt]];return yt}function fe(Qe,ze,De){for(var Ze=Qe.slice(ze,De),yt="",dt=0;dt<Ze.length-1;dt+=2)yt+=String.fromCharCode(Ze[dt]+Ze[dt+1]*256);return yt}ue.prototype.slice=function(ze,De){var Ze=this.length;ze=~~ze,De=De===void 0?Ze:~~De,ze<0?(ze+=Ze,ze<0&&(ze=0)):ze>Ze&&(ze=Ze),De<0?(De+=Ze,De<0&&(De=0)):De>Ze&&(De=Ze),De<ze&&(De=ze);var yt=this.subarray(ze,De);return Object.setPrototypeOf(yt,ue.prototype),yt};function we(Qe,ze,De){if(Qe%1!==0||Qe<0)throw new RangeError("offset is not uint");if(Qe+ze>De)throw new RangeError("Trying to access beyond buffer length")}ue.prototype.readUintLE=ue.prototype.readUIntLE=function(ze,De,Ze){ze=ze>>>0,De=De>>>0,Ze||we(ze,De,this.length);for(var yt=this[ze],dt=1,mt=0;++mt<De&&(dt*=256);)yt+=this[ze+mt]*dt;return yt},ue.prototype.readUintBE=ue.prototype.readUIntBE=function(ze,De,Ze){ze=ze>>>0,De=De>>>0,Ze||we(ze,De,this.length);for(var yt=this[ze+--De],dt=1;De>0&&(dt*=256);)yt+=this[ze+--De]*dt;return yt},ue.prototype.readUint8=ue.prototype.readUInt8=function(ze,De){return ze=ze>>>0,De||we(ze,1,this.length),this[ze]},ue.prototype.readUint16LE=ue.prototype.readUInt16LE=function(ze,De){return ze=ze>>>0,De||we(ze,2,this.length),this[ze]|this[ze+1]<<8},ue.prototype.readUint16BE=ue.prototype.readUInt16BE=function(ze,De){return ze=ze>>>0,De||we(ze,2,this.length),this[ze]<<8|this[ze+1]},ue.prototype.readUint32LE=ue.prototype.readUInt32LE=function(ze,De){return ze=ze>>>0,De||we(ze,4,this.length),(this[ze]|this[ze+1]<<8|this[ze+2]<<16)+this[ze+3]*16777216},ue.prototype.readUint32BE=ue.prototype.readUInt32BE=function(ze,De){return ze=ze>>>0,De||we(ze,4,this.length),this[ze]*16777216+(this[ze+1]<<16|this[ze+2]<<8|this[ze+3])},ue.prototype.readIntLE=function(ze,De,Ze){ze=ze>>>0,De=De>>>0,Ze||we(ze,De,this.length);for(var yt=this[ze],dt=1,mt=0;++mt<De&&(dt*=256);)yt+=this[ze+mt]*dt;return dt*=128,yt>=dt&&(yt-=Math.pow(2,8*De)),yt},ue.prototype.readIntBE=function(ze,De,Ze){ze=ze>>>0,De=De>>>0,Ze||we(ze,De,this.length);for(var yt=De,dt=1,mt=this[ze+--yt];yt>0&&(dt*=256);)mt+=this[ze+--yt]*dt;return dt*=128,mt>=dt&&(mt-=Math.pow(2,8*De)),mt},ue.prototype.readInt8=function(ze,De){return ze=ze>>>0,De||we(ze,1,this.length),this[ze]&128?(255-this[ze]+1)*-1:this[ze]},ue.prototype.readInt16LE=function(ze,De){ze=ze>>>0,De||we(ze,2,this.length);var Ze=this[ze]|this[ze+1]<<8;return Ze&32768?Ze|4294901760:Ze},ue.prototype.readInt16BE=function(ze,De){ze=ze>>>0,De||we(ze,2,this.length);var Ze=this[ze+1]|this[ze]<<8;return Ze&32768?Ze|4294901760:Ze},ue.prototype.readInt32LE=function(ze,De){return ze=ze>>>0,De||we(ze,4,this.length),this[ze]|this[ze+1]<<8|this[ze+2]<<16|this[ze+3]<<24},ue.prototype.readInt32BE=function(ze,De){return ze=ze>>>0,De||we(ze,4,this.length),this[ze]<<24|this[ze+1]<<16|this[ze+2]<<8|this[ze+3]},ue.prototype.readFloatLE=function(ze,De){return ze=ze>>>0,De||we(ze,4,this.length),re.read(this,ze,!0,23,4)},ue.prototype.readFloatBE=function(ze,De){return ze=ze>>>0,De||we(ze,4,this.length),re.read(this,ze,!1,23,4)},ue.prototype.readDoubleLE=function(ze,De){return ze=ze>>>0,De||we(ze,8,this.length),re.read(this,ze,!0,52,8)},ue.prototype.readDoubleBE=function(ze,De){return ze=ze>>>0,De||we(ze,8,this.length),re.read(this,ze,!1,52,8)};function Me(Qe,ze,De,Ze,yt,dt){if(!ue.isBuffer(Qe))throw new TypeError('"buffer" argument must be a Buffer instance');if(ze>yt||ze<dt)throw new RangeError('"value" argument is out of bounds');if(De+Ze>Qe.length)throw new RangeError("Index out of range")}ue.prototype.writeUintLE=ue.prototype.writeUIntLE=function(ze,De,Ze,yt){if(ze=+ze,De=De>>>0,Ze=Ze>>>0,!yt){var dt=Math.pow(2,8*Ze)-1;Me(this,ze,De,Ze,dt,0)}var mt=1,Lt=0;for(this[De]=ze&255;++Lt<Ze&&(mt*=256);)this[De+Lt]=ze/mt&255;return De+Ze},ue.prototype.writeUintBE=ue.prototype.writeUIntBE=function(ze,De,Ze,yt){if(ze=+ze,De=De>>>0,Ze=Ze>>>0,!yt){var dt=Math.pow(2,8*Ze)-1;Me(this,ze,De,Ze,dt,0)}var mt=Ze-1,Lt=1;for(this[De+mt]=ze&255;--mt>=0&&(Lt*=256);)this[De+mt]=ze/Lt&255;return De+Ze},ue.prototype.writeUint8=ue.prototype.writeUInt8=function(ze,De,Ze){return ze=+ze,De=De>>>0,Ze||Me(this,ze,De,1,255,0),this[De]=ze&255,De+1},ue.prototype.writeUint16LE=ue.prototype.writeUInt16LE=function(ze,De,Ze){return ze=+ze,De=De>>>0,Ze||Me(this,ze,De,2,65535,0),this[De]=ze&255,this[De+1]=ze>>>8,De+2},ue.prototype.writeUint16BE=ue.prototype.writeUInt16BE=function(ze,De,Ze){return ze=+ze,De=De>>>0,Ze||Me(this,ze,De,2,65535,0),this[De]=ze>>>8,this[De+1]=ze&255,De+2},ue.prototype.writeUint32LE=ue.prototype.writeUInt32LE=function(ze,De,Ze){return ze=+ze,De=De>>>0,Ze||Me(this,ze,De,4,4294967295,0),this[De+3]=ze>>>24,this[De+2]=ze>>>16,this[De+1]=ze>>>8,this[De]=ze&255,De+4},ue.prototype.writeUint32BE=ue.prototype.writeUInt32BE=function(ze,De,Ze){return ze=+ze,De=De>>>0,Ze||Me(this,ze,De,4,4294967295,0),this[De]=ze>>>24,this[De+1]=ze>>>16,this[De+2]=ze>>>8,this[De+3]=ze&255,De+4},ue.prototype.writeIntLE=function(ze,De,Ze,yt){if(ze=+ze,De=De>>>0,!yt){var dt=Math.pow(2,8*Ze-1);Me(this,ze,De,Ze,dt-1,-dt)}var mt=0,Lt=1,St=0;for(this[De]=ze&255;++mt<Ze&&(Lt*=256);)ze<0&&St===0&&this[De+mt-1]!==0&&(St=1),this[De+mt]=(ze/Lt>>0)-St&255;return De+Ze},ue.prototype.writeIntBE=function(ze,De,Ze,yt){if(ze=+ze,De=De>>>0,!yt){var dt=Math.pow(2,8*Ze-1);Me(this,ze,De,Ze,dt-1,-dt)}var mt=Ze-1,Lt=1,St=0;for(this[De+mt]=ze&255;--mt>=0&&(Lt*=256);)ze<0&&St===0&&this[De+mt+1]!==0&&(St=1),this[De+mt]=(ze/Lt>>0)-St&255;return De+Ze},ue.prototype.writeInt8=function(ze,De,Ze){return ze=+ze,De=De>>>0,Ze||Me(this,ze,De,1,127,-128),ze<0&&(ze=255+ze+1),this[De]=ze&255,De+1},ue.prototype.writeInt16LE=function(ze,De,Ze){return ze=+ze,De=De>>>0,Ze||Me(this,ze,De,2,32767,-32768),this[De]=ze&255,this[De+1]=ze>>>8,De+2},ue.prototype.writeInt16BE=function(ze,De,Ze){return ze=+ze,De=De>>>0,Ze||Me(this,ze,De,2,32767,-32768),this[De]=ze>>>8,this[De+1]=ze&255,De+2},ue.prototype.writeInt32LE=function(ze,De,Ze){return ze=+ze,De=De>>>0,Ze||Me(this,ze,De,4,2147483647,-2147483648),this[De]=ze&255,this[De+1]=ze>>>8,this[De+2]=ze>>>16,this[De+3]=ze>>>24,De+4},ue.prototype.writeInt32BE=function(ze,De,Ze){return ze=+ze,De=De>>>0,Ze||Me(this,ze,De,4,2147483647,-2147483648),ze<0&&(ze=4294967295+ze+1),this[De]=ze>>>24,this[De+1]=ze>>>16,this[De+2]=ze>>>8,this[De+3]=ze&255,De+4};function Le(Qe,ze,De,Ze,yt,dt){if(De+Ze>Qe.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("Index out of range")}function Je(Qe,ze,De,Ze,yt){return ze=+ze,De=De>>>0,yt||Le(Qe,ze,De,4),re.write(Qe,ze,De,Ze,23,4),De+4}ue.prototype.writeFloatLE=function(ze,De,Ze){return Je(this,ze,De,!0,Ze)},ue.prototype.writeFloatBE=function(ze,De,Ze){return Je(this,ze,De,!1,Ze)};function Ue(Qe,ze,De,Ze,yt){return ze=+ze,De=De>>>0,yt||Le(Qe,ze,De,8),re.write(Qe,ze,De,Ze,52,8),De+8}ue.prototype.writeDoubleLE=function(ze,De,Ze){return Ue(this,ze,De,!0,Ze)},ue.prototype.writeDoubleBE=function(ze,De,Ze){return Ue(this,ze,De,!1,Ze)},ue.prototype.copy=function(ze,De,Ze,yt){if(!ue.isBuffer(ze))throw new TypeError("argument should be a Buffer");if(Ze||(Ze=0),!yt&&yt!==0&&(yt=this.length),De>=ze.length&&(De=ze.length),De||(De=0),yt>0&&yt<Ze&&(yt=Ze),yt===Ze||ze.length===0||this.length===0)return 0;if(De<0)throw new RangeError("targetStart out of bounds");if(Ze<0||Ze>=this.length)throw new RangeError("Index out of range");if(yt<0)throw new RangeError("sourceEnd out of bounds");yt>this.length&&(yt=this.length),ze.length-De<yt-Ze&&(yt=ze.length-De+Ze);var dt=yt-Ze;return this===ze&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(De,Ze,yt):Uint8Array.prototype.set.call(ze,this.subarray(Ze,yt),De),dt},ue.prototype.fill=function(ze,De,Ze,yt){if(typeof ze=="string"){if(typeof De=="string"?(yt=De,De=0,Ze=this.length):typeof Ze=="string"&&(yt=Ze,Ze=this.length),yt!==void 0&&typeof yt!="string")throw new TypeError("encoding must be a string");if(typeof yt=="string"&&!ue.isEncoding(yt))throw new TypeError("Unknown encoding: "+yt);if(ze.length===1){var dt=ze.charCodeAt(0);(yt==="utf8"&&dt<128||yt==="latin1")&&(ze=dt)}}else typeof ze=="number"?ze=ze&255:typeof ze=="boolean"&&(ze=Number(ze));if(De<0||this.length<De||this.length<Ze)throw new RangeError("Out of range index");if(Ze<=De)return this;De=De>>>0,Ze=Ze===void 0?this.length:Ze>>>0,ze||(ze=0);var mt;if(typeof ze=="number")for(mt=De;mt<Ze;++mt)this[mt]=ze;else{var Lt=ue.isBuffer(ze)?ze:ue.from(ze,yt),St=Lt.length;if(St===0)throw new TypeError('The value "'+ze+'" is invalid for argument "value"');for(mt=0;mt<Ze-De;++mt)this[mt+De]=Lt[mt%St]}return this};var ct=/[^+/0-9A-Za-z-_]/g;function gt(Qe){if(Qe=Qe.split("=")[0],Qe=Qe.trim().replace(ct,""),Qe.length<2)return"";for(;Qe.length%4!==0;)Qe=Qe+"=";return Qe}function $t(Qe,ze){ze=ze||1/0;for(var De,Ze=Qe.length,yt=null,dt=[],mt=0;mt<Ze;++mt){if(De=Qe.charCodeAt(mt),De>55295&&De<57344){if(!yt){if(De>56319){(ze-=3)>-1&&dt.push(239,191,189);continue}else if(mt+1===Ze){(ze-=3)>-1&&dt.push(239,191,189);continue}yt=De;continue}if(De<56320){(ze-=3)>-1&&dt.push(239,191,189),yt=De;continue}De=(yt-55296<<10|De-56320)+65536}else yt&&(ze-=3)>-1&&dt.push(239,191,189);if(yt=null,De<128){if((ze-=1)<0)break;dt.push(De)}else if(De<2048){if((ze-=2)<0)break;dt.push(De>>6|192,De&63|128)}else if(De<65536){if((ze-=3)<0)break;dt.push(De>>12|224,De>>6&63|128,De&63|128)}else if(De<1114112){if((ze-=4)<0)break;dt.push(De>>18|240,De>>12&63|128,De>>6&63|128,De&63|128)}else throw new Error("Invalid code point")}return dt}function vt(Qe){for(var ze=[],De=0;De<Qe.length;++De)ze.push(Qe.charCodeAt(De)&255);return ze}function Tt(Qe,ze){for(var De,Ze,yt,dt=[],mt=0;mt<Qe.length&&!((ze-=2)<0);++mt)De=Qe.charCodeAt(mt),Ze=De>>8,yt=De%256,dt.push(yt),dt.push(Ze);return dt}function qt(Qe){return ee.toByteArray(gt(Qe))}function Rt(Qe,ze,De,Ze){for(var yt=0;yt<Ze&&!(yt+De>=ze.length||yt>=Qe.length);++yt)ze[yt+De]=Qe[yt];return yt}function lt(Qe,ze){return Qe instanceof ze||Qe!=null&&Qe.constructor!=null&&Qe.constructor.name!=null&&Qe.constructor.name===ze.name}function _t(Qe){return Qe!==Qe}var bt=function(){for(var Qe="0123456789abcdef",ze=new Array(256),De=0;De<16;++De)for(var Ze=De*16,yt=0;yt<16;++yt)ze[Ze+yt]=Qe[De]+Qe[yt];return ze}()})(buffer);var BufferUtil$2=typedarrayBuffer,Polynomial=polynomial,Buffer$1=buffer.Buffer;function ReedSolomonEncoder$1(te){this.genPoly=void 0,this.degree=te,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function te(ee){this.degree=ee,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function te(ee){if(!this.genPoly)throw new Error("Encoder not initialized");var re=BufferUtil$2.alloc(this.degree),ne=Buffer$1.concat([ee,re],ee.length+this.degree),oe=Polynomial.mod(ne,this.genPoly),ie=this.degree-oe.length;if(ie>0){var se=BufferUtil$2.alloc(this.degree);return oe.copy(se,ie),se}return oe};var reedSolomonEncoder=ReedSolomonEncoder$1,version={},mode={},versionCheck={};versionCheck.isValid=function te(ee){return!isNaN(ee)&&ee>=1&&ee<=40};var regex={},numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+",kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");var byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");var TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function te(ee){return TEST_KANJI.test(ee)};regex.testNumeric=function te(ee){return TEST_NUMERIC.test(ee)};regex.testAlphanumeric=function te(ee){return TEST_ALPHANUMERIC.test(ee)};(function(te){var ee=versionCheck,re=regex;te.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},te.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},te.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},te.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},te.MIXED={bit:-1},te.getCharCountIndicator=function(ie,se){if(!ie.ccBits)throw new Error("Invalid mode: "+ie);if(!ee.isValid(se))throw new Error("Invalid version: "+se);return se>=1&&se<10?ie.ccBits[0]:se<27?ie.ccBits[1]:ie.ccBits[2]},te.getBestModeForData=function(ie){return re.testNumeric(ie)?te.NUMERIC:re.testAlphanumeric(ie)?te.ALPHANUMERIC:re.testKanji(ie)?te.KANJI:te.BYTE},te.toString=function(ie){if(ie&&ie.id)return ie.id;throw new Error("Invalid mode")},te.isValid=function(ie){return ie&&ie.bit&&ie.ccBits};function ne(oe){if(typeof oe!="string")throw new Error("Param is not a string");var ie=oe.toLowerCase();switch(ie){case"numeric":return te.NUMERIC;case"alphanumeric":return te.ALPHANUMERIC;case"kanji":return te.KANJI;case"byte":return te.BYTE;default:throw new Error("Unknown mode: "+oe)}}te.from=function(ie,se){if(te.isValid(ie))return ie;try{return ne(ie)}catch{return se}}})(mode);(function(te){var ee=utils$1,re=errorCorrectionCode,ne=errorCorrectionLevel,oe=mode,ie=versionCheck,se=isarray,ue=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,he=ee.getBCHDigit(ue);function ge(ke,Re,Ce){for(var Pe=1;Pe<=40;Pe++)if(Re<=te.getCapacity(Pe,Ce,ke))return Pe}function be(ke,Re){return oe.getCharCountIndicator(ke,Re)+4}function Se(ke,Re){var Ce=0;return ke.forEach(function(Pe){var Ie=be(Pe.mode,Re);Ce+=Ie+Pe.getBitsLength()}),Ce}function Te(ke,Re){for(var Ce=1;Ce<=40;Ce++){var Pe=Se(ke,Ce);if(Pe<=te.getCapacity(Ce,Re,oe.MIXED))return Ce}}te.from=function(Re,Ce){return ie.isValid(Re)?parseInt(Re,10):Ce},te.getCapacity=function(Re,Ce,Pe){if(!ie.isValid(Re))throw new Error("Invalid QR Code version");typeof Pe=="undefined"&&(Pe=oe.BYTE);var Ie=ee.getSymbolTotalCodewords(Re),Ne=re.getTotalCodewordsCount(Re,Ce),He=(Ie-Ne)*8;if(Pe===oe.MIXED)return He;var Ke=He-be(Pe,Re);switch(Pe){case oe.NUMERIC:return Math.floor(Ke/10*3);case oe.ALPHANUMERIC:return Math.floor(Ke/11*2);case oe.KANJI:return Math.floor(Ke/13);case oe.BYTE:default:return Math.floor(Ke/8)}},te.getBestVersionForData=function(Re,Ce){var Pe,Ie=ne.from(Ce,ne.M);if(se(Re)){if(Re.length>1)return Te(Re,Ie);if(Re.length===0)return 1;Pe=Re[0]}else Pe=Re;return ge(Pe.mode,Pe.getLength(),Ie)},te.getEncodedBits=function(Re){if(!ie.isValid(Re)||Re<7)throw new Error("Invalid QR Code version");for(var Ce=Re<<12;ee.getBCHDigit(Ce)-he>=0;)Ce^=ue<<ee.getBCHDigit(Ce)-he;return Re<<12|Ce}})(version);var formatInfo={},Utils$3=utils$1,G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function te(ee,re){for(var ne=ee.bit<<3|re,oe=ne<<10;Utils$3.getBCHDigit(oe)-G15_BCH>=0;)oe^=G15<<Utils$3.getBCHDigit(oe)-G15_BCH;return(ne<<10|oe)^G15_MASK};var segments={},Mode$4=mode;function NumericData(te){this.mode=Mode$4.NUMERIC,this.data=te.toString()}NumericData.getBitsLength=function te(ee){return 10*Math.floor(ee/3)+(ee%3?ee%3*3+1:0)};NumericData.prototype.getLength=function te(){return this.data.length};NumericData.prototype.getBitsLength=function te(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function te(ee){var re,ne,oe;for(re=0;re+3<=this.data.length;re+=3)ne=this.data.substr(re,3),oe=parseInt(ne,10),ee.put(oe,10);var ie=this.data.length-re;ie>0&&(ne=this.data.substr(re),oe=parseInt(ne,10),ee.put(oe,ie*3+1))};var numericData=NumericData,Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(te){this.mode=Mode$3.ALPHANUMERIC,this.data=te}AlphanumericData.getBitsLength=function te(ee){return 11*Math.floor(ee/2)+6*(ee%2)};AlphanumericData.prototype.getLength=function te(){return this.data.length};AlphanumericData.prototype.getBitsLength=function te(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function te(ee){var re;for(re=0;re+2<=this.data.length;re+=2){var ne=ALPHA_NUM_CHARS.indexOf(this.data[re])*45;ne+=ALPHA_NUM_CHARS.indexOf(this.data[re+1]),ee.put(ne,11)}this.data.length%2&&ee.put(ALPHA_NUM_CHARS.indexOf(this.data[re]),6)};var alphanumericData=AlphanumericData,BufferUtil$1=typedarrayBuffer,Mode$2=mode;function ByteData(te){this.mode=Mode$2.BYTE,this.data=BufferUtil$1.from(te)}ByteData.getBitsLength=function te(ee){return ee*8};ByteData.prototype.getLength=function te(){return this.data.length};ByteData.prototype.getBitsLength=function te(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(te){for(var ee=0,re=this.data.length;ee<re;ee++)te.put(this.data[ee],8)};var byteData=ByteData,Mode$1=mode,Utils$2=utils$1;function KanjiData(te){this.mode=Mode$1.KANJI,this.data=te}KanjiData.getBitsLength=function te(ee){return ee*13};KanjiData.prototype.getLength=function te(){return this.data.length};KanjiData.prototype.getBitsLength=function te(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(te){var ee;for(ee=0;ee<this.data.length;ee++){var re=Utils$2.toSJIS(this.data[ee]);if(re>=33088&&re<=40956)re-=33088;else if(re>=57408&&re<=60351)re-=49472;else throw new Error("Invalid SJIS character: "+this.data[ee]+`
Make sure your charset is UTF-8`);re=(re>>>8&255)*192+(re&255),te.put(re,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(te){var ee={single_source_shortest_paths:function(re,ne,oe){var ie={},se={};se[ne]=0;var ue=ee.PriorityQueue.make();ue.push(ne,0);for(var he,ge,be,Se,Te,ke,Re,Ce,Pe;!ue.empty();){he=ue.pop(),ge=he.value,Se=he.cost,Te=re[ge]||{};for(be in Te)Te.hasOwnProperty(be)&&(ke=Te[be],Re=Se+ke,Ce=se[be],Pe=typeof se[be]=="undefined",(Pe||Ce>Re)&&(se[be]=Re,ue.push(be,Re),ie[be]=ge))}if(typeof oe!="undefined"&&typeof se[oe]=="undefined"){var Ie=["Could not find a path from ",ne," to ",oe,"."].join("");throw new Error(Ie)}return ie},extract_shortest_path_from_predecessor_list:function(re,ne){for(var oe=[],ie=ne;ie;)oe.push(ie),ie=re[ie];return oe.reverse(),oe},find_path:function(re,ne,oe){var ie=ee.single_source_shortest_paths(re,ne,oe);return ee.extract_shortest_path_from_predecessor_list(ie,oe)},PriorityQueue:{make:function(re){var ne=ee.PriorityQueue,oe={},ie;re=re||{};for(ie in ne)ne.hasOwnProperty(ie)&&(oe[ie]=ne[ie]);return oe.queue=[],oe.sorter=re.sorter||ne.default_sorter,oe},default_sorter:function(re,ne){return re.cost-ne.cost},push:function(re,ne){var oe={value:re,cost:ne};this.queue.push(oe),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};te.exports=ee})(dijkstra);(function(te){var ee=mode,re=numericData,ne=alphanumericData,oe=byteData,ie=kanjiData,se=regex,ue=utils$1,he=dijkstra.exports;function ge(Ie){return unescape(encodeURIComponent(Ie)).length}function be(Ie,Ne,He){for(var Ke=[],Ge;(Ge=Ie.exec(He))!==null;)Ke.push({data:Ge[0],index:Ge.index,mode:Ne,length:Ge[0].length});return Ke}function Se(Ie){var Ne=be(se.NUMERIC,ee.NUMERIC,Ie),He=be(se.ALPHANUMERIC,ee.ALPHANUMERIC,Ie),Ke,Ge;ue.isKanjiModeEnabled()?(Ke=be(se.BYTE,ee.BYTE,Ie),Ge=be(se.KANJI,ee.KANJI,Ie)):(Ke=be(se.BYTE_KANJI,ee.BYTE,Ie),Ge=[]);var ut=Ne.concat(He,Ke,Ge);return ut.sort(function(Ve,nt){return Ve.index-nt.index}).map(function(Ve){return{data:Ve.data,mode:Ve.mode,length:Ve.length}})}function Te(Ie,Ne){switch(Ne){case ee.NUMERIC:return re.getBitsLength(Ie);case ee.ALPHANUMERIC:return ne.getBitsLength(Ie);case ee.KANJI:return ie.getBitsLength(Ie);case ee.BYTE:return oe.getBitsLength(Ie)}}function ke(Ie){return Ie.reduce(function(Ne,He){var Ke=Ne.length-1>=0?Ne[Ne.length-1]:null;return Ke&&Ke.mode===He.mode?(Ne[Ne.length-1].data+=He.data,Ne):(Ne.push(He),Ne)},[])}function Re(Ie){for(var Ne=[],He=0;He<Ie.length;He++){var Ke=Ie[He];switch(Ke.mode){case ee.NUMERIC:Ne.push([Ke,{data:Ke.data,mode:ee.ALPHANUMERIC,length:Ke.length},{data:Ke.data,mode:ee.BYTE,length:Ke.length}]);break;case ee.ALPHANUMERIC:Ne.push([Ke,{data:Ke.data,mode:ee.BYTE,length:Ke.length}]);break;case ee.KANJI:Ne.push([Ke,{data:Ke.data,mode:ee.BYTE,length:ge(Ke.data)}]);break;case ee.BYTE:Ne.push([{data:Ke.data,mode:ee.BYTE,length:ge(Ke.data)}])}}return Ne}function Ce(Ie,Ne){for(var He={},Ke={start:{}},Ge=["start"],ut=0;ut<Ie.length;ut++){for(var Ve=Ie[ut],nt=[],st=0;st<Ve.length;st++){var qe=Ve[st],ye=""+ut+st;nt.push(ye),He[ye]={node:qe,lastCount:0},Ke[ye]={};for(var ae=0;ae<Ge.length;ae++){var ce=Ge[ae];He[ce]&&He[ce].node.mode===qe.mode?(Ke[ce][ye]=Te(He[ce].lastCount+qe.length,qe.mode)-Te(He[ce].lastCount,qe.mode),He[ce].lastCount+=qe.length):(He[ce]&&(He[ce].lastCount=qe.length),Ke[ce][ye]=Te(qe.length,qe.mode)+4+ee.getCharCountIndicator(qe.mode,Ne))}}Ge=nt}for(ae=0;ae<Ge.length;ae++)Ke[Ge[ae]].end=0;return{map:Ke,table:He}}function Pe(Ie,Ne){var He,Ke=ee.getBestModeForData(Ie);if(He=ee.from(Ne,Ke),He!==ee.BYTE&&He.bit<Ke.bit)throw new Error('"'+Ie+'" cannot be encoded with mode '+ee.toString(He)+`.
 Suggested mode is: `+ee.toString(Ke));switch(He===ee.KANJI&&!ue.isKanjiModeEnabled()&&(He=ee.BYTE),He){case ee.NUMERIC:return new re(Ie);case ee.ALPHANUMERIC:return new ne(Ie);case ee.KANJI:return new ie(Ie);case ee.BYTE:return new oe(Ie)}}te.fromArray=function(Ne){return Ne.reduce(function(He,Ke){return typeof Ke=="string"?He.push(Pe(Ke,null)):Ke.data&&He.push(Pe(Ke.data,Ke.mode)),He},[])},te.fromString=function(Ne,He){for(var Ke=Se(Ne,ue.isKanjiModeEnabled()),Ge=Re(Ke),ut=Ce(Ge,He),Ve=he.find_path(ut.map,"start","end"),nt=[],st=1;st<Ve.length-1;st++)nt.push(ut.table[Ve[st]].node);return te.fromArray(ke(nt))},te.rawSplit=function(Ne){return te.fromArray(Se(Ne,ue.isKanjiModeEnabled()))}})(segments);var BufferUtil=typedarrayBuffer,Utils$1=utils$1,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version,FormatInfo=formatInfo,Mode=mode,Segments=segments,isArray=isarray;function setupFinderPattern(te,ee){for(var re=te.size,ne=FinderPattern.getPositions(ee),oe=0;oe<ne.length;oe++)for(var ie=ne[oe][0],se=ne[oe][1],ue=-1;ue<=7;ue++)if(!(ie+ue<=-1||re<=ie+ue))for(var he=-1;he<=7;he++)se+he<=-1||re<=se+he||(ue>=0&&ue<=6&&(he===0||he===6)||he>=0&&he<=6&&(ue===0||ue===6)||ue>=2&&ue<=4&&he>=2&&he<=4?te.set(ie+ue,se+he,!0,!0):te.set(ie+ue,se+he,!1,!0))}function setupTimingPattern(te){for(var ee=te.size,re=8;re<ee-8;re++){var ne=re%2===0;te.set(re,6,ne,!0),te.set(6,re,ne,!0)}}function setupAlignmentPattern(te,ee){for(var re=AlignmentPattern.getPositions(ee),ne=0;ne<re.length;ne++)for(var oe=re[ne][0],ie=re[ne][1],se=-2;se<=2;se++)for(var ue=-2;ue<=2;ue++)se===-2||se===2||ue===-2||ue===2||se===0&&ue===0?te.set(oe+se,ie+ue,!0,!0):te.set(oe+se,ie+ue,!1,!0)}function setupVersionInfo(te,ee){for(var re=te.size,ne=Version.getEncodedBits(ee),oe,ie,se,ue=0;ue<18;ue++)oe=Math.floor(ue/3),ie=ue%3+re-8-3,se=(ne>>ue&1)===1,te.set(oe,ie,se,!0),te.set(ie,oe,se,!0)}function setupFormatInfo(te,ee,re){var ne=te.size,oe=FormatInfo.getEncodedBits(ee,re),ie,se;for(ie=0;ie<15;ie++)se=(oe>>ie&1)===1,ie<6?te.set(ie,8,se,!0):ie<8?te.set(ie+1,8,se,!0):te.set(ne-15+ie,8,se,!0),ie<8?te.set(8,ne-ie-1,se,!0):ie<9?te.set(8,15-ie-1+1,se,!0):te.set(8,15-ie-1,se,!0);te.set(ne-8,8,1,!0)}function setupData(te,ee){for(var re=te.size,ne=-1,oe=re-1,ie=7,se=0,ue=re-1;ue>0;ue-=2)for(ue===6&&ue--;;){for(var he=0;he<2;he++)if(!te.isReserved(oe,ue-he)){var ge=!1;se<ee.length&&(ge=(ee[se]>>>ie&1)===1),te.set(oe,ue-he,ge),ie--,ie===-1&&(se++,ie=7)}if(oe+=ne,oe<0||re<=oe){oe-=ne,ne=-ne;break}}}function createData(te,ee,re){var ne=new BitBuffer;re.forEach(function(ge){ne.put(ge.mode.bit,4),ne.put(ge.getLength(),Mode.getCharCountIndicator(ge.mode,te)),ge.write(ne)});var oe=Utils$1.getSymbolTotalCodewords(te),ie=ECCode.getTotalCodewordsCount(te,ee),se=(oe-ie)*8;for(ne.getLengthInBits()+4<=se&&ne.put(0,4);ne.getLengthInBits()%8!==0;)ne.putBit(0);for(var ue=(se-ne.getLengthInBits())/8,he=0;he<ue;he++)ne.put(he%2?17:236,8);return createCodewords(ne,te,ee)}function createCodewords(te,ee,re){for(var ne=Utils$1.getSymbolTotalCodewords(ee),oe=ECCode.getTotalCodewordsCount(ee,re),ie=ne-oe,se=ECCode.getBlocksCount(ee,re),ue=ne%se,he=se-ue,ge=Math.floor(ne/se),be=Math.floor(ie/se),Se=be+1,Te=ge-be,ke=new ReedSolomonEncoder(Te),Re=0,Ce=new Array(se),Pe=new Array(se),Ie=0,Ne=BufferUtil.from(te.buffer),He=0;He<se;He++){var Ke=He<he?be:Se;Ce[He]=Ne.slice(Re,Re+Ke),Pe[He]=ke.encode(Ce[He]),Re+=Ke,Ie=Math.max(Ie,Ke)}var Ge=BufferUtil.alloc(ne),ut=0,Ve,nt;for(Ve=0;Ve<Ie;Ve++)for(nt=0;nt<se;nt++)Ve<Ce[nt].length&&(Ge[ut++]=Ce[nt][Ve]);for(Ve=0;Ve<Te;Ve++)for(nt=0;nt<se;nt++)Ge[ut++]=Pe[nt][Ve];return Ge}function createSymbol(te,ee,re,ne){var oe;if(isArray(te))oe=Segments.fromArray(te);else if(typeof te=="string"){var ie=ee;if(!ie){var se=Segments.rawSplit(te);ie=Version.getBestVersionForData(se,re)}oe=Segments.fromString(te,ie||40)}else throw new Error("Invalid data");var ue=Version.getBestVersionForData(oe,re);if(!ue)throw new Error("The amount of data is too big to be stored in a QR Code");if(!ee)ee=ue;else if(ee<ue)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ue+`.
`);var he=createData(ee,re,oe),ge=Utils$1.getSymbolSize(ee),be=new BitMatrix(ge);return setupFinderPattern(be,ee),setupTimingPattern(be),setupAlignmentPattern(be,ee),setupFormatInfo(be,re,0),ee>=7&&setupVersionInfo(be,ee),setupData(be,he),isNaN(ne)&&(ne=MaskPattern.getBestMask(be,setupFormatInfo.bind(null,be,re))),MaskPattern.applyMask(ne,be),setupFormatInfo(be,re,ne),{modules:be,version:ee,errorCorrectionLevel:re,maskPattern:ne,segments:oe}}qrcode.create=function te(ee,re){if(typeof ee=="undefined"||ee==="")throw new Error("No input text");var ne=ECLevel.M,oe,ie;return typeof re!="undefined"&&(ne=ECLevel.from(re.errorCorrectionLevel,ECLevel.M),oe=Version.from(re.version),ie=MaskPattern.from(re.maskPattern),re.toSJISFunc&&Utils$1.setToSJISFunction(re.toSJISFunc)),createSymbol(ee,oe,ne,ie)};var canvas={},utils={};(function(te){function ee(re){if(typeof re=="number"&&(re=re.toString()),typeof re!="string")throw new Error("Color should be defined as hex string");var ne=re.slice().replace("#","").split("");if(ne.length<3||ne.length===5||ne.length>8)throw new Error("Invalid hex color: "+re);(ne.length===3||ne.length===4)&&(ne=Array.prototype.concat.apply([],ne.map(function(ie){return[ie,ie]}))),ne.length===6&&ne.push("F","F");var oe=parseInt(ne.join(""),16);return{r:oe>>24&255,g:oe>>16&255,b:oe>>8&255,a:oe&255,hex:"#"+ne.slice(0,6).join("")}}te.getOptions=function(ne){ne||(ne={}),ne.color||(ne.color={});var oe=typeof ne.margin=="undefined"||ne.margin===null||ne.margin<0?4:ne.margin,ie=ne.width&&ne.width>=21?ne.width:void 0,se=ne.scale||4;return{width:ie,scale:ie?4:se,margin:oe,color:{dark:ee(ne.color.dark||"#000000ff"),light:ee(ne.color.light||"#ffffffff")},type:ne.type,rendererOpts:ne.rendererOpts||{}}},te.getScale=function(ne,oe){return oe.width&&oe.width>=ne+oe.margin*2?oe.width/(ne+oe.margin*2):oe.scale},te.getImageWidth=function(ne,oe){var ie=te.getScale(ne,oe);return Math.floor((ne+oe.margin*2)*ie)},te.qrToImageData=function(ne,oe,ie){for(var se=oe.modules.size,ue=oe.modules.data,he=te.getScale(se,ie),ge=Math.floor((se+ie.margin*2)*he),be=ie.margin*he,Se=[ie.color.light,ie.color.dark],Te=0;Te<ge;Te++)for(var ke=0;ke<ge;ke++){var Re=(Te*ge+ke)*4,Ce=ie.color.light;if(Te>=be&&ke>=be&&Te<ge-be&&ke<ge-be){var Pe=Math.floor((Te-be)/he),Ie=Math.floor((ke-be)/he);Ce=Se[ue[Pe*se+Ie]?1:0]}ne[Re++]=Ce.r,ne[Re++]=Ce.g,ne[Re++]=Ce.b,ne[Re]=Ce.a}}})(utils);(function(te){var ee=utils;function re(oe,ie,se){oe.clearRect(0,0,ie.width,ie.height),ie.style||(ie.style={}),ie.height=se,ie.width=se,ie.style.height=se+"px",ie.style.width=se+"px"}function ne(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}te.render=function(ie,se,ue){var he=ue,ge=se;typeof he=="undefined"&&(!se||!se.getContext)&&(he=se,se=void 0),se||(ge=ne()),he=ee.getOptions(he);var be=ee.getImageWidth(ie.modules.size,he),Se=ge.getContext("2d"),Te=Se.createImageData(be,be);return ee.qrToImageData(Te.data,ie,he),re(Se,ge,be),Se.putImageData(Te,0,0),ge},te.renderToDataURL=function(ie,se,ue){var he=ue;typeof he=="undefined"&&(!se||!se.getContext)&&(he=se,se=void 0),he||(he={});var ge=te.render(ie,se,he),be=he.type||"image/png",Se=he.rendererOpts||{};return ge.toDataURL(be,Se.quality)}})(canvas);var svgTag={},Utils=utils;function getColorAttrib(te,ee){var re=te.a/255,ne=ee+'="'+te.hex+'"';return re<1?ne+" "+ee+'-opacity="'+re.toFixed(2).slice(1)+'"':ne}function svgCmd(te,ee,re){var ne=te+ee;return typeof re!="undefined"&&(ne+=" "+re),ne}function qrToPath(te,ee,re){for(var ne="",oe=0,ie=!1,se=0,ue=0;ue<te.length;ue++){var he=Math.floor(ue%ee),ge=Math.floor(ue/ee);!he&&!ie&&(ie=!0),te[ue]?(se++,ue>0&&he>0&&te[ue-1]||(ne+=ie?svgCmd("M",he+re,.5+ge+re):svgCmd("m",oe,0),oe=0,ie=!1),he+1<ee&&te[ue+1]||(ne+=svgCmd("h",se),se=0)):oe++}return ne}svgTag.render=function te(ee,re,ne){var oe=Utils.getOptions(re),ie=ee.modules.size,se=ee.modules.data,ue=ie+oe.margin*2,he=oe.color.light.a?"<path "+getColorAttrib(oe.color.light,"fill")+' d="M0 0h'+ue+"v"+ue+'H0z"/>':"",ge="<path "+getColorAttrib(oe.color.dark,"stroke")+' d="'+qrToPath(se,ie,oe.margin)+'"/>',be='viewBox="0 0 '+ue+" "+ue+'"',Se=oe.width?'width="'+oe.width+'" height="'+oe.width+'" ':"",Te='<svg xmlns="http://www.w3.org/2000/svg" '+Se+be+' shape-rendering="crispEdges">'+he+ge+`</svg>
`;return typeof ne=="function"&&ne(null,Te),Te};var canPromise=canPromise$1,QRCode$1=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(te,ee,re,ne,oe){var ie=[].slice.call(arguments,1),se=ie.length,ue=typeof ie[se-1]=="function";if(!ue&&!canPromise())throw new Error("Callback required as last argument");if(ue){if(se<2)throw new Error("Too few arguments provided");se===2?(oe=re,re=ee,ee=ne=void 0):se===3&&(ee.getContext&&typeof oe=="undefined"?(oe=ne,ne=void 0):(oe=ne,ne=re,re=ee,ee=void 0))}else{if(se<1)throw new Error("Too few arguments provided");return se===1?(re=ee,ee=ne=void 0):se===2&&!ee.getContext&&(ne=re,re=ee,ee=void 0),new Promise(function(ge,be){try{var Se=QRCode$1.create(re,ne);ge(te(Se,ee,ne))}catch(Te){be(Te)}})}try{var he=QRCode$1.create(re,ne);oe(null,te(he,ee,ne))}catch(ge){oe(ge)}}browser.create=QRCode$1.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL);browser.toString=renderCanvas.bind(null,function(te,ee,re){return SvgRenderer.render(te,re)});var toggleSelection=function(){var te=document.getSelection();if(!te.rangeCount)return function(){};for(var ee=document.activeElement,re=[],ne=0;ne<te.rangeCount;ne++)re.push(te.getRangeAt(ne));switch(ee.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":ee.blur();break;default:ee=null;break}return te.removeAllRanges(),function(){te.type==="Caret"&&te.removeAllRanges(),te.rangeCount||re.forEach(function(oe){te.addRange(oe)}),ee&&ee.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format(te){var ee=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return te.replace(/#{\s*key\s*}/g,ee)}function copy$1(te,ee){var re,ne,oe,ie,se,ue,he=!1;ee||(ee={}),re=ee.debug||!1;try{oe=deselectCurrent(),ie=document.createRange(),se=document.getSelection(),ue=document.createElement("span"),ue.textContent=te,ue.style.all="unset",ue.style.position="fixed",ue.style.top=0,ue.style.clip="rect(0, 0, 0, 0)",ue.style.whiteSpace="pre",ue.style.webkitUserSelect="text",ue.style.MozUserSelect="text",ue.style.msUserSelect="text",ue.style.userSelect="text",ue.addEventListener("copy",function(be){if(be.stopPropagation(),ee.format)if(be.preventDefault(),typeof be.clipboardData=="undefined"){re&&console.warn("unable to use e.clipboardData"),re&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var Se=clipboardToIE11Formatting[ee.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(Se,te)}else be.clipboardData.clearData(),be.clipboardData.setData(ee.format,te);ee.onCopy&&(be.preventDefault(),ee.onCopy(be.clipboardData))}),document.body.appendChild(ue),ie.selectNodeContents(ue),se.addRange(ie);var ge=document.execCommand("copy");if(!ge)throw new Error("copy command was unsuccessful");he=!0}catch(be){re&&console.error("unable to copy using execCommand: ",be),re&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(ee.format||"text",te),ee.onCopy&&ee.onCopy(window.clipboardData),he=!0}catch(Se){re&&console.error("unable to copy using clipboardData: ",Se),re&&console.error("falling back to prompt"),ne=format("message"in ee?ee.message:defaultMessage),window.prompt(ne,te)}}finally{se&&(typeof se.removeRange=="function"?se.removeRange(ie):se.removeAllRanges()),ue&&document.body.removeChild(ue),oe()}return he}var copyToClipboard=copy$1,n,u$1,i$1,t$1,r$1,o$1,f$1,e$1={},c$1=[],s$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a$1(te,ee){for(var re in ee)te[re]=ee[re];return te}function v$1(te){var ee=te.parentNode;ee&&ee.removeChild(te)}function h$1(te,ee,re){var ne,oe=arguments,ie={};for(ne in ee)ne!=="key"&&ne!=="ref"&&(ie[ne]=ee[ne]);if(arguments.length>3)for(re=[re],ne=3;ne<arguments.length;ne++)re.push(oe[ne]);if(re!=null&&(ie.children=re),typeof te=="function"&&te.defaultProps!=null)for(ne in te.defaultProps)ie[ne]===void 0&&(ie[ne]=te.defaultProps[ne]);return p$1(te,ie,ee&&ee.key,ee&&ee.ref,null)}function p$1(te,ee,re,ne,oe){var ie={type:te,props:ee,key:re,ref:ne,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:oe};return oe==null&&(ie.__v=ie),n.vnode&&n.vnode(ie),ie}function y$1(){return{}}function d$1(te){return te.children}function m$1(te,ee){this.props=te,this.context=ee}function w$2(te,ee){if(ee==null)return te.__?w$2(te.__,te.__.__k.indexOf(te)+1):null;for(var re;ee<te.__k.length;ee++)if((re=te.__k[ee])!=null&&re.__e!=null)return re.__e;return typeof te.type=="function"?w$2(te):null}function k$1(te){var ee,re;if((te=te.__)!=null&&te.__c!=null){for(te.__e=te.__c.base=null,ee=0;ee<te.__k.length;ee++)if((re=te.__k[ee])!=null&&re.__e!=null){te.__e=te.__c.base=re.__e;break}return k$1(te)}}function g$1(te){(!te.__d&&(te.__d=!0)&&u$1.push(te)&&!i$1++||r$1!==n.debounceRendering)&&((r$1=n.debounceRendering)||t$1)(_$2)}function _$2(){for(var te;i$1=u$1.length;)te=u$1.sort(function(ee,re){return ee.__v.__b-re.__v.__b}),u$1=[],te.some(function(ee){var re,ne,oe,ie,se,ue,he;ee.__d&&(ue=(se=(re=ee).__v).__e,(he=re.__P)&&(ne=[],(oe=a$1({},se)).__v=oe,ie=A$2(he,se,oe,re.__n,he.ownerSVGElement!==void 0,null,ne,ue==null?w$2(se):ue),T$2(ne,se),ie!=ue&&k$1(se)))})}function b(te,ee,re,ne,oe,ie,se,ue,he){var ge,be,Se,Te,ke,Re,Ce,Pe=re&&re.__k||c$1,Ie=Pe.length;if(ue==e$1&&(ue=ie!=null?ie[0]:Ie?w$2(re,0):null),ge=0,ee.__k=x$1(ee.__k,function(Ne){if(Ne!=null){if(Ne.__=ee,Ne.__b=ee.__b+1,(Se=Pe[ge])===null||Se&&Ne.key==Se.key&&Ne.type===Se.type)Pe[ge]=void 0;else for(be=0;be<Ie;be++){if((Se=Pe[be])&&Ne.key==Se.key&&Ne.type===Se.type){Pe[be]=void 0;break}Se=null}if(Te=A$2(te,Ne,Se=Se||e$1,ne,oe,ie,se,ue,he),(be=Ne.ref)&&Se.ref!=be&&(Ce||(Ce=[]),Se.ref&&Ce.push(Se.ref,null,Ne),Ce.push(be,Ne.__c||Te,Ne)),Te!=null){var He;if(Re==null&&(Re=Te),Ne.__d!==void 0)He=Ne.__d,Ne.__d=void 0;else if(ie==Se||Te!=ue||Te.parentNode==null){e:if(ue==null||ue.parentNode!==te)te.appendChild(Te),He=null;else{for(ke=ue,be=0;(ke=ke.nextSibling)&&be<Ie;be+=2)if(ke==Te)break e;te.insertBefore(Te,ue),He=ue}ee.type=="option"&&(te.value="")}ue=He!==void 0?He:Te.nextSibling,typeof ee.type=="function"&&(ee.__d=ue)}else ue&&Se.__e==ue&&ue.parentNode!=te&&(ue=w$2(Se))}return ge++,Ne}),ee.__e=Re,ie!=null&&typeof ee.type!="function")for(ge=ie.length;ge--;)ie[ge]!=null&&v$1(ie[ge]);for(ge=Ie;ge--;)Pe[ge]!=null&&D$1(Pe[ge],Pe[ge]);if(Ce)for(ge=0;ge<Ce.length;ge++)j$1(Ce[ge],Ce[++ge],Ce[++ge])}function x$1(te,ee,re){if(re==null&&(re=[]),te==null||typeof te=="boolean")ee&&re.push(ee(null));else if(Array.isArray(te))for(var ne=0;ne<te.length;ne++)x$1(te[ne],ee,re);else re.push(ee?ee(typeof te=="string"||typeof te=="number"?p$1(null,te,null,null,te):te.__e!=null||te.__c!=null?p$1(te.type,te.props,te.key,null,te.__v):te):te);return re}function P$1(te,ee,re,ne,oe){var ie;for(ie in re)ie==="children"||ie==="key"||ie in ee||N$1(te,ie,null,re[ie],ne);for(ie in ee)oe&&typeof ee[ie]!="function"||ie==="children"||ie==="key"||ie==="value"||ie==="checked"||re[ie]===ee[ie]||N$1(te,ie,ee[ie],re[ie],ne)}function C$1(te,ee,re){ee[0]==="-"?te.setProperty(ee,re):te[ee]=typeof re=="number"&&s$1.test(ee)===!1?re+"px":re==null?"":re}function N$1(te,ee,re,ne,oe){var ie,se,ue,he,ge;if(oe?ee==="className"&&(ee="class"):ee==="class"&&(ee="className"),ee==="style")if(ie=te.style,typeof re=="string")ie.cssText=re;else{if(typeof ne=="string"&&(ie.cssText="",ne=null),ne)for(he in ne)re&&he in re||C$1(ie,he,"");if(re)for(ge in re)ne&&re[ge]===ne[ge]||C$1(ie,ge,re[ge])}else ee[0]==="o"&&ee[1]==="n"?(se=ee!==(ee=ee.replace(/Capture$/,"")),ue=ee.toLowerCase(),ee=(ue in te?ue:ee).slice(2),re?(ne||te.addEventListener(ee,z$1,se),(te.l||(te.l={}))[ee]=re):te.removeEventListener(ee,z$1,se)):ee!=="list"&&ee!=="tagName"&&ee!=="form"&&ee!=="type"&&ee!=="size"&&!oe&&ee in te?te[ee]=re==null?"":re:typeof re!="function"&&ee!=="dangerouslySetInnerHTML"&&(ee!==(ee=ee.replace(/^xlink:?/,""))?re==null||re===!1?te.removeAttributeNS("http://www.w3.org/1999/xlink",ee.toLowerCase()):te.setAttributeNS("http://www.w3.org/1999/xlink",ee.toLowerCase(),re):re==null||re===!1&&!/^ar/.test(ee)?te.removeAttribute(ee):te.setAttribute(ee,re))}function z$1(te){this.l[te.type](n.event?n.event(te):te)}function A$2(te,ee,re,ne,oe,ie,se,ue,he){var ge,be,Se,Te,ke,Re,Ce,Pe,Ie,Ne,He=ee.type;if(ee.constructor!==void 0)return null;(ge=n.__b)&&ge(ee);try{e:if(typeof He=="function"){if(Pe=ee.props,Ie=(ge=He.contextType)&&ne[ge.__c],Ne=ge?Ie?Ie.props.value:ge.__:ne,re.__c?Ce=(be=ee.__c=re.__c).__=be.__E:("prototype"in He&&He.prototype.render?ee.__c=be=new He(Pe,Ne):(ee.__c=be=new m$1(Pe,Ne),be.constructor=He,be.render=E$2),Ie&&Ie.sub(be),be.props=Pe,be.state||(be.state={}),be.context=Ne,be.__n=ne,Se=be.__d=!0,be.__h=[]),be.__s==null&&(be.__s=be.state),He.getDerivedStateFromProps!=null&&(be.__s==be.state&&(be.__s=a$1({},be.__s)),a$1(be.__s,He.getDerivedStateFromProps(Pe,be.__s))),Te=be.props,ke=be.state,Se)He.getDerivedStateFromProps==null&&be.componentWillMount!=null&&be.componentWillMount(),be.componentDidMount!=null&&be.__h.push(be.componentDidMount);else{if(He.getDerivedStateFromProps==null&&Pe!==Te&&be.componentWillReceiveProps!=null&&be.componentWillReceiveProps(Pe,Ne),!be.__e&&be.shouldComponentUpdate!=null&&be.shouldComponentUpdate(Pe,be.__s,Ne)===!1||ee.__v===re.__v&&!be.__){for(be.props=Pe,be.state=be.__s,ee.__v!==re.__v&&(be.__d=!1),be.__v=ee,ee.__e=re.__e,ee.__k=re.__k,be.__h.length&&se.push(be),ge=0;ge<ee.__k.length;ge++)ee.__k[ge]&&(ee.__k[ge].__=ee);break e}be.componentWillUpdate!=null&&be.componentWillUpdate(Pe,be.__s,Ne),be.componentDidUpdate!=null&&be.__h.push(function(){be.componentDidUpdate(Te,ke,Re)})}be.context=Ne,be.props=Pe,be.state=be.__s,(ge=n.__r)&&ge(ee),be.__d=!1,be.__v=ee,be.__P=te,ge=be.render(be.props,be.state,be.context),ee.__k=ge!=null&&ge.type==d$1&&ge.key==null?ge.props.children:Array.isArray(ge)?ge:[ge],be.getChildContext!=null&&(ne=a$1(a$1({},ne),be.getChildContext())),Se||be.getSnapshotBeforeUpdate==null||(Re=be.getSnapshotBeforeUpdate(Te,ke)),b(te,ee,re,ne,oe,ie,se,ue,he),be.base=ee.__e,be.__h.length&&se.push(be),Ce&&(be.__E=be.__=null),be.__e=!1}else ie==null&&ee.__v===re.__v?(ee.__k=re.__k,ee.__e=re.__e):ee.__e=$$1(re.__e,ee,re,ne,oe,ie,se,he);(ge=n.diffed)&&ge(ee)}catch(Ke){ee.__v=null,n.__e(Ke,ee,re)}return ee.__e}function T$2(te,ee){n.__c&&n.__c(ee,te),te.some(function(re){try{te=re.__h,re.__h=[],te.some(function(ne){ne.call(re)})}catch(ne){n.__e(ne,re.__v)}})}function $$1(te,ee,re,ne,oe,ie,se,ue){var he,ge,be,Se,Te,ke=re.props,Re=ee.props;if(oe=ee.type==="svg"||oe,ie!=null){for(he=0;he<ie.length;he++)if((ge=ie[he])!=null&&((ee.type===null?ge.nodeType===3:ge.localName===ee.type)||te==ge)){te=ge,ie[he]=null;break}}if(te==null){if(ee.type===null)return document.createTextNode(Re);te=oe?document.createElementNS("http://www.w3.org/2000/svg",ee.type):document.createElement(ee.type,Re.is&&{is:Re.is}),ie=null,ue=!1}if(ee.type===null)ke!==Re&&te.data!=Re&&(te.data=Re);else{if(ie!=null&&(ie=c$1.slice.call(te.childNodes)),be=(ke=re.props||e$1).dangerouslySetInnerHTML,Se=Re.dangerouslySetInnerHTML,!ue){if(ke===e$1)for(ke={},Te=0;Te<te.attributes.length;Te++)ke[te.attributes[Te].name]=te.attributes[Te].value;(Se||be)&&(Se&&be&&Se.__html==be.__html||(te.innerHTML=Se&&Se.__html||""))}P$1(te,Re,ke,oe,ue),Se?ee.__k=[]:(ee.__k=ee.props.children,b(te,ee,re,ne,ee.type!=="foreignObject"&&oe,ie,se,e$1,ue)),ue||("value"in Re&&(he=Re.value)!==void 0&&he!==te.value&&N$1(te,"value",he,ke.value,!1),"checked"in Re&&(he=Re.checked)!==void 0&&he!==te.checked&&N$1(te,"checked",he,ke.checked,!1))}return te}function j$1(te,ee,re){try{typeof te=="function"?te(ee):te.current=ee}catch(ne){n.__e(ne,re)}}function D$1(te,ee,re){var ne,oe,ie;if(n.unmount&&n.unmount(te),(ne=te.ref)&&(ne.current&&ne.current!==te.__e||j$1(ne,null,ee)),re||typeof te.type=="function"||(re=(oe=te.__e)!=null),te.__e=te.__d=void 0,(ne=te.__c)!=null){if(ne.componentWillUnmount)try{ne.componentWillUnmount()}catch(se){n.__e(se,ee)}ne.base=ne.__P=null}if(ne=te.__k)for(ie=0;ie<ne.length;ie++)ne[ie]&&D$1(ne[ie],ee,re);oe!=null&&v$1(oe)}function E$2(te,ee,re){return this.constructor(te,re)}function H$1(te,ee,re){var ne,oe,ie;n.__&&n.__(te,ee),oe=(ne=re===o$1)?null:re&&re.__k||ee.__k,te=h$1(d$1,null,[te]),ie=[],A$2(ee,(ne?ee:re||ee).__k=te,oe||e$1,e$1,ee.ownerSVGElement!==void 0,re&&!ne?[re]:oe?null:c$1.slice.call(ee.childNodes),ie,re||e$1,ne),T$2(ie,te)}function I$1(te,ee){H$1(te,ee,o$1)}function L$1(te,ee){var re,ne;for(ne in ee=a$1(a$1({},te.props),ee),arguments.length>2&&(ee.children=c$1.slice.call(arguments,2)),re={},ee)ne!=="key"&&ne!=="ref"&&(re[ne]=ee[ne]);return p$1(te.type,re,ee.key||te.key,ee.ref||te.ref,null)}function M$1(te){var ee={},re={__c:"__cC"+f$1++,__:te,Consumer:function(ne,oe){return ne.children(oe)},Provider:function(ne){var oe,ie=this;return this.getChildContext||(oe=[],this.getChildContext=function(){return ee[re.__c]=ie,ee},this.shouldComponentUpdate=function(se){ie.props.value!==se.value&&oe.some(function(ue){ue.context=se.value,g$1(ue)})},this.sub=function(se){oe.push(se);var ue=se.componentWillUnmount;se.componentWillUnmount=function(){oe.splice(oe.indexOf(se),1),ue&&ue.call(se)}}),ne.children}};return re.Consumer.contextType=re,re.Provider.__=re,re}n={__e:function(te,ee){for(var re,ne;ee=ee.__;)if((re=ee.__c)&&!re.__)try{if(re.constructor&&re.constructor.getDerivedStateFromError!=null&&(ne=!0,re.setState(re.constructor.getDerivedStateFromError(te))),re.componentDidCatch!=null&&(ne=!0,re.componentDidCatch(te)),ne)return g$1(re.__E=re)}catch(oe){te=oe}throw te}},m$1.prototype.setState=function(te,ee){var re;re=this.__s!==this.state?this.__s:this.__s=a$1({},this.state),typeof te=="function"&&(te=te(re,this.props)),te&&a$1(re,te),te!=null&&this.__v&&(ee&&this.__h.push(ee),g$1(this))},m$1.prototype.forceUpdate=function(te){this.__v&&(this.__e=!0,te&&this.__h.push(te),g$1(this))},m$1.prototype.render=d$1,u$1=[],i$1=0,t$1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o$1=e$1,f$1=0;var t,u,r,i=0,o=[],c=n.__r,f=n.diffed,e=n.__c,a=n.unmount;function v(te,ee){n.__h&&n.__h(u,te,i||ee),i=0;var re=u.__H||(u.__H={__:[],__h:[]});return te>=re.__.length&&re.__.push({}),re.__[te]}function m(te){return i=1,p(E$1,te)}function p(te,ee,re){var ne=v(t++,2);return ne.__c||(ne.__c=u,ne.__=[re?re(ee):E$1(void 0,ee),function(oe){var ie=te(ne.__[0],oe);ne.__[0]!==ie&&(ne.__[0]=ie,ne.__c.setState({}))}]),ne.__}function l(te,ee){var re=v(t++,3);!n.__s&&x(re.__H,ee)&&(re.__=te,re.__H=ee,u.__H.__h.push(re))}function y(te,ee){var re=v(t++,4);!n.__s&&x(re.__H,ee)&&(re.__=te,re.__H=ee,u.__h.push(re))}function d(te){return i=5,h(function(){return{current:te}},[])}function s(te,ee,re){i=6,y(function(){typeof te=="function"?te(ee()):te&&(te.current=ee())},re==null?re:re.concat(te))}function h(te,ee){var re=v(t++,7);return x(re.__H,ee)?(re.__H=ee,re.__h=te,re.__=te()):re.__}function T$1(te,ee){return i=8,h(function(){return te},ee)}function w$1(te){var ee=u.context[te.__c],re=v(t++,9);return re.__c=te,ee?(re.__==null&&(re.__=!0,ee.sub(u)),ee.props.value):te.__}function A$1(te,ee){n.useDebugValue&&n.useDebugValue(ee?ee(te):te)}function F$1(te){var ee=v(t++,10),re=m();return ee.__=te,u.componentDidCatch||(u.componentDidCatch=function(ne){ee.__&&ee.__(ne),re[1](ne)}),[re[0],function(){re[1](void 0)}]}function _$1(){o.some(function(te){if(te.__P)try{te.__H.__h.forEach(g),te.__H.__h.forEach(q$1),te.__H.__h=[]}catch(ee){return te.__H.__h=[],n.__e(ee,te.__v),!0}}),o=[]}function g(te){te.t&&te.t()}function q$1(te){var ee=te.__();typeof ee=="function"&&(te.t=ee)}function x(te,ee){return!te||ee.some(function(re,ne){return re!==te[ne]})}function E$1(te,ee){return typeof ee=="function"?ee(te):ee}n.__r=function(te){c&&c(te),t=0,(u=te.__c).__H&&(u.__H.__h.forEach(g),u.__H.__h.forEach(q$1),u.__H.__h=[])},n.diffed=function(te){f&&f(te);var ee=te.__c;if(ee){var re=ee.__H;re&&re.__h.length&&(o.push(ee)!==1&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(ne){var oe,ie=function(){clearTimeout(se),cancelAnimationFrame(oe),setTimeout(ne)},se=setTimeout(ie,100);typeof window!="undefined"&&(oe=requestAnimationFrame(ie))})(_$1))}},n.__c=function(te,ee){ee.some(function(re){try{re.__h.forEach(g),re.__h=re.__h.filter(function(ne){return!ne.__||q$1(ne)})}catch(ne){ee.some(function(oe){oe.__h&&(oe.__h=[])}),ee=[],n.__e(ne,re.__v)}}),e&&e(te,ee)},n.unmount=function(te){a&&a(te);var ee=te.__c;if(ee){var re=ee.__H;if(re)try{re.__.forEach(function(ne){return ne.t&&ne.t()})}catch(ne){n.__e(ne,ee.__v)}}};function E(te,ee){for(var re in ee)te[re]=ee[re];return te}function w(te,ee){for(var re in te)if(re!=="__source"&&!(re in ee))return!0;for(var ne in ee)if(ne!=="__source"&&te[ne]!==ee[ne])return!0;return!1}var C=function(te){var ee,re;function ne(oe){var ie;return(ie=te.call(this,oe)||this).isPureReactComponent=!0,ie}return re=te,(ee=ne).prototype=Object.create(re.prototype),ee.prototype.constructor=ee,ee.__proto__=re,ne.prototype.shouldComponentUpdate=function(oe,ie){return w(this.props,oe)||w(this.state,ie)},ne}(m$1);function _(te,ee){function re(oe){var ie=this.props.ref,se=ie==oe.ref;return!se&&ie&&(ie.call?ie(null):ie.current=null),ee?!ee(this.props,oe)||!se:w(this.props,oe)}function ne(oe){return this.shouldComponentUpdate=re,h$1(te,E({},oe))}return ne.prototype.isReactComponent=!0,ne.displayName="Memo("+(te.displayName||te.name)+")",ne.t=!0,ne}var A=n.__b;function S(te){function ee(re){var ne=E({},re);return delete ne.ref,te(ne,re.ref)}return ee.prototype.isReactComponent=ee.t=!0,ee.displayName="ForwardRef("+(te.displayName||te.name)+")",ee}n.__b=function(te){te.type&&te.type.t&&te.ref&&(te.props.ref=te.ref,te.ref=null),A&&A(te)};var k=function(te,ee){return te?x$1(te).reduce(function(re,ne,oe){return re.concat(ee(ne,oe))},[]):null},R={map:k,forEach:k,count:function(te){return te?x$1(te).length:0},only:function(te){if((te=x$1(te)).length!==1)throw new Error("Children.only() expects only one child.");return te[0]},toArray:x$1},F=n.__e;function N(te){return te&&((te=E({},te)).__c=null,te.__k=te.__k&&te.__k.map(N)),te}function U(){this.__u=0,this.o=null,this.__b=null}function M(te){var ee=te.__.__c;return ee&&ee.u&&ee.u(te)}function L(te){var ee,re,ne;function oe(ie){if(ee||(ee=te()).then(function(se){re=se.default||se},function(se){ne=se}),ne)throw ne;if(!re)throw ee;return h$1(re,ie)}return oe.displayName="Lazy",oe.t=!0,oe}function O(){this.i=null,this.l=null}n.__e=function(te,ee,re){if(te.then){for(var ne,oe=ee;oe=oe.__;)if((ne=oe.__c)&&ne.__c)return ne.__c(te,ee.__c)}F(te,ee,re)},(U.prototype=new m$1).__c=function(te,ee){var re=this;re.o==null&&(re.o=[]),re.o.push(ee);var ne=M(re.__v),oe=!1,ie=function(){oe||(oe=!0,ne?ne(se):se())};ee.__c=ee.componentWillUnmount,ee.componentWillUnmount=function(){ie(),ee.__c&&ee.__c()};var se=function(){var ue;if(!--re.__u)for(re.__v.__k[0]=re.state.u,re.setState({u:re.__b=null});ue=re.o.pop();)ue.forceUpdate()};re.__u++||re.setState({u:re.__b=re.__v.__k[0]}),te.then(ie,ie)},U.prototype.render=function(te,ee){return this.__b&&(this.__v.__k[0]=N(this.__b),this.__b=null),[h$1(m$1,null,ee.u?null:te.children),ee.u&&te.fallback]};var P=function(te,ee,re){if(++re[1]===re[0]&&te.l.delete(ee),te.props.revealOrder&&(te.props.revealOrder[0]!=="t"||!te.l.size))for(re=te.i;re;){for(;re.length>3;)re.pop()();if(re[1]<re[0])break;te.i=re=re[2]}};(O.prototype=new m$1).u=function(te){var ee=this,re=M(ee.__v),ne=ee.l.get(te);return ne[0]++,function(oe){var ie=function(){ee.props.revealOrder?(ne.push(oe),P(ee,te,ne)):oe()};re?re(ie):ie()}},O.prototype.render=function(te){this.i=null,this.l=new Map;var ee=x$1(te.children);te.revealOrder&&te.revealOrder[0]==="b"&&ee.reverse();for(var re=ee.length;re--;)this.l.set(ee[re],this.i=[1,0,this.i]);return te.children},O.prototype.componentDidUpdate=O.prototype.componentDidMount=function(){var te=this;te.l.forEach(function(ee,re){P(te,re,ee)})};var W=function(){function te(){}var ee=te.prototype;return ee.getChildContext=function(){return this.props.context},ee.render=function(re){return re.children},te}();function j(te){var ee=this,re=te.container,ne=h$1(W,{context:ee.context},te.vnode);return ee.s&&ee.s!==re&&(ee.v.parentNode&&ee.s.removeChild(ee.v),D$1(ee.h),ee.p=!1),te.vnode?ee.p?(re.__k=ee.__k,H$1(ne,re),ee.__k=re.__k):(ee.v=document.createTextNode(""),I$1("",re),re.appendChild(ee.v),ee.p=!0,ee.s=re,H$1(ne,re,ee.v),ee.__k=ee.v.__k):ee.p&&(ee.v.parentNode&&ee.s.removeChild(ee.v),D$1(ee.h)),ee.h=ne,ee.componentWillUnmount=function(){ee.v.parentNode&&ee.s.removeChild(ee.v),D$1(ee.h)},null}function z(te,ee){return h$1(j,{vnode:te,container:ee})}var D=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;m$1.prototype.isReactComponent={};var H=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103;function T(te,ee,re){if(ee.__k==null)for(;ee.firstChild;)ee.removeChild(ee.firstChild);return H$1(te,ee),typeof re=="function"&&re(),te?te.__c:null}function V(te,ee,re){return I$1(te,ee),typeof re=="function"&&re(),te?te.__c:null}var Z=n.event;function I(te,ee){te["UNSAFE_"+ee]&&!te[ee]&&Object.defineProperty(te,ee,{configurable:!1,get:function(){return this["UNSAFE_"+ee]},set:function(re){this["UNSAFE_"+ee]=re}})}n.event=function(te){Z&&(te=Z(te)),te.persist=function(){};var ee=!1,re=!1,ne=te.stopPropagation;te.stopPropagation=function(){ne.call(te),ee=!0};var oe=te.preventDefault;return te.preventDefault=function(){oe.call(te),re=!0},te.isPropagationStopped=function(){return ee},te.isDefaultPrevented=function(){return re},te.nativeEvent=te};var $={configurable:!0,get:function(){return this.class}},q=n.vnode;n.vnode=function(te){te.$$typeof=H;var ee=te.type,re=te.props;if(ee){if(re.class!=re.className&&($.enumerable="className"in re,re.className!=null&&(re.class=re.className),Object.defineProperty(re,"className",$)),typeof ee!="function"){var ne,oe,ie;for(ie in re.defaultValue&&re.value!==void 0&&(re.value||re.value===0||(re.value=re.defaultValue),delete re.defaultValue),Array.isArray(re.value)&&re.multiple&&ee==="select"&&(x$1(re.children).forEach(function(se){re.value.indexOf(se.props.value)!=-1&&(se.props.selected=!0)}),delete re.value),re)if(ne=D.test(ie))break;if(ne)for(ie in oe=te.props={},re)oe[D.test(ie)?ie.replace(/[A-Z0-9]/,"-$&").toLowerCase():ie]=re[ie]}(function(se){var ue=te.type,he=te.props;if(he&&typeof ue=="string"){var ge={};for(var be in he)/^on(Ani|Tra|Tou)/.test(be)&&(he[be.toLowerCase()]=he[be],delete he[be]),ge[be.toLowerCase()]=be;if(ge.ondoubleclick&&(he.ondblclick=he[ge.ondoubleclick],delete he[ge.ondoubleclick]),ge.onbeforeinput&&(he.onbeforeinput=he[ge.onbeforeinput],delete he[ge.onbeforeinput]),ge.onchange&&(ue==="textarea"||ue.toLowerCase()==="input"&&!/^fil|che|ra/i.test(he.type))){var Se=ge.oninput||"oninput";he[Se]||(he[Se]=he[ge.onchange],delete he[ge.onchange])}}})(),typeof ee=="function"&&!ee.m&&ee.prototype&&(I(ee.prototype,"componentWillMount"),I(ee.prototype,"componentWillReceiveProps"),I(ee.prototype,"componentWillUpdate"),ee.m=!0)}q&&q(te)};var B="16.8.0";function G(te){return h$1.bind(null,te)}function J(te){return!!te&&te.$$typeof===H}function K(te){return J(te)?L$1.apply(null,arguments):te}function Q(te){return!!te.__k&&(H$1(null,te),!0)}function X(te){return te&&(te.base||te.nodeType===1&&te)||null}var Y=function(te,ee){return te(ee)},compat_module={useState:m,useReducer:p,useEffect:l,useLayoutEffect:y,useRef:d,useImperativeHandle:s,useMemo:h,useCallback:T$1,useContext:w$1,useDebugValue:A$1,version:"16.8.0",Children:R,render:T,hydrate:T,unmountComponentAtNode:Q,createPortal:z,createElement:h$1,createContext:M$1,createFactory:G,cloneElement:K,createRef:y$1,Fragment:d$1,isValidElement:J,findDOMNode:X,Component:m$1,PureComponent:C,memo:_,forwardRef:S,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O,lazy:L},compat_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:compat_module,version:B,Children:R,render:T,hydrate:V,unmountComponentAtNode:Q,createPortal:z,createFactory:G,cloneElement:K,isValidElement:J,findDOMNode:X,PureComponent:C,memo:_,forwardRef:S,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O,lazy:L,createElement:h$1,createContext:M$1,createRef:y$1,Fragment:d$1,Component:m$1,useState:m,useReducer:p,useEffect:l,useLayoutEffect:y,useRef:d,useImperativeHandle:s,useMemo:h,useCallback:T$1,useContext:w$1,useDebugValue:A$1,useErrorBoundary:F$1},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(compat_module$1);function _interopDefault(te){return te&&typeof te=="object"&&"default"in te?te.default:te}var browserUtils=require$$0,QRCode=_interopDefault(browser),copy=_interopDefault(copyToClipboard),React=require$$3;function open(te){QRCode.toString(te,{type:"terminal"}).then(console.log)}var WALLETCONNECT_STYLE_SHEET=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function _catch(te,ee){try{var re=te()}catch(ne){return ee(ne)}return re&&re.then?re.then(void 0,ee):re}var WALLETCONNECT_LOGO_SVG_URL="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",WALLETCONNECT_HEADER_TEXT="WalletConnect",ANIMATION_DURATION=300,DEFAULT_BUTTON_COLOR="rgb(64, 153, 255)",WALLETCONNECT_WRAPPER_ID="walletconnect-wrapper",WALLETCONNECT_STYLE_ID="walletconnect-style-sheet",WALLETCONNECT_MODAL_ID="walletconnect-qrcode-modal",WALLETCONNECT_CLOSE_BUTTON_ID="walletconnect-qrcode-close",WALLETCONNECT_CTA_TEXT_ID="walletconnect-qrcode-text",WALLETCONNECT_CONNECT_BUTTON_ID="walletconnect-connect-button";function Header(te){return React.createElement("div",{className:"walletconnect-modal__header"},React.createElement("img",{src:WALLETCONNECT_LOGO_SVG_URL,className:"walletconnect-modal__headerLogo"}),React.createElement("p",null,WALLETCONNECT_HEADER_TEXT),React.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:te.onClose},React.createElement("div",{id:WALLETCONNECT_CLOSE_BUTTON_ID,className:"walletconnect-modal__close__icon"},React.createElement("div",{className:"walletconnect-modal__close__line1"}),React.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function ConnectButton(te){return React.createElement("a",{className:"walletconnect-connect__button",href:te.href,id:WALLETCONNECT_CONNECT_BUTTON_ID+"-"+te.name,onClick:te.onClick,rel:"noopener noreferrer",style:{backgroundColor:te.color},target:"_blank"},te.name)}var CARET_SVG_URL="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function WalletButton(te){var ee=te.color,re=te.href,ne=te.name,oe=te.logo,ie=te.onClick;return React.createElement("a",{className:"walletconnect-modal__base__row",href:re,onClick:ie,rel:"noopener noreferrer",target:"_blank"},React.createElement("h3",{className:"walletconnect-modal__base__row__h3"},ne),React.createElement("div",{className:"walletconnect-modal__base__row__right"},React.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+oe+"') "+ee,backgroundSize:"100%"}}),React.createElement("img",{src:CARET_SVG_URL,className:"walletconnect-modal__base__row__right__caret"})))}function WalletIcon(te){var ee=te.color,re=te.href,ne=te.name,oe=te.logo,ie=te.onClick,se=window.innerWidth<768?(ne.length>8?2.5:2.7)+"vw":"inherit";return React.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:re,onClick:ie,rel:"noopener noreferrer",target:"_blank"},React.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+oe+"') "+ee,backgroundSize:"100%"}}),React.createElement("div",{style:{fontSize:se},className:"walletconnect-connect__button__text"},ne))}var GRID_MIN_COUNT=5,LINKS_PER_PAGE=12;function LinkDisplay(te){var ee=browserUtils.isAndroid(),re=React.useState(""),ne=re[0],oe=re[1],ie=React.useState(""),se=ie[0],ue=ie[1],he=React.useState(1),ge=he[0],be=he[1],Se=se?te.links.filter(function(Ke){return Ke.name.toLowerCase().includes(se.toLowerCase())}):te.links,Te=te.errorMessage,ke=se||Se.length>GRID_MIN_COUNT,Re=Math.ceil(Se.length/LINKS_PER_PAGE),Ce=[(ge-1)*LINKS_PER_PAGE+1,ge*LINKS_PER_PAGE],Pe=Se.length?Se.filter(function(Ke,Ge){return Ge+1>=Ce[0]&&Ge+1<=Ce[1]}):[],Ie=!ee&&Re>1,Ne=void 0;function He(Ke){oe(Ke.target.value),clearTimeout(Ne),Ke.target.value?Ne=setTimeout(function(){ue(Ke.target.value),be(1)},1e3):(oe(""),ue(""),be(1))}return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},ee?te.text.connect_mobile_wallet:te.text.choose_preferred_wallet),!ee&&React.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:ne,onChange:He}),React.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(ee?"__android":ke&&Se.length?"__wrap":"")},ee?React.createElement(ConnectButton,{name:te.text.connect,color:DEFAULT_BUTTON_COLOR,href:te.uri,onClick:React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:"Unknown",href:te.uri})},[])}):Pe.length?Pe.map(function(Ke){var Ge=Ke.color,ut=Ke.name,Ve=Ke.shortName,nt=Ke.logo,st=browserUtils.formatIOSMobile(te.uri,Ke),qe=React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:ut,href:st})},[Pe]);return ke?React.createElement(WalletIcon,{color:Ge,href:st,name:Ve||ut,logo:nt,onClick:qe}):React.createElement(WalletButton,{color:Ge,href:st,name:ut,logo:nt,onClick:qe})}):React.createElement(React.Fragment,null,React.createElement("p",null,Te.length?te.errorMessage:!!te.links.length&&!Se.length?te.text.no_wallets_found:te.text.loading))),Ie&&React.createElement("div",{className:"walletconnect-modal__footer"},Array(Re).fill(0).map(function(Ke,Ge){var ut=Ge+1,Ve=ge===ut;return React.createElement("a",{style:{margin:"auto 10px",fontWeight:Ve?"bold":"normal"},onClick:function(){return be(ut)}},ut)})))}function Notification(te){var ee=!!te.message.trim();return React.createElement("div",{className:"walletconnect-qrcode__notification"+(ee?" notification__show":"")},te.message)}var formatQRCodeImage=function(te){try{var ee="";return Promise.resolve(QRCode.toString(te,{margin:0,type:"svg"})).then(function(re){return typeof re=="string"&&(ee=re.replace("<svg",'<svg class="walletconnect-qrcode__image"')),ee})}catch(re){return Promise.reject(re)}};function QRCodeDisplay(te){var ee=React.useState(""),re=ee[0],ne=ee[1],oe=React.useState(""),ie=oe[0],se=oe[1];React.useEffect(function(){try{return Promise.resolve(formatQRCodeImage(te.uri)).then(function(he){se(he)})}catch(he){Promise.reject(he)}},[]);var ue=function(){var he=copy(te.uri);he?(ne(te.text.copied_to_clipboard),setInterval(function(){return ne("")},1200)):(ne("Error"),setInterval(function(){return ne("")},1200))};return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},te.text.scan_qrcode_with_wallet),React.createElement("div",{dangerouslySetInnerHTML:{__html:ie}}),React.createElement("div",{className:"walletconnect-modal__footer"},React.createElement("a",{onClick:ue},te.text.copy_to_clipboard)),React.createElement(Notification,{message:re}))}function Modal(te){var ee=browserUtils.isAndroid(),re=browserUtils.isMobile(),ne=re?te.qrcodeModalOptions&&te.qrcodeModalOptions.mobileLinks?te.qrcodeModalOptions.mobileLinks:void 0:te.qrcodeModalOptions&&te.qrcodeModalOptions.desktopLinks?te.qrcodeModalOptions.desktopLinks:void 0,oe=React.useState(!1),ie=oe[0],se=oe[1],ue=React.useState(!1),he=ue[0],ge=ue[1],be=React.useState(!re),Se=be[0],Te=be[1],ke={mobile:re,text:te.text,uri:te.uri,qrcodeModalOptions:te.qrcodeModalOptions},Re=React.useState(""),Ce=Re[0],Pe=Re[1],Ie=React.useState(!1),Ne=Ie[0],He=Ie[1],Ke=React.useState([]),Ge=Ke[0],ut=Ke[1],Ve=React.useState(""),nt=Ve[0],st=Ve[1],qe=function(){he||ie||ne&&!ne.length||Ge.length>0||React.useEffect(function(){var ae=function(){try{if(ee)return Promise.resolve();se(!0);var ce=_catch(function(){var le=te.qrcodeModalOptions&&te.qrcodeModalOptions.registryUrl?te.qrcodeModalOptions.registryUrl:browserUtils.getWalletRegistryUrl();return Promise.resolve(fetch(le)).then(function(pe){return Promise.resolve(pe.json()).then(function(_e){var $e=_e.listings,Ee=re?"mobile":"desktop",me=browserUtils.getMobileLinkRegistry(browserUtils.formatMobileRegistry($e,Ee),ne);se(!1),ge(!0),st(me.length?"":te.text.no_supported_wallets),ut(me);var fe=me.length===1;fe&&(Pe(browserUtils.formatIOSMobile(te.uri,me[0])),Te(!0)),He(fe)})})},function(le){se(!1),ge(!0),st(te.text.something_went_wrong),console.error(le)});return Promise.resolve(ce&&ce.then?ce.then(function(){}):void 0)}catch(le){return Promise.reject(le)}};ae()})};qe();var ye=re?Se:!Se;return React.createElement("div",{id:WALLETCONNECT_MODAL_ID,className:"walletconnect-qrcode__base animated fadeIn"},React.createElement("div",{className:"walletconnect-modal__base"},React.createElement(Header,{onClose:te.onClose}),Ne&&Se?React.createElement("div",{className:"walletconnect-modal__single_wallet"},React.createElement("a",{onClick:function(){return browserUtils.saveMobileLinkInfo({name:Ge[0].name,href:Ce})},href:Ce,rel:"noopener noreferrer",target:"_blank"},te.text.connect_with+" "+(Ne?Ge[0].name:"")+" \u203A")):ee||ie||!ie&&Ge.length?React.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(ye?" right__selected":"")},React.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),re?React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return Te(!1),qe()}},te.text.mobile),React.createElement("a",{onClick:function(){return Te(!0)}},te.text.qrcode)):React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return Te(!0)}},te.text.qrcode),React.createElement("a",{onClick:function(){return Te(!1),qe()}},te.text.desktop))):null,React.createElement("div",null,Se||!ee&&!ie&&!Ge.length?React.createElement(QRCodeDisplay,Object.assign({},ke)):React.createElement(LinkDisplay,Object.assign({},ke,{links:Ge,errorMessage:nt})))))}var de={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},en={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},ko={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},pt={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},fa={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},languages={de,en,es,fr,ko,pt,zh,fa};function injectStyleSheet(){var te=browserUtils.getDocumentOrThrow(),ee=te.getElementById(WALLETCONNECT_STYLE_ID);ee&&te.head.removeChild(ee);var re=te.createElement("style");re.setAttribute("id",WALLETCONNECT_STYLE_ID),re.innerText=WALLETCONNECT_STYLE_SHEET,te.head.appendChild(re)}function renderWrapper(){var te=browserUtils.getDocumentOrThrow(),ee=te.createElement("div");return ee.setAttribute("id",WALLETCONNECT_WRAPPER_ID),te.body.appendChild(ee),ee}function triggerCloseAnimation(){var te=browserUtils.getDocumentOrThrow(),ee=te.getElementById(WALLETCONNECT_MODAL_ID);ee&&(ee.className=ee.className.replace("fadeIn","fadeOut"),setTimeout(function(){var re=te.getElementById(WALLETCONNECT_WRAPPER_ID);re&&te.body.removeChild(re)},ANIMATION_DURATION))}function getWrappedCallback(te){return function(){triggerCloseAnimation(),te&&te()}}function getText(){var te=browserUtils.getNavigatorOrThrow().language.split("-")[0]||"en";return languages[te]||languages.en}function open$1(te,ee,re){injectStyleSheet();var ne=renderWrapper();React.render(React.createElement(Modal,{text:getText(),uri:te,onClose:getWrappedCallback(ee),qrcodeModalOptions:re}),ne)}function close$1(){triggerCloseAnimation()}var isNode=function(){return typeof process$1!="undefined"&&typeof process$1.versions!="undefined"&&typeof process$1.versions.node!="undefined"};function open$2(te,ee,re){console.log(te),isNode()?open(te):open$1(te,ee,re)}function close$2(){isNode()||close$1()}var index={open:open$2,close:close$2},cjs=index,dist={},xmlHttpRequest={},progressEvent={};Object.defineProperty(progressEvent,"__esModule",{value:!0});var ProgressEvent=function(){function te(ee){this.type=ee,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0}return te}();progressEvent.ProgressEvent=ProgressEvent;var errors={},__extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,re){ee.__proto__=re}||function(ee,re){for(var ne in re)re.hasOwnProperty(ne)&&(ee[ne]=re[ne])};return function(ee,re){te(ee,re);function ne(){this.constructor=ee}ee.prototype=re===null?Object.create(re):(ne.prototype=re.prototype,new ne)}}();Object.defineProperty(errors,"__esModule",{value:!0});var SecurityError=function(te){__extends$2(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee}(Error);errors.SecurityError=SecurityError;var InvalidStateError=function(te){__extends$2(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee}(Error);errors.InvalidStateError=InvalidStateError;var NetworkError=function(te){__extends$2(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee}(Error);errors.NetworkError=NetworkError;var SyntaxError$1=function(te){__extends$2(ee,te);function ee(){return te!==null&&te.apply(this,arguments)||this}return ee}(Error);errors.SyntaxError=SyntaxError$1;var xmlHttpRequestEventTarget={};Object.defineProperty(xmlHttpRequestEventTarget,"__esModule",{value:!0});var XMLHttpRequestEventTarget=function(){function te(){this.listeners={}}return te.prototype.addEventListener=function(ee,re){ee=ee.toLowerCase(),this.listeners[ee]=this.listeners[ee]||[],this.listeners[ee].push(re.handleEvent||re)},te.prototype.removeEventListener=function(ee,re){if(ee=ee.toLowerCase(),!!this.listeners[ee]){var ne=this.listeners[ee].indexOf(re.handleEvent||re);ne<0||this.listeners[ee].splice(ne,1)}},te.prototype.dispatchEvent=function(ee){var re=ee.type.toLowerCase();if(ee.target=this,this.listeners[re])for(var ne=0,oe=this.listeners[re];ne<oe.length;ne++){var ie=oe[ne];ie.call(this,ee)}var se=this["on"+re];return se&&se.call(this,ee),!0},te}();xmlHttpRequestEventTarget.XMLHttpRequestEventTarget=XMLHttpRequestEventTarget;var xmlHttpRequestUpload={},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,re){ee.__proto__=re}||function(ee,re){for(var ne in re)re.hasOwnProperty(ne)&&(ee[ne]=re[ne])};return function(ee,re){te(ee,re);function ne(){this.constructor=ee}ee.prototype=re===null?Object.create(re):(ne.prototype=re.prototype,new ne)}}();Object.defineProperty(xmlHttpRequestUpload,"__esModule",{value:!0});var xml_http_request_event_target_1$1=xmlHttpRequestEventTarget,XMLHttpRequestUpload=function(te){__extends$1(ee,te);function ee(){var re=te.call(this)||this;return re._contentType=null,re._body=null,re._reset(),re}return ee.prototype._reset=function(){this._contentType=null,this._body=null},ee.prototype._setData=function(re){if(re!=null)if(typeof re=="string")re.length!==0&&(this._contentType="text/plain;charset=UTF-8"),this._body=new buffer$2.Buffer(re,"utf-8");else if(buffer$2.Buffer.isBuffer(re))this._body=re;else if(re instanceof ArrayBuffer){for(var ne=new buffer$2.Buffer(re.byteLength),oe=new Uint8Array(re),ie=0;ie<re.byteLength;ie++)ne[ie]=oe[ie];this._body=ne}else if(re.buffer&&re.buffer instanceof ArrayBuffer){for(var ne=new buffer$2.Buffer(re.byteLength),se=re.byteOffset,oe=new Uint8Array(re.buffer),ie=0;ie<re.byteLength;ie++)ne[ie]=oe[ie+se];this._body=ne}else throw new Error("Unsupported send() data "+re)},ee.prototype._finalizeHeaders=function(re,ne){this._contentType&&!ne["content-type"]&&(re["Content-Type"]=this._contentType),this._body&&(re["Content-Length"]=this._body.length.toString())},ee.prototype._startUpload=function(re){this._body&&re.write(this._body),re.end()},ee}(xml_http_request_event_target_1$1.XMLHttpRequestEventTarget);xmlHttpRequestUpload.XMLHttpRequestUpload=XMLHttpRequestUpload;var cookiejar={};(function(){function te(oe,ie,se,ue){return this instanceof te?(this.domain=oe||void 0,this.path=ie||"/",this.secure=!!se,this.script=!!ue,this):new te(oe,ie,se,ue)}te.All=Object.freeze(Object.create(null)),cookiejar.CookieAccessInfo=te;function ee(oe,ie,se){return oe instanceof ee?oe:this instanceof ee?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(se||"/"),this.explicit_path=!1,this.domain=ie||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,oe&&this.parse(oe,ie,se),this):new ee(oe,ie,se)}cookiejar.Cookie=ee,ee.prototype.toString=function(){var ie=[this.name+"="+this.value];return this.expiration_date!==1/0&&ie.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&ie.push("domain="+this.domain),this.path&&ie.push("path="+this.path),this.secure&&ie.push("secure"),this.noscript&&ie.push("httponly"),ie.join("; ")},ee.prototype.toValueString=function(){return this.name+"="+this.value};var re=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;ee.prototype.parse=function(ie,se,ue){if(this instanceof ee){var he=ie.split(";").filter(function(ke){return!!ke}),ge,be=he[0].match(/([^=]+)=([\s\S]*)/);if(!be){console.warn("Invalid cookie header encountered. Header: '"+ie+"'");return}var Se=be[1],Te=be[2];if(typeof Se!="string"||Se.length===0||typeof Te!="string"){console.warn("Unable to extract values from cookie header. Cookie: '"+ie+"'");return}for(this.name=Se,this.value=Te,ge=1;ge<he.length;ge+=1)switch(be=he[ge].match(/([^=]+)(?:=([\s\S]*))?/),Se=be[1].trim().toLowerCase(),Te=be[2],Se){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=Te?Number(Date.parse(Te)):1/0;break;case"path":this.path=Te?Te.trim():"",this.explicit_path=!0;break;case"domain":this.domain=Te?Te.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0;break}return this.explicit_path||(this.path=ue||"/"),this.explicit_domain||(this.domain=se),this}return new ee().parse(ie,se,ue)},ee.prototype.matches=function(ie){return ie===te.All?!0:!(this.noscript&&ie.script||this.secure&&!ie.secure||!this.collidesWith(ie))},ee.prototype.collidesWith=function(ie){if(this.path&&!ie.path||this.domain&&!ie.domain||this.path&&ie.path.indexOf(this.path)!==0||this.explicit_path&&ie.path.indexOf(this.path)!==0)return!1;var se=ie.domain&&ie.domain.replace(/^[\.]/,""),ue=this.domain&&this.domain.replace(/^[\.]/,"");if(ue===se)return!0;if(ue){if(!this.explicit_domain)return!1;var he=se.indexOf(ue);return!(he===-1||he!==se.length-ue.length)}return!0};function ne(){var oe,ie,se;return this instanceof ne?(oe=Object.create(null),this.setCookie=function(he,ge,be){var Se,Te;if(he=new ee(he,ge,be),Se=he.expiration_date<=Date.now(),oe[he.name]!==void 0){for(ie=oe[he.name],Te=0;Te<ie.length;Te+=1)if(se=ie[Te],se.collidesWith(he))return Se?(ie.splice(Te,1),ie.length===0&&delete oe[he.name],!1):(ie[Te]=he,he);return Se?!1:(ie.push(he),he)}return Se?!1:(oe[he.name]=[he],oe[he.name])},this.getCookie=function(he,ge){var be,Se;if(ie=oe[he],!!ie)for(Se=0;Se<ie.length;Se+=1){if(be=ie[Se],be.expiration_date<=Date.now()){ie.length===0&&delete oe[be.name];continue}if(be.matches(ge))return be}},this.getCookies=function(he){var ge=[],be,Se;for(be in oe)Se=this.getCookie(be,he),Se&&ge.push(Se);return ge.toString=function(){return ge.join(":")},ge.toValueString=function(){return ge.map(function(ke){return ke.toValueString()}).join("; ")},ge},this):new ne}cookiejar.CookieJar=ne,ne.prototype.setCookies=function(ie,se,ue){ie=Array.isArray(ie)?ie:ie.split(re);var he=[],ge,be;for(ie=ie.map(function(Se){return new ee(Se,se,ue)}),ge=0;ge<ie.length;ge+=1)be=ie[ge],this.setCookie(be,se,ue)&&he.push(be);return he}})();var __extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,re){ee.__proto__=re}||function(ee,re){for(var ne in re)re.hasOwnProperty(ne)&&(ee[ne]=re[ne])};return function(ee,re){te(ee,re);function ne(){this.constructor=ee}ee.prototype=re===null?Object.create(re):(ne.prototype=re.prototype,new ne)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||Object.assign||function(te){for(var ee,re=1,ne=arguments.length;re<ne;re++){ee=arguments[re];for(var oe in ee)Object.prototype.hasOwnProperty.call(ee,oe)&&(te[oe]=ee[oe])}return te};Object.defineProperty(xmlHttpRequest,"__esModule",{value:!0});var http=require$$3$1,https=require$$3$1,os=require$$3$1,url=require$$3$1,progress_event_1=progressEvent,errors_1=errors,xml_http_request_event_target_1=xmlHttpRequestEventTarget,xml_http_request_upload_1=xmlHttpRequestUpload,Cookie=cookiejar,XMLHttpRequest$1=function(te){__extends(ee,te);function ee(re){re===void 0&&(re={});var ne=te.call(this)||this;return ne.UNSENT=ee.UNSENT,ne.OPENED=ee.OPENED,ne.HEADERS_RECEIVED=ee.HEADERS_RECEIVED,ne.LOADING=ee.LOADING,ne.DONE=ee.DONE,ne.onreadystatechange=null,ne.readyState=ee.UNSENT,ne.response=null,ne.responseText="",ne.responseType="",ne.status=0,ne.statusText="",ne.timeout=0,ne.upload=new xml_http_request_upload_1.XMLHttpRequestUpload,ne.responseUrl="",ne.withCredentials=!1,ne._method=null,ne._url=null,ne._sync=!1,ne._headers={},ne._loweredHeaders={},ne._mimeOverride=null,ne._request=null,ne._response=null,ne._responseParts=null,ne._responseHeaders=null,ne._aborting=null,ne._error=null,ne._loadedBytes=0,ne._totalBytes=0,ne._lengthComputable=!1,ne._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},ne._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},ne._privateHeaders={"set-cookie":!0,"set-cookie2":!0},ne._userAgent="Mozilla/5.0 ("+os.type()+" "+os.arch()+") node.js/"+process$1.versions.node+" v8/"+process$1.versions.v8,ne._anonymous=re.anon||!1,ne}return ee.prototype.open=function(re,ne,oe,ie,se){if(oe===void 0&&(oe=!0),re=re.toUpperCase(),this._restrictedMethods[re])throw new ee.SecurityError("HTTP method "+re+" is not allowed in XHR");var ue=this._parseUrl(ne,ie,se);this.readyState===ee.HEADERS_RECEIVED||(this.readyState,ee.LOADING),this._method=re,this._url=ue,this._sync=!oe,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(ee.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},ee.prototype.setRequestHeader=function(re,ne){if(this.readyState!==ee.OPENED)throw new ee.InvalidStateError("XHR readyState must be OPENED");var oe=re.toLowerCase();if(this._restrictedHeaders[oe]||/^sec-/.test(oe)||/^proxy-/.test(oe)){console.warn('Refused to set unsafe header "'+re+'"');return}ne=ne.toString(),this._loweredHeaders[oe]!=null?(re=this._loweredHeaders[oe],this._headers[re]=this._headers[re]+", "+ne):(this._loweredHeaders[oe]=re,this._headers[re]=ne)},ee.prototype.send=function(re){if(this.readyState!==ee.OPENED)throw new ee.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new ee.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(re);case"http:":case"https:":return this._sendHttp(re);default:throw new ee.NetworkError("Unsupported protocol "+this._url.protocol)}},ee.prototype.abort=function(){this._request!=null&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},ee.prototype.getResponseHeader=function(re){if(this._responseHeaders==null||re==null)return null;var ne=re.toLowerCase();return this._responseHeaders.hasOwnProperty(ne)?this._responseHeaders[re.toLowerCase()]:null},ee.prototype.getAllResponseHeaders=function(){var re=this;return this._responseHeaders==null?"":Object.keys(this._responseHeaders).map(function(ne){return ne+": "+re._responseHeaders[ne]}).join(`\r
`)},ee.prototype.overrideMimeType=function(re){if(this.readyState===ee.LOADING||this.readyState===ee.DONE)throw new ee.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=re.toLowerCase()},ee.prototype.nodejsSet=function(re){if(this.nodejsHttpAgent=re.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=re.httpsAgent||this.nodejsHttpsAgent,re.hasOwnProperty("baseUrl")){if(re.baseUrl!=null){var ne=url.parse(re.baseUrl,!1,!0);if(!ne.protocol)throw new ee.SyntaxError("baseUrl must be an absolute URL")}this.nodejsBaseUrl=re.baseUrl}},ee.nodejsSet=function(re){ee.prototype.nodejsSet(re)},ee.prototype._setReadyState=function(re){this.readyState=re,this.dispatchEvent(new progress_event_1.ProgressEvent("readystatechange"))},ee.prototype._sendFile=function(re){throw new Error("Protocol file: not implemented")},ee.prototype._sendHttp=function(re){if(this._sync)throw new Error("Synchronous XHR processing not implemented");re&&(this._method==="GET"||this._method==="HEAD")?(console.warn("Discarding entity body for "+this._method+" requests"),re=null):re=re||"",this.upload._setData(re),this._finalizeHeaders(),this._sendHxxpRequest()},ee.prototype._sendHxxpRequest=function(){var re=this;if(this.withCredentials){var ne=ee.cookieJar.getCookies(Cookie.CookieAccessInfo(this._url.hostname,this._url.pathname,this._url.protocol==="https:")).toValueString();this._headers.cookie=this._headers.cookie2=ne}var oe=this._url.protocol==="http:"?[http,this.nodejsHttpAgent]:[https,this.nodejsHttpsAgent],ie=oe[0],se=oe[1],ue=ie.request.bind(ie),he=ue({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:se});this._request=he,this.timeout&&he.setTimeout(this.timeout,function(){return re._onHttpTimeout(he)}),he.on("response",function(ge){return re._onHttpResponse(he,ge)}),he.on("error",function(ge){return re._onHttpRequestError(he,ge)}),this.upload._startUpload(he),this._request===he&&this._dispatchProgress("loadstart")},ee.prototype._finalizeHeaders=function(){this._headers=__assign({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},ee.prototype._onHttpResponse=function(re,ne){var oe=this;if(this._request===re){if(this.withCredentials&&(ne.headers["set-cookie"]||ne.headers["set-cookie2"])&&ee.cookieJar.setCookies(ne.headers["set-cookie"]||ne.headers["set-cookie2"]),[301,302,303,307,308].indexOf(ne.statusCode)>=0){this._url=this._parseUrl(ne.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),this._headers["Content-Type"]!=null&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),this._sendHxxpRequest();return}this._response=ne,this._response.on("data",function(se){return oe._onHttpResponseData(ne,se)}),this._response.on("end",function(){return oe._onHttpResponseEnd(ne)}),this._response.on("close",function(){return oe._onHttpResponseClose(ne)}),this.responseUrl=this._url.href.split("#")[0],this.status=ne.statusCode,this.statusText=http.STATUS_CODES[this.status],this._parseResponseHeaders(ne);var ie=this._responseHeaders["content-length"]||"";this._totalBytes=+ie,this._lengthComputable=!!ie,this._setReadyState(ee.HEADERS_RECEIVED)}},ee.prototype._onHttpResponseData=function(re,ne){this._response===re&&(this._responseParts.push(new buffer$2.Buffer(ne)),this._loadedBytes+=ne.length,this.readyState!==ee.LOADING&&this._setReadyState(ee.LOADING),this._dispatchProgress("progress"))},ee.prototype._onHttpResponseEnd=function(re){this._response===re&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(ee.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},ee.prototype._onHttpResponseClose=function(re){if(this._response===re){var ne=this._request;this._setError(),ne.abort(),this._setReadyState(ee.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},ee.prototype._onHttpTimeout=function(re){this._request===re&&(this._setError(),re.abort(),this._setReadyState(ee.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},ee.prototype._onHttpRequestError=function(re,ne){this._request===re&&(this._setError(),re.abort(),this._setReadyState(ee.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},ee.prototype._dispatchProgress=function(re){var ne=new ee.ProgressEvent(re);ne.lengthComputable=this._lengthComputable,ne.loaded=this._loadedBytes,ne.total=this._totalBytes,this.dispatchEvent(ne)},ee.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},ee.prototype._parseUrl=function(re,ne,oe){var ie=this.nodejsBaseUrl==null?re:url.resolve(this.nodejsBaseUrl,re),se=url.parse(ie,!1,!0);se.hash=null;var ue=(se.auth||"").split(":"),he=ue[0],ge=ue[1];return(he||ge||ne||oe)&&(se.auth=(ne||he||"")+":"+(oe||ge||"")),se},ee.prototype._parseResponseHeaders=function(re){this._responseHeaders={};for(var ne in re.headers){var oe=ne.toLowerCase();this._privateHeaders[oe]||(this._responseHeaders[oe]=re.headers[ne])}this._mimeOverride!=null&&(this._responseHeaders["content-type"]=this._mimeOverride)},ee.prototype._parseResponse=function(){var re=buffer$2.Buffer.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(re.toString("utf-8"))}catch{this.response=null}return;case"buffer":this.responseText=null,this.response=re;return;case"arraybuffer":this.responseText=null;for(var ne=new ArrayBuffer(re.length),oe=new Uint8Array(ne),ie=0;ie<re.length;ie++)oe[ie]=re[ie];this.response=ne;return;case"text":default:try{this.responseText=re.toString(this._parseResponseEncoding())}catch{this.responseText=re.toString("binary")}this.response=this.responseText}},ee.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},ee.ProgressEvent=progress_event_1.ProgressEvent,ee.InvalidStateError=errors_1.InvalidStateError,ee.NetworkError=errors_1.NetworkError,ee.SecurityError=errors_1.SecurityError,ee.SyntaxError=errors_1.SyntaxError,ee.XMLHttpRequestUpload=xml_http_request_upload_1.XMLHttpRequestUpload,ee.UNSENT=0,ee.OPENED=1,ee.HEADERS_RECEIVED=2,ee.LOADING=3,ee.DONE=4,ee.cookieJar=Cookie.CookieJar(),ee}(xml_http_request_event_target_1.XMLHttpRequestEventTarget);xmlHttpRequest.XMLHttpRequest=XMLHttpRequest$1;XMLHttpRequest$1.prototype.nodejsHttpAgent=http.globalAgent;XMLHttpRequest$1.prototype.nodejsHttpsAgent=https.globalAgent;XMLHttpRequest$1.prototype.nodejsBaseUrl=null;(function(te){function ee(ne){for(var oe in ne)te.hasOwnProperty(oe)||(te[oe]=ne[oe])}Object.defineProperty(te,"__esModule",{value:!0}),ee(xmlHttpRequest);var re=xmlHttpRequestEventTarget;te.XMLHttpRequestEventTarget=re.XMLHttpRequestEventTarget})(dist);const XHR=getFromWindow("XMLHttpRequest")||dist.XMLHttpRequest;class HTTPConnection extends EventEmitter$4{constructor(ee){super(),this.url=ee}formatError(ee,re,ne=-1){return{error:{message:re,code:ne},id:ee.id,jsonrpc:ee.jsonrpc}}send(ee,re){return new Promise(ne=>{if(ee.method==="eth_subscribe"){const ue=this.formatError(ee,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",ue),ne(ue)}const oe=new XHR;let ie=!1;const se=(ue,he)=>{if(!ie)if(oe.abort(),ie=!0,re)re(ue,he);else{const{id:ge,jsonrpc:be}=ee,Se=ue?{id:ge,jsonrpc:be,error:{message:ue.message,code:ue.code}}:{id:ge,jsonrpc:be,result:he};this.emit("payload",Se),ne(Se)}};oe.open("POST",this.url,!0),oe.setRequestHeader("Content-Type","application/json"),oe.timeout=60*1e3,oe.onerror=se,oe.ontimeout=se,oe.onreadystatechange=()=>{if(oe.readyState===4)try{const ue=JSON.parse(oe.responseText);se(ue.error,ue.result)}catch(ue){se(ue)}},oe.send(JSON.stringify(ee))})}}const ProviderEngine=web3ProviderEngine,CacheSubprovider=cache,FixtureSubprovider=fixture,FilterSubprovider=filters,HookedWalletSubprovider=hookedWallet,NonceSubprovider=nonceTracker,SubscriptionsSubprovider=subscriptions;class WalletConnectProvider extends ProviderEngine{constructor(ee){if(super({pollingInterval:ee.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=cjs,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const re=await this.getWalletConnector();if(re)return this.start(),this.subscribeWalletConnector(),re.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async re=>this.send(re),this.send=async(re,ne)=>{if(typeof re=="string"){const oe=re;let ie=ne;return oe==="personal_sign"&&(ie=parsePersonalSign(ie)),this.sendAsyncPromise(oe,ie)}if(re=Object.assign({id:payloadId(),jsonrpc:"2.0"},re),re.method==="personal_sign"&&(re.params=parsePersonalSign(re.params)),ne){this.sendAsync(re,ne);return}return this.sendAsyncPromise(re.method,re.params)},this.onConnect=re=>{this.connectCallbacks.push(re)},this.triggerConnect=re=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach(ne=>ne(re))},this.bridge=ee.connector?ee.connector.bridge:ee.bridge||"https://bridge.walletconnect.org",this.qrcode=typeof ee.qrcode=="undefined"||ee.qrcode!==!1,this.qrcodeModal=ee.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=ee.qrcodeModalOptions,this.wc=ee.connector||new WalletConnect({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:ee==null?void 0:ee.storageId,signingMethods:ee==null?void 0:ee.signingMethods,clientMeta:ee==null?void 0:ee.clientMeta}),this.rpc=ee.rpc||null,!this.rpc&&(!ee.infuraId||typeof ee.infuraId!="string"||!ee.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=ee.infuraId||"",this.chainId=(ee==null?void 0:ee.chainId)||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){await(await this.getWalletConnector({disableSessionCreation:!0})).killSession(),await this.onDisconnect()}async handleRequest(ee){try{let re,ne=null;const oe=await this.getWalletConnector();switch(ee.method){case"wc_killSession":await this.close(),ne=null;break;case"eth_accounts":ne=oe.accounts;break;case"eth_coinbase":ne=oe.accounts[0];break;case"eth_chainId":ne=oe.chainId;break;case"net_version":ne=oe.chainId;break;case"eth_uninstallFilter":this.sendAsync(ee,ie=>ie),ne=!0;break;default:re=await this.handleOtherRequests(ee)}return re||this.formatResponse(ee,ne)}catch(re){throw this.emit("error",re),re}}async handleOtherRequests(ee){if(!signingMethods.includes(ee.method)&&ee.method.startsWith("eth_"))return this.handleReadRequests(ee);const ne=await(await this.getWalletConnector()).sendCustomRequest(ee);return this.formatResponse(ee,ne)}async handleReadRequests(ee){if(!this.http){const re=new Error("HTTP Connection not available");throw this.emit("error",re),re}return this.http.send(ee)}formatResponse(ee,re){return{id:ee.id,jsonrpc:ee.jsonrpc,result:re}}getWalletConnector(ee={}){const{disableSessionCreation:re=!1}=ee;return new Promise((ne,oe)=>{const ie=this.wc;this.isConnecting?this.onConnect(se=>ne(se)):!ie.connected&&!re?(this.isConnecting=!0,ie.on("modal_closed",()=>{oe(new Error("User closed modal"))}),ie.createSession({chainId:this.chainId}).then(()=>{ie.on("connect",(se,ue)=>{if(se)return this.isConnecting=!1,oe(se);this.isConnecting=!1,this.connected=!0,ue&&this.updateState(ue.params[0]),this.emit("connect"),this.triggerConnect(ie),ne(ie)})}).catch(se=>{this.isConnecting=!1,oe(se)})):(this.connected||(this.connected=!0,this.updateState(ie.session)),ne(ie))})}async subscribeWalletConnector(){const ee=await this.getWalletConnector();ee.on("disconnect",re=>{if(re){this.emit("error",re);return}this.onDisconnect()}),ee.on("session_update",(re,ne)=>{if(re){this.emit("error",re);return}this.updateState(ne.params[0])})}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(ee){const{accounts:re,chainId:ne,networkId:oe,rpcUrl:ie}=ee;(!this.accounts||re&&this.accounts!==re)&&(this.accounts=re,this.emit("accountsChanged",re)),(!this.chainId||ne&&this.chainId!==ne)&&(this.chainId=ne,this.emit("chainChanged",ne)),(!this.networkId||oe&&this.networkId!==oe)&&(this.networkId=oe,this.emit("networkChanged",oe)),this.updateRpcUrl(this.chainId,ie||"")}updateRpcUrl(ee,re=""){const ne={infuraId:this.infuraId,custom:this.rpc||void 0};re=re||getRpcUrl(ee,ne),re?(this.rpcUrl=re,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${ee}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new HTTPConnection(this.rpcUrl),this.http.on("payload",ee=>this.emit("payload",ee)),this.http.on("error",ee=>this.emit("error",ee)))}sendAsyncPromise(ee,re){return new Promise((ne,oe)=>{this.sendAsync({id:payloadId(),jsonrpc:"2.0",method:ee,params:re||[]},(ie,se)=>{if(ie){oe(ie);return}ne(se.result)})})}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new FixtureSubprovider({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new CacheSubprovider),this.addProvider(new SubscriptionsSubprovider),this.addProvider(new FilterSubprovider),this.addProvider(new NonceSubprovider),this.addProvider(new HookedWalletSubprovider(this.configWallet())),this.addProvider({handleRequest:async(ee,re,ne)=>{try{const{error:oe,result:ie}=await this.handleRequest(ee);ne(oe,ie)}catch(oe){ne(oe)}},setEngine:ee=>ee})}configWallet(){return{getAccounts:async ee=>{try{const ne=(await this.getWalletConnector()).accounts;ne&&ne.length?ee(null,ne):ee(new Error("Failed to get accounts"))}catch(re){ee(re)}},processMessage:async(ee,re)=>{try{const oe=await(await this.getWalletConnector()).signMessage([ee.from,ee.data]);re(null,oe)}catch(ne){re(ne)}},processPersonalMessage:async(ee,re)=>{try{const oe=await(await this.getWalletConnector()).signPersonalMessage([ee.data,ee.from]);re(null,oe)}catch(ne){re(ne)}},processSignTransaction:async(ee,re)=>{try{const oe=await(await this.getWalletConnector()).signTransaction(ee);re(null,oe)}catch(ne){re(ne)}},processTransaction:async(ee,re)=>{try{const oe=await(await this.getWalletConnector()).sendTransaction(ee);re(null,oe)}catch(ne){re(ne)}},processTypedMessage:async(ee,re)=>{try{const oe=await(await this.getWalletConnector()).signTypedData([ee.from,ee.data]);re(null,oe)}catch(ne){re(ne)}}}}}const back_url="http://localhost:7777",provider=new WalletConnectProvider({qrcode:!0,rpc:{97:"https://data-seed-prebsc-1-s1.binance.org:8545/",4:"https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"},pollingInterval:15e4}),callToBack=async(te,ee,re)=>{if(!re)throw new Error("Backend url is not specified");console.log("call to back"),console.log("address: ",te),console.log("direction",ee),await axios.post("",{address:te,direction:ee},{baseURL:re})},checkBackend=async te=>{const ee=useInfoStore();if(!te)throw ee.backendIsDown=!0,ee.showMessage("error","Backend url is not specified"),new Error("Backend url is not specified");try{await axios.get("ping",{baseURL:te})}catch{throw ee.backendIsDown=!0,ee.showMessage("error","Backend is down, try the bridge the other time :)"),new Error("Backend is down, try the bridge the other time :)")}},metamaskOldLock=async te=>{const ee=useStore(),re=useSelectStore(),ne=ee.oldLock,oe=await ethBridgeContract.checkUserLock(te),ie=await bscBridgeContract.checkUserLock(te);oe.amount.eq(BigNumber.from(0))?ne.eth={isOldLock:!1,amount:BigNumber.from(0),address:""}:ne.eth={isOldLock:!0,amount:oe.amount,address:oe.targetAddr},ie.amount.eq(BigNumber.from(0))?ne.bsc={isOldLock:!1,amount:BigNumber.from(0),address:""}:ne.bsc={isOldLock:!0,amount:ie.amount,address:ie.targetAddr},re.getFrom.label==="Binance Smart Chain"&&ne.bsc.isOldLock?(ee.inputAmount=ne.bsc.amount.div(BigNumber.from(10).pow(12)),ee.walletAddressTo=ne.bsc.address):re.getFrom.label==="Ethereum"&&ne.eth.isOldLock?(ee.inputAmount=ne.eth.amount.div(BigNumber.from(10).pow(12)),ee.walletAddressTo=ne.eth.address):(re.getFrom.label==="Binance Smart Chain"&&!ne.bsc.isOldLock||re.getFrom.label==="Ethereum"&&!ne.eth.isOldLock)&&(ee.walletAddressTo="")},solanaOldLock=async te=>{const ee=useStore();ee.oldLock;try{const[re,ne]=await PublicKey.findProgramAddress([encode$7("LOCK"),te.publicKey.toBuffer()],ee.solanaProgram.programId),oe=await ee.solanaProgram.account.lockInfo.fetch(re);let ie=toHexString(oe.target);console.log(ie),console.log(oe.target),oe.amount.isZero()||(ee.oldLock.sol={isOldLock:!0,amount:BigNumber.from(oe.amount.toString()),address:toHexString(oe.target),ethereum:oe.ethereum},ee.inputAmount=BigNumber.from(oe.amount.toString()),ee.walletAddressTo=toHexString(oe.target))}catch{return!1}};function toHexString(te){var ee="0x";return te.forEach(function(re){ee+=("0"+(re&255).toString(16)).slice(-2)}),ee}const metamask=async te=>{if(console.log(te),window.ethereum){let ee=new Web3Provider(window.ethereum);if(await ee.send("eth_requestAccounts",[]),te){let re=!1,ne=!0;try{await ee.send("wallet_switchEthereumChain",[{chainId:"0x4"}])}catch(ue){ne=!1,re=!0,ue.code===4902&&await ee.send("wallet_addEthereumChain",[{chainId:"0x4",chainName:"Rinkeby",rpcUrls:["https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"]}])}ee=new Web3Provider(window.ethereum);const oe=ee.getSigner(),ie=await oe.getAddress(),se=await ethTokenContract.balanceOf(ie);return await metamaskOldLock(ie),{provider:ee,signer:oe,wallet:ie,balance:se,newEthereum:ne,isError:re}}else{let re=!1,ne=!1;try{await ee.send("wallet_switchEthereumChain",[{chainId:"0x61"}])}catch(ue){ne=!0,re=!0,ue.code===4902&&await ee.send("wallet_addEthereumChain",[{chainId:"0x61",chainName:"BSC Testnet",rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545/"]}])}ee=new Web3Provider(window.ethereum);const oe=ee.getSigner(),ie=await oe.getAddress(),se=await bscTokenContract.balanceOf(ie);return await metamaskOldLock(ie),{provider:ee,signer:oe,wallet:ie,balance:se,newEthereum:ne,isError:re}}}else throw new Error("Please set up MetaMask properly")},phantom=async()=>{if(useStore(),!("solana"in window)||!window.solana.isPhantom)throw new Error("Please set up Phantom properly");const te="processed",ee="confirmed",re=window.solana;await re.connect(),await solanaOldLock(re);const ne=new Connection(clusterApiUrl("devnet"),ee);let oe=new Provider$2(ne,window.solana,{preflightCommitment:te,commitment:ee});const ie=new Program$1(JSON.parse(JSON.stringify(idl)),programId,oe),se=new PublicKey(mintAddress);let ue=await ne.getTokenAccountsByOwner(re.publicKey,{mint:se}),he,ge;if(ue.value.length>0){he=ue.value[0].pubkey;let be=await lib$4.getTokenAccount(oe,he);ge=BigNumber.from(be.amount.toString())}return console.log(re.publicKey.toString()),{wallet:re,solanaConnection:ne,solanaProgram:ie,solanaBalance:ge}},disconnectWc=async()=>{const te=useStore();te.BeProvider=null,te.BeSigner=null,te.BeWallet=null,te.BeBalance=null,te.WCProvider=null,te.isWc=!1,await provider.disconnect()},switchWC=async te=>{const ee=useStore(),re=useSelectStore();try{te?await provider.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x4"}]}):await provider.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x61"}]});const oe=new Web3Provider(provider).getSigner();ee.BeSigner=()=>oe;const ie=await oe.getAddress();te?(ee.ethereum=!0,re.from={label:"Ethereum",img:"ethereum"},ee.BeBalance=await ethTokenContract.balanceOf(ie)):(ee.ethereum=!1,re.from={label:"Binance Smart Chain",img:"binance"},ee.BeBalance=await bscTokenContract.balanceOf(ie)),re.validateSelect(re.from,re.to)}catch{return ee.ethereum?(ee.ethereum=!1,re.from={label:"Binance Smart Chain",img:"binance"}):(ee.ethereum=!0,re.from={label:"Ethereum",img:"ethereum"}),re.validateSelect(re.from,re.to),!1}},walletConnect=async te=>{const ee=useStore(),re=useSelectStore(),ne=useInfoStore();if(await provider.enable(),provider.on("accountsChanged",async oe=>{if(provider.chainId==4||provider.chainId==97){const ie=useStore(),se=new Web3Provider(provider),ue=se.getSigner(),he=await ue.getAddress();ie.BeProvider=()=>se,ie.BeSigner=()=>ue,ie.BeWallet=he,ie.invalidWCProvider=!1;let ge;provider.chainId==4?ge=await ethTokenContract.balanceOf(he):provider.chainId==97&&(ge=await bscTokenContract.balanceOf(he)),await metamaskOldLock(he),ie.BeBalance=ge}else try{ee.invalidWCProvider=!0,ne.showMessage("error","The choosen chain is not supported!"),await provider.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x61"}]}),ee.ethereum=!1,ee.invalidWCProvider=!1,await changeStore(),re.from={label:"Binance Smart Chain",img:"binance"},re.validateSelect(re.from,re.to)}catch{return ee.invalidWCProvider=!0,ne.showMessage("error","The choosen chain is not supported!"),!1}}),provider.on("chainChanged",async oe=>{if(ee.invalidWCProvider=!0,oe==4||oe==97)ee.invalidWCProvider=!1,oe==4?(ee.ethereum=!0,await changeStore(),re.from={label:"Ethereum",img:"ethereum"}):oe==97&&(ee.ethereum=!1,await changeStore(),re.from={label:"Binance Smart Chain",img:"binance"}),re.validateSelect(re.from,re.to);else try{ne.showMessage("error","The choosen chain is not supported!"),await provider.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x61"}]}),ee.ethereum=!1,ee.invalidWCProvider=!1,await changeStore(),re.from={label:"Binance Smart Chain",img:"binance"},re.validateSelect(re.from,re.to)}catch{return ee.invalidWCProvider=!0,ne.showMessage("error","The choosen chain is not supported!"),!1}}),provider.on("disconnect",(oe,ie)=>{ee.BeProvider=null,ee.BeSigner=null,ee.BeWallet=null,ee.BeBalance=null,ee.WCProvider=null,ee.isWc=!1}),provider.chainId==4||provider.chainId==97){const oe=new Web3Provider(provider),ie=oe.getSigner(),se=await ie.getAddress();ee.BeProvider=()=>oe,ee.BeSigner=()=>ie,ee.BeWallet=se,ee.invalidWCProvider=!1,provider.chainId==4?(ee.BeBalance=await bscTokenContract.balanceOf(se),re.from={label:"Ethereum",img:"ethereum"}):provider.chainId==97&&(ee.BeBalance=await bscTokenContract.balanceOf(se),re.from={label:"Binance Smart Chain",img:"binance"}),await metamaskOldLock(se),ee.isWc=!0,re.validateSelect(re.from,re.to)}else try{await provider.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x61"}]}),ee.ethereum=!1,await changeStore(),re.from={label:"Binance Smart Chain",img:"binance"},re.validateSelect(re.from,re.to)}catch{return ee.invalidWCProvider=!1,ne.showMessage("error","The choosen chain is not supported!"),await provider.disconnect(),!1}},changeStore=async()=>{const te=useStore(),ee=new Web3Provider(provider),re=ee.getSigner(),ne=await re.getAddress();te.BeProvider=()=>ee,te.BeSigner=()=>re,te.BeWallet=ne,te.invalidWCProvider=!1;let oe;te.ethereum?oe=await ethTokenContract.balanceOf(ne):oe=await bscTokenContract.balanceOf(ne),await metamaskOldLock(ne),te.BeBalance=oe},sliceAddress=te=>te?`${te.slice(0,14)}...${te.slice(-4,te.length)}`:"",removeTrailingZeros=te=>te.replace(/\.?0+$/,""),numstrToBN=(te,ee)=>{var ne;if(!te)return BigNumber.from(0);const re=te.split(".");return((ne=re[1])==null?void 0:ne.length)>ee&&(te=[re[0],re[1].slice(0,ee)].join(".")),parseUnits(te,ee)},BNToNumstr=(te,ee,re)=>{let ne=BNToNumstrStrict(te,ee,re);return ne.split(".")[1]&&(ne=removeTrailingZeros(ne)),ne},BNToNumstrStrict=(te,ee,re)=>{if(!te)return"0";const ne=formatUnits(te,ee).split(".");return re===0?ne[0]:[ne[0],((ne[1]||"")+"0".repeat(re)).slice(0,re)].join(".")};class WalletError extends Error{constructor(ee,re){super(ee),this.error=re}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}const useTransactionStore=defineStore("transaction",{state:()=>({show:!1,from:null,to:null,step:null,firstStageInfo:null,secondStageInfo:null,amount:null,firstStart:!1,firstFinished:!1,secondStart:!1,secondFinished:!1,nativeFee:BigNumber.from(0)}),getters:{},actions:{setShow(){this.show=!this.show}}});function hexStringToByteArray(te){if(te.length%2!==0)throw"Must have an even number of hex digits to convert to bytes";for(var ee=te.length/2,re=new Uint8Array(ee),ne=0;ne<ee;ne++)re[ne]=parseInt(te.substr(ne*2,2),16);return re}async function getSettingsAccount(te){const[ee,re]=await PublicKey.findProgramAddress([encode$7("SETTINGS")],te.programId);return ee}const bridgeToSolana=async(te,ee,re)=>{if(!re.BeSigner)throw new Error("Please connect your MetaMask wallet");const ne=useTransactionStore(),oe=useInfoStore();await checkBackend(back_url);let ie=BigNumber.from(ee).mul(BigNumber.from(10).pow(12)),se=20,ue,he,ge={tokenContract:null,tokenSigner:null,bridgeContract:null,bridgeSigner:null,bridgeAddress:null,direction:null,rpc:null,isOldLock:!1,oldLockAmount:BigNumber.from(0)};re.ethereum?(ge.tokenContract=ethTokenContract,ge.tokenSigner=getEthTokenSigner(re.BeSigner()),ge.bridgeContract=ethBridgeContract,ge.bridgeSigner=getEthBridgeSigner(re.BeSigner()),ge.bridgeAddress=address,ge.direction="ETH_TO_SOLANA",ne.from="eth",ge.rpc=ETH_RPC$1,ge.isOldLock=re.oldLock.eth.isOldLock,ge.oldLockAmount=re.oldLock.eth.amount):(ge.tokenContract=bscTokenContract,ge.tokenSigner=getBscTokenSigner(re.BeSigner()),ge.bridgeContract=bscBridgeContract,ge.bridgeSigner=getBscBridgeSigner(re.BeSigner()),ge.bridgeAddress=address$2,ge.direction="BSC_TO_SOLANA",ne.from="bsc",ge.rpc=BSC_RPC$1,ge.isOldLock=re.oldLock.bsc.isOldLock,ge.oldLockAmount=re.oldLock.bsc.amount);const be=new JsonRpcProvider(ge.rpc);if(ge.isOldLock){ne.to="sol",ne.amount=BNToNumstr(ge.oldLockAmount,18,3),ne.firstStart=!0,ne.setShow(),ne.firstStageInfo="Using old lock",await lib$4.sleep(2e3);let Se=await be.getBlockNumber(),Te=0;for(ne.firstStageInfo="Wait for confirmations";Te<se;){let Re=await be.getBlockNumber();if(Re<Se)throw oe.showMessage("error","Chain was changed"),ne.$reset(),new Error("Chain was changed");Te=Re-Se,Te>se&&(Te=se),ne.step=Te,await lib$4.sleep(5e3)}const ke=await ge.bridgeContract.checkUserLock(re.BeWallet);if(console.log(ke),ke.amount.eq(BigNumber.from(0)))throw oe.showMessage("error","Chain was changed"),ne.$reset(),new Error("Chain was changed");ue="Using old lock",ne.firstFinished=!0,ne.firstStageInfo="Success!"}else{if((await ge.tokenContract.allowance(re.BeWallet,ge.bridgeAddress)).lt(ie)){try{he=await ge.tokenSigner.approve(ge.bridgeAddress,ie)}catch(Te){return console.error(Te),oe.showMessage("error","transaction was declined"),!1}await he.wait()}ne.to="sol",ne.amount=BNToNumstr(ie,18,3),ne.firstStart=!0,ne.setShow(),console.log("Creating new lock"),ne.firstStageInfo="Creating new Lock",console.log(ie);try{he=await ge.bridgeSigner.upload(ie,te);const Te=he.gasPrice;console.log(he.hash),he=await he.wait();const ke=Te.mul(he.gasUsed);ne.nativeFee=ke,console.log(he);let Re=he.blockNumber;console.log(Re);let Ce=Re,Pe=0;for(ne.firstStageInfo="wait for confirmations";Pe<se;){let Ie=await be.getBlockNumber();if(Ie<he.blockNumber)throw oe.showMessage("error","Chain was changed"),ne.$reset(),new Error("Chain was changed");Pe=Ie-Ce,Pe>se&&(Pe=se),ne.step=Pe,await lib$4.sleep(5e3)}ne.firstFinished=!0,ne.firstStageInfo="Success!"}catch(Te){return console.error(Te),oe.showMessage("error","transaction was declined"),ne.$reset(),!1}ue="New lock created"}return ne.secondStart=!0,await callToBack(re.BeWallet,ge.direction,back_url).then(()=>{re.ethereum?re.oldLock.eth={isOldLock:!1,amount:0,address:""}:re.oldLock.bsc={isOldLock:!1,amount:0,address:""},ne.secondFinished=!0,ne.secondStageInfo="Success",re.BeBalance=re.BeBalance.sub(ie),ne.$reset(),oe.showMessage("success","Transaction was successfull")}).catch(async Se=>{ne.$reset(),Se.message==="Network Error"?oe.showMessage("error","Backend is down"):oe.showMessage("error",Se);let Te=await ge.bridgeContract.checkUserLock(re.BeWallet);re.ethereum?Te.amount.eq(BigNumber.from(0))?re.oldLock.eth={isOldLock:!1,amount:BigNumber.from(0),address:""}:(re.oldLock.eth={isOldLock:!0,amount:Te.amount,address:Te.targetAddr},re.inputAmount=re.oldLock.eth.amount.div(BigNumber.from(10).pow(12)),re.walletAddressTo=re.oldLock.eth.address):Te.amount.eq(BigNumber.from(0))?re.oldLock.bsc={isOldLock:!1,amount:BigNumber.from(0),address:""}:(re.oldLock.bsc={isOldLock:!0,amount:Te.amount,address:Te.targetAddr},re.inputAmount=re.oldLock.bsc.amount.div(BigNumber.from(10).pow(12)),re.walletAddressTo=re.oldLock.bsc.address)}),ue},bridgeToBSC=async(te,ee,re)=>{let ne,oe=BigNumber.from(ee).mul(BigNumber.from(10).pow(12));const ie=useTransactionStore(),se=useInfoStore();if(re.ethereum?(ne="SOLANA_TO_ETH",ie.to="eth"):(ne="SOLANA_TO_BSC",ie.to="bsc"),ie.from="sol",!re.solanaProgram||!re.solanaConnection)throw new WalletNotConnectedError("Please connect your Phantom wallet");await checkBackend(back_url),te.length==42&&(te=te.slice(2,te.length));const ue=new PublicKey(mintAddress);let he=hexStringToByteArray(te),ge=await re.solanaConnection.getTokenAccountsByOwner(re.solanaWallet.publicKey,{mint:ue}),be;if(ge.value.length>0)be=ge.value[0].pubkey;else{const Ie="processed",Ne="confirmed",He=new Provider$2(re.solanaConnection,re.solanaWallet,{preflightCommitment:Ie,commitment:Ne});be=await lib$4.createTokenAccount(He,ue,re.solanaWallet.publicKey)}const[Se,Te]=await PublicKey.findProgramAddress([encode$7("LOCK"),re.solanaWallet.publicKey.toBuffer()],re.solanaProgram.programId);console.log("lockPublicKey: ",Se);let ke;const Re=new BN$f(ee.toString());try{const Ie=await re.solanaProgram.account.lockInfo.fetch(Se);if(!Ie.amount.isZero()){let Ne=Ie.amount.toString().slice(0,-6)+"."+Ie.amount.toString().slice(-6);ie.amount=BNToNumstr(numstrToBN(Ne,6),6,3),ie.firstStart=!0,Ie.ethereum?(ne="SOLANA_TO_ETH",ie.to="eth"):(ne="SOLANA_TO_BSC",ie.to="bsc"),ie.setShow(),console.log("Using old lock"),ie.firstStageInfo="Used old lock",ie.firstFinished=!0,ie.secondStart=!0,await callToBack(re.solanaWallet.publicKey.toBase58(),ne,back_url).then(()=>{re.oldLock.sol={isOldLock:!1,amount:0,address:"",ethereum:!1},ie.secondFinished=!0,ie.secondStageInfo="Success",re.solanaBalance=re.solanaBalance.sub(BigNumber.from(ee)),ie.$reset(),se.showMessage("success","Transaction was successfull")}).catch(He=>{ie.$reset(),He.message==="Network Error"?se.showMessage("error","Backend is down"):se.showMessage("error",He)});return}ie.amount=BNToNumstr(oe,18,3),ie.firstStart=!0,ie.setShow(),ie.firstStageInfo="Creating new lock",ke=re.solanaProgram.transaction.updateLock(he,Re,re.ethereum,{accounts:{user:re.solanaWallet.publicKey,userTokenAccount:be,pdaTokenAccount:new PublicKey(bridgeTokenAddress),settingsAccount:await getSettingsAccount(re.solanaProgram),lockAccount:Se,tokenProgram:lib$3.TokenInstructions.TOKEN_PROGRAM_ID}}),console.log(ke)}catch(Ie){console.log(Ie),ie.amount=BNToNumstr(oe,18,3),ie.firstStart=!0,ie.setShow(),ie.firstStageInfo="Creating new lock",ke=re.solanaProgram.transaction.collect(he,Re,re.ethereum,{accounts:{user:re.solanaWallet.publicKey,userTokenAccount:be,pdaTokenAccount:new PublicKey(bridgeTokenAddress),settingsAccount:await getSettingsAccount(re.solanaProgram),lockAccount:Se,tokenProgram:lib$3.TokenInstructions.TOKEN_PROGRAM_ID,systemProgram:SystemProgram.programId}})}ke.feePayer=re.solanaProgram.provider.wallet.publicKey,ke.recentBlockhash=(await re.solanaProgram.provider.connection.getLatestBlockhash()).blockhash;let Ce;try{Ce=await re.solanaProgram.provider.wallet.signTransaction(ke)}catch(Ie){return console.error(Ie),se.showMessage("error","transaction was declined"),ie.$reset(),!1}let Pe;try{Pe=await re.solanaProgram.provider.connection.sendRawTransaction(Ce.serialize())}catch(Ie){return console.error(Ie),ie.$reset(),se.showMessage("error",Ie),!1}return await re.solanaProgram.provider.connection.confirmTransaction(Pe),console.log(Pe),ie.firstFinished=!0,ie.firstStageInfo="Success",ie.secondStart=!0,await callToBack(re.solanaWallet.publicKey.toBase58(),ne,back_url).then(()=>{re.oldLock.sol={isOldLock:!1,amount:0,address:"",ethereum:!1},ie.secondFinished=!0,ie.secondStageInfo="Success",re.solanaBalance=re.solanaBalance.sub(BigNumber.from(ee)),ie.$reset(),se.showMessage("success","Transaction was successfull")}).catch(async Ie=>{ie.$reset(),Ie.message==="Network Error"?se.showMessage("error","Backend is down"):se.showMessage("error",Ie);try{const[Ne,He]=await PublicKey.findProgramAddress([encode$7("LOCK"),re.solanaWallet.publicKey.toBuffer()],re.solanaProgram.programId),Ke=await re.solanaProgram.account.lockInfo.fetch(Ne);Ke.amount.isZero()||(re.oldLock.sol={isOldLock:!0,amount:BigNumber.from(Ke.amount.toString()),address:toHexString(Ke.target),ethereum:Ke.ethereum},re.inputAmount=BigNumber.from(Ke.amount.toString()),re.walletAddressTo=toHexString(Ke.target))}catch{return!1}}),Pe},useStore=defineStore("store",{state:()=>({ethereum:!1,isWc:!1,WCProvider:null,invalidWCProvider:!1,BeProvider:null,BeSigner:null,inputAmountString:"",walletAddressTo:null,BeWallet:null,isError:!1,isBridge:!0,solanaWallet:null,solanaConnection:null,solanaProgram:null,solanaBalance:null,BeBalance:null,inputAmount:BigNumber.from(0),oldLock:{eth:{isOldLock:!1,amount:BigNumber.from(0),address:""},bsc:{isOldLock:!1,amount:BigNumber.from(0),address:""},sol:{isOldLock:!1,amount:0,address:"",ethereum:!1}},errorInput:!1,bridgeWalletTo:!1,comission:{bscSol:BigNumber.from(0),ethSol:BigNumber.from(0),solBsc:BigNumber.from(0),solEth:BigNumber.from(0)}}),getters:{getWalletAddressFromBe:te=>te.BeWallet,getWalletAddressFromSol:te=>te.solanaConnection?te.solanaWallet.publicKey.toString():null,getWalletAddresTo:te=>te.walletAddressTo,getBalanceBe:te=>te.BeBalance?BNToNumstr(te.BeBalance,18,3):"0",getBalanceSol:te=>te.solanaBalance?BNToNumstr(te.solanaBalance,6,3):"0",getOldLock:te=>te.oldLock,getInputAmountString:te=>te.inputAmountString,getInputAmount:te=>te.inputAmount,getErrorInput:te=>te.errorInput,getBridgeWalletTo:te=>te.bridgeWalletTo,getComission:te=>te.comission,getIsBridge:te=>te.isBridge},actions:{updateStore({provider:te,signer:ee,BeBalance:re,newEthereum:ne}){this.BeProvider=()=>te,this.BeSigner=()=>ee,this.BeBalance=re,this.ethereum=ne},async setWalletAddresTo(te){this.walletAddressTo=te.target.value},async connectMetamask(){const{provider:te,signer:ee,wallet:re,balance:ne,newEthereum:oe,isError:ie}=await metamask(this.ethereum);console.log("newEthereum",oe),console.log("isError",ie),this.ethereum=oe,this.isError=ie,ie||(this.BeProvider=()=>te,this.BeSigner=()=>ee,this.BeWallet=re,this.BeBalance=ne)},async resetMetamask(){this.isWc&&await disconnectWc(),this.BeProvider=null,this.BeSigner=null,this.BeWallet=null,this.BeBalance=null},async connectPhantom(){const{wallet:te,solanaConnection:ee,solanaProgram:re,solanaBalance:ne}=await phantom();this.solanaWallet=te,this.solanaConnection=ee,this.solanaProgram=re,this.solanaBalance=ne,await solanaOldLock(this.solanaWallet)},resetPhantom(){this.solanaWallet=null,this.solanaConnection=null,this.solanaProgram=null,this.solanaBalance=null},setInputAmount(te){this.inputAmount=numstrToBN(te,6)},async bridge(te){te?await bridgeToBSC(this.walletAddressTo,this.inputAmount,this.$state):await bridgeToSolana(this.walletAddressTo,this.inputAmount,this.$state)},async connectWc(){await walletConnect(this.ethereum)},async connectHandler(){this.isWc?await switchWC(this.ethereum):await this.connectMetamask()}}}),commissionCalculation=(te,ee)=>Number(BNToNumstr(ee.sub(te),6,7))<0?"0":BNToNumstr(ee.sub(te),6,7),finalCommissionForUser=(te,ee,re,ne)=>{if(te==="Binance Smart Chain"&&ee==="Solana")return commissionCalculation(re.bscSol,ne);if(te==="Ethereum"&&ee==="Solana")return commissionCalculation(re.ethSol,ne);if(te==="Solana"&&ee==="Binance Smart Chain")return commissionCalculation(re.solBsc,ne);if(te==="Solana"&&ee==="Ethereum")return commissionCalculation(re.solEth,ne)},commissionCalcForChains=(te,ee,re)=>{if(te==="Binance Smart Chain"&&ee==="Solana")return BNToNumstr(re.bscSol,6,7);if(te==="Ethereum"&&ee==="Solana")return BNToNumstr(re.ethSol,6,7);if(te==="Solana"&&ee==="Binance Smart Chain")return BNToNumstr(re.solBsc,6,7);if(te==="Solana"&&ee==="Ethereum")return BNToNumstr(re.solEth,6,7)},getOldLock=(te,ee)=>te==="Binance Smart Chain"&&ee.bsc.isOldLock||te==="Ethereum"&&ee.eth.isOldLock?!0:!!(te==="Solana"&&ee.sol.isOldLock),_sfc_main$f=defineComponent({props:{openModal:null},setup(te,{expose:ee}){ee();const re=te,ne=useStore(),oe=useSelectStore(),ie=ref(""),se=computed(()=>oe.getFrom.label==="Solana"?ne.getBalanceSol:ne.getBalanceBe),ue=computed(()=>oe.getFrom.label==="Solana"?sliceAddress(ne.getWalletAddressFromSol):sliceAddress(ne.getWalletAddressFromBe)),he=computed(()=>!!(oe.getFrom.label==="Solana"&&ne.getWalletAddressFromSol||oe.getFrom.label==="Binance Smart Chain"&&ne.getWalletAddressFromBe||oe.getFrom.label==="Ethereum"&&ne.getWalletAddressFromBe)),ge=async()=>oe.getFrom.label==="Solana"?ne.resetPhantom():await ne.resetMetamask(),be=Pe=>{/^[0-9]*[.]?[0-9]*$/.test(Pe.target.value)?(ne.inputAmountString=Pe.target.value,ne.setInputAmount(ne.inputAmountString),ne.errorInput=!1):Pe.target.value=ne.inputAmountString},Se=()=>{ne.inputAmountString=se.value,ne.setInputAmount(ne.inputAmountString)},Te=computed(()=>!(!getOldLock(oe.getFrom.label,ne.getOldLock)&&!ne.invalidWCProvider)),ke=computed(()=>commissionCalcForChains(oe.getFrom.label,oe.getTo.label,ne.getComission)),Re=computed(()=>!!(Number(ne.getInputAmountString)>Number(se.value)||Number(ne.getInputAmountString)<Number(ke.value)*3&&ne.getInputAmountString!==""||ne.getErrorInput)),Ce={store:ne,select:oe,props:re,inputValue:ie,balance:se,walletAddress:ue,disconnectButton:he,disconnectFunc:ge,inputHandler:be,maxAMount:Se,isOldLock:Te,commission:ke,errorInput:Re};return Object.defineProperty(Ce,"__isScriptSetup",{enumerable:!1,value:!0}),Ce}}),_hoisted_1$e={class:"cards__wrapper"},_hoisted_2$d=createBaseVNode("h3",{class:"cards__title"},"From",-1),_hoisted_3$b={class:"cards__header"},_hoisted_4$8={class:"cards__input-wrapper"},_hoisted_5$7=["value"],_hoisted_6$7={class:"cards__footer"},_hoisted_7$6=createBaseVNode("h3",{class:"cards__title"},"Amount",-1),_hoisted_8$5={class:"cards__list"},_hoisted_9$5={class:"cards__list-item"},_hoisted_10$3=createBaseVNode("span",{class:"cards__list-description"},"Balance",-1),_hoisted_11$3={class:"cards__list-value"},_hoisted_12$3={class:"cards__list-item"},_hoisted_13$3=createBaseVNode("span",{class:"cards__list-description"},"Fee",-1),_hoisted_14$3={class:"cards__list-value"};function _sfc_render$f(te,ee,re,ne,oe,ie){const se=__nuxt_component_0$5,ue=__nuxt_component_1$3;return openBlock(),createElementBlock("div",_hoisted_1$e,[_hoisted_2$d,createBaseVNode("div",_hoisted_3$b,[createVNode(se,{options:ne.select.getOptions,label:ne.select.getFrom.label,imgPath:ne.select.getFrom.img,onSelect:ne.select.fromHandler},null,8,["options","label","imgPath","onSelect"]),createBaseVNode("div",_hoisted_4$8,[createBaseVNode("input",{value:ne.walletAddress,type:"text",class:"cards__input",placeholder:"Wallet address",readonly:""},null,8,_hoisted_5$7),ne.disconnectButton?(openBlock(),createElementBlock("button",{key:1,onClick:ne.disconnectFunc,class:"cards__button"},"Disconnect")):(openBlock(),createElementBlock("button",{key:0,onClick:ee[0]||(ee[0]=(...he)=>re.openModal&&re.openModal(...he)),class:"cards__button"},"Connect Wallet"))])]),createBaseVNode("div",_hoisted_6$7,[_hoisted_7$6,createVNode(ue,{onInputHandler:ne.inputHandler,inputValue:ne.store.getInputAmountString,error:ne.errorInput,balance:ne.store.getBalance,maxAMount:ne.maxAMount,isBlocked:ne.isOldLock},null,8,["inputValue","error","balance","isBlocked"]),createBaseVNode("ul",_hoisted_8$5,[createBaseVNode("li",_hoisted_9$5,[_hoisted_10$3,createBaseVNode("span",_hoisted_11$3,toDisplayString(ne.balance)+" NNI",1)]),createBaseVNode("li",_hoisted_12$3,[_hoisted_13$3,createBaseVNode("span",_hoisted_14$3,toDisplayString(Number(ne.commission)<=0?"...calculating fee":`${ne.commission} NNI`),1)])])])])}var __nuxt_component_0$4=_export_sfc(_sfc_main$f,[["render",_sfc_render$f]]),_imports_0$4=buildAssetsURL("/__NUXT_BASE__/info.a290195e.svg".replace("/__NUXT_BASE__","")),To_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$e=defineComponent({setup(te,{expose:ee}){ee();const re=useStore(),ne=useSelectStore(),oe=computed(()=>sliceAddress(re.getWalletAddresTo)),ie=computed(()=>!(!getOldLock(ne.getFrom.label,re.getOldLock)&&!re.invalidWCProvider)),se=()=>re.bridgeWalletTo=!1,ue=computed(()=>ne.getFrom.label==="Solana"?re.getBalanceSol:re.getBalanceBe),he=computed(()=>finalCommissionForUser(ne.getFrom.label,ne.getTo.label,re.getComission,re.inputAmount)),ge={store:re,select:ne,walletAddress:oe,isOldLock:ie,bridgeWalletToHandler:se,balance:ue,commission:he};return Object.defineProperty(ge,"__isScriptSetup",{enumerable:!1,value:!0}),ge}}),_withScopeId$8=te=>(pushScopeId("data-v-504adf1a"),te=te(),popScopeId(),te),_hoisted_1$d={class:"cards__wrapper"},_hoisted_2$c=_withScopeId$8(()=>createBaseVNode("h3",{class:"cards__title"},"To",-1)),_hoisted_3$a={class:"cards__header"},_hoisted_4$7={class:"cards__input-bg"},_hoisted_5$6={style:{"padding-left":"20px",color:"red","margin-top":"5px"}},_hoisted_6$6={class:"cards__footer"},_hoisted_7$5=_withScopeId$8(()=>createBaseVNode("h3",{class:"cards__title"},"You will receive",-1)),_hoisted_8$4={class:"cards__receive"},_hoisted_9$4=_withScopeId$8(()=>createBaseVNode("ul",{class:"cards__list"},[createBaseVNode("li",{class:"cards__list-item"},[createBaseVNode("img",{src:_imports_0$4,alt:"info",class:"cards__info"}),createBaseVNode("span",{class:"cards__list-description"},"Make sure the network matches the entered network address.")])],-1));function _sfc_render$e(te,ee,re,ne,oe,ie){const se=__nuxt_component_0$5;return openBlock(),createElementBlock("div",_hoisted_1$d,[_hoisted_2$c,createBaseVNode("div",_hoisted_3$a,[createVNode(se,{options:ne.select.getOptions,label:ne.select.getTo.label,imgPath:ne.select.getTo.img,onSelect:ne.select.toHandler},null,8,["options","label","imgPath","onSelect"]),createBaseVNode("div",{onClick:ne.bridgeWalletToHandler,class:"cards__input-wrapper"},[withDirectives(createBaseVNode("div",_hoisted_4$7,null,512),[[vShow,ne.isOldLock]]),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":ee[0]||(ee[0]=ue=>ne.store.walletAddressTo=ue),type:"text",style:normalizeStyle(ne.store.getBridgeWalletTo?"border: 1px solid red;":"border: none"),class:"cards__input",placeholder:"Wallet address"},null,4),[[vModelText,ne.store.walletAddressTo]]),withDirectives(createBaseVNode("small",_hoisted_5$6," invalid address ",512),[[vShow,ne.store.getBridgeWalletTo]])])]),createBaseVNode("div",_hoisted_6$6,[_hoisted_7$5,createBaseVNode("div",_hoisted_8$4,toDisplayString(Number(ne.commission)<Number(ne.balance)?ne.commission:"0")+" NNI ",1),_hoisted_9$4])])}var __nuxt_component_1$2=_export_sfc(_sfc_main$e,[["render",_sfc_render$e],["__scopeId","data-v-504adf1a"]]);function customString(te){return te.length>=9?te[0]+te[1]+te[2]+te[3]+te[4]+te[5]+"..."+te[te.length-4]+te[te.length-3]+te[te.length-2]+te[te.length-1]:te}var _imports_0$3=buildAssetsURL("/__NUXT_BASE__/error.d2635d3f.svg".replace("/__NUXT_BASE__","")),_imports_1$2=buildAssetsURL("/__NUXT_BASE__/success.38c21984.svg".replace("/__NUXT_BASE__","")),_imports_2$2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAQAAABQ8GUWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmBRkRAAj6B4QvAAAFRklEQVR42t1bzU9TTxQ98ywkKuWjNF2YuFAUBPxCYdvEaEzYiVGjRvGDgBsjathq/NgICEbXEkQD/4BfC1cILg1qqQEWakyMUlso1o0L5vwWT2lpgb62b+aV31n2TXrvOXPvm5k79wkoBqXPB/j9ELW1wLZtQGUlUFYGlJYCRUXmqN+/gWgUmJ0FJieBiQkgGARHRoQRCqn2UQHphgbK3l4yECClZNaQkgwEKHt6KOvrneaVhnRxMWVHB/nxY/aE0yEYpOzooHS7neYbJ06Ph7x5k5yZUUc8GTMz5I0bZFmZg8SFoGxuJkMhfcSTEYmQ7e2kYeglL7dsId+8cY54MkZHyYoKTTPf1ETOzjpNORW/fpHHjyskbhjkvXtO00wL2dNje0pQFhaSQ0NOc7OOwUHKggIbyT9/7jSlzPHsWc4ikEKQAwNOU8keQ0M5pcOqyPl0kN3dWYb+0aNO+24fTpxYjqdYeuYrKoC3b4GSkpxyKG8wNwfs2SPEp0/JT1LygxQCePz4/0MeMLk8emRyW4yUH8iWFuDhQ/ud+PMH6OsDvn5dedzGjUBrK1BYaL8PZ88KMTCw7GPS46H8+VNNHt66ZdVN8vZtNT5MT5OlpYm2klLg8mUIr9d+5QHgyxfrYz9/VuODzwdcurSkAJTFxcDFi2oMA0BxsfWxKt8/7e2J9YSECGhrM0tV+SCAyoKHxwPR2poqgDhzRp1RAMyAFDMRKxu0tCwSgLKhAdi+XalNkQkp1QLU1JB1dQsCAMvvlOxDBnmdkVhZgidPxgUQBw+qFyCfUgAADhwAAMOs29fUqDeYASkdESB27aL0eg3A7weEyP0fbRRA6SqwoICA8PsNCMUvv6wE0HUOqa01gKqq/BNAxzsAAKqqDGDr1vwTQNfNT2WlAaja+yfD5SLXrk03ily3DnC59Pjk9Rr61IbF5U1X+AOg223Er6h1wAI5LXuAvxBut947NUvru0YBABhmc4IuWCCnYxP0D4zFDCAW0yeAleO2xitvEYsZQDisT4BTpyiXr/WZz06f1udPOOwCpqaAvXv1GGxqggiFKCORJR+L8nK91eipKZfZlKQTJSUQeVJy58SECxgf1285FgNevDC7wQCwpgaisVHvkgxABIOg9Ply6+TKELKvjywvT5kM6fWS/f3a/OD8POXfXTD54YMeo3fupJsUyrt3tbgix8YSjPb2qrf4/r2Vq2pyzRpyfFy9AF1dCQLU16sX4Px5q6lJeeGCen92705SPhhUak9aP3aT1dVqyQcC/2zFQ5L9/bm/VlfC7KyasdlgCa6UbrfSbk+5c6dV99SmZDhMGV9uFyJAGLEY8OCBMtFFY6OSsRnj/n1hLHMAJMvK1LW+fv9OmX4HqPaK/sePtD6Q586pC7+XL1cqi5Hr11O+eqXMvGxuThsgZmvc6Kg6J8bGyH37EttVTJv796vdkA0PW2qRMR3S0ST17Vv8HLJjB7Bhgzpb0ajZJJVB4wXlkSPqZkM3Dh/OSjez8Xi1o7Mz68Axc1PnCc1uDA7m3DlOWVCwOpulnz61sWPc5TLP8asFT57YRn5ROsjubqeprQwpyc7OpZY7G4U4dEjvF2JWMTdHHjumjPhiETZvJl+/dppyHMPD5KZNWsjHRfj32dz0tHPEIxGyrU1pyKcXorSUvH7ddEYXwmHy2jUrhyt9QsiiIvLqVbX1vECAvHIl8TyflyDr6swV4907cn4+e8Lz85RjY5RdXSk1PJugPHcovV4Iv9+8/KiuBisrzX7dpM/nGY0CMzMQk5PgxIR5aTEyIgy1d5f/AbkGQLlXui5AAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA1LTI1VDE3OjAwOjA4KzAwOjAwYbDGUAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNS0yNVQxNzowMDowOCswMDowMBDtfuwAAAAASUVORK5CYII=",_imports_3=buildAssetsURL("/__NUXT_BASE__/copy.51e10fe0.svg".replace("/__NUXT_BASE__","")),Message_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$d=defineComponent({props:{type:null,value:null,hash:null,isOldLock:{type:Boolean}},setup(te,{expose:ee}){ee();const re=te,ne=()=>window.navigator.clipboard.writeText(re.value),oe=useStore(),ie=useSelectStore(),se=computed(()=>{if(ie.getFrom.label==="Binance Smart Chain")return BNToNumstr(oe.getOldLock.bsc.amount,18,3);if(ie.getFrom.label==="Ethereum")return BNToNumstr(oe.getOldLock.eth.amount,18,3);if(ie.getFrom.label==="Solana")return oe.getOldLock.sol.amount.toString().slice(0,-6)+"."+oe.getOldLock.sol.amount.toString().slice(-6)}),ue=computed(()=>ie.getFrom.label==="Binance Smart Chain"?oe.getOldLock.bsc.address:ie.getFrom.label==="Ethereum"?oe.getOldLock.eth.address:ie.getFrom.label==="Solana"?oe.getOldLock.sol.address:""),he=computed(()=>ie.getFrom.label==="Binance Smart Chain"||ie.getFrom.label==="Ethereum"?"Solana":oe.getOldLock.sol.ethereum?"Ethereum":oe.getOldLock.sol.ethereum?"":"Binance Smart Chain"),ge={props:re,copyHash:ne,store:oe,select:ie,amount:se,address:ue,chain:he,customString};return Object.defineProperty(ge,"__isScriptSetup",{enumerable:!1,value:!0}),ge}}),_withScopeId$7=te=>(pushScopeId("data-v-d29969b4"),te=te(),popScopeId(),te),_hoisted_1$c={class:"w-full h-full rounded-main p-4 flex items-center"},_hoisted_2$b={key:0,src:_imports_0$3,alt:"error"},_hoisted_3$9={key:1,src:_imports_1$2,alt:"success"},_hoisted_4$6={key:2,src:_imports_2$2,alt:"info"},_hoisted_5$5={class:"flex flex-col ml-[10px] lg:ml-[24px] w-full"},_hoisted_6$5={key:0,class:"capitalize mb-[10px]"},_hoisted_7$4={key:1},_hoisted_8$3={key:2,class:"flex items-start py-[10px] px-[20px]"},_hoisted_9$3=createTextVNode(" Before transfering, you should finish the old bridge."),_hoisted_10$2=_withScopeId$7(()=>createBaseVNode("br",null,null,-1)),_hoisted_11$2=createTextVNode("You`ve locked amount: "),_hoisted_12$2={class:"font-bold"},_hoisted_13$2=createTextVNode(),_hoisted_14$2=_withScopeId$7(()=>createBaseVNode("br",null,null,-1)),_hoisted_15$2=createTextVNode("to be transfered to: "),_hoisted_16$1={class:"oldLock"},_hoisted_17$1=createTextVNode(),_hoisted_18$1=_withScopeId$7(()=>createBaseVNode("br",null,null,-1)),_hoisted_19$1=createTextVNode("on: "),_hoisted_20$1={class:"font-bold"},_hoisted_21$1={key:3},_hoisted_22$1={key:0,class:"flex flex-col"},_hoisted_23$1=_withScopeId$7(()=>createBaseVNode("span",null,"You can follow the status of your transaction with this transaction hash:",-1)),_hoisted_24$1={class:"flex justify-between mt-[20px] items-center w-full text-[18px]"},_hoisted_25$1={class:"font-bold"},_hoisted_26$1=_withScopeId$7(()=>createBaseVNode("img",{src:_imports_3,alt:"copy"},null,-1)),_hoisted_27$1=_withScopeId$7(()=>createBaseVNode("span",{class:"font-bold ml-2"},"Copy",-1)),_hoisted_28$1=[_hoisted_26$1,_hoisted_27$1],_hoisted_29$1={key:1};function _sfc_render$d(te,ee,re,ne,oe,ie){return openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",null,[ne.props.type==="error"?(openBlock(),createElementBlock("img",_hoisted_2$b)):ne.props.type==="success"?(openBlock(),createElementBlock("img",_hoisted_3$9)):ne.props.isOldLock?(openBlock(),createElementBlock("img",_hoisted_4$6)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_5$5,[ne.props.type?(openBlock(),createElementBlock("h3",_hoisted_6$5,toDisplayString(ne.props.type)+"!",1)):createCommentVNode("",!0),ne.props.type==="error"?(openBlock(),createElementBlock("p",_hoisted_7$4,toDisplayString(re.value),1)):ne.props.isOldLock?(openBlock(),createElementBlock("div",_hoisted_8$3,[createBaseVNode("span",null,[_hoisted_9$3,_hoisted_10$2,_hoisted_11$2,createBaseVNode("span",_hoisted_12$2,toDisplayString(ne.amount)+" tokens",1),_hoisted_13$2,_hoisted_14$2,_hoisted_15$2,createBaseVNode("span",_hoisted_16$1,toDisplayString(ne.address),1),_hoisted_17$1,_hoisted_18$1,_hoisted_19$1,createBaseVNode("span",_hoisted_20$1,toDisplayString(ne.chain),1)])])):ne.props.type==="success"?(openBlock(),createElementBlock("div",_hoisted_21$1,[re.hash?(openBlock(),createElementBlock("div",_hoisted_22$1,[_hoisted_23$1,createBaseVNode("div",_hoisted_24$1,[createBaseVNode("span",_hoisted_25$1,toDisplayString(ne.customString(ne.props.hash)),1),createBaseVNode("div",{onClick:ne.copyHash,class:"flex items-center cursor-pointer"},_hoisted_28$1)])])):(openBlock(),createElementBlock("div",_hoisted_29$1,toDisplayString(ne.props.value),1))])):createCommentVNode("",!0)])])}var __nuxt_component_0$3=_export_sfc(_sfc_main$d,[["render",_sfc_render$d],["__scopeId","data-v-d29969b4"]]),index_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$c=defineComponent({setup(te,{expose:ee}){ee();const re=useStore(),ne=useSelectStore(),oe=computed(()=>getOldLock(ne.getFrom.label,re.getOldLock)),ie=useInfoStore(),se={store:re,select:ne,isOldLock:oe,info:ie};return Object.defineProperty(se,"__isScriptSetup",{enumerable:!1,value:!0}),se}}),_hoisted_1$b={class:"w-full mt-[24px] flex items-center justify-center"},_hoisted_2$a={class:"max-w-[480px] lg:max-w-none w-full h-full flex items-center justify-center rounded-main bg-primary-gradient"},_hoisted_3$8={key:0,class:"py-[40px] text-center px-[20px]"};function _sfc_render$c(te,ee,re,ne,oe,ie){const se=__nuxt_component_0$3;return openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$a,[createVNode(Transition,{name:"fade"},{default:withCtx(()=>[ne.info.message===null&&ne.isOldLock===!1?(openBlock(),createElementBlock("span",_hoisted_3$8,"Information about your transaction will appear here.")):ne.info.message!==null?(openBlock(),createBlock(se,{key:1,type:ne.info.message.type,value:ne.info.message.value},null,8,["type","value"])):ne.isOldLock?(openBlock(),createBlock(se,{key:2,isOldLock:ne.isOldLock},null,8,["isOldLock"])):createCommentVNode("",!0)]),_:1})])])}var __nuxt_component_2$2=_export_sfc(_sfc_main$c,[["render",_sfc_render$c],["__scopeId","data-v-45cba48c"]]),Button_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$b={},_hoisted_1$a={class:"button"};function _sfc_render$b(te,ee){return openBlock(),createElementBlock("button",_hoisted_1$a,[renderSlot(te.$slots,"default",{},void 0,!0)])}var __nuxt_component_0$2=_export_sfc(_sfc_main$b,[["render",_sfc_render$b],["__scopeId","data-v-2da505ae"]]);const validateAddress=async(te,ee)=>ee?await validateAddressToSolana(te):await validateAddressToBscEth(te),validateAddressToSolana=async te=>{try{const ee=new PublicKey(te);return await PublicKey.isOnCurve(ee.toBuffer())}catch{return!1}},validateAddressToBscEth=async te=>{try{return isAddress(te)}catch{return!1}};var Bottom_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$a=defineComponent({props:{openModal:null},setup(te,{expose:ee}){ee();const re=te,ne=useStore(),oe=useSelectStore(),ie=useInfoStore(),se=ref(!1),ue=ref(!1),he=computed(()=>getOldLock(oe.getFrom.label,ne.getOldLock)),ge=computed(()=>!!(ne.BeProvider&&oe.from.label==="Binance Smart Chain"||ne.BeProvider&&oe.from.label==="Ethereum"||ne.solanaConnection&&oe.from.label==="Solana")),be=async()=>{oe.getFrom.label==="Solana"?ue.value=!0:ue.value=!1,await ne.bridge(ue.value)},Se=computed(()=>commissionCalcForChains(oe.getFrom.label,oe.getTo.label,ne.getComission)),Te=computed(()=>oe.getFrom.label==="Solana"?ne.getBalanceSol:ne.getBalanceBe),ke=computed(()=>Number(ne.getInputAmountString)>Number(Te.value)||Number(ne.getInputAmountString)<Number(Se.value)*3&&ne.getInputAmountString!==""),Ce={store:ne,select:oe,info:ie,loader:se,path:ue,props:re,isOldLock:he,connected:ge,oldLockHandler:be,commission:Se,balance:Te,errorInput:ke,bridgeHandler:async()=>{oe.getFrom.label==="Solana"?ue.value=!0:ue.value=!1,se.value=!0;try{const Pe=await validateAddress(ne.walletAddressTo,!ue.value);Pe&&ne.inputAmount._hex!=="0x00"?(ne.bridgeWalletTo=!1,ne.errorInput=!1,await ne.bridge(ue.value)):!Pe&&ne.inputAmount._hex==="0x00"?(ne.bridgeWalletTo=!0,ne.errorInput=!0):ne.inputAmount._hex==="0x00"?ne.errorInput=!0:Pe||(ne.bridgeWalletTo=!0)}catch(Pe){console.log(Pe)}finally{se.value=!1}}};return Object.defineProperty(Ce,"__isScriptSetup",{enumerable:!1,value:!0}),Ce}}),_withScopeId$6=te=>(pushScopeId("data-v-4a77954e"),te=te(),popScopeId(),te),_hoisted_1$9={class:"bottom"},_hoisted_2$9=createTextVNode("Backend is down"),_hoisted_3$7=createTextVNode("Connect Wallet"),_hoisted_4$5=createTextVNode("Invalid Amount"),_hoisted_5$4=createTextVNode("Process old lock"),_hoisted_6$4={key:4,class:"bottom__error-wrapper"},_hoisted_7$3=createTextVNode("Bridge"),_hoisted_8$2={class:"bottom__error"},_hoisted_9$2=_withScopeId$6(()=>createBaseVNode("div",{class:"spinner__wrapper"},[createBaseVNode("div",{class:"spinner"})],-1));function _sfc_render$a(te,ee,re,ne,oe,ie){const se=__nuxt_component_0$2;return openBlock(),createElementBlock("div",_hoisted_1$9,[ne.info.getBackendIsDown?(openBlock(),createBlock(se,{key:0},{default:withCtx(()=>[_hoisted_2$9]),_:1})):!ne.store.getWalletAddressFrom&&!ne.connected?(openBlock(),createBlock(se,{key:1,onClick:re.openModal},{default:withCtx(()=>[_hoisted_3$7]),_:1},8,["onClick"])):ne.errorInput&&!ne.isOldLock?(openBlock(),createBlock(se,{key:2},{default:withCtx(()=>[_hoisted_4$5]),_:1})):ne.isOldLock&&!ne.loader?(openBlock(),createBlock(se,{key:3,onClick:ne.oldLockHandler},{default:withCtx(()=>[_hoisted_5$4]),_:1})):ne.connected&&!ne.loader&&!ne.isOldLock?(openBlock(),createElementBlock("div",_hoisted_6$4,[createVNode(se,{onClick:ne.bridgeHandler},{default:withCtx(()=>[_hoisted_7$3]),_:1}),withDirectives(createBaseVNode("div",_hoisted_8$2,null,512),[[vShow,ne.store.invalidWCProvider]])])):ne.loader?(openBlock(),createBlock(se,{key:5},{default:withCtx(()=>[_hoisted_9$2]),_:1})):createCommentVNode("",!0)])}var __nuxt_component_3$1=_export_sfc(_sfc_main$a,[["render",_sfc_render$a],["__scopeId","data-v-4a77954e"]]);const useModalStore=defineStore("modal",{state:()=>({modalMain:!1}),getters:{getModalMain(te){return te.modalMain}},actions:{showMainModal(){this.modalMain=!this.modalMain}}});var index_vue_vue_type_style_index_0_lang="";const _sfc_main$9=defineComponent({setup(te,{expose:ee}){ee();const ne={modal:useModalStore()};return Object.defineProperty(ne,"__isScriptSetup",{enumerable:!1,value:!0}),ne}}),_hoisted_1$8={class:"cards"},_hoisted_2$8={class:"container"},_hoisted_3$6={class:"card__template"},_hoisted_4$4={class:"cards__block"};function _sfc_render$9(te,ee,re,ne,oe,ie){const se=__nuxt_component_0$4,ue=__nuxt_component_1$2,he=__nuxt_component_2$2,ge=__nuxt_component_3$1;return openBlock(),createElementBlock("section",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",_hoisted_3$6,[createBaseVNode("div",_hoisted_4$4,[createVNode(se,{openModal:ne.modal.showMainModal},null,8,["openModal"]),createVNode(ue)]),createVNode(he),createVNode(ge,{openModal:ne.modal.showMainModal},null,8,["openModal"])])])])}var __nuxt_component_1$1=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]),ProgressBarFirst_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$8=defineComponent({setup(te,{expose:ee}){ee();const re=useTransactionStore(),ne=computed(()=>re.step<=5&&re.step!==null?1:re.step>5&&re.step<=10?2:re.step>15&&re.step<=20?4:re.step===null?0:3),oe=100/4*ne,se={transaction:re,stage:ne,percent:oe,done:!1};return Object.defineProperty(se,"__isScriptSetup",{enumerable:!1,value:!0}),se}}),_withScopeId$5=te=>(pushScopeId("data-v-440b5128"),te=te(),popScopeId(),te),_hoisted_1$7={class:"w-full max-w-[400px] px-10 flex items-center flex-col relative"},_hoisted_2$7={class:"text-[12px] text-gray-primary"},_hoisted_3$5={class:"flex max-w-[400px] w-full flex-col items-center relative"},_hoisted_4$3={class:"flex w-full justify-between text-[10px]"},_hoisted_5$3={key:0},_hoisted_6$3={key:1},_hoisted_7$2=_withScopeId$5(()=>createBaseVNode("li",null,"5",-1)),_hoisted_8$1=_withScopeId$5(()=>createBaseVNode("li",null,"10",-1)),_hoisted_9$1=_withScopeId$5(()=>createBaseVNode("li",null,"15",-1)),_hoisted_10$1={key:2},_hoisted_11$1={key:3},_hoisted_12$1={class:"flex items-center max-w-[400px] w-full justify-between"},_hoisted_13$1=_withScopeId$5(()=>createBaseVNode("div",{class:"absolute bg-gray h-[2px] w-full rounded-main"},null,-1)),_hoisted_14$1={class:"w-full h-[2px] flex absolute z-[2232]"},_hoisted_15$1={class:"flex w-full justify-around text-[10px]"};function _sfc_render$8(te,ee,re,ne,oe,ie){return openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("span",_hoisted_2$7,toDisplayString(ne.transaction.firstStageInfo),1),createBaseVNode("div",_hoisted_3$5,[createBaseVNode("ul",_hoisted_4$3,[ne.transaction.step===null?(openBlock(),createElementBlock("li",_hoisted_5$3,"start")):createCommentVNode("",!0),ne.transaction.step!==null?(openBlock(),createElementBlock("li",_hoisted_6$3,"0")):createCommentVNode("",!0),_hoisted_7$2,_hoisted_8$1,_hoisted_9$1,ne.transaction.step<20?(openBlock(),createElementBlock("li",_hoisted_10$1,"20")):createCommentVNode("",!0),ne.transaction.step===20?(openBlock(),createElementBlock("li",_hoisted_11$1,"finish")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$1,[createBaseVNode("div",{class:normalizeClass(["step",[ne.transaction.firstStart&&"step-active"]])},[createBaseVNode("div",{class:normalizeClass([ne.transaction.step===null&&ne.transaction.firstStart&&"step-animate"])},null,2)],2),createBaseVNode("div",{class:normalizeClass(["step",[ne.stage>=1&&"step-active"]])},[createBaseVNode("div",{class:normalizeClass([ne.stage===1&&"step-animate"])},null,2)],2),createBaseVNode("div",{class:normalizeClass(["step",[ne.stage>=2&&"step-active"]])},[createBaseVNode("div",{class:normalizeClass([ne.stage===2&&"step-animate"])},null,2)],2),createBaseVNode("div",{class:normalizeClass(["step",[ne.stage>=3&&"step-active"]])},[createBaseVNode("div",{class:normalizeClass([ne.stage===3&&"step-animate"])},null,2)],2),createBaseVNode("div",{class:normalizeClass(["step",[ne.stage===4&&"step-active"]])},[createBaseVNode("div",{class:normalizeClass([ne.stage===4&&!ne.transaction.firstFinished&&"step-animate"])},null,2)],2),_hoisted_13$1,createBaseVNode("div",_hoisted_14$1,[createBaseVNode("div",{class:normalizeClass(["h-full !w-[25%]",[ne.stage===1&&"animate",ne.stage>1&&"active"]])},null,2),createBaseVNode("div",{class:normalizeClass(["h-full !w-[25%]",[ne.stage===2&&"animate",ne.stage>2&&"active"]])},null,2),createBaseVNode("div",{class:normalizeClass(["h-full !w-[25%]",[ne.stage===3&&"animate",ne.stage>3&&"active"]])},null,2),createBaseVNode("div",{class:normalizeClass(["h-full !w-[25%]",[ne.stage===4&&!ne.transaction.firstFinished&&"animate",ne.transaction.firstFinished&&"active"]])},null,2)])]),createBaseVNode("ul",_hoisted_15$1,[createBaseVNode("li",{class:normalizeClass(["opacity-0",[ne.stage===1&&"opacity-[1]"]])},toDisplayString(ne.transaction.step)+"/5 ",3),createBaseVNode("li",{class:normalizeClass(["opacity-0",[ne.stage===2&&"opacity-[1]"]])},toDisplayString(ne.transaction.step)+"/10 ",3),createBaseVNode("li",{class:normalizeClass(["opacity-0",[ne.stage===3&&"opacity-[1]"]])},toDisplayString(ne.transaction.step)+"/15 ",3),createBaseVNode("li",{class:normalizeClass(["opacity-0",[ne.stage===4&&"opacity-[1]"]])},toDisplayString(ne.transaction.step)+"/20 ",3)])])])}var __nuxt_component_0$1=_export_sfc(_sfc_main$8,[["render",_sfc_render$8],["__scopeId","data-v-440b5128"]]),ProgressBarSecond_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$7=defineComponent({props:{start:null,finish:null,info:null},setup(te,{expose:ee}){ee();const re=te,oe={transaction:useTransactionStore(),props:re};return Object.defineProperty(oe,"__isScriptSetup",{enumerable:!1,value:!0}),oe}}),_withScopeId$4=te=>(pushScopeId("data-v-0baa6a8a"),te=te(),popScopeId(),te),_hoisted_1$6={class:"w-full px-10 max-w-[400px] flex items-center flex-col relative"},_hoisted_2$6={class:"text-[12px] text-gray-primary"},_hoisted_3$4={class:"flex max-w-[400px] w-full flex-col items-center relative"},_hoisted_4$2={class:"flex items-center max-w-[400px] w-full justify-between"},_hoisted_5$2=_withScopeId$4(()=>createBaseVNode("div",{class:"absolute bg-gray h-[2px] w-full rounded-main"},null,-1)),_hoisted_6$2={class:"w-full h-[2px] flex absolute z-[2232]"},_hoisted_7$1=_withScopeId$4(()=>createBaseVNode("ul",{class:"flex w-full justify-between text-[12px]"},[createBaseVNode("li",null,"start"),createBaseVNode("li",null,"finish")],-1));function _sfc_render$7(te,ee,re,ne,oe,ie){return openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("span",_hoisted_2$6,toDisplayString(re.info),1),createBaseVNode("div",_hoisted_3$4,[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",{class:normalizeClass(["step",[re.start&&"step-active"]])},[createBaseVNode("div",{class:normalizeClass([re.start&&"step-animate"])},null,2)],2),createBaseVNode("div",{class:normalizeClass(["step",[re.start&&"step-active"]])},[createBaseVNode("div",{class:normalizeClass([!re.finish&&re.start&&"step-animate"])},null,2)],2),_hoisted_5$2,createBaseVNode("div",_hoisted_6$2,[createBaseVNode("div",{class:normalizeClass(["h-full !w-[100%]",[!re.finish&&re.start&&"animate",re.finish&&re.start&&"active"]])},null,2)])]),_hoisted_7$1])])}var __nuxt_component_1=_export_sfc(_sfc_main$7,[["render",_sfc_render$7],["__scopeId","data-v-0baa6a8a"]]);const _sfc_main$6=defineComponent({props:{active:{type:Boolean}},setup(te,{expose:ee}){ee();const re=te,ne=ref("0:00"),oe=onMounted(()=>{let se=0;setInterval(()=>{let ue=Math.floor(se%60),he=Math.floor(se/60%60);re.active?(ne.value=`${he<=0?"0":he}:${ue<=0?"00":ue<10?"0"+ue:ue}`,se+=1):(ue=0,he=0,se=0)},1e3)}),ie={props:re,time:ne,timer:oe};return Object.defineProperty(ie,"__isScriptSetup",{enumerable:!1,value:!0}),ie}});function _sfc_render$6(te,ee,re,ne,oe,ie){return openBlock(),createElementBlock("span",null,toDisplayString(ne.time),1)}var __nuxt_component_2$1=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]),_imports_0$2=buildAssetsURL("/__NUXT_BASE__/bsc.79ce1ac8.svg".replace("/__NUXT_BASE__","")),_imports_1$1=buildAssetsURL("/__NUXT_BASE__/eth.9dcb678e.svg".replace("/__NUXT_BASE__","")),_imports_2$1=buildAssetsURL("/__NUXT_BASE__/sol.ec6cf8be.svg".replace("/__NUXT_BASE__","")),TransactionInfo_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$5=defineComponent({setup(te,{expose:ee}){ee();const re=useTransactionStore(),ne=useStore(),oe=useSelectStore(),ie=computed(()=>{let he;return re.to==="eth"?he="Ethereum":re.to==="bsc"?he="Binance Smart Chain":he="Solana",commissionCalcForChains(oe.getFrom.label,he,ne.getComission)}),se=computed(()=>BNToNumstr(re.nativeFee,18,6)),ue={transaction:re,store:ne,select:oe,commission:ie,nativeFee:se};return Object.defineProperty(ue,"__isScriptSetup",{enumerable:!1,value:!0}),ue}}),_withScopeId$3=te=>(pushScopeId("data-v-1bea3dbd"),te=te(),popScopeId(),te),_hoisted_1$5={class:"absolute top-0 left-0 w-full h-full z-[2222]"},_hoisted_2$5=_withScopeId$3(()=>createBaseVNode("div",{class:"bg"},null,-1)),_hoisted_3$3={class:"transaction"},_hoisted_4$1=_withScopeId$3(()=>createBaseVNode("h2",{class:"transaction__title"},"Transaction Status",-1)),_hoisted_5$1={class:"transaction-info"},_hoisted_6$1={class:"transaction-table text-center"},_hoisted_7=_withScopeId$3(()=>createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",null,"From"),createBaseVNode("th",null,"Amount"),createBaseVNode("th",null,"To")])],-1)),_hoisted_8={key:0,class:"item"},_hoisted_9=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_0$2},null,-1)),_hoisted_10=_withScopeId$3(()=>createBaseVNode("span",null,"BSC",-1)),_hoisted_11=[_hoisted_9,_hoisted_10],_hoisted_12={key:1,class:"item"},_hoisted_13=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_1$1},null,-1)),_hoisted_14=_withScopeId$3(()=>createBaseVNode("span",null,"ETH",-1)),_hoisted_15=[_hoisted_13,_hoisted_14],_hoisted_16={key:2,class:"item"},_hoisted_17=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_2$1},null,-1)),_hoisted_18=_withScopeId$3(()=>createBaseVNode("span",null,"SOL",-1)),_hoisted_19=[_hoisted_17,_hoisted_18],_hoisted_20={key:0,class:"item"},_hoisted_21=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_0$2},null,-1)),_hoisted_22=_withScopeId$3(()=>createBaseVNode("span",null,"BSC",-1)),_hoisted_23=[_hoisted_21,_hoisted_22],_hoisted_24={key:1,class:"item"},_hoisted_25=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_1$1},null,-1)),_hoisted_26=_withScopeId$3(()=>createBaseVNode("span",null,"ETH",-1)),_hoisted_27=[_hoisted_25,_hoisted_26],_hoisted_28={key:2,class:"item"},_hoisted_29=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_2$1},null,-1)),_hoisted_30=_withScopeId$3(()=>createBaseVNode("span",null,"SOL",-1)),_hoisted_31=[_hoisted_29,_hoisted_30],_hoisted_32={class:"transaction-status"},_hoisted_33={class:"transaction-table",cellpadding:"0",cellspacing:"0"},_hoisted_34=_withScopeId$3(()=>createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",null,"Network"),createBaseVNode("th",{class:"hidden md:table-cell"},"Progress"),createBaseVNode("th",null,"Time"),createBaseVNode("th",null,"Gas fee")])],-1)),_hoisted_35={style:{width:"100px"}},_hoisted_36={key:0,class:"item md:w-[50px]"},_hoisted_37=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_2$1},null,-1)),_hoisted_38=_withScopeId$3(()=>createBaseVNode("span",null,"Solana",-1)),_hoisted_39=[_hoisted_37,_hoisted_38],_hoisted_40={key:1,class:"item md:w-[50px]"},_hoisted_41=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_1$1},null,-1)),_hoisted_42=_withScopeId$3(()=>createBaseVNode("span",null,"ETH",-1)),_hoisted_43=[_hoisted_41,_hoisted_42],_hoisted_44={key:2,class:"item md:w-[50px]"},_hoisted_45=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_0$2},null,-1)),_hoisted_46=_withScopeId$3(()=>createBaseVNode("span",null,"BSC",-1)),_hoisted_47=[_hoisted_45,_hoisted_46],_hoisted_48={class:"hidden md:inline w-full max-w-[400px]"},_hoisted_49={style:{width:"0"},class:"max-w-[70px] w-full"},_hoisted_50={key:0,style:{width:"120px"}},_hoisted_51={key:1,style:{width:"120px"}},_hoisted_52={key:2,style:{width:"120px"}},_hoisted_53={key:3,style:{width:"120px"}},_hoisted_54={class:"md:hidden flex justify-center items-center w-full"},_hoisted_55={class:"transaction-table",cellpadding:"0",cellspacing:"0"},_hoisted_56=_withScopeId$3(()=>createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th"),createBaseVNode("th",{class:"hidden md:table-cell"}),createBaseVNode("th"),createBaseVNode("th")])],-1)),_hoisted_57={style:{width:"100px"}},_hoisted_58={key:0,class:"item md:w-[50px]"},_hoisted_59=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_2$1},null,-1)),_hoisted_60=_withScopeId$3(()=>createBaseVNode("span",null,"Solana",-1)),_hoisted_61=[_hoisted_59,_hoisted_60],_hoisted_62={key:1,class:"item md:w-[50px]"},_hoisted_63=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_1$1},null,-1)),_hoisted_64=_withScopeId$3(()=>createBaseVNode("span",null,"ETH",-1)),_hoisted_65=[_hoisted_63,_hoisted_64],_hoisted_66={key:2,class:"item md:w-[50px]"},_hoisted_67=_withScopeId$3(()=>createBaseVNode("img",{src:_imports_0$2},null,-1)),_hoisted_68=_withScopeId$3(()=>createBaseVNode("span",null,"BSC",-1)),_hoisted_69=[_hoisted_67,_hoisted_68],_hoisted_70={class:"hidden md:inline max-w-[400px] w-full"},_hoisted_71={style:{width:"0"},class:"max-w-[70px] w-full"},_hoisted_72={style:{width:"120px"}},_hoisted_73={class:"md:hidden w-full flex justify-center items-center"};function _sfc_render$5(te,ee,re,ne,oe,ie){const se=__nuxt_component_0$1,ue=__nuxt_component_1,he=__nuxt_component_2$1;return openBlock(),createElementBlock("div",_hoisted_1$5,[_hoisted_2$5,createBaseVNode("div",_hoisted_3$3,[_hoisted_4$1,createBaseVNode("div",_hoisted_5$1,[createBaseVNode("table",_hoisted_6$1,[_hoisted_7,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[createBaseVNode("td",null,[createBaseVNode("div",null,[ne.transaction.from==="bsc"?(openBlock(),createElementBlock("div",_hoisted_8,_hoisted_11)):createCommentVNode("",!0),ne.transaction.from==="eth"?(openBlock(),createElementBlock("div",_hoisted_12,_hoisted_15)):createCommentVNode("",!0),ne.transaction.from==="sol"?(openBlock(),createElementBlock("div",_hoisted_16,_hoisted_19)):createCommentVNode("",!0)])]),createBaseVNode("td",null,toDisplayString(ne.transaction.amount)+" NNI",1),createBaseVNode("td",null,[createBaseVNode("div",null,[ne.transaction.to==="bsc"?(openBlock(),createElementBlock("div",_hoisted_20,_hoisted_23)):createCommentVNode("",!0),ne.transaction.to==="eth"?(openBlock(),createElementBlock("div",_hoisted_24,_hoisted_27)):createCommentVNode("",!0),ne.transaction.to==="sol"?(openBlock(),createElementBlock("div",_hoisted_28,_hoisted_31)):createCommentVNode("",!0)])])])])])]),createBaseVNode("div",_hoisted_32,[createBaseVNode("table",_hoisted_33,[_hoisted_34,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_35,[ne.transaction.from==="sol"?(openBlock(),createElementBlock("span",_hoisted_36,_hoisted_39)):createCommentVNode("",!0),ne.transaction.from==="eth"?(openBlock(),createElementBlock("span",_hoisted_40,_hoisted_43)):createCommentVNode("",!0),ne.transaction.from==="bsc"?(openBlock(),createElementBlock("span",_hoisted_44,_hoisted_47)):createCommentVNode("",!0)]),createBaseVNode("td",_hoisted_48,[ne.transaction.from!=="sol"?(openBlock(),createBlock(se,{key:0})):(openBlock(),createBlock(ue,{key:1,start:ne.transaction.firstStart,finish:ne.transaction.firstFinished,info:ne.transaction.firstStageInfo},null,8,["start","finish","info"]))]),createBaseVNode("td",_hoisted_49,[(openBlock(),createBlock(he,{key:"firstTimer",active:ne.transaction.firstStart&&ne.transaction.firstFinished===!1},null,8,["active"]))]),ne.transaction.from==="sol"&&ne.store.oldLock.sol.isOldLock?(openBlock(),createElementBlock("td",_hoisted_50,"0 SOL")):createCommentVNode("",!0),ne.transaction.from==="sol"&&!ne.store.oldLock.sol.isOldLock?(openBlock(),createElementBlock("td",_hoisted_51,"0.000005 SOL")):createCommentVNode("",!0),ne.transaction.from==="eth"?(openBlock(),createElementBlock("td",_hoisted_52,toDisplayString(ne.nativeFee)+" ETH",1)):createCommentVNode("",!0),ne.transaction.from==="bsc"?(openBlock(),createElementBlock("td",_hoisted_53,toDisplayString(ne.nativeFee)+" BNB",1)):createCommentVNode("",!0)])])]),createBaseVNode("span",_hoisted_54,[ne.transaction.from!=="sol"?(openBlock(),createBlock(se,{key:0})):(openBlock(),createBlock(ue,{key:1}))]),createBaseVNode("table",_hoisted_55,[_hoisted_56,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_57,[ne.transaction.to==="sol"?(openBlock(),createElementBlock("span",_hoisted_58,_hoisted_61)):createCommentVNode("",!0),ne.transaction.to==="eth"?(openBlock(),createElementBlock("span",_hoisted_62,_hoisted_65)):createCommentVNode("",!0),ne.transaction.to==="bsc"?(openBlock(),createElementBlock("span",_hoisted_66,_hoisted_69)):createCommentVNode("",!0)]),createBaseVNode("td",_hoisted_70,[createVNode(ue,{start:ne.transaction.secondStart,finish:ne.transaction.secondFinished,info:ne.transaction.secondStageInfo},null,8,["start","finish","info"])]),createBaseVNode("td",_hoisted_71,[(openBlock(),createBlock(he,{key:"secTimer",active:ne.transaction.secondStart&&ne.transaction.secondFinished===!1},null,8,["active"]))]),createBaseVNode("td",_hoisted_72,toDisplayString(ne.commission)+" NNI",1)])])]),createBaseVNode("span",_hoisted_73,[createVNode(ue)])])])])}var __nuxt_component_2=_export_sfc(_sfc_main$5,[["render",_sfc_render$5],["__scopeId","data-v-1bea3dbd"]]),_imports_0$1=buildAssetsURL("/__NUXT_BASE__/Metamask.422abecc.svg".replace("/__NUXT_BASE__","")),_imports_1=buildAssetsURL("/__NUXT_BASE__/WC.6c4c6294.svg".replace("/__NUXT_BASE__","")),_imports_2=buildAssetsURL("/__NUXT_BASE__/Phantom.2774971a.svg".replace("/__NUXT_BASE__","")),ConnectButton_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$4=defineComponent({props:{text:null,path:null,connectFunc:null},setup(te,{expose:ee}){ee();const re=te,ne=useModalStore(),oe=ref(!1),se={modal:ne,props:re,load:oe,connect:async()=>{oe.value=!0;try{await re.connectFunc(),ne.showMainModal()}catch(ue){console.log(ue)}finally{oe.value=!1}}};return Object.defineProperty(se,"__isScriptSetup",{enumerable:!1,value:!0}),se}}),_withScopeId$2=te=>(pushScopeId("data-v-6bec5756"),te=te(),popScopeId(),te),_hoisted_1$4={class:"connect__button-img",src:_imports_0$1,alt:"Metamask"},_hoisted_2$4={class:"connect__button-img",src:_imports_1,alt:"WC"},_hoisted_3$2={class:"connect__button-img",src:_imports_2,alt:"WC"},_hoisted_4={key:1,class:"spinner__wrapper"},_hoisted_5=_withScopeId$2(()=>createBaseVNode("div",{class:"spinner"},null,-1)),_hoisted_6=[_hoisted_5];function _sfc_render$4(te,ee,re,ne,oe,ie){return openBlock(),createElementBlock("button",{onClick:ne.connect,class:"connect__button"},[ne.load?(openBlock(),createElementBlock("div",_hoisted_4,_hoisted_6)):(openBlock(),createElementBlock(Fragment$1,{key:0},[withDirectives(createBaseVNode("img",_hoisted_1$4,null,512),[[vShow,re.path==="Metamask"]]),withDirectives(createBaseVNode("img",_hoisted_2$4,null,512),[[vShow,re.path==="WC"]]),withDirectives(createBaseVNode("img",_hoisted_3$2,null,512),[[vShow,re.path==="Phantom"]]),createTextVNode(" "+toDisplayString(re.text),1)],64))])}var __nuxt_component_0=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-6bec5756"]]);const useWcStore=defineStore("WcStore",{state:()=>({wc:null}),actions:{async connectWc(){}}});var ConnectMetaWc_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$3=defineComponent({setup(te,{expose:ee}){ee();const re=useStore(),ne=useWcStore(),oe={connect:re,connectWc:ne};return Object.defineProperty(oe,"__isScriptSetup",{enumerable:!1,value:!0}),oe}}),_withScopeId$1=te=>(pushScopeId("data-v-78bc382a"),te=te(),popScopeId(),te),_hoisted_1$3={class:"connect"},_hoisted_2$3=_withScopeId$1(()=>createBaseVNode("h2",{class:"connect__title"},"Connect to a Wallet",-1)),_hoisted_3$1=_withScopeId$1(()=>createBaseVNode("span",{class:"connect__subtitle"},"To continue you need to connect to a Wallet",-1));function _sfc_render$3(te,ee,re,ne,oe,ie){const se=__nuxt_component_0;return openBlock(),createElementBlock("div",_hoisted_1$3,[_hoisted_2$3,_hoisted_3$1,createVNode(se,{connectFunc:ne.connect.connectWc,text:"WalletConnect",path:"WC"},null,8,["connectFunc"]),createVNode(se,{connectFunc:ne.connect.connectMetamask,text:"Metamask",path:"Metamask"},null,8,["connectFunc"])])}var __nuxt_component_3=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-78bc382a"]]),ConnectSolana_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$2=defineComponent({setup(te,{expose:ee}){ee();const ne={connect:useStore()};return Object.defineProperty(ne,"__isScriptSetup",{enumerable:!1,value:!0}),ne}}),_withScopeId=te=>(pushScopeId("data-v-4ec48ddc"),te=te(),popScopeId(),te),_hoisted_1$2={class:"connect"},_hoisted_2$2=_withScopeId(()=>createBaseVNode("h2",{class:"connect__title"},"Connect to a Wallet",-1)),_hoisted_3=_withScopeId(()=>createBaseVNode("span",{class:"connect__subtitle"},"To continue you need to connect to a Wallet",-1));function _sfc_render$2(te,ee,re,ne,oe,ie){const se=__nuxt_component_0;return openBlock(),createElementBlock("div",_hoisted_1$2,[_hoisted_2$2,_hoisted_3,createVNode(se,{connectFunc:ne.connect.connectPhantom,text:"Solana",path:"Phantom"},null,8,["connectFunc"])])}var __nuxt_component_4=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-4ec48ddc"]]),_imports_0=buildAssetsURL("/__NUXT_BASE__/close.cb57b0bb.svg".replace("/__NUXT_BASE__","")),index_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$1=defineComponent({props:{close:null},setup(te,{expose:ee}){ee();const ne={props:te};return Object.defineProperty(ne,"__isScriptSetup",{enumerable:!1,value:!0}),ne}}),_hoisted_1$1={class:"modal"},_hoisted_2$1={class:"modal__content"};function _sfc_render$1(te,ee,re,ne,oe,ie){return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",{onClick:ee[0]||(ee[0]=(...se)=>re.close&&re.close(...se)),class:"modal__bg"}),createBaseVNode("div",_hoisted_2$1,[createBaseVNode("img",{onClick:ee[1]||(ee[1]=(...se)=>re.close&&re.close(...se)),class:"modal__close",src:_imports_0,alt:"close"}),renderSlot(te.$slots,"default",{},void 0,!0)])])}var __nuxt_component_5=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-5daaaf76"]]);const BSC_RPC="https://speedy-nodes-nyc.moralis.io/5486d1b33c37d02fac2191dd/bsc/mainnet",ETH_RPC="https://mainnet.infura.io/v3/ae14a155616242c9a14981c8f40b848f";async function getGasPrice(te){const ee=te?BSC_RPC:ETH_RPC;return await new JsonRpcProvider(ee).getGasPrice()}async function getDollarPrice(te){return(await axios.get(`https://www.xt.pub/exchange/api/markets/returnOrderBook?depth=1&level=1&currencyPair=${te}_USDT`)).data.asks[0][0][0]}const fetchFee=async()=>{const te=await calculateFee(BigNumber.from(5e4),!0),ee=await calculateFee(BigNumber.from(5e4),!1),re=await calculateFee(BigNumber.from(6e4),!0),ne=await calculateFee(BigNumber.from(6e4),!1);return{bscSol:te,ethSol:ee,solBsc:re,solEth:ne}};async function calculateFee(te,ee){try{const re=await getDollarPrice("NNI");let oe=(await getGasPrice(ee)).mul(te).div(10**12).toNumber();ee?oe=oe*await getDollarPrice("BNB"):oe=oe*await getDollarPrice("ETH");const ie=await getDollarPrice("SOL")*.01/re,se=oe/re;let ue=ie+se;return ue<1&&(ue=1),BigNumber.from(Math.ceil(ue))}catch{return BigNumber.from(24e4).mul(ee?1:28).mul(te).div(4e4)}}var app_vue_vue_type_style_index_0_lang="";const _sfc_main=defineComponent({setup(te,{expose:ee}){ee();const re=useStore(),ne=useModalStore(),oe=useSelectStore(),ie=useTransactionStore();onMounted(async()=>{try{await checkBackend(back_url);const{bscSol:ue,ethSol:he,solBsc:ge,solEth:be}=await fetchFee();re.comission.bscSol=ue,re.comission.ethSol=he,re.comission.solBsc=ge,re.comission.solEth=be}catch(ue){console.log(ue)}});const se={store:re,modal:ne,select:oe,transaction:ie};return Object.defineProperty(se,"__isScriptSetup",{enumerable:!1,value:!0}),se}}),_hoisted_1={class:"App"},_hoisted_2=createBaseVNode("section",{class:"hero"},[createBaseVNode("div",{class:"container"},[createBaseVNode("div",{class:"hero__block"},[createBaseVNode("h1",null,"Bridge Tokens")])])],-1);function _sfc_render(te,ee,re,ne,oe,ie){const se=__nuxt_component_0$8,ue=__nuxt_component_1$1,he=__nuxt_component_2,ge=__nuxt_component_3,be=__nuxt_component_4,Se=__nuxt_component_5;return openBlock(),createElementBlock("div",_hoisted_1,[createVNode(se),createBaseVNode("main",null,[_hoisted_2,createVNode(ue)]),createVNode(Transition,{name:"modal"},{default:withCtx(()=>[ne.transaction.show?(openBlock(),createBlock(he,{key:0})):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{name:"modal"},{default:withCtx(()=>[withDirectives(createVNode(Se,{close:ne.modal.showMainModal},{default:withCtx(()=>[ne.select.getFrom.label!=="Solana"?(openBlock(),createBlock(ge,{key:0})):(openBlock(),createBlock(be,{key:1}))]),_:1},8,["close"]),[[vShow,ne.modal.getModalMain]])]),_:1})])}var AppComponent=_export_sfc(_sfc_main,[["render",_sfc_render]]);globalThis.$fetch||(globalThis.$fetch=$fetch.create({baseURL:baseURL()}));let entry;const plugins=normalizePlugins(_plugins);entry=async function(){var oe;const re=Boolean((oe=window.__NUXT__)==null?void 0:oe.serverRendered)?createSSRApp(RootComponent):createApp(RootComponent);re.component("App",AppComponent);const ne=createNuxtApp({vueApp:re});ne.hooks.hookOnce("app:suspense:resolve",()=>{ne.isHydrating=!1});try{await applyPlugins(ne,plugins)}catch(ie){await ne.callHook("app:error",ie),ne.payload.error=ne.payload.error||ie}try{await ne.hooks.callHook("app:created",re),await ne.hooks.callHook("app:beforeMount",re),re.mount("#__nuxt"),await ne.hooks.callHook("app:mounted",re),await nextTick()}catch(ie){await ne.callHook("app:error",ie),ne.payload.error=ne.payload.error||ie}},entry().catch(te=>{console.error("Error while mounting app:",te)});
//# sourceMappingURL=entry-bd83f89b.mjs.map
